import{d as B,r as I,G as D,s as G,t as M,c as g,w as o,u as e,o as d,b as l,I as S,e as P,f as r,g as T,H as z,J as N,z as F,K as H,L as $,M as j,E as u,N as O,i as y,P as p,Q as U,j as w,h as s,R as J,S as K,A as E,k as Q,T as R,U as W,V as X,W as Y,X as Z,Y as q,Z as ee}from"./index-DZXn8A86.js";import{p as le,_ as oe}from"./_plugin-vue_export-helper-BVrt1EiH.js";const f=_=>(q("data-v-5d9d2490"),_=_(),ee(),_),ae=f(()=>s("strong",null,"ID:",-1)),ne=f(()=>s("strong",null,"Tag ID:",-1)),te=f(()=>s("strong",null,"Tag Battery Status:",-1)),se=f(()=>s("strong",null,"Description:",-1)),re=f(()=>s("strong",null,"Floor:",-1)),ue=B({__name:"TabAssets",setup(_){const b=I(""),A=I([]),x=D(()=>A.value.filter(n=>n.name.toLowerCase().includes(b.value.toLowerCase()))),h=I(!1),t=I(null);function L(n){t.value=n,h.value=!0}function k(){h.value=!1,t.value=null}async function V(n,c){k(),setTimeout(()=>{const a=le("EPSG:4326","EPSG:3857",[c,n]),i=a[0],v=a[1],m="/tabs/navigate?x=".concat(i,"&y=").concat(v,"&z=23&r=0&l=1111");window.location.href=m},200)}return G(async()=>{try{M("assets/list/battipaglia").subscribe({next:n=>{A.value=n},error:n=>{console.error("Error API:",n)}})}catch(n){console.error("Error API:",n)}}),(n,c)=>(d(),g(e(Q),null,{default:o(()=>[l(e(T),null,{default:o(()=>[l(e(S),null,{default:o(()=>[l(e(P),null,{default:o(()=>[r("Hospital Assets")]),_:1})]),_:1})]),_:1}),l(e(w),{class:"ion-padding"},{default:o(()=>[l(e(z),{placeholder:"Search an asset...",debounce:500,modelValue:b.value,"onUpdate:modelValue":c[0]||(c[0]=a=>b.value=a)},null,8,["modelValue"]),l(e(N),{lines:"full"},{default:o(()=>[(d(!0),F($,null,H(x.value,a=>(d(),g(e(R),{key:a.id,onClick:i=>L(a)},{default:o(()=>[l(e(p),{size:"small",icon:e(W),slot:"start"},null,8,["icon"]),a.batteryLevel<20?(d(),g(e(p),{key:0,class:"blinking",size:"small",icon:e(X),color:"danger",slot:"end"},null,8,["icon"])):E("",!0),l(e(Y),null,{default:o(()=>[r(u(a.name),1)]),_:2},1024),l(e(y),{slot:"end",color:"none"},{default:o(()=>[l(e(p),{icon:e(Z),color:"medium"},null,8,["icon"])]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1}),l(e(j),{"is-open":h.value,onDidDismiss:k},{default:o(()=>[l(e(T),null,{default:o(()=>[l(e(S),null,{default:o(()=>[l(e(P),null,{default:o(()=>{var a;return[r(u((a=t.value)==null?void 0:a.name),1)]}),_:1}),l(e(O),{slot:"end"},{default:o(()=>[l(e(y),{onClick:k},{default:o(()=>[l(e(p),{icon:e(U),color:"medium"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),l(e(w),{class:"ion-padding"},{default:o(()=>{var a,i,v,m,C;return[s("p",null,[ae,r(" "+u((a=t.value)==null?void 0:a.id),1)]),s("p",null,[ne,r(" "+u((i=t.value)==null?void 0:i.tagId),1)]),s("p",null,[te,r(" "+u((v=t.value)==null?void 0:v.batteryLevel)+"%",1)]),s("p",null,[se,r(" "+u((m=t.value)==null?void 0:m.description),1)]),s("p",null,[re,r(" "+u((C=t.value)==null?void 0:C.floor),1)])]}),_:1}),l(e(J),null,{default:o(()=>[l(e(S),null,{default:o(()=>[t.value?(d(),g(e(y),{key:0,expand:"block",onClick:c[1]||(c[1]=a=>V(t.value.lat||0,t.value.lon||0)),color:"warning"},{default:o(()=>[l(e(p),{icon:e(K),size:"large",color:"dark"},null,8,["icon"])]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1},8,["is-open"])]),_:1})]),_:1}))}}),de=oe(ue,[["__scopeId","data-v-5d9d2490"]]);export{de as default};
