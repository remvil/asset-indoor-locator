!function(){function t(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}System.register([],(function(e,i){"use strict";return{execute:function(){var n=document.createElement("style");
/**
      * @vue/shared v3.4.31
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/
/*! #__NO_SIDE_EFFECTS__ */
function o(t,e){const i=new Set(t.split(","));return t=>i.has(t)}n.textContent='.menu-header{padding:16px;background-color:#f4f4f4;border-bottom:1px solid #ddd}ion-list.logout-list{position:absolute;bottom:0;width:100%;border:none;background-color:#f4f4f4}ion-list.logout-list ion-item{--ion-item-background: transparent;border:none}ion-list.logout-list ion-item .item-innser{border:none}ion-menu-toggle ion-icon{font-size:24px!important}.login-logo{display:block;margin:0 auto;padding:20px 0;max-width:150px}.full-height{height:100%}.support-text{font-size:.7rem}:root{--ion-color-primary: #0054e9;--ion-color-primary-rgb: 0, 84, 233;--ion-color-primary-contrast: #fff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #004acd;--ion-color-primary-tint: #1a65eb;--ion-color-secondary: #0163aa;--ion-color-secondary-rgb: 1, 99, 170;--ion-color-secondary-contrast: #fff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #015796;--ion-color-secondary-tint: #1a73b3;--ion-color-tertiary: #6030ff;--ion-color-tertiary-rgb: 96, 48, 255;--ion-color-tertiary-contrast: #fff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #542ae0;--ion-color-tertiary-tint: #7045ff;--ion-color-success: #2dd55b;--ion-color-success-rgb: 45, 213, 91;--ion-color-success-contrast: #000;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #28bb50;--ion-color-success-tint: #42d96b;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #c5000f;--ion-color-danger-rgb: 197, 0, 15;--ion-color-danger-contrast: #fff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #ad000d;--ion-color-danger-tint: #cb1a27;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #636469;--ion-color-medium-rgb: 99, 100, 105;--ion-color-medium-contrast: #fff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #57585c;--ion-color-medium-tint: #737478;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #fff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}html.ios{--ion-default-font: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Roboto", sans-serif}html.md{--ion-default-font: "Roboto", "Helvetica Neue", sans-serif}html{--ion-dynamic-font: -apple-system-body;--ion-font-family: var(--ion-default-font)}body{background:var(--ion-background-color);color:var(--ion-text-color)}body.backdrop-no-scroll{overflow:hidden}html.ios ion-modal.modal-card ion-header ion-toolbar:first-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:first-of-type,html.ios ion-modal ion-footer ion-toolbar:first-of-type{padding-top:6px}html.ios ion-modal.modal-card ion-header ion-toolbar:last-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:last-of-type{padding-bottom:6px}html.ios ion-modal ion-toolbar{padding-right:calc(var(--ion-safe-area-right) + 8px);padding-left:calc(var(--ion-safe-area-left) + 8px)}@media screen and (min-width: 768px){html.ios ion-modal.modal-card:first-of-type{--backdrop-opacity: .18}}ion-modal.modal-default.show-modal~ion-modal.modal-default{--backdrop-opacity: 0;--box-shadow: none}html.ios ion-modal.modal-card .ion-page{border-top-left-radius:var(--border-radius)}.ion-color-primary{--ion-color-base: var(--ion-color-primary, #0054e9) !important;--ion-color-base-rgb: var(--ion-color-primary-rgb, 0, 84, 233) !important;--ion-color-contrast: var(--ion-color-primary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-primary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-primary-shade, #004acd) !important;--ion-color-tint: var(--ion-color-primary-tint, #1a65eb) !important}.ion-color-secondary{--ion-color-base: var(--ion-color-secondary, #0163aa) !important;--ion-color-base-rgb: var(--ion-color-secondary-rgb, 1, 99, 170) !important;--ion-color-contrast: var(--ion-color-secondary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-secondary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-secondary-shade, #015796) !important;--ion-color-tint: var(--ion-color-secondary-tint, #1a73b3) !important}.ion-color-tertiary{--ion-color-base: var(--ion-color-tertiary, #6030ff) !important;--ion-color-base-rgb: var(--ion-color-tertiary-rgb, 96, 48, 255) !important;--ion-color-contrast: var(--ion-color-tertiary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-tertiary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-tertiary-shade, #542ae0) !important;--ion-color-tint: var(--ion-color-tertiary-tint, #7045ff) !important}.ion-color-success{--ion-color-base: var(--ion-color-success, #2dd55b) !important;--ion-color-base-rgb: var(--ion-color-success-rgb, 45, 213, 91) !important;--ion-color-contrast: var(--ion-color-success-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-success-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-success-shade, #28bb50) !important;--ion-color-tint: var(--ion-color-success-tint, #42d96b) !important}.ion-color-warning{--ion-color-base: var(--ion-color-warning, #ffc409) !important;--ion-color-base-rgb: var(--ion-color-warning-rgb, 255, 196, 9) !important;--ion-color-contrast: var(--ion-color-warning-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-warning-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-warning-shade, #e0ac08) !important;--ion-color-tint: var(--ion-color-warning-tint, #ffca22) !important}.ion-color-danger{--ion-color-base: var(--ion-color-danger, #c5000f) !important;--ion-color-base-rgb: var(--ion-color-danger-rgb, 197, 0, 15) !important;--ion-color-contrast: var(--ion-color-danger-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-danger-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-danger-shade, #ad000d) !important;--ion-color-tint: var(--ion-color-danger-tint, #cb1a27) !important}.ion-color-light{--ion-color-base: var(--ion-color-light, #f4f5f8) !important;--ion-color-base-rgb: var(--ion-color-light-rgb, 244, 245, 248) !important;--ion-color-contrast: var(--ion-color-light-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-light-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-light-shade, #d7d8da) !important;--ion-color-tint: var(--ion-color-light-tint, #f5f6f9) !important}.ion-color-medium{--ion-color-base: var(--ion-color-medium, #636469) !important;--ion-color-base-rgb: var(--ion-color-medium-rgb, 99, 100, 105) !important;--ion-color-contrast: var(--ion-color-medium-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-medium-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-medium-shade, #57585c) !important;--ion-color-tint: var(--ion-color-medium-tint, #737478) !important}.ion-color-dark{--ion-color-base: var(--ion-color-dark, #222428) !important;--ion-color-base-rgb: var(--ion-color-dark-rgb, 34, 36, 40) !important;--ion-color-contrast: var(--ion-color-dark-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-dark-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-dark-shade, #1e2023) !important;--ion-color-tint: var(--ion-color-dark-tint, #383a3e) !important}.ion-page{left:0;right:0;top:0;bottom:0;display:flex;position:absolute;flex-direction:column;justify-content:space-between;contain:layout size style;z-index:0}ion-modal>.ion-page{position:relative;contain:layout style;height:100%}.split-pane-visible>.ion-page.split-pane-main{position:relative}ion-route,ion-route-redirect,ion-router,ion-select-option,ion-nav-controller,ion-menu-controller,ion-action-sheet-controller,ion-alert-controller,ion-loading-controller,ion-modal-controller,ion-picker-controller,ion-popover-controller,ion-toast-controller,.ion-page-hidden{display:none!important}.ion-page-invisible{opacity:0}.can-go-back>ion-header ion-back-button{display:block}html.plt-ios.plt-hybrid,html.plt-ios.plt-pwa{--ion-statusbar-padding: 20px}@supports (padding-top: 20px){html{--ion-safe-area-top: var(--ion-statusbar-padding)}}@supports (padding-top: env(safe-area-inset-top)){html{--ion-safe-area-top: env(safe-area-inset-top);--ion-safe-area-bottom: env(safe-area-inset-bottom);--ion-safe-area-left: env(safe-area-inset-left);--ion-safe-area-right: env(safe-area-inset-right)}}ion-card.ion-color .ion-inherit-color,ion-card-header.ion-color .ion-inherit-color{color:inherit}.menu-content{transform:translateZ(0)}.menu-content-open{cursor:pointer;touch-action:manipulation;pointer-events:none;overflow-y:hidden}.menu-content-open ion-content{--overflow: hidden}.menu-content-open .ion-content-scroll-host{overflow:hidden}.ios .menu-content-reveal{box-shadow:-8px 0 42px rgba(0,0,0,.08)}[dir=rtl].ios .menu-content-reveal{box-shadow:8px 0 42px rgba(0,0,0,.08)}.md .menu-content-reveal,.md .menu-content-push{box-shadow:4px 0 16px rgba(0,0,0,.18)}ion-accordion-group.accordion-group-expand-inset>ion-accordion:first-of-type{border-top-left-radius:8px;border-top-right-radius:8px}ion-accordion-group.accordion-group-expand-inset>ion-accordion:last-of-type{border-bottom-left-radius:8px;border-bottom-right-radius:8px}ion-accordion-group>ion-accordion:last-of-type ion-item[slot=header]{--border-width: 0px}ion-accordion.accordion-animated>[slot=header] .ion-accordion-toggle-icon{transition:.3s transform cubic-bezier(.25,.8,.5,1)}@media (prefers-reduced-motion: reduce){ion-accordion .ion-accordion-toggle-icon{transition:none!important}}ion-accordion.accordion-expanding>[slot=header] .ion-accordion-toggle-icon,ion-accordion.accordion-expanded>[slot=header] .ion-accordion-toggle-icon{transform:rotate(180deg)}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-previous ion-item[slot=header]{--border-width: 0px;--inner-border-width: 0px}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanding:first-of-type,ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanded:first-of-type{margin-top:0}ion-input input::-webkit-date-and-time-value{text-align:start}.ion-datetime-button-overlay{--width: fit-content;--height: fit-content}.ion-datetime-button-overlay ion-datetime.datetime-grid{width:320px;min-height:320px}[ion-last-focus],header[tabindex="-1"]:focus,[role=banner][tabindex="-1"]:focus,main[tabindex="-1"]:focus,[role=main][tabindex="-1"]:focus,h1[tabindex="-1"]:focus,[role=heading][aria-level="1"][tabindex="-1"]:focus{outline:none}.popover-viewport:has(>ion-content){overflow:hidden}@supports not selector(:has(> ion-content)){.popover-viewport{overflow:hidden}}audio,canvas,progress,video{vertical-align:baseline}audio:not([controls]){display:none;height:0}b,strong{font-weight:700}img{max-width:100%}hr{height:1px;border-width:0;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}label,input,select,textarea{font-family:inherit;line-height:normal}textarea{overflow:auto;height:auto;font:inherit;color:inherit}textarea::placeholder{padding-left:2px}form,input,optgroup,select{margin:0;font:inherit;color:inherit}html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}a,a div,a span,a ion-icon,a ion-label,button,button div,button span,button ion-icon,button ion-label,.ion-tappable,[tappable],[tappable] div,[tappable] span,[tappable] ion-icon,[tappable] ion-label,input,textarea{touch-action:manipulation}a ion-label,button ion-label{pointer-events:none}button{padding:0;border:0;border-radius:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[tappable]{cursor:pointer}a[disabled],button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}html{width:100%;height:100%;-webkit-text-size-adjust:100%;text-size-adjust:100%}html:not(.hydrated) body{display:none}html.ion-ce body{display:block}html.plt-pwa{height:100vh}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin:0;padding:0;position:fixed;width:100%;max-width:100%;height:100%;max-height:100%;transform:translateZ(0);text-rendering:optimizeLegibility;overflow:hidden;touch-action:manipulation;-webkit-user-drag:none;-ms-content-zooming:none;word-wrap:break-word;overscroll-behavior-y:none;-webkit-text-size-adjust:none;text-size-adjust:none}html{font-family:var(--ion-font-family)}@supports (-webkit-touch-callout: none){html{font:var(--ion-dynamic-font, 16px var(--ion-font-family))}}a{background-color:transparent;color:var(--ion-color-primary, #0054e9)}h1,h2,h3,h4,h5,h6{margin-top:16px;margin-bottom:10px;font-weight:500;line-height:1.2}h1{margin-top:20px;font-size:1.625rem}h2{margin-top:18px;font-size:1.5rem}h3{font-size:1.375rem}h4{font-size:1.25rem}h5{font-size:1.125rem}h6{font-size:1rem}small{font-size:75%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}.ion-no-padding{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;padding:0}.ion-padding{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-top{--padding-top: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px)}.ion-padding-start{--padding-start: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px)}.ion-padding-end{--padding-end: var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-padding-bottom{--padding-bottom: var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-vertical{--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-horizontal{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-no-margin{--margin-start: 0;--margin-end: 0;--margin-top: 0;--margin-bottom: 0;margin:0}.ion-margin{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-top{--margin-top: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px)}.ion-margin-start{--margin-start: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px)}.ion-margin-end{--margin-end: var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-margin-bottom{--margin-bottom: var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-vertical{--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-horizontal{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-float-left{float:left!important}.ion-float-right{float:right!important}.ion-float-start{float:left!important}:host-context([dir=rtl]) .ion-float-start{float:right!important}[dir=rtl] .ion-float-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-start:dir(rtl){float:right!important}}.ion-float-end{float:right!important}:host-context([dir=rtl]) .ion-float-end{float:left!important}[dir=rtl] .ion-float-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-end:dir(rtl){float:left!important}}@media (min-width: 576px){.ion-float-sm-left{float:left!important}.ion-float-sm-right{float:right!important}.ion-float-sm-start{float:left!important}:host-context([dir=rtl]) .ion-float-sm-start{float:right!important}[dir=rtl] .ion-float-sm-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-sm-start:dir(rtl){float:right!important}}.ion-float-sm-end{float:right!important}:host-context([dir=rtl]) .ion-float-sm-end{float:left!important}[dir=rtl] .ion-float-sm-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-sm-end:dir(rtl){float:left!important}}}@media (min-width: 768px){.ion-float-md-left{float:left!important}.ion-float-md-right{float:right!important}.ion-float-md-start{float:left!important}:host-context([dir=rtl]) .ion-float-md-start{float:right!important}[dir=rtl] .ion-float-md-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-md-start:dir(rtl){float:right!important}}.ion-float-md-end{float:right!important}:host-context([dir=rtl]) .ion-float-md-end{float:left!important}[dir=rtl] .ion-float-md-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-md-end:dir(rtl){float:left!important}}}@media (min-width: 992px){.ion-float-lg-left{float:left!important}.ion-float-lg-right{float:right!important}.ion-float-lg-start{float:left!important}:host-context([dir=rtl]) .ion-float-lg-start{float:right!important}[dir=rtl] .ion-float-lg-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-lg-start:dir(rtl){float:right!important}}.ion-float-lg-end{float:right!important}:host-context([dir=rtl]) .ion-float-lg-end{float:left!important}[dir=rtl] .ion-float-lg-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-lg-end:dir(rtl){float:left!important}}}@media (min-width: 1200px){.ion-float-xl-left{float:left!important}.ion-float-xl-right{float:right!important}.ion-float-xl-start{float:left!important}:host-context([dir=rtl]) .ion-float-xl-start{float:right!important}[dir=rtl] .ion-float-xl-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-xl-start:dir(rtl){float:right!important}}.ion-float-xl-end{float:right!important}:host-context([dir=rtl]) .ion-float-xl-end{float:left!important}[dir=rtl] .ion-float-xl-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-xl-end:dir(rtl){float:left!important}}}.ion-text-center{text-align:center!important}.ion-text-justify{text-align:justify!important}.ion-text-start{text-align:start!important}.ion-text-end{text-align:end!important}.ion-text-left{text-align:left!important}.ion-text-right{text-align:right!important}.ion-text-nowrap{white-space:nowrap!important}.ion-text-wrap{white-space:normal!important}@media (min-width: 576px){.ion-text-sm-center{text-align:center!important}.ion-text-sm-justify{text-align:justify!important}.ion-text-sm-start{text-align:start!important}.ion-text-sm-end{text-align:end!important}.ion-text-sm-left{text-align:left!important}.ion-text-sm-right{text-align:right!important}.ion-text-sm-nowrap{white-space:nowrap!important}.ion-text-sm-wrap{white-space:normal!important}}@media (min-width: 768px){.ion-text-md-center{text-align:center!important}.ion-text-md-justify{text-align:justify!important}.ion-text-md-start{text-align:start!important}.ion-text-md-end{text-align:end!important}.ion-text-md-left{text-align:left!important}.ion-text-md-right{text-align:right!important}.ion-text-md-nowrap{white-space:nowrap!important}.ion-text-md-wrap{white-space:normal!important}}@media (min-width: 992px){.ion-text-lg-center{text-align:center!important}.ion-text-lg-justify{text-align:justify!important}.ion-text-lg-start{text-align:start!important}.ion-text-lg-end{text-align:end!important}.ion-text-lg-left{text-align:left!important}.ion-text-lg-right{text-align:right!important}.ion-text-lg-nowrap{white-space:nowrap!important}.ion-text-lg-wrap{white-space:normal!important}}@media (min-width: 1200px){.ion-text-xl-center{text-align:center!important}.ion-text-xl-justify{text-align:justify!important}.ion-text-xl-start{text-align:start!important}.ion-text-xl-end{text-align:end!important}.ion-text-xl-left{text-align:left!important}.ion-text-xl-right{text-align:right!important}.ion-text-xl-nowrap{white-space:nowrap!important}.ion-text-xl-wrap{white-space:normal!important}}.ion-text-uppercase{text-transform:uppercase!important}.ion-text-lowercase{text-transform:lowercase!important}.ion-text-capitalize{text-transform:capitalize!important}@media (min-width: 576px){.ion-text-sm-uppercase{text-transform:uppercase!important}.ion-text-sm-lowercase{text-transform:lowercase!important}.ion-text-sm-capitalize{text-transform:capitalize!important}}@media (min-width: 768px){.ion-text-md-uppercase{text-transform:uppercase!important}.ion-text-md-lowercase{text-transform:lowercase!important}.ion-text-md-capitalize{text-transform:capitalize!important}}@media (min-width: 992px){.ion-text-lg-uppercase{text-transform:uppercase!important}.ion-text-lg-lowercase{text-transform:lowercase!important}.ion-text-lg-capitalize{text-transform:capitalize!important}}@media (min-width: 1200px){.ion-text-xl-uppercase{text-transform:uppercase!important}.ion-text-xl-lowercase{text-transform:lowercase!important}.ion-text-xl-capitalize{text-transform:capitalize!important}}.ion-align-self-start{align-self:flex-start!important}.ion-align-self-end{align-self:flex-end!important}.ion-align-self-center{align-self:center!important}.ion-align-self-stretch{align-self:stretch!important}.ion-align-self-baseline{align-self:baseline!important}.ion-align-self-auto{align-self:auto!important}.ion-wrap{flex-wrap:wrap!important}.ion-nowrap{flex-wrap:nowrap!important}.ion-wrap-reverse{flex-wrap:wrap-reverse!important}.ion-justify-content-start{justify-content:flex-start!important}.ion-justify-content-center{justify-content:center!important}.ion-justify-content-end{justify-content:flex-end!important}.ion-justify-content-around{justify-content:space-around!important}.ion-justify-content-between{justify-content:space-between!important}.ion-justify-content-evenly{justify-content:space-evenly!important}.ion-align-items-start{align-items:flex-start!important}.ion-align-items-center{align-items:center!important}.ion-align-items-end{align-items:flex-end!important}.ion-align-items-stretch{align-items:stretch!important}.ion-align-items-baseline{align-items:baseline!important}.ion-hide,.ion-hide-up,.ion-hide-down{display:none!important}@media (min-width: 576px){.ion-hide-sm-up{display:none!important}}@media (max-width: 575.98px){.ion-hide-sm-down{display:none!important}}@media (min-width: 768px){.ion-hide-md-up{display:none!important}}@media (max-width: 767.98px){.ion-hide-md-down{display:none!important}}@media (min-width: 992px){.ion-hide-lg-up{display:none!important}}@media (max-width: 991.98px){.ion-hide-lg-down{display:none!important}}@media (min-width: 1200px){.ion-hide-xl-up{display:none!important}}@media (max-width: 1199.98px){.ion-hide-xl-down{display:none!important}}:root{--ion-color-primary: #0054e9;--ion-color-primary-rgb: 0, 84, 233;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #004acd;--ion-color-primary-tint: #1a65eb;--ion-color-secondary: #0163aa;--ion-color-secondary-rgb: 1, 99, 170;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #015796;--ion-color-secondary-tint: #1a73b3;--ion-color-tertiary: #6030ff;--ion-color-tertiary-rgb: 96, 48, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #542ae0;--ion-color-tertiary-tint: #7045ff;--ion-color-success: #2dd55b;--ion-color-success-rgb: 45, 213, 91;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #28bb50;--ion-color-success-tint: #42d96b;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #c5000f;--ion-color-danger-rgb: 197, 0, 15;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #ad000d;--ion-color-danger-tint: #cb1a27;--ion-color-light: #f6f8fc;--ion-color-light-rgb: 246, 248, 252;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d8dade;--ion-color-light-tint: #f7f9fc;--ion-color-medium: #5f5f5f;--ion-color-medium-rgb: 95, 95, 95;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #545454;--ion-color-medium-tint: #6f6f6f;--ion-color-dark: #2f2f2f;--ion-color-dark-rgb: 47, 47, 47;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #292929;--ion-color-dark-tint: #444444;--ion-background-color: #ffffff;--ion-background-color-rgb: 255, 255, 255;--ion-text-color: #000000;--ion-text-color-rgb: 0, 0, 0;--ion-text-color-step-50: #0d0d0d;--ion-text-color-step-100: #1a1a1a;--ion-text-color-step-150: #262626;--ion-text-color-step-200: #333333;--ion-text-color-step-250: #404040;--ion-text-color-step-300: #4d4d4d;--ion-text-color-step-350: #595959;--ion-text-color-step-400: #666666;--ion-text-color-step-450: #737373;--ion-text-color-step-500: #808080;--ion-text-color-step-550: #8c8c8c;--ion-text-color-step-600: #999999;--ion-text-color-step-650: #a6a6a6;--ion-text-color-step-700: #b3b3b3;--ion-text-color-step-750: #bfbfbf;--ion-text-color-step-800: #cccccc;--ion-text-color-step-850: #d9d9d9;--ion-text-color-step-900: #e6e6e6;--ion-text-color-step-950: #f2f2f2;--ion-background-color-step-50: #f2f2f2;--ion-background-color-step-100: #e6e6e6;--ion-background-color-step-150: #d9d9d9;--ion-background-color-step-200: #cccccc;--ion-background-color-step-250: #bfbfbf;--ion-background-color-step-300: #b3b3b3;--ion-background-color-step-350: #a6a6a6;--ion-background-color-step-400: #999999;--ion-background-color-step-450: #8c8c8c;--ion-background-color-step-500: #808080;--ion-background-color-step-550: #737373;--ion-background-color-step-600: #666666;--ion-background-color-step-650: #595959;--ion-background-color-step-700: #4d4d4d;--ion-background-color-step-750: #404040;--ion-background-color-step-800: #333333;--ion-background-color-step-850: #262626;--ion-background-color-step-900: #191919;--ion-background-color-step-950: #0d0d0d}.ol-viewport .ol-zoomslider{top:7.5em;left:.5em;height:240px;border:2px solid rgba(0,60,136,.5)}.ol-viewport .ol-mouse-position{top:0;left:50%;transform:translate(-50%);width:70%;position:absolute;text-align:center}.ol-viewport .ol-rotate{top:.5em;right:2.5em;transition:opacity .25s linear,visibility 0s linear}.ol-viewport .ol-layerswitcher-image .ol-layer-hidden{opacity:1}.ol-viewport .ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-viewport .ol-overviewmap.ol-uncollapsible button{display:block;opacity:0}.ol-viewport .ol-collapsed,.ol-viewport .ol-collapsed:hover{background-color:rgba(255,255,255,0)}.ol-viewport .ol-layerswitcher-image button{background-color:transparent}.ol-viewport .ol-control.ol-mapzone,.ol-viewport .ol-control.ol-mapzone.ol-collapsed{top:12.5em}.ol-viewport .ol-control.ol-mapzone button{margin-top:0}.ol-viewport .ol-control.ol-mapzone>div p{background-color:#000}:root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.ol-control i{cursor:default}.ol-control.ol-bar{left:50%;min-height:1em;min-width:1em;position:absolute;top:.5em;transform:translate(-50%);-webkit-transform:translate(-50%,0);white-space:nowrap}.ol-control.ol-toggle .ol-option-bar{display:none}.ol-control.ol-bar .ol-control{position:relative;top:auto;left:auto;right:auto;bottom:auto;display:inline-block;vertical-align:middle;background-color:transparent;padding:0;margin:0;transform:none;-webkit-transform:none}.ol-control.ol-bar .ol-bar{position:static}.ol-control.ol-bar .ol-control button{margin:2px 1px;outline:none}.ol-control.ol-bar.ol-left{left:.5em;top:50%;-webkit-transform:translate(0px,-50%);transform:translateY(-50%)}.ol-control.ol-bar.ol-left .ol-control{display:block}.ol-control.ol-bar.ol-right{left:auto;right:.5em;top:50%;-webkit-transform:translate(0px,-50%);transform:translateY(-50%)}.ol-control.ol-bar.ol-right .ol-control{display:block}.ol-control.ol-bar.ol-bottom{top:auto;bottom:.5em}.ol-control.ol-bar.ol-top.ol-left,.ol-control.ol-bar.ol-top.ol-right{top:4.5em;-webkit-transform:none;transform:none}.ol-touch .ol-control.ol-bar.ol-top.ol-left,.ol-touch .ol-control.ol-bar.ol-top.ol-right{top:5.5em}.ol-control.ol-bar.ol-bottom.ol-left,.ol-control.ol-bar.ol-bottom.ol-right{top:auto;bottom:.5em;-webkit-transform:none;transform:none}.ol-control.ol-bar.ol-group{margin:1px 1px 1px 0}.ol-control.ol-bar.ol-right .ol-group,.ol-control.ol-bar.ol-left .ol-group{margin:1px 1px 0}.ol-control.ol-bar.ol-group button{border-radius:0;margin:0 0 0 1px}.ol-control.ol-bar.ol-right.ol-group button,.ol-control.ol-bar.ol-left.ol-group button,.ol-control.ol-bar.ol-right .ol-group button,.ol-control.ol-bar.ol-left .ol-group button{margin:0 0 1px}.ol-control.ol-bar.ol-group .ol-control:first-child>button{border-radius:5px 0 0 5px}.ol-control.ol-bar.ol-group .ol-control:last-child>button{border-radius:0 5px 5px 0}.ol-control.ol-bar.ol-left.ol-group .ol-control:first-child>button,.ol-control.ol-bar.ol-right.ol-group .ol-control:first-child>button,.ol-control.ol-bar.ol-left .ol-group .ol-control:first-child>button,.ol-control.ol-bar.ol-right .ol-group .ol-control:first-child>button{border-radius:5px 5px 0 0}.ol-control.ol-bar.ol-left.ol-group .ol-control:last-child>button,.ol-control.ol-bar.ol-right.ol-group .ol-control:last-child>button,.ol-control.ol-bar.ol-left .ol-group .ol-control:last-child>button,.ol-control.ol-bar.ol-right .ol-group .ol-control:last-child>button{border-radius:0 0 5px 5px}.ol-control.ol-bar .ol-rotate{opacity:1;visibility:visible}.ol-control.ol-bar .ol-rotate button{display:block}.ol-control.ol-bar .ol-toggle.ol-active>button,.ol-control.ol-bar .ol-toggle.ol-active button:hover{background-color:#0af;color:#fff}.ol-control.ol-toggle button:disabled{background-color:#ccc}.ol-control.ol-bar .ol-control.ol-option-bar{display:none;position:absolute;top:100%;left:0;margin:5px 0;border-radius:0;background-color:rgba(255,255,255,.8);-webkit-box-shadow:0 0 0 1px rgba(0,60,136,.5),1px 1px 2px rgba(0,0,0,.5);box-shadow:0 0 0 1px rgba(0,60,136,.5),1px 1px 2px rgba(0,0,0,.5)}.ol-control.ol-bar .ol-option-bar:before{content:"";border:.5em solid transparent;border-color:transparent transparent rgba(0,60,136,.5);position:absolute;bottom:100%;left:.3em;pointer-events:none}.ol-control.ol-bar .ol-option-bar .ol-control{display:table-cell}.ol-control.ol-bar .ol-control .ol-bar{display:none}.ol-control.ol-bar .ol-control.ol-active>.ol-option-bar{display:block}.ol-control.ol-bar .ol-control.ol-collapsed ul{display:none}.ol-control.ol-bar .ol-control.ol-text-button>div:hover,.ol-control.ol-bar .ol-control.ol-text-button>div{background-color:transparent;color:rgba(0,60,136,.5);width:auto;min-width:1.375em;margin:0}.ol-control.ol-bar .ol-control.ol-text-button{font-size:.9em;border-left:1px solid rgba(0,60,136,.8);border-radius:0}.ol-control.ol-bar .ol-control.ol-text-button:first-child{border-left:0}.ol-control.ol-bar .ol-control.ol-text-button>div{padding:.11em .3em;font-weight:400;font-size:1.14em;font-family:Arial,Helvetica,sans-serif}.ol-control.ol-bar .ol-control.ol-text-button div:hover{color:#003c88}.ol-control.ol-bar.ol-bottom .ol-option-bar{top:auto;bottom:100%}.ol-control.ol-bar.ol-bottom .ol-option-bar:before{border-color:rgba(0,60,136,.5) transparent transparent;bottom:auto;top:100%}.ol-control.ol-bar.ol-left .ol-option-bar{left:100%;top:0;bottom:auto;margin:0 5px}.ol-control.ol-bar.ol-left .ol-option-bar:before{border-color:transparent rgba(0,60,136,.5) transparent transparent;bottom:auto;right:100%;left:auto;top:.3em}.ol-control.ol-bar.ol-right .ol-option-bar{right:100%;left:auto;top:0;bottom:auto;margin:0 5px}.ol-control.ol-bar.ol-right .ol-option-bar:before{border-color:transparent transparent transparent rgba(0,60,136,.5);bottom:auto;left:100%;top:.3em}.ol-control.ol-bar.ol-left .ol-option-bar .ol-option-bar,.ol-control.ol-bar.ol-right .ol-option-bar .ol-option-bar{top:100%;bottom:auto;left:.3em;right:auto;margin:5px 0}.ol-control.ol-bar.ol-right .ol-option-bar .ol-option-bar{right:.3em;left:auto}.ol-control.ol-bar.ol-left .ol-option-bar .ol-option-bar:before,.ol-control.ol-bar.ol-right .ol-option-bar .ol-option-bar:before{border-color:transparent transparent rgba(0,60,136,.5);bottom:100%;top:auto;left:.3em;right:auto}.ol-control.ol-bar.ol-right .ol-option-bar .ol-option-bar:before{right:.3em;left:auto}.ol-control-title{position:absolute;top:0;left:0;right:0}.ol-center-position{position:absolute;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%);background-color:rgba(255,255,255,.8);padding:.1em 1em}.ol-compassctrl{display:none;top:1em;left:auto;right:1em}.ol-compassctrl.ol-visible{display:block!important}.ol-ext-dialog{position:fixed;top:-100%;left:0;width:150%;height:100%;opacity:0;background-color:rgba(0,0,0,.5);z-index:1000;pointer-events:none!important;-webkit-transition:opacity .2s,top 0s .2s;transition:opacity .2s,top 0s .2s}.ol-ext-dialog.ol-visible{opacity:1;top:0;pointer-events:all!important;-webkit-transition:opacity .2s,top 0s;transition:opacity .2s,top 0s}.ol-viewport .ol-ext-dialog{position:absolute}.ol-ext-dialog>form>h2{margin:0 .5em .5em 0;display:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ol-ext-dialog>form.ol-title>h2{display:block}.ol-ext-dialog>form{position:absolute;top:0;left:33.33%;min-width:5em;max-width:60%;min-height:3em;max-height:100%;background-color:#fff;border:1px solid #333;-webkit-box-shadow:3px 3px 4px rgba(0,0,0,.5);box-shadow:3px 3px 4px rgba(0,0,0,.5);-webkit-transform:translate(-50%,-30%);transform:translate(-50%,-30%);-webkit-transition:top .2s,-webkit-transform .2s;transition:top .2s,-webkit-transform .2s;transition:top .2s,transform .2s;transition:top .2s,transform .2s,-webkit-transform .2s;padding:1em;-webkit-box-sizing:border-box;box-sizing:border-box;overflow-x:hidden;overflow-y:auto}.ol-ext-dialog>form.ol-closebox{padding-top:1.5em}.ol-ext-dialog>form.ol-title{padding-top:1em}.ol-ext-dialog>form.ol-button{padding-bottom:.5em}.ol-ext-dialog.ol-zoom>form{top:30%;-webkit-transform:translate(-50%,-30%) scale(0);transform:translate(-50%,-30%) scale(0)}.ol-ext-dialog.ol-visible>form{top:30%}.ol-ext-dialog.ol-zoom.ol-visible>form{-webkit-transform:translate(-50%,-30%) scale(1);transform:translate(-50%,-30%) scale(1)}.ol-ext-dialog>form .ol-content{overflow-x:hidden;overflow-y:auto}.ol-ext-dialog>form .ol-closebox{position:absolute;top:.5em;right:.5em;width:1em;height:1em;cursor:pointer;display:none}.ol-ext-dialog>form.ol-closebox .ol-closebox{display:block}.ol-ext-dialog>form .ol-closebox:before,.ol-ext-dialog>form .ol-closebox:after{content:"";position:absolute;background-color:currentColor;top:50%;left:50%;width:1em;height:.1em;border-radius:.1em;-webkit-transform:translate(-50%,-50%) rotate(45deg);transform:translate(-50%,-50%) rotate(45deg)}.ol-ext-dialog>form .ol-closebox:before{-webkit-transform:translate(-50%,-50%) rotate(-45deg);transform:translate(-50%,-50%) rotate(-45deg)}.ol-ext-dialog>form .ol-buttons{text-align:right;overflow-x:hidden}.ol-ext-dialog>form .ol-buttons input{margin-top:.5em;padding:.5em;background:none;border:0;font-size:1em;color:#003c88;cursor:pointer;border-radius:.25em;outline-width:0}.ol-ext-dialog>form .ol-buttons input:hover{background-color:rgba(0,60,136,.1)}.ol-ext-dialog>form .ol-buttons input[type=submit]{font-weight:700}.ol-ext-dialog .ol-progress-message{font-size:.9em;text-align:center;padding-bottom:.5em}.ol-ext-dialog .ol-progress-bar{border:1px solid #369;width:20em;height:1em;max-width:100%;padding:2px;margin:.5em auto 0;overflow:hidden}.ol-ext-dialog .ol-progress-bar>div{background:#369;height:100%;width:50%;-webkit-transition:width .3s;transition:width .3s}.ol-ext-dialog .ol-progress-bar>div.notransition{-webkit-transition:unset;transition:unset}.ol-ext-dialog.ol-fullscreen-dialog form{top:1em;-webkit-transform:none;transform:none;left:1em;bottom:1em;right:1em;max-width:calc(66.6% - 2em);text-align:center;background:transparent;-webkit-box-shadow:none;box-shadow:none;border:none;color:#fff}.ol-ext-dialog.ol-fullscreen-dialog form .ol-closebox{top:0;right:0;font-size:2em}.ol-ext-dialog.ol-fullscreen-dialog .ol-closebox:before,.ol-ext-dialog.ol-fullscreen-dialog .ol-closebox:after{border:.1em solid currentColor}.ol-ext-dialog.ol-fullscreen-dialog img,.ol-ext-dialog.ol-fullscreen-dialog video{max-width:100%}body>.ol-ext-dialog .ol-content{max-height:calc(100vh - 10em)}body>.ol-ext-dialog>form{overflow:visible}.ol-editbar .ol-button button{position:relative;display:inline-block;font-style:normal;-webkit-box-sizing:border-box;box-sizing:border-box;vertical-align:middle}.ol-editbar .ol-button button:before,.ol-editbar .ol-button button:after{content:"";border-width:0;position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:currentColor}.ol-editbar .ol-button button:focus{outline:none}.ol-editbar .ol-selection>button:before{width:.6em;height:1em;background-color:transparent;border:.5em solid currentColor;border-width:0 .25em .65em;border-color:currentColor transparent;-webkit-box-shadow:0 .6em 0 -.23em;box-shadow:0 .6em 0 -.23em;top:.35em;left:.5em;-webkit-transform:translate(-50%,-50%) rotate(-30deg);transform:translate(-50%,-50%) rotate(-30deg)}.ol-editbar .ol-selection0>button:after{width:.28em;height:.6em;background-color:transparent;border:.5em solid currentColor;border-width:0 .05em .7em;border-color:currentColor transparent;top:.5em;left:.7em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.ol-editbar .ol-delete button:after,.ol-editbar .ol-delete button:before{width:1em;height:.2em;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(45deg);transform:translate(-50%,-50%) rotate(45deg)}.ol-editbar .ol-delete button:after{-webkit-transform:translate(-50%,-50%) rotate(-45deg);transform:translate(-50%,-50%) rotate(-45deg)}.ol-editbar .ol-info button:before{width:.25em;height:.6em;border-radius:.03em;top:.47em;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ol-editbar .ol-info button:after{width:.25em;height:.2em;border-radius:.03em;-webkit-box-shadow:-.1em .35em,-.1em .82em,.1em .82em;box-shadow:-.1em .35em,-.1em .82em,.1em .82em;top:.12em;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ol-editbar .ol-drawpoint button:before{width:.7em;height:.7em;border-radius:50%;border:.15em solid currentColor;background-color:transparent;top:.2em;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ol-editbar .ol-drawpoint button:after{width:.4em;height:.4em;border:.15em solid currentColor;border-color:currentColor transparent;border-width:.4em .2em 0;background-color:transparent;top:.8em;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ol-editbar .ol-drawline>button:before,.ol-editbar .ol-drawpolygon>button:before,.ol-editbar .ol-drawhole>button:before{width:.8em;height:.8em;border:.13em solid currentColor;background-color:transparent;border-width:.2em .13em .09em;top:.2em;left:.25em;-webkit-transform:rotate(10deg) perspective(1em) rotateX(40deg);transform:rotate(10deg) perspective(1em) rotateX(40deg)}.ol-editbar .ol-drawline>button:before{border-bottom:0}.ol-editbar .ol-drawline>button:after,.ol-editbar .ol-drawhole>button:after,.ol-editbar .ol-drawpolygon>button:after{width:.3em;height:.3em;top:.2em;left:.25em;-webkit-box-shadow:-.2em .55em,.6em .1em,.65em .7em;box-shadow:-.2em .55em,.6em .1em,.65em .7em}.ol-editbar .ol-drawhole>button:after{-webkit-box-shadow:-.2em .55em,.6em .1em,.65em .7em,.25em .35em;box-shadow:-.2em .55em,.6em .1em,.65em .7em,.25em .35em}.ol-editbar .ol-offset>button i,.ol-editbar .ol-transform>button i{position:absolute;width:.9em;height:.9em;overflow:hidden;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-editbar .ol-offset>button i{width:.8em;height:.8em}.ol-editbar .ol-offset>button i:before,.ol-editbar .ol-transform>button i:before,.ol-editbar .ol-transform>button i:after{content:"";height:1em;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(45deg);transform:translate(-50%,-50%) rotate(45deg);-webkit-box-shadow:.5em 0 0 .1em,-.5em 0 0 .1em;box-shadow:.5em 0 0 .1em,-.5em 0 0 .1em;width:.1em;position:absolute;background-color:currentColor}.ol-editbar .ol-offset>button i:before{-webkit-box-shadow:.45em 0 0 .1em,-.45em 0 0 .1em;box-shadow:.45em 0 0 .1em,-.45em 0 0 .1em}.ol-editbar .ol-transform>button i:after{-webkit-transform:translate(-50%,-50%) rotate(-45deg);transform:translate(-50%,-50%) rotate(-45deg)}.ol-editbar .ol-split>button:before{width:.3em;height:.3em;top:.81em;left:.75em;border-radius:50%;-webkit-box-shadow:.1em -.4em,-.15em -.25em;box-shadow:.1em -.4em,-.15em -.25em}.ol-editbar .ol-split>button:after{width:.8em;height:.8em;top:.15em;left:-.1em;border:.1em solid currentColor;border-width:0 .2em .2em 0;background-color:transparent;border-radius:.1em;-webkit-transform:rotate(20deg) scaleY(.6) rotate(-45deg);transform:rotate(20deg) scaleY(.6) rotate(-45deg)}.ol-editbar .ol-drawregular>button:before{width:.9em;height:.9em;top:50%;left:50%;border:.1em solid currentColor;background-color:transparent;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-editbar .ol-drawregular .ol-bar .ol-text-button>div>div>div{border:.5em solid currentColor;border-color:transparent currentColor;display:inline-block;cursor:pointer;vertical-align:text-bottom}.ol-editbar .ol-drawregular .ol-bar:before,.ol-control.ol-bar.ol-editbar .ol-drawregular .ol-bar{left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ol-editbar .ol-drawregular .ol-bar .ol-text-button{min-width:6em;text-align:center}.ol-editbar .ol-drawregular .ol-bar .ol-text-button>div>div>div:first-child{border-width:.5em .5em .5em 0;margin:0 .5em 0 0}.ol-editbar .ol-drawregular .ol-bar .ol-text-button>div>div>div:last-child{border-width:.5em 0 .5em .5em;margin:0 0 0 .5em}.ol-feature-list{position:relative}.ol-control.ol-feature-list{position:absolute;bottom:0;left:0;width:100%}.ol-control.ol-feature-list>button:before{content:"";position:absolute;width:60%;height:50%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-box-shadow:inset 0 2.5px;box-shadow:inset 0 2.5px;background-image:-webkit-gradient(linear,left top,right top,from(currentColor),to(transparent));background-image:linear-gradient(90deg,currentColor,transparent)}.ol-control.ol-feature-list.ol-collapsed{bottom:.5em;left:.5em;width:auto}.ol-feature-list .ol-content{background-color:#f4f6f8;clear:both}.ol-feature-list.ol-collapsed .ol-content>*{display:none}.ol-feature-list .ol-header{position:relative;overflow:hidden}.ol-feature-list.ol-collapsed .ol-header{display:block}.ol-control.ol-feature-list>button,.ol-control.ol-feature-list.ol-collapsed .ol-content{display:none}.ol-control.ol-feature-list.ol-collapsed>button{display:block}.ol-feature-list .ol-sizer{width:100%;height:1px;cursor:row-resize;background-color:#ccc;position:relative;border:1px solid #f4f6f8;border-width:1px 0}.ol-feature-list.ol-bottom .ol-sizer{position:absolute;bottom:0}.ol-feature-list .ol-sizer:before{content:"";width:1.5em;height:4px;background-color:#ddd;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:1;border:3px solid transparent;border-width:3px 1.5em;-webkit-box-shadow:inset 0 -1px #aaa,inset 0 1px #aaa;box-shadow:inset 0 -1px #aaa,inset 0 1px #aaa;border-radius:2px}.ol-feature-list .ol-sizer:hover:before{background-color:#ccc}.ol-feature-list .ol-content .ol-header p{display:inline-block;margin:.1em .25em;vertical-align:middle;white-space:nowrap;width:calc(100% - 2em);text-overflow:ellipsis;overflow:hidden}.ol-feature-list .ol-content .ol-header .ol-buttons{position:absolute;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ol-feature-list .ol-content .ol-header button{position:relative;border:0;background:transparent;vertical-align:middle;width:1em;height:1em;margin:0 .2em;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-feature-list .ol-content .ol-header button.ol-closebox:before,.ol-feature-list .ol-content .ol-header button.ol-closebox:after{content:"";position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%) rotate(45deg);transform:translate(-50%,-50%) rotate(45deg);background:currentColor;width:.1em;height:1em;display:block;font-style:normal}.ol-feature-list .ol-content .ol-header button.ol-closebox:after{-webkit-transform:translate(-50%,-50%) rotate(-45deg);transform:translate(-50%,-50%) rotate(-45deg)}.ol-feature-list.ol-collapsed .ol-content .ol-header button.ol-closebox{border:1px solid currentColor}.ol-feature-list.ol-collapsed .ol-content .ol-header button.ol-closebox:before{-webkit-transform:translate(-50%,-50%) rotate(90deg);transform:translate(-50%,-50%) rotate(90deg)}.ol-feature-list.ol-collapsed .ol-content .ol-header button.ol-closebox:after{display:none}.ol-feature-list .ol-scroll-container{overflow:auto;height:10em;min-height:3em}.ol-feature-list .ol-scroll-container:focus{outline:unset}.ol-feature-list table{background-color:#fff;border-collapse:collapse;white-space:nowrap;position:relative}.ol-feature-list table thead{background-color:#f4f6f8;position:-webkit-sticky;position:sticky;top:0;overflow:hidden}.ol-feature-list table tr{height:1.4em;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-feature-list table tbody tr:hover{background-color:#eee;cursor:pointer}.ol-feature-list table tbody tr.ol-selected{background-color:#eee}.ol-feature-list table td{border:0 solid #ddd;border-width:0 0 1px 1px;overflow:hidden;width:100px}.ol-feature-list table td.number{text-align:right}.ol-feature-list table td.undefined{text-align:center;background-color:#fafafa}.ol-feature-list table tr:hover td,.ol-feature-list table .ol-selected td{background-color:transparent}.ol-feature-list thead td{position:relative}.ol-feature-list thead td.sort{padding-right:1.5em}.ol-feature-list thead td p{margin:0;display:inline-block}.ol-feature-list table td button{position:absolute;width:1.2em;height:1.4em;top:0;right:0;margin:.1em 0;padding:0;background-color:transparent;border:0}.ol-feature-list thead td button.sort:before{content:"";font-style:normal;font-weight:400;cursor:pointer;font-size:1em;line-height:1em}.ol-feature-list thead td button.sortup:before{content:""}.ol-feature-list thead td button.sortdown:before{content:""}.ol-gauge{top:.5em;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%);background-color:rgba(255,255,255,.5);padding:.1em .5em}.ol-gauge>*{display:inline-block;vertical-align:middle}.ol-gauge>span{margin:0 .5em 0 0}.ol-gauge>div{display:inline-block;width:200px;border:1px solid rgba(0,60,136,.5);border-radius:3px;padding:1px}.ol-gauge button{height:.8em;margin:0;max-width:100%}.ol-control.ol-bookmark{top:.5em;left:3em;background-color:rgba(255,255,255,.5)}.ol-control.ol-bookmark button{position:relative}.ol-control.ol-bookmark>button:before{content:"";position:absolute;border-width:10px 5px 4px;border-style:solid;border-color:currentColor;border-bottom-color:transparent;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);height:0}.ol-control.ol-bookmark>div{display:block;min-width:5em}.ol-control.ol-bookmark.ol-collapsed>div{display:none}.ol-control.ol-bookmark input{font-size:.9em;margin:0 .5em .5em;padding:0 .5em}.ol-control.ol-bookmark ul{margin:0 0 .5em;padding:0;list-style:none;min-width:10em}.ol-control.ol-bookmark li{color:rgba(0,60,136,.8);font-size:.9em;padding:0 .2em 0 .5em;cursor:default;clear:both}.ol-control.ol-bookmark li:hover{background-color:rgba(0,60,136,.5);color:#fff}.ol-control.ol-bookmark>div button{width:1em;height:.8em;float:right;background-color:transparent;cursor:pointer;border-radius:0}.ol-control.ol-bookmark>div button:before{content:"";color:#936;font-size:1.2em;line-height:1em;border-radius:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-bookmark ul li button,.ol-bookmark input{display:none}.ol-bookmark.ol-editable ul li button,.ol-bookmark.ol-editable input{display:block}.ol-control.ol-geobt{top:auto;left:auto;right:.5em;bottom:3em}.ol-touch .ol-control.ol-geobt{bottom:3.5em}.ol-control.ol-geobt button:before{content:"";position:absolute;background:transparent;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:.16em solid currentColor;width:.4em;height:.4em;border-radius:50%}.ol-control.ol-geobt button:after{content:"";position:absolute;width:.2em;height:.2em;background:transparent;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-box-shadow:.42em 0,-.42em 0,0 .42em,0 -.42em;box-shadow:.42em 0,-.42em 0,0 .42em,0 -.42em}.ol-control.ol-bar.ol-geobar .ol-control{display:inline-block;vertical-align:middle}.ol-control.ol-bar.ol-geobar .ol-bar{display:none}.ol-bar.ol-geobar.ol-active .ol-bar{display:inline-block}.ol-bar.ol-geobar .geolocBt button:before,.ol-bar.ol-geobar .geolocBt button:after{content:"";display:block;position:absolute;border:1px solid transparent;border-width:.3em .8em 0 .2em;border-color:currentColor transparent transparent;-webkit-transform:rotate(-30deg);transform:rotate(-30deg);top:.45em;left:.15em;font-size:1.2em}.ol-bar.ol-geobar .geolocBt button:after{border-width:0 .8em .3em .2em;border-color:transparent transparent currentColor;-webkit-transform:rotate(-61deg);transform:rotate(-61deg)}.ol-bar.ol-geobar .startBt button:before{content:"";display:block;position:absolute;width:1em;height:1em;background-color:#800;border-radius:50%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-bar.ol-geobar .pauseBt button:before,.ol-bar.ol-geobar .pauseBt button:after{content:"";display:block;position:absolute;width:.25em;height:1em;background-color:currentColor;top:50%;left:35%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-bar.ol-geobar .pauseBt button:after{left:65%}.ol-control.ol-bar.ol-geobar .centerBt,.ol-control.ol-bar.ol-geobar .pauseBt,.ol-bar.ol-geobar.pauseTrack .startBt,.ol-bar.ol-geobar.centerTrack .startBt,.ol-bar.ol-geobar.centerTrack.pauseTrack .pauseBt,.ol-bar.ol-geobar.centerTrack .pauseBt{display:none}.ol-bar.ol-geobar.pauseTrack .pauseBt,.ol-bar.ol-geobar.centerTrack .centerBt{display:inline-block}.ol-control.ol-globe{position:absolute;left:.5em;bottom:.5em;border-radius:50%;opacity:.7;transform:scale(.5);transform-origin:0 100%;-webkit-transform:scale(.5);-webkit-transform-origin:0 100%}.ol-control.ol-globe:hover{opacity:.9}.ol-control.ol-globe .panel{display:block;width:170px;height:170px;background-color:#fff;cursor:pointer;border-radius:50%;overflow:hidden;-webkit-box-shadow:0 0 10px 5px rgba(255,255,255,.5);box-shadow:0 0 10px 5px rgba(255,255,255,.5)}.ol-control.ol-globe .panel .ol-viewport{border-radius:50%}.ol-control.ol-globe .ol-pointer{display:block;background-color:#fff;width:10px;height:10px;border:10px solid red;position:absolute;top:50%;left:50%;transform:translate(-15px,-40px);-webkit-transform:translate(-15px,-40px);border-radius:50%;z-index:1;transition:opacity .15s,top 0s,left 0s;-webkit-transition:opacity .15s,top 0s,left 0s}.ol-control.ol-globe .ol-pointer.hidden{opacity:0;transition:opacity .15s,top 3s,left 5s;-webkit-transition:opacity .15s,top 3s,left 5s}.ol-control.ol-globe .ol-pointer:before{border-radius:50%;-webkit-box-shadow:6px 6px 10px 5px #000;box-shadow:6px 6px 10px 5px #000;content:"";display:block;height:0;left:0;position:absolute;top:23px;width:0}.ol-control.ol-globe .ol-pointer:after{content:"";width:0;height:0;display:block;position:absolute;border-width:20px 10px 0;border-color:red transparent;border-style:solid;left:-50%;top:100%}.ol-control.ol-globe .panel:before{border-radius:50%;-webkit-box-shadow:-20px -20px 80px 2px rgba(0,0,0,.7) inset;box-shadow:-20px -20px 80px 2px rgba(0,0,0,.7) inset;content:"";display:block;height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ol-control.ol-globe .panel:after{border-radius:50%;-webkit-box-shadow:0 0 20px 7px rgba(255,255,255,1);box-shadow:0 0 20px 7px #fff;content:"";display:block;height:0;left:23%;position:absolute;top:20%;-webkit-transform:rotate(-40deg);transform:rotate(-40deg);width:20%;z-index:1}.ol-control.ol-globe.ol-collapsed .panel{display:none}.ol-control-top.ol-globe{bottom:auto;top:5em;transform-origin:0 0;-webkit-transform-origin:0 0}.ol-control-right.ol-globe{left:auto;right:.5em;transform-origin:100% 100%;-webkit-transform-origin:100% 100%}.ol-control-right.ol-control-top.ol-globe{left:auto;right:.5em;transform-origin:100% 0;-webkit-transform-origin:100% 0}.ol-gridreference{background:#fff;border:1px solid #000;overflow:auto;max-height:100%;top:0;right:0}.ol-gridreference input{width:100%}.ol-gridreference ul{margin:0;padding:0;list-style:none}.ol-gridreference li{padding:0 .5em;cursor:pointer}.ol-gridreference ul li:hover{background-color:#ccc}.ol-gridreference li.ol-title,.ol-gridreference li.ol-title:hover{background:rgba(0,60,136,.5);color:#fff;cursor:default}.ol-gridreference ul li .ol-ref{margin-left:.5em}.ol-gridreference ul li .ol-ref:before{content:"("}.ol-gridreference ul li .ol-ref:after{content:")"}.ol-control.ol-imageline{bottom:0;left:0;right:0;padding:0;overflow:visible;-webkit-transition:.3s;transition:.3s;border-radius:0}.ol-control.ol-imageline.ol-collapsed{-webkit-transform:translateY(100%);transform:translateY(100%)}.ol-imageline>div{height:4em;position:relative;white-space:nowrap;scroll-behavior:smooth;overflow:hidden;width:100%}.ol-imageline>div.ol-move{scroll-behavior:unset}.ol-control.ol-imageline button{position:absolute;top:-1em;-webkit-transform:translateY(-100%);transform:translateY(-100%);margin:.65em;-webkit-box-shadow:0 0 0 .15em rgba(255,255,255,.4);box-shadow:0 0 0 .15em rgba(255,255,255,.4)}.ol-control.ol-imageline button:before{content:"";position:absolute;-webkit-transform:translate(-50%,-50%) rotate(135deg);transform:translate(-50%,-50%) rotate(135deg);top:40%;left:50%;width:.4em;height:.4em;border:.1em solid currentColor;border-width:.15em .15em 0 0}.ol-control.ol-imageline.ol-collapsed button:before{top:60%;-webkit-transform:translate(-50%,-50%) rotate(-45deg);transform:translate(-50%,-50%) rotate(-45deg)}.ol-imageline,.ol-imageline:hover{background-color:rgba(0,0,0,.75)}.ol-imageline.ol-arrow:after,.ol-imageline.ol-arrow:before{content:"";position:absolute;top:50%;left:.2em;border-color:#fff #000;border-width:1em .6em 1em 0;border-style:solid;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:1;opacity:.8;pointer-events:none;-webkit-box-shadow:-.6em 0 0 1em #fff;box-shadow:-.6em 0 0 1em #fff}.ol-imageline.ol-arrow:after{border-width:1em 0 1em .6em;left:auto;right:.2em;-webkit-box-shadow:.6em 0 0 1em #fff;box-shadow:.6em 0 0 1em #fff}.ol-imageline.ol-scroll0.ol-arrow:before{display:none}.ol-imageline.ol-scroll1.ol-arrow:after{display:none}.ol-imageline .ol-image{position:relative;height:100%;display:inline-block;cursor:pointer}.ol-imageline img{max-height:100%;border:.25em solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;opacity:0;-webkit-transition:1s;transition:1s}.ol-imageline img.ol-loaded{opacity:1}.ol-imageline .ol-image.select{background-color:#fff}.ol-imageline .ol-image span{position:absolute;width:125%;max-height:2.4em;left:50%;bottom:0;display:none;color:#fff;background-color:rgba(0,0,0,.5);font-size:.8em;overflow:hidden;white-space:normal;text-align:center;line-height:1.2em;-webkit-transform:translateX(-50%) scaleX(.8);transform:translate(-50%) scaleX(.8)}.ol-imageline .ol-image:hover span{display:block}.ol-control.ol-routing.ol-isochrone .ol-method-time,.ol-control.ol-routing.ol-isochrone .ol-method-distance,.ol-control.ol-routing.ol-isochrone>button{position:relative}.ol-control.ol-routing.ol-isochrone .ol-method-time:before,.ol-control.ol-routing.ol-isochrone>button:before{content:"";position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:.1em solid currentColor;width:.8em;height:.8em;border-radius:50%;-webkit-box-shadow:0 -.5em 0 -.35em,.4em -.35em 0 -.35em;box-shadow:0 -.5em 0 -.35em,.4em -.35em 0 -.35em;clip:unset}.ol-control.ol-routing.ol-isochrone .ol-method-time:after,.ol-control.ol-routing.ol-isochrone>button:after{content:"";position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(-60deg);transform:translate(-50%,-50%) rotate(-60deg);border-radius:50%;border:.3em solid transparent;border-right-color:currentColor;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;clip:unset}.ol-control.ol-routing.ol-isochrone .ol-method-distance:before{content:"";position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(-30deg);transform:translate(-50%,-50%) rotate(-30deg);width:1em;height:.5em;border:.1em solid currentColor;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-control.ol-routing.ol-isochrone .ol-method-distance:after{content:"";position:absolute;width:.1em;height:.15em;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(-30deg);transform:translate(-50%,-50%) rotate(-30deg);-webkit-box-shadow:inset 0 -.15em,0 .1em,.25em .1em,-.25em .1em;box-shadow:inset 0 -.15em,0 .1em,.25em .1em,-.25em .1em}.ol-control.ol-routing.ol-isochrone .ol-direction-direct:before,.ol-control.ol-routing.ol-isochrone .ol-direction-reverse:before{content:"";position:absolute;top:50%;left:30%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:.3em;height:.3em;border-radius:50%;border:.1em solid currentColor;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:.25em 0 0 -.05em;box-shadow:.25em 0 0 -.05em}.ol-control.ol-routing.ol-isochrone .ol-direction-direct:after,.ol-control.ol-routing.ol-isochrone .ol-direction-reverse:after{content:"";position:absolute;top:50%;left:70%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:.4em solid transparent;border-width:.4em 0 .4em .4em;border-color:transparent currentColor}.ol-control.ol-routing.ol-isochrone .ol-direction-reverse:after{border-width:.4em .4em .4em 0}.ol-control.ol-isochrone.ol-collapsed .content{display:none}.ol-control.ol-isochrone input[type=number]{width:3em;text-align:right;margin:0 .1em}.ol-control.ol-isochrone .ol-distance input[type=number]{width:5em}.ol-isochrone .ol-time,.ol-isochrone .ol-distance{display:none}.ol-isochrone .ol-time.selected,.ol-isochrone .ol-distance.selected{display:block}.ol-control.ol-layerswitcher-popup{position:absolute;right:.5em;text-align:left;top:3em}.ol-control.ol-layerswitcher-popup .panel{clear:both;background:#fff}.ol-layerswitcher-popup .panel{list-style:none;padding:.25em;margin:0;overflow:hidden}.ol-layerswitcher-popup .panel ul{list-style:none;padding:0 0 0 20px;overflow:hidden}.ol-layerswitcher-popup.ol-collapsed .panel{display:none}.ol-layerswitcher-popup.ol-forceopen .panel{display:block}.ol-layerswitcher-popup button{background-color:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACE1BMVEX///8A//8AgICA//8AVVVAQID///8rVVVJtttgv98nTmJ2xNgkW1ttyNsmWWZmzNZYxM4gWGgeU2JmzNNr0N1Rwc0eU2VXxdEhV2JqytQeVmMhVmNoydUfVGUgVGQfVGQfVmVqy9hqy9dWw9AfVWRpydVry9YhVmMgVGNUw9BrytchVWRexdGw294gVWQgVmUhVWPd4N6HoaZsy9cfVmQgVGRrytZsy9cgVWQgVWMgVWRsy9YfVWNsy9YgVWVty9YgVWVry9UgVWRsy9Zsy9UfVWRsy9YgVWVty9YgVWRty9Vsy9aM09sgVWRTws/AzM0gVWRtzNYgVWRuy9Zsy9cgVWRGcHxty9bb5ORbxdEgVWRty9bn6OZTws9mydRfxtLX3Nva5eRix9NFcXxOd4JPeINQeIMiVmVUws9Vws9Vw9BXw9BYxNBaxNBbxNBcxdJexdElWWgmWmhjyNRlx9IqXGtoipNpytVqytVryNNrytZsjZUuX210k5t1y9R2zNR3y9V4lp57zth9zdaAnKOGoaeK0NiNpquV09mesrag1tuitbmj1tuj19uktrqr2d2svcCu2d2xwMO63N+7x8nA3uDC3uDFz9DK4eHL4eLN4eIyYnDX5OM5Z3Tb397e4uDf4uHf5uXi5ePi5+Xj5+Xk5+Xm5+Xm6OY6aHXQ19fT4+NfhI1Ww89gx9Nhx9Nsy9ZWw9Dpj2abAAAAWnRSTlMAAQICAwQEBgcIDQ0ODhQZGiAiIyYpKywvNTs+QklPUlNUWWJjaGt0dnd+hIWFh4mNjZCSm6CpsbW2t7nDzNDT1dje5efr7PHy9PT29/j4+Pn5+vr8/f39/f6DPtKwAAABTklEQVR4Xr3QVWPbMBSAUTVFZmZmhhSXMjNvkhwqMzMzMzPDeD+xASvObKePPa+ffHVl8PlsnE0+qPpBuQjVJjno6pZpSKXYl7/bZyFaQxhf98hHDKEppwdWIW1frFnrxSOWHFfWesSEWC6R/P4zOFrix3TzDFLlXRTR8c0fEEJ1/itpo7SVO9Jdr1DVxZ0USyjZsEY5vZfiiAC0UoTGOrm9PZLuRl8X+Dq1HQtoFbJZbv61i+Poblh/97TC7n0neCcK0ETNUrz1/xPHf+DNAW9Ac6t8O8WH3Vp98f5lCaYKAOFZMLyHL4Y0fe319idMNgMMp+zWVSybUed/+/h7I4wRAG1W6XDy4XmjR9HnzvDRZXUAYDFOhC1S/Hh+fIXxen+eO+AKqbs+wAo30zDTDvDxKoJN88sjUzDFAvBzEUGFsnADoIvAJzoh2BZ8sner+Ke/vwECuQAAAABJRU5ErkJggg==);background-position:center;background-repeat:no-repeat;float:right;height:38px;width:38px}.ol-layerswitcher-popup li{color:#369;padding:.25em 1em;font-family:Trebuchet MS,Helvetica,sans-serif;cursor:pointer}.ol-layerswitcher-popup li.ol-header{display:none}.ol-layerswitcher-popup li.select,.ol-layerswitcher-popup li.ol-visible{background:rgba(0,60,136,.7);color:#fff}.ol-layerswitcher-popup li:hover{background:rgba(0,60,136,.9);color:#fff}.ol-control.ol-layerswitcher.ol-layer-shop{height:calc(100% - 4em);max-height:unset;max-width:16em;background-color:transparent;pointer-events:none!important;overflow:visible}.ol-control.ol-layerswitcher>*{pointer-events:auto}.ol-control.ol-layer-shop>button,.ol-control.ol-layer-shop .panel-container{-webkit-box-shadow:0 0 0 3px rgba(255,255,255,.5);box-shadow:0 0 0 3px rgba(255,255,255,.5)}.ol-control.ol-layerswitcher.ol-layer-shop .panel-container{overflow-y:scroll;max-height:calc(100% - 6.5em);border:2px solid #369;border-width:2px 0;padding:0}.ol-control.ol-layer-shop .panel{padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;margin:.25em .5em}.ol-control.ol-layerswitcher.ol-layer-shop .panel-container.ol-scrolldiv{overflow:hidden}.ol-control.ol-layer-shop .ol-scroll{background-color:rgba(0,0,0,.3);opacity:.5}.ol-layerswitcher.ol-layer-shop ul.panel li.ol-header{display:none}.ol-layerswitcher.ol-layer-shop ul.panel li{margin-right:0;padding-right:0}.ol-layerswitcher.ol-layer-shop .layerup{height:1.5em;width:1.4em;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:transparent;color:#003c88}.ol-layerswitcher.ol-layer-shop .layerup:hover{background-color:rgba(0,60,136,.3)}.ol-layerswitcher.ol-layer-shop .layerup:before{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:0;background-color:currentColor;width:1em;height:2px;-webkit-box-shadow:0 -4px,0 4px;box-shadow:0 -4px,0 4px}.ol-layerswitcher.ol-layer-shop .layerup:after{content:unset}.ol-control.ol-layer-shop .ol-title-bar{background-color:rgba(255,255,255,.5);font-size:.9em;height:calc(2.8em - 4px);max-width:14.6em;padding:.7em .5em;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:right;-webkit-transform:scaleY(1.1);transform:scaleY(1.1);-webkit-transition:width 0s,-webkit-transform .1s;transition:width 0s,-webkit-transform .1s;transition:transform .1s,width 0s;transition:transform .1s,width 0s,-webkit-transform .1s;-webkit-transform-origin:100% 0;transform-origin:100% 0}.ol-control.ol-layer-shop:hover .ol-title-bar{background-color:rgba(255,255,255,.7)}.ol-control.ol-layer-shop.ol-collapsed .ol-title-bar{max-width:10em;-webkit-transform:scale(.9,1.1);transform:scale(.9,1.1)}.ol-control.ol-layer-shop.ol-forceopen .ol-title-bar{max-width:14.6em;-webkit-transform:scaleY(1.1);transform:scaleY(1.1)}.ol-control.ol-layer-shop .ol-bar{position:relative;height:1.75em;clear:both;-webkit-box-shadow:0 0 0 3px rgba(255,255,255,.5);box-shadow:0 0 0 3px rgba(255,255,255,.5);background-color:#fff;text-align:right;z-index:10}.ol-control.ol-layer-shop.ol-collapsed .ol-scroll,.ol-control.ol-layer-shop.ol-collapsed .ol-bar{border-width:2px 0 0;display:none}.ol-control.ol-layer-shop.ol-forceopen .ol-scroll,.ol-control.ol-layer-shop.ol-forceopen .ol-bar{display:block}.ol-control.ol-layer-shop .ol-bar>*{font-size:.9em;display:inline-block;vertical-align:middle;margin-top:.25em;background-color:transparent}.ol-layer-shop .ol-bar .ol-button,.ol-touch .ol-layer-shop .ol-bar .ol-button{position:relative;top:unset;left:unset;bottom:unset;right:unset;margin:0}.ol-layer-shop .ol-bar button{background-color:#fff;color:#003c88}.ol-layer-shop .ol-bar button:hover{background-color:rgba(0,60,136,.2)}.ol-touch .ol-layerswitcher.ol-layer-shop>button{font-size:1.7em}.ol-touch .ol-layer-shop .ol-bar{height:2em}.ol-touch .ol-layer-shop .ol-control button{font-size:1.4em}.ol-touch .ol-control.ol-layer-shop .panel{max-height:calc(100% - 7em)}.ol-touch .ol-control.ol-layer-shop .panel label{height:1.8em}.ol-touch .ol-control.ol-layer-shop .panel label span{margin-left:.5em;padding-top:.25em}.ol-touch .ol-control.ol-layer-shop .panel label:before,.ol-touch .ol-control.ol-layer-shop .panel label:after{font-size:1.3em;z-index:1}.ol-control.ol-layerswitcher{position:absolute;right:.5em;text-align:left;top:3em;max-height:calc(100% - 6em);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.ol-control.ol-layerswitcher .ol-switchertopdiv,.ol-control.ol-layerswitcher .ol-switcherbottomdiv{display:block}.ol-control.ol-layerswitcher.ol-collapsed .ol-switchertopdiv,.ol-control.ol-layerswitcher.ol-collapsed .ol-switcherbottomdiv{display:none}.ol-layerswitcher.ol-forceopen.ol-collapsed .ol-switchertopdiv,.ol-layerswitcher.ol-forceopen.ol-collapsed .ol-switcherbottomdiv{display:block}.ol-control.ol-layerswitcher .ol-switchertopdiv,.ol-control.ol-layerswitcher .ol-switcherbottomdiv{position:absolute;top:0;left:0;right:0;height:45px;background:#fff;z-index:2;opacity:1;cursor:pointer;border-top:2px solid transparent;border-bottom:2px solid #369;margin:0 2px;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-control.ol-layerswitcher .ol-switcherbottomdiv{top:auto;bottom:0;height:2em;border-top:2px solid #369;border-bottom:2px solid transparent}.ol-control.ol-layerswitcher .ol-switchertopdiv:before,.ol-control.ol-layerswitcher .ol-switcherbottomdiv:before{content:"";position:absolute;left:50%;top:50%;border:10px solid transparent;width:0;height:0;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);opacity:.8}.ol-control.ol-layerswitcher .ol-switchertopdiv:hover:before,.ol-control.ol-layerswitcher .ol-switcherbottomdiv:hover:before{opacity:1}.ol-control.ol-layerswitcher .ol-switchertopdiv:before{border-bottom-color:#369;border-top:0}.ol-control.ol-layerswitcher .ol-switcherbottomdiv:before{border-top-color:#369;border-bottom:0}.ol-control.ol-layerswitcher .panel-container{background-color:#fff;border-radius:0 0 2px 2px;clear:both;display:block;padding:.5em .5em 0}.ol-layerswitcher .panel{list-style:none;padding:0;margin:0;overflow:hidden;font-family:Tahoma,Geneva,sans-serif;font-size:.9em;-webkit-transition:top .3s;transition:top .3s;position:relative;top:0}.ol-layerswitcher .panel ul{list-style:none;padding:0 0 0 20px;overflow:hidden;clear:both}.ol-layerswitcher input[type=radio],.ol-layerswitcher input[type=checkbox]{display:none}.ol-layerswitcher .panel li{-weblit-transition:-webkit-transform .2s linear;-webkit-transition:-webkit-transform .2s linear;transition:-webkit-transform .2s linear;transition:transform .2s linear;transition:transform .2s linear,-webkit-transform .2s linear;clear:both;display:block;border:1px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-layerswitcher .panel li.ol-layer-select{background-color:rgba(0,60,136,.2);margin:0 -.5em;padding:0 .5em}.ol-layerswitcher .panel li.drag{opacity:.5;transform:scale(.8);-webkit-transform:scale(.8)}.ol-dragover{background:rgba(51,102,153,.5);opacity:.8}.ol-layerswitcher .panel li.forbidden,.forbidden .ol-layerswitcher-buttons div,.forbidden .layerswitcher-opacity div{background:rgba(255,0,0,.5);color:red!important}.ol-layerswitcher.drag,.ol-layerswitcher.drag *{cursor:not-allowed!important;cursor:no-drop!important}.ol-layerswitcher.drag .panel li.dropover,.ol-layerswitcher.drag .panel li.dropover *{cursor:pointer!important;cursor:n-resize!important;cursor:ns-resize!important;cursor:-webkit-grab!important;cursor:grab!important;cursor:-webkit-grabbing!important;cursor:grabbing!important}.ol-layerswitcher .panel li.dropover{background:rgba(51,102,153,.5)}.ol-layerswitcher .panel li label{display:inline-block;height:1.4em;max-width:12em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:0 0 0 1.7em;position:relative}.ol-layerswitcher .panel li label span{display:inline-block;width:100%;height:100%;overflow:hidden;text-overflow:ellipsis;padding-right:.2em}.ol-layerswitcher [type=radio]+label:before,.ol-layerswitcher [type=checkbox]+label:before,.ol-layerswitcher [type=radio]:checked+label:after,.ol-layerswitcher [type=checkbox]:checked+label:after{content:"";position:absolute;left:.1em;top:.1em;width:1.2em;height:1.2em;border:2px solid #369;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-layerswitcher [type=radio]+label:before,.ol-layerswitcher [type=radio]+label:after{border-radius:50%}.ol-layerswitcher [type=radio]:checked+label:after{background:#369 none repeat scroll 0 0;margin:.3em;width:.6em;height:.6em}.ol-layerswitcher [type=checkbox]:checked+label:after{background:transparent;border-width:0 3px 3px 0;border-style:solid;border-color:#369;width:.7em;height:1em;-webkit-transform:rotate(45deg);transform:rotate(45deg);left:.55em;top:-.05em;-webkit-box-shadow:1px 0px 1px 1px #fff;box-shadow:1px 0 1px 1px #fff}.ol-layerswitcher .panel li.ol-layer-hidden{opacity:.6}.ol-layerswitcher.ol-collapsed .panel-container{display:none}.ol-layerswitcher.ol-forceopen .panel-container{display:block}.ol-layerswitcher-image>button,.ol-layerswitcher>button{background-color:#fff;float:right;z-index:10;position:relative;font-size:1.7em}.ol-touch .ol-layerswitcher-image>button,.ol-touch .ol-layerswitcher>button{font-size:2.5em}.ol-layerswitcher-image>button:before,.ol-layerswitcher-image>button:after,.ol-layerswitcher>button:before,.ol-layerswitcher>button:after{content:"";position:absolute;width:.75em;height:.75em;border-radius:.15em;-webkit-transform:scaleY(.8) rotate(45deg);transform:scaleY(.8) rotate(45deg)}.ol-layerswitcher-image>button:before,.ol-layerswitcher>button:before{background:#e2e4e1;top:.32em;left:.34em;-webkit-box-shadow:.1em .1em #325158;box-shadow:.1em .1em #325158}.ol-layerswitcher-image>button:after,.ol-layerswitcher>button:after{top:.22em;left:.34em;background:#83bcc5;background-image:radial-gradient(circle at .85em .6em,#70b3be 0,#70b3be .65em,#83bcc5 .65em)}.ol-layerswitcher-buttons{display:block;float:right;text-align:right}.ol-layerswitcher-buttons>div{display:inline-block;position:relative;cursor:pointer;height:1em;width:1em;margin:2px;line-height:1em;text-align:center;background:#369;vertical-align:middle;color:#fff}.ol-layerswitcher .panel li>div{display:inline-block;position:relative}.ol-layerswitcher .ol-separator{display:block;width:0;height:0;padding:0;margin:0}.ol-layerswitcher .layerup{float:right;height:2.5em;background-color:#369;opacity:.5;cursor:move;cursor:ns-resize}.ol-layerswitcher .layerup:before,.ol-layerswitcher .layerup:after{border-color:#fff transparent;border-style:solid;border-width:.4em .4em 0;content:"";height:0;position:absolute;bottom:3px;left:.1em;width:0}.ol-layerswitcher .layerup:after{border-width:0 .4em .4em;top:3px;bottom:auto}.ol-layerswitcher .layerInfo{background:#369;border-radius:100%}.ol-layerswitcher .layerInfo:before{color:#fff;content:"i";display:block;font-size:.8em;font-weight:700;text-align:center;width:1.25em;position:absolute;left:0;top:0}.ol-layerswitcher .layerTrash{background:#369}.ol-layerswitcher .layerTrash:before{color:#fff;content:"";font-size:1em;top:50%;left:0;right:0;text-align:center;line-height:1em;margin:-.5em 0;position:absolute}.ol-layerswitcher .layerExtent{background:#369}.ol-layerswitcher .layerExtent:before{border-right:1px solid #fff;border-bottom:1px solid #fff;content:"";display:block;position:absolute;left:6px;right:2px;top:6px;bottom:3px}.ol-layerswitcher .layerExtent:after{border-left:1px solid #fff;border-top:1px solid #fff;content:"";display:block;position:absolute;bottom:6px;left:2px;right:6px;top:3px}.ol-layerswitcher .expend-layers,.ol-layerswitcher .collapse-layers{margin:0 2px;background-color:transparent}.ol-layerswitcher .expend-layers:before,.ol-layerswitcher .collapse-layers:before{content:"";position:absolute;top:50%;left:0;margin-top:-2px;height:4px;width:100%;background:#369}.ol-layerswitcher .expend-layers:after{content:"";position:absolute;left:50%;top:0;margin-left:-2px;width:4px;height:100%;background:#369}.ol-layerswitcher .layerswitcher-opacity{position:relative;border:1px solid #369;height:3px;width:120px;margin:5px 1em 10px 7px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background:#69c;background:-webkit-gradient(linear,left top,right top,from(rgba(0,60,136,0)),to(rgba(0,60,136,.6)));background:linear-gradient(to right,rgba(0,60,136,0),rgba(0,60,136,.6));cursor:pointer;-webkit-box-shadow:1px 1px 1px rgba(0,0,0,.5);box-shadow:1px 1px 1px rgba(0,0,0,.5)}.ol-layerswitcher .layerswitcher-opacity .layerswitcher-opacity-cursor,.ol-layerswitcher .layerswitcher-opacity .layerswitcher-opacity-cursor:before{position:absolute;width:20px;height:20px;top:50%;left:50%;background:rgba(0,60,136,.5);border-radius:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:1}.ol-layerswitcher .layerswitcher-opacity .layerswitcher-opacity-cursor:before{content:"";position:absolute;width:50%;height:50%}.ol-touch .ol-layerswitcher .layerswitcher-opacity .layerswitcher-opacity-cursor{width:26px;height:26px}.ol-layerswitcher .layerswitcher-opacity-label{display:none;position:absolute;right:-2.5em;bottom:5px;font-size:.8em}.ol-layerswitcher .layerswitcher-opacity-label:after{content:"%"}.ol-layerswitcher .layerswitcher-progress{display:block;margin:-4px 1em 2px 7px;width:120px}.ol-layerswitcher .layerswitcher-progress div{background-color:#369;height:2px;display:block;width:0}.ol-control.ol-layerswitcher-image{position:absolute;right:.5em;text-align:left;top:1em;transition:all .2s ease 0s;-webkit-transition:all .2s ease 0s}.ol-control.ol-layerswitcher-image.ol-collapsed{top:3em;-webkit-transition:none;transition:none}.ol-layerswitcher-image .panel{list-style:none;padding:.25em;margin:0;overflow:hidden}.ol-layerswitcher-image .panel ul{list-style:none;padding:0 0 0 20px;overflow:hidden}.ol-layerswitcher-image.ol-collapsed .panel{display:none}.ol-layerswitcher-image.ol-forceopen .panel{display:block;clear:both}.ol-layerswitcher-image button{float:right;display:none}.ol-layerswitcher-image.ol-collapsed button{display:block;position:relative}.ol-layerswitcher-image li{border-radius:4px;border:3px solid transparent;-webkit-box-shadow:1px 1px 4px rgba(0,0,0,.5);box-shadow:1px 1px 4px rgba(0,0,0,.5);display:inline-block;width:64px;height:64px;margin:2px;position:relative;background-color:#fff;overflow:hidden;vertical-align:middle;cursor:pointer}.ol-layerswitcher-image li.ol-layer-hidden{opacity:.5;border-color:#555}.ol-layerswitcher-image li.ol-header{display:none}.ol-layerswitcher-image li img{position:absolute;max-width:100%}.ol-layerswitcher-image li.select,.ol-layerswitcher-image li.ol-visible{border:3px solid red}.ol-layerswitcher-image li p{display:none}.ol-layerswitcher-image li:hover p{background-color:rgba(0,0,0,.5);color:#fff;bottom:0;display:block;left:0;margin:0;overflow:hidden;position:absolute;right:0;text-align:center;height:1.2em;font-family:Verdana,Geneva,sans-serif;font-size:.8em}.ol-control.ol-legend{bottom:.5em;left:.5em;z-index:1;max-height:90%;max-width:90%;overflow-x:hidden;overflow-y:auto;background-color:rgba(255,255,255,.6)}.ol-control.ol-legend:hover{background-color:rgba(255,255,255,.8)}.ol-control.ol-legend.ol-empty,.ol-control.ol-legend.ol-collapsed{overflow:hidden}.ol-control.ol-legend button{position:relative;display:none}.ol-control.ol-legend.ol-empty button,.ol-control.ol-legend.ol-collapsed button{display:block}.ol-control.ol-legend.ol-uncollapsible button{display:none}.ol-control.ol-legend>ul,.ol-control.ol-legend>canvas{margin:2px}.ol-control.ol-legend button.ol-closebox{display:block;position:absolute;top:0;right:0;background:none;cursor:pointer;z-index:1}.ol-control.ol-legend.ol-empty button.ol-closebox,.ol-control.ol-legend.ol-uncollapsible button.ol-closebox,.ol-control.ol-legend.ol-collapsed button.ol-closebox{display:none}.ol-control.ol-legend button.ol-closebox:before{content:"";background:none;color:rgba(0,60,136,.5);font-size:1.3em}.ol-control.ol-legend button.ol-closebox:hover:before{color:#003c88}.ol-control.ol-legend .ol-legendImg{display:block}.ol-control.ol-legend.ol-empty .ol-legendImg,.ol-control.ol-legend.ol-collapsed .ol-legendImg{display:none}.ol-control.ol-legend.ol-uncollapsible .ol-legendImg{display:block}.ol-control.ol-legend>button:first-child:before,.ol-control.ol-legend>button:first-child:after{content:"";position:absolute;top:.25em;left:.2em;width:.2em;height:.2em;background-color:currentColor;-webkit-box-shadow:0 .35em,0 .7em;box-shadow:0 .35em,0 .7em}.ol-control.ol-legend button:first-child:after{top:.27em;left:.55em;height:.15em;width:.6em}ul.ol-legend{position:absolute;top:0;left:0;width:100%;margin:0;padding:0;list-style:none}.ol-control.ol-legend.ol-empty ul,.ol-control.ol-legend.ol-collapsed ul{display:none}.ol-control.ol-legend.ol-uncollapsible ul{display:block}ul.ol-legend li.ol-title{text-align:center;font-weight:700}ul.ol-legend li.ol-title>div:first-child{width:0!important}ul.ol-legend li{overflow:hidden;padding:0;white-space:nowrap}ul.ol-legend li div{display:inline-block;vertical-align:top}.ol-control.ol-legend .ol-legend{display:inline-block}.ol-control.ol-legend.ol-empty .ol-legend,.ol-control.ol-legend.ol-collapsed .ol-legend{display:none}.ol-control.ol-legend.ol-empty button{opacity:.4}.ol-control.ol-mapzone{position:absolute;right:.5em;text-align:left;top:.5em;max-height:calc(100% - 6em);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.ol-control.ol-mapzone.ol-collapsed{top:3em}.ol-control.ol-mapzone button{position:relative;float:right;margin-top:2.5em}.ol-touch .ol-control.ol-mapzone button{margin-top:1.67em}.ol-control.ol-mapzone.ol-collapsed button{margin-top:0}.ol-control.ol-mapzone button i{border:.1em solid currentColor;border-radius:50%;width:.9em;height:.9em;overflow:hidden;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-control.ol-mapzone button i:before{content:"";background-color:currentColor;width:.4em;height:.4em;position:absolute;left:.5em;top:.3em;border-radius:50%;-webkit-box-shadow:.05em .3em 0 -.051em currentColor,-.05em -.35em 0 -.1em currentColor,-.5em -.35em 0 0em currentColor,-.65em .1em 0 -.03em currentColor,-.65em -.05em 0 -.05em currentColor;box-shadow:.05em .3em 0 -.051em currentColor,-.05em -.35em 0 -.1em currentColor,-.5em -.35em 0 0 currentColor,-.65em .1em 0 -.03em currentColor,-.65em -.05em 0 -.05em currentColor}.ol-mapzone>div{position:relative;display:inline-block;width:5em;height:5em;margin:0 .2em 0 0}.ol-control.ol-mapzone.ol-collapsed>div{display:none}.ol-mapzone>div p{margin:0;position:absolute;bottom:0;color:#fff;font-weight:700;text-align:center;width:160%;overflow:hidden;font-family:Lucida Grande,Verdana,Geneva,Lucida,Arial,Helvetica,sans-serif;-webkit-transform:scaleX(.625);transform:scaleX(.625);-webkit-transform-origin:0 0;transform-origin:0 0;cursor:default}.ol-notification{width:150%;bottom:0;border:0;background:none;margin:0;padding:0}.ol-notification>div,.ol-notification>div:hover{position:absolute;background-color:rgba(0,0,0,.8);color:#fff;bottom:0;left:33.33%;max-width:calc(66% - 4em);min-width:5em;max-height:5em;min-height:1em;border-radius:4px 4px 0 0;padding:.2em .5em;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:translateX(-50%);transform:translate(-50%);-webkit-transition:.3s;transition:.3s;opacity:1}.ol-notification.ol-collapsed>div{bottom:-5em;opacity:0}.ol-notification a{color:#9cf;cursor:pointer}.ol-notification .ol-close,.ol-notification .ol-close:hover{padding-right:1.5em}.ol-notification .closeBox{position:absolute;top:0;right:.3em}.ol-notification .closeBox:before{content:""}.ol-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);padding:1em;color:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1;opacity:0;display:none;cursor:default;overflow:hidden;-webkit-transition:all .5s;transition:all .5s;pointer-events:none;z-index:9}.ol-overlay.slide-up{transform:translateY(100%);-webkit-transform:translateY(100%)}.ol-overlay.slide-down{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.ol-overlay.slide-left{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ol-overlay.slide-right{-webkit-transform:translateX(100%);transform:translate(100%)}.ol-overlay.zoom{top:50%;left:50%;opacity:.5;-webkit-transform:translate(-50%,-50%) scale(0);transform:translate(-50%,-50%) scale(0)}.ol-overlay.zoomout{-webkit-transform:scale(3);transform:scale(3)}.ol-overlay.zoomrotate{top:50%;left:50%;opacity:.5;-webkit-transform:translate(-50%,-50%) scale(0) rotate(360deg);transform:translate(-50%,-50%) scale(0) rotate(360deg)}.ol-overlay.stretch{top:50%;left:50%;opacity:.5;-webkit-transform:translate(-50%,-50%) scaleX(0);transform:translate(-50%,-50%) scaleX(0)}.ol-overlay.stretchy{top:50%;left:50%;opacity:.5;-webkit-transform:translate(-50%,-50%) scaleY(0);transform:translate(-50%,-50%) scaleY(0)}.ol-overlay.wipe{opacity:1}.ol-overlay.flip{-webkit-transform:perspective(600px) rotateY(180deg);transform:perspective(600px) rotateY(180deg)}.ol-overlay.card{opacity:.5;-webkit-transform:translate(-80%,100%) rotate(-.5turn);transform:translate(-80%,100%) rotate(-.5turn)}.ol-overlay.book{-webkit-transform:perspective(600px) rotateY(-180deg) scaleX(.6);transform:perspective(600px) rotateY(-180deg) scaleX(.6);-webkit-transform-origin:10% 50%;transform-origin:10% 50%}.ol-overlay.book.visible{-webkit-transform-origin:10% 50%;transform-origin:10% 50%}.ol-overlay.ol-visible{opacity:1;top:0;left:0;right:0;bottom:0;-webkit-transform:none;transform:none;pointer-events:all}.ol-overlay .ol-closebox{position:absolute;top:1em;right:1em;width:1em;height:1em;cursor:pointer;z-index:1}.ol-overlay .ol-closebox:before{content:"";display:block;text-align:center;vertical-align:middle}.ol-overlay .ol-fullscreen-image{position:absolute;top:0;left:0;bottom:0;right:0}.ol-overlay .ol-fullscreen-image img{position:absolute;max-width:100%;max-height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:1em;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-overlay .ol-fullscreen-image.ol-has-title img{padding-bottom:3em}.ol-overlay .ol-fullscreen-image p{background-color:rgba(0,0,0,.5);padding:.5em;position:absolute;left:0;right:0;bottom:0;margin:0;text-align:center}.ol-control.ol-overview{position:absolute;left:.5em;text-align:left;bottom:.5em}.ol-control.ol-overview .panel{display:block;width:150px;height:150px;margin:2px;background-color:#fff;border:1px solid #369;cursor:pointer}.ol-overview:not(.ol-collapsed) button{position:absolute;bottom:2px;left:2px;z-index:2}.ol-control.ol-overview.ol-collapsed .panel{display:none}.ol-overview.ol-collapsed button:before{content:""}.ol-overview button:before{content:""}.ol-control-right.ol-overview{left:auto;right:.5em}.ol-control-right.ol-overview:not(.ol-collapsed) button{left:auto;right:2px}.ol-control-right.ol-overview.ol-collapsed button:before{content:""}.ol-control-right.ol-overview button:before{content:""}.ol-control-top.ol-overview{bottom:auto;top:5em}.ol-control-top.ol-overview:not(.ol-collapsed) button{bottom:auto;top:2px}.ol-permalink{position:absolute;top:.5em;right:2.5em}.ol-touch .ol-permalink{right:3em}.ol-permalink button i{position:absolute;width:1em;height:1em;display:block;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-permalink button i:before{content:"";position:absolute;border:1px solid currentColor;left:0;top:0;width:.3em;height:1em;-webkit-box-sizing:border-box;box-sizing:border-box;border-width:1px 0 0 1px;padding:0 .2em}.ol-permalink button i:after{content:"";position:absolute;border:1px solid currentColor;right:0;bottom:0;width:1em;height:.3em;-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0 1px 1px 0;padding:.2em}.ol-control.ol-print{top:.5em;left:3em}.ol-control.ol-print button:before{content:"";width:.9em;height:.35em;position:absolute;left:50%;top:50%;-webkit-transform:translateX(-50%);transform:translate(-50%);-webkit-box-shadow:inset 0 0 0 .1em,inset .55em 0,0 .2em 0 -.1em;box-shadow:inset 0 0 0 .1em,inset .55em 0,0 .2em 0 -.1em}.ol-control.ol-print button:after{content:"";width:.7em;height:.6em;position:absolute;left:50%;top:25%;-webkit-transform:translateX(-50%);transform:translate(-50%);-webkit-box-shadow:inset 0 0 0 .15em;box-shadow:inset 0 0 0 .15em}.ol-ext-print-dialog{width:100%;height:100%}.ol-ext-print-dialog>form .ol-closebox{right:auto;left:16.5em;z-index:1;color:#999}.ol-ext-print-dialog .ol-content[data-status=printing]{opacity:.5}.ol-ext-print-dialog .ol-content .ol-error{display:none;background:#b00;color:#ff0;text-align:center;padding:1em .5em;font-weight:700;margin:0 -1em}.ol-ext-print-dialog .ol-content[data-status=error] .ol-error{display:block}.ol-ext-print-dialog>form,.ol-ext-print-dialog.ol-visible>form{-webkit-transition:none;transition:none;top:1em;left:1em;bottom:1em;right:1em;-webkit-transform:none;transform:none;max-width:100%;max-height:100%;background-color:#eee;padding:0}.ol-ext-print-dialog .ol-print-map{position:absolute;top:0;bottom:0;right:0;width:calc(100% - 18em);overflow:hidden}.ol-ext-print-dialog .ol-print-map .ol-page{position:absolute;left:50%;top:50%;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-ext-print-dialog .ol-print-map .ol-page.margin{-webkit-box-sizing:content-box;box-sizing:content-box}.ol-ext-print-dialog .ol-map{width:100%;height:100%}.ol-ext-print-dialog .ol-print-map .ol-control{display:none!important}.ol-ext-print-dialog .ol-print-param{position:absolute;overflow-x:hidden;top:0;bottom:0;left:0;width:18em;background-color:#fff;padding:1em;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-ext-print-dialog .ol-print-param h2{display:block;color:rgba(0,60,136,.7);font-size:1.1em}.ol-ext-print-dialog .ol-print-param ul{padding:0;list-style:none}.ol-ext-print-dialog .ol-print-param li{position:relative;margin:.5em 0;font-size:.9em}.ol-ext-print-dialog .ol-print-param li.hidden{display:none}.ol-ext-print-dialog .ol-print-param label{width:8em;display:inline-block;vertical-align:middle}.ol-ext-print-dialog select{outline:none;vertical-align:middle}.ol-ext-print-dialog .ol-orientation{text-align:center}.ol-ext-print-dialog .ol-orientation label{position:relative;width:7em;cursor:pointer}.ol-ext-print-dialog .ol-orientation input{position:absolute;opacity:0;width:0;height:0}.ol-ext-print-dialog .ol-orientation span{position:relative;width:80%;display:block;padding:3.5em 0 .2em}.ol-ext-print-dialog .ol-orientation span:before{content:"";position:absolute;width:2em;height:2.6em;bottom:1.5em;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%);color:#333;background-color:currentColor;border:1px solid currentColor;border-radius:0 1em 0 0;opacity:.5;overflow:hidden;-webkit-box-shadow:inset 1.3em -1.91em #ddd;box-shadow:inset 1.3em -1.91em #ddd}.ol-ext-print-dialog .ol-orientation .landscape span:before{width:2.6em;height:2em;margin:.2em 0;-webkit-box-shadow:inset 1.91em -1.3em #ddd;box-shadow:inset 1.91em -1.3em #ddd}.ol-ext-print-dialog .ol-orientation input:checked+span{opacity:1;-webkit-box-shadow:0 0 .2em rgba(0,0,0,.5);box-shadow:0 0 .2em rgba(0,0,0,.5)}.ol-ext-print-dialog .ol-ext-toggle-switch span{position:absolute;right:-2em;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ol-print-title input[type=text]{margin-top:.5em;width:calc(100% - 6em);margin-left:6em}.ol-ext-print-dialog .ol-size option:first-child{font-style:italic}.ol-ext-print-dialog .ol-saveas,.ol-ext-print-dialog .ol-savelegend{text-align:center}.ol-ext-print-dialog .ol-saveas select,.ol-ext-print-dialog .ol-savelegend select{background-color:rgba(0,60,136,.7);color:#fff;padding:.5em;margin:1em 0 0;font-size:1em;border:0;font-weight:700;max-width:12em}.ol-ext-print-dialog .ol-saveas select option,.ol-ext-print-dialog .ol-savelegend select option{background-color:#fff;color:#666}.ol-ext-print-dialog .ol-savelegend select{margin-top:0}.ol-ext-print-dialog .ol-ext-buttons{text-align:right;border-top:1px solid #ccc;padding:.8em .5em;margin:0 -1em}.ol-ext-print-dialog button{font-size:1em;margin:0 .2em;border:1px solid #999;background:none;padding:.3em 1em;color:#333}.ol-ext-print-dialog button[type=submit]{background-color:rgba(0,60,136,.7);color:#fff;font-weight:700}.ol-ext-print-dialog .ol-clipboard-copy{position:absolute;pointer-events:none;top:0;background-color:rgba(0,0,0,.5);color:#fff;padding:.5em 1em;border-radius:1em;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;-webkit-transition:0s;transition:0s;opacity:0}.ol-ext-print-dialog .ol-clipboard-copy.visible{-webkit-animation:1s ol-clipboard-copy;animation:1s ol-clipboard-copy}.ol-ext-print-dialog .ol-print-map .ol-control.ol-canvas-control,.ol-ext-print-dialog .ol-print-map .ol-control.ol-print-compass{display:block!important}.ol-ext-print-dialog .ol-print-map .ol-control.olext-print-compass{top:0;right:0;width:60px;height:60px;margin:20px}@-webkit-keyframes ol-clipboard-copy{0%{opacity:0;top:0}80%{opacity:1;top:-3em}to{opacity:0;top:-3em}}@keyframes ol-clipboard-copy{0%{opacity:0;top:0}80%{opacity:1;top:-3em}to{opacity:0;top:-3em}}@media print{body.ol-print-document{margin:0!important;padding:0!important}body.ol-print-document>*{display:none!important}body.ol-print-document>.ol-ext-print-dialog{display:block!important}body.ol-print-document>.ol-ext-print-dialog .ol-content{max-height:unset!important;max-width:unset!important;width:unset!important;height:unset!important}.ol-ext-print-dialog>form,.ol-ext-print-dialog{position:unset;-webkit-box-shadow:none;box-shadow:none;background:none!important;border:0}.ol-ext-print-dialog>form>*,.ol-ext-print-dialog .ol-print-param{display:none!important;background:none}.ol-ext-print-dialog .ol-content{display:block!important;border:0;background:none}.ol-ext-print-dialog .ol-print-map{position:unset;background:none;width:auto;overflow:visible}.ol-ext-print-dialog .ol-print-map .ol-page{-webkit-transform:none!important;transform:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;position:unset}}@media (max-width: 25em){.ol-ext-print-dialog .ol-print-param{width:13em}.ol-ext-print-dialog .ol-print-map{width:calc(100% - 13em)}.ol-ext-print-dialog .ol-print-param .ol-print-title input[type=text]{width:100%;margin:0}}.ol-ext-print-dialog2x .ol-map,.ol-ext-print-dialog2x .ol-map2{width:100%;height:50%}.ol-ext-print-dialog2x[data-orientation=landscape] .ol-map,.ol-ext-print-dialog2x[data-orientation=landscape] .ol-map2{display:inline-block;width:50%;height:100%}.ol-ext-print-dialog2x[data-clip-map] .ol-map,.ol-ext-print-dialog2x[data-swipe-orientation] .ol-map{width:100%!important;height:100%!important}.ol-ext-print-dialog2x[data-clip-map] .ol-map2,.ol-ext-print-dialog2x[data-swipe-orientation] .ol-map2{width:100%!important;height:100%!important;position:relative!important;left:0;top:-100%}.ol-profile{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ol-control.ol-profile{position:absolute;top:.5em;right:3em;text-align:right;overflow:hidden}.ol-profile .ol-zoom-out{position:absolute;top:10px;right:10px;width:1em;height:1em;padding:0;border:1px solid #000;border-radius:2px;cursor:pointer}.ol-profile .ol-zoom-out:before{content:"";height:2px;width:60%;background:currentColor;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-profile .ol-inner{position:relative;padding:.5em;font-size:.8em}.ol-control.ol-profile .ol-inner{display:block;background-color:rgba(255,255,255,.7);margin:2.3em 2px 2px}.ol-control.ol-profile.ol-collapsed .ol-inner{display:none}.ol-profile canvas{display:block}.ol-profile button{display:block;position:absolute;right:0;overflow:hidden}.ol-profile button i{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:1em;height:1em;overflow:hidden}.ol-profile button i:before,.ol-profile button i:after{content:"";position:absolute;display:block;background-color:currentColor;width:1em;height:.9em;-webkit-transform:scaleX(.8) translate(-.25em,.5em) rotate(45deg);transform:scaleX(.8) translate(-.25em,.5em) rotate(45deg)}.ol-profile button i:after{-webkit-transform:scaleX(.8) translate(.35em,.7em) rotate(45deg);transform:scaleX(.8) translate(.35em,.7em) rotate(45deg)}.ol-profile.ol-collapsed button{position:static}.ol-profile .ol-profilebar,.ol-profile .ol-profilecursor{position:absolute;pointer-events:none;width:1px;display:none}.ol-profile .ol-profilecursor{width:0;height:0}.ol-profile .ol-profilecursor:before{content:"";pointer-events:none;display:block;margin:-2px;width:5px;height:5px}.ol-profile .ol-profilebar,.ol-profile .ol-profilecursor:before{background:red}.ol-profile table{text-align:center;width:100%}.ol-profile table span{display:block}.ol-profilepopup{background-color:rgba(255,255,255,.5);margin:.5em;padding:0 .5em;position:absolute;top:-1em;white-space:nowrap}.ol-profilepopup.ol-left{right:0}.ol-profile table td{padding:0 2px}.ol-profile table .track-info{display:table-row}.ol-profile table .point-info,.ol-profile .over table .track-info{display:none}.ol-profile .over table .point-info{display:table-row}.ol-profile p{text-align:center;margin:0}.ol-control.ol-progress-bar{position:absolute;top:0;bottom:0;left:0;right:0;padding:0;pointer-events:none!important;background-color:transparent}.ol-control.ol-progress-bar>.ol-bar{position:absolute;background-color:rgba(0,60,136,.5);left:0;bottom:0;height:.5em;width:0;-webkit-transition:width .2s;transition:width .2s;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-progress-bar>.ol-waiting{display:none}.ol-viewport .ol-control.ol-progress-bar>.ol-waiting{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);color:#fff;font-size:2em;display:block;-webkit-animation:1s linear infinite ol-progress-bar-blink;animation:1s linear infinite ol-progress-bar-blink}@-webkit-keyframes ol-progress-bar-blink{0%,30%{visibility:hidden}to{visibility:visible}}@keyframes ol-progress-bar-blink{0%,30%{visibility:hidden}to{visibility:visible}}.ol-control.ol-routing{top:.5em;left:3em;max-height:90%;overflow-y:auto}.ol-touch .ol-control.ol-routing{left:3.5em}.ol-control.ol-routing.ol-searching{opacity:.5}.ol-control.ol-routing .ol-car,.ol-control.ol-routing>button{position:relative}.ol-control.ol-routing .ol-car:after,.ol-control.ol-routing>button:after{content:"";position:absolute;width:.78em;height:.6em;border-radius:40% 50% 0 0/50% 70% 0 0;-webkit-box-shadow:inset 0 0 0 .065em,-.35em .14em 0 -.09em,inset 0 -.37em,inset -.14em .005em;box-shadow:inset 0 0 0 .065em,-.35em .14em 0 -.09em,inset 0 -.37em,inset -.14em .005em;clip:rect(0 1em .5em -1em);top:.35em;left:.4em}.ol-control.ol-routing .ol-car:before,.ol-control.ol-routing>button:before{content:"";position:absolute;width:.28em;height:.28em;border-radius:50%;-webkit-box-shadow:inset 0 0 0 1em,.65em 0;box-shadow:inset 0 0 0 1em,.65em 0;top:.73em;left:.2em}.ol-control.ol-routing .ol-pedestrian:after{content:"";position:absolute;width:.3em;height:.4em;top:.25em;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%);-webkit-box-shadow:inset .3em 0,.1em .5em 0 -.1em,-.1em .5em 0 -.1em,.25em .1em 0 -.1em,-.25em .1em 0 -.1em;box-shadow:inset .3em 0,.1em .5em 0 -.1em,-.1em .5em 0 -.1em,.25em .1em 0 -.1em,-.25em .1em 0 -.1em;border-top:.2em solid transparent}.ol-control.ol-routing .ol-pedestrian:before{content:"";position:absolute;width:.3em;height:.3em;top:.1em;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%);border-radius:50%;background-color:currentColor}.ol-control.ol-routing .content{margin:.5em}.ol-control.ol-routing.ol-collapsed .content,.ol-routing .ol-search.ol-collapsed ul,.ol-routing .ol-search ul .copy{display:none}.ol-routing .content .search-input>div>*{display:inline-block;vertical-align:top}.ol-routing .ol-result ul{list-style:none;display:block}.ol-routing .ol-result li{position:relative;min-height:1.65em}.ol-routing .ol-result li i{display:block;font-size:.8em;font-weight:700}.ol-routing .ol-result li:before{content:"";border:5px solid transparent;position:absolute;left:-1.75em;border-bottom-color:#369;border-width:.6em .4em .6em;-webkit-transform-origin:50% 125%;transform-origin:50% 125%;-webkit-box-shadow:0 .65em 0 -.25em #369;box-shadow:0 .65em 0 -.25em #369;top:-.8em}.ol-routing .ol-result li:after{content:"";position:absolute;width:.25em;height:.6em;left:-1.5em;background:#369;top:.6em;border-radius:.1em}.ol-routing .ol-result li.R:before{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ol-routing .ol-result li.FR:before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ol-routing .ol-result li.L:before{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.ol-routing .ol-result li.FL:before{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.ol-routing .content>i{vertical-align:middle;margin:0 .3em 0 .1em;font-style:normal}.ol-routing .ol-button,.ol-routing .ol-button:focus,.ol-routing .ol-pedestrian,.ol-routing .ol-car{font-size:1.1em;position:relative;display:inline-block;width:1.4em;height:1.4em;color:#003c88;background-color:transparent;margin:0 .1em;opacity:.5;vertical-align:middle;outline:none;cursor:pointer}.ol-routing .ol-button:hover,.ol-routing .ol-button.selected,.ol-routing i.selected{opacity:1;background:transparent}.ol-control.ol-routing{background-color:rgba(255,255,255,.25)}.ol-control.ol-routing:hover{background-color:rgba(255,255,255,.75)}.search-input>div>button:before{content:""}.ol-viewport .ol-scale{left:.5em;bottom:2.5em;text-align:center;-webkit-transform:scaleX(.8);-webkit-transform-origin:0 0;transform:scaleX(.8);transform-origin:0 0;background-color:rgba(255,255,255,.75)}.ol-viewport .ol-scale input{background:none;border:0;width:8em;text-align:center}.ol-search{top:.5em;left:3em}.ol-touch .ol-search{left:3.5em}.ol-search button{top:2px;left:2px;float:left}.ol-control.ol-search>button:before{content:"";position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;width:.7em;height:.7em;background-color:transparent;border:.12em solid currentColor;border-radius:100%;top:.35em;left:.35em}.ol-control.ol-search>button:after{content:"";position:absolute;top:1.1em;left:.95em;width:.45em;height:.15em;background-color:currentColor;border-radius:.05em;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-box-shadow:-.18em 0 0 -.03em;box-shadow:-.18em 0 0 -.03em}.ol-search button.ol-revers{float:none;background-image:none;display:inline-block;vertical-align:bottom;position:relative;top:0;left:0}.ol-search.ol-revers button.ol-revers{background-color:rgba(0,136,60,.5)}.ol-control.ol-search.ol-collapsed button.ol-revers{display:none}.ol-search button.ol-revers:before{content:"";border:.1em solid currentColor;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-radius:50%;width:.55em;height:.55em;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-search button.ol-revers:after{content:"";position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:.2em;height:.2em;background-color:transparent;-webkit-box-shadow:.35em 0 currentColor,0 .35em currentColor,-.35em 0 currentColor,0 -.35em currentColor;box-shadow:.35em 0 currentColor,0 .35em currentColor,-.35em 0 currentColor,0 -.35em currentColor}.ol-search input{display:inline-block;border:0;margin:1px 1px 1px 2px;font-size:1.14em;padding-left:.3em;height:1.375em;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:all .1s;transition:all .1s}.ol-touch .ol-search input,.ol-touch .ol-search ul{font-size:1.5em}.ol-search.ol-revers>ul,.ol-control.ol-search.ol-collapsed>*{display:none}.ol-control.ol-search.ol-collapsed>button{display:block}.ol-search ul{list-style:none;padding:0;margin:0;display:block;clear:both;cursor:pointer;max-width:17em;overflow-x:hidden;z-index:1;background:#fff}.ol-search ul li{padding:.1em .5em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ol-search ul li.select,.ol-search ul li:hover{background-color:rgba(0,60,136,.5);color:#fff}.ol-search ul li img{float:left;max-height:2em}.ol-search li.copy{background:rgba(0,0,0,.5);color:#fff}.ol-search li.copy a{color:#fff;text-decoration:none}.ol-search.searching:before{content:"";position:absolute;height:3px;left:0;top:1.6em;-webkit-animation:pulse .5s infinite alternate linear;animation:pulse .5s infinite alternate linear;background:red;z-index:2}@-webkit-keyframes pulse{0%{left:0;right:95%}50%{left:30%;right:30%}to{left:95%;right:0}}@keyframes pulse{0%{left:0;right:95%}50%{left:30%;right:30%}to{left:95%;right:0}}.ol-control.ol-search.IGNF-parcelle{background-color:rgba(255,255,255,.7);padding-bottom:.2em}.ol-search.IGNF-parcelle input{width:14.5em}.ol-search.IGNF-parcelle input:-moz-read-only{background:#ccc;opacity:.8}.ol-search.IGNF-parcelle input:read-only{background:#ccc;opacity:.8}.ol-search.IGNF-parcelle.ol-collapsed-list>ul.autocomplete{display:none}.ol-search.IGNF-parcelle label{display:block;clear:both}.ol-search.IGNF-parcelle>div input{text-align:right}.ol-search.IGNF-parcelle>div input,.ol-search.IGNF-parcelle>div label{width:4em;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;margin:.1em;font-size:1em;overflow:hidden;text-overflow:ellipsis}.ol-search.IGNF-parcelle>div label{letter-spacing:-.04em}.ol-search.IGNF-parcelle ul.autocomplete-page{margin-top:.5em;width:100%;text-align:center;display:none}.ol-search.IGNF-parcelle.ol-collapsed-list ul.autocomplete-parcelle,.ol-search.IGNF-parcelle.ol-collapsed-list ul.autocomplete-page{display:block}.ol-search.IGNF-parcelle.ol-collapsed ul.autocomplete-page,.ol-search.IGNF-parcelle.ol-collapsed ul.autocomplete-parcelle,.ol-search.IGNF-parcelle ul.autocomplete-parcelle{display:none}.ol-search.IGNF-parcelle ul.autocomplete-page li{display:inline-block;color:#fff;background:rgba(0,60,136,.5);border-radius:50%;width:1.3em;height:1.3em;padding:.1em;margin:0 .1em}.ol-search.IGNF-parcelle ul.autocomplete-page li.selected{background:#003c88}.ol-searchgps input.search{display:none}.ol-control.ol-searchgps>button:first-child{background-image:none}.ol-control.ol-searchgps>button:first-child:before{content:"x/y";position:unset;display:block;-webkit-transform:scaleX(.8);transform:scaleX(.8);border:unset;border-radius:0;width:auto;height:auto}.ol-control.ol-searchgps>button:first-child:after{content:unset}.ol-control.ol-searchgps .ol-latitude,.ol-control.ol-searchgps .ol-longitude{clear:both}.ol-control.ol-searchgps .ol-latitude label,.ol-control.ol-searchgps .ol-longitude label{width:5.5em;display:inline-block;text-align:right;-webkit-transform:scaleX(.8);transform:scaleX(.8);margin:0 -.8em 0 0;-webkit-transform-origin:0 0;transform-origin:0 0}.ol-control.ol-searchgps .ol-latitude input,.ol-control.ol-searchgps .ol-longitude input{max-width:10em}.ol-control.ol-searchgps .ol-ext-toggle-switch{cursor:pointer;float:right;margin:.5em;font-size:.9em}.ol-searchgps .ol-decimal{display:inline-block;margin-right:.7em}.ol-searchgps .ol-dms,.ol-searchgps.ol-dms .ol-decimal{display:none;width:3em;text-align:right}.ol-searchgps.ol-dms .ol-dms{display:inline-block}.ol-searchgps span.ol-dms{width:.5em;text-align:left}.ol-searchgps.ol-control.ol-collapsed button.ol-geoloc{display:none}.ol-searchgps button.ol-geoloc{top:0;float:right;margin-right:3px;background-image:none;position:relative}.ol-searchgps button.ol-geoloc:before{content:"";position:absolute;left:50%;top:50%;width:.6em;height:.6em;border:.1em solid currentColor;border-radius:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-searchgps button.ol-geoloc:after{content:"";position:absolute;left:50%;top:50%;width:.2em;height:.2em;background-color:transparent;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-box-shadow:.45em 0 currentColor,-.45em 0 currentColor,0 -.45em currentColor,0 .45em currentColor,.25em 0 currentColor,-.25em 0 currentColor,0 -.25em currentColor,0 .25em currentColor;box-shadow:.45em 0 currentColor,-.45em 0 currentColor,0 -.45em currentColor,0 .45em currentColor,.25em 0 currentColor,-.25em 0 currentColor,0 -.25em currentColor,0 .25em currentColor}.ol-control.ol-select{top:.5em;left:3em;background-color:rgba(255,255,255,.5)}.ol-control.ol-select:hover{background-color:rgba(255,255,255,.7)}.ol-touch .ol-control.ol-select{left:3.5em}.ol-control.ol-select>button:before{content:"A";font-size:.6em;font-weight:400;position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;width:1em;height:1em;background-color:transparent;border:.2em solid currentColor;border-radius:100%;top:.5em;left:.5em;line-height:1em;text-align:center}.ol-control.ol-select>button:after{content:"";position:absolute;top:1.15em;left:1em;width:.45em;height:.15em;background-color:currentColor;border-radius:.05em;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-box-shadow:-.18em 0 0 -.03em;box-shadow:-.18em 0 0 -.03em}.ol-select>div button{width:auto;padding:0 .5em;float:right;font-weight:400;height:1.2em;line-height:1.2em}.ol-select .ol-delete{width:1.5em;height:1em;vertical-align:middle;display:inline-block;position:relative;cursor:pointer}.ol-select .ol-delete:before{content:"";position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:100%;text-align:center;font-weight:700}.ol-control.ol-select input{font-size:1em}.ol-control.ol-select select{font-size:1em;max-width:10em}.ol-control.ol-select select option.ol-default{color:#999;font-style:italic}.ol-control.ol-select>div{display:block;margin:.25em}.ol-control.ol-select.ol-collapsed>div{display:none}.ol-control.ol-select.ol-select-check{max-width:20em}.ol-control.ol-select label.ol-ext-check{margin-right:1em}.ol-control.ol-select label.ol-ext-toggle-switch span{font-size:1.1em}.ol-select ul{list-style:none;margin:0;padding:0}.ol-control.ol-select input[type=search],.ol-control.ol-select input[type=text]{width:8em}.ol-select .ol-autocomplete{display:inline}.ol-select .ol-autocomplete ul{position:absolute;display:block;background:#fff;border:1px solid #999;min-width:10em;font-size:.85em}.ol-select .ol-autocomplete ul li{padding:0 .5em}.ol-select .ol-autocomplete ul li:hover{color:#fff;background:rgba(0,60,136,.5)}.ol-select ul.ol-hidden{display:none}.ol-select-multi li>div:hover,.ol-select-multi li>div.ol-control.ol-select{position:relative;top:unset;left:unset;background:transparent}.ol-select-multi li>div>button,.ol-select-multi li>div .ol-ok{display:none}.ol-select-multi li .ol-control.ol-select.ol-collapsed>div,.ol-select-multi li>div>div{display:block}.ol-control.ol-status{top:0;left:0;background:rgba(0,0,0,.2);color:#fff;font-size:.9em;padding:.3em 3em;border-radius:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none!important;display:none}.ol-control.ol-status.ol-visible{display:initial}.ol-control.ol-status.ol-bottom{top:auto;bottom:0}.ol-control.ol-status.ol-left{top:0;bottom:0;padding:.3em .5em .3em 3em;width:auto}.ol-control.ol-status.ol-right{top:0;bottom:0;left:auto;right:0;padding:.3em 3em .3em .5em;width:auto}.ol-control.ol-status.ol-center{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ol-control.ol-storymap{top:.5em;left:.5em;bottom:.5em;max-width:35%;border-radius:.5em;position:absolute;height:auto;background-color:rgba(255,255,255,.5)}.ol-storymap{overflow:hidden;padding:0;height:100%;position:relative}.ol-storymap>div{overflow:hidden;padding:0;height:100%;position:relative;scroll-behavior:smooth;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ol-storymap>div.ol-move{scroll-behavior:unset}.ol-control.ol-storymap .chapter{position:relative;padding:.5em;overflow:hidden}.ol-control.ol-storymap .chapter:last-child{margin-bottom:100%}.ol-storymap .chapter{cursor:pointer;opacity:.4}.ol-storymap .chapter.ol-select{cursor:default;opacity:1;background-color:rgba(255,255,255,.8)}.ol-storymap .ol-scroll-top,.ol-storymap .ol-scroll-next{position:relative;min-height:1.7em;color:rgba(0,60,136,.5);text-align:center;cursor:pointer}.ol-storymap .ol-scroll-next span{padding-bottom:1.4em;display:block}.ol-storymap .ol-scroll-top span{padding-top:1.4em;display:block}.ol-storymap .ol-scroll-top:before,.ol-storymap .ol-scroll-next:before{content:"";border:.3em solid currentColor;border-radius:.3em;border-color:transparent currentColor currentColor transparent;width:.8em;height:.8em;display:block;position:absolute;left:50%;-webkit-transform:translateX(-50%) rotate(45deg);transform:translate(-50%) rotate(45deg);-webkit-animation:ol-bounce-bottom .35s linear infinite alternate;animation:ol-bounce-bottom .35s linear infinite alternate;pointer-events:none}.ol-storymap .ol-scroll-top:before{border-color:currentColor transparent transparent currentColor;-webkit-animation:ol-bounce-top .35s linear infinite alternate;animation:ol-bounce-top .35s linear infinite alternate}@-webkit-keyframes ol-bounce-top{0%{top:-.2em}to{top:.5em}}@keyframes ol-bounce-top{0%{top:-.2em}to{top:.5em}}@-webkit-keyframes ol-bounce-bottom{0%{bottom:-.2em}to{bottom:.5em}}@keyframes ol-bounce-bottom{0%{bottom:-.2em}to{bottom:.5em}}.ol-storymap img[data-title]{cursor:pointer}.ol-storymap.scrollLine,.ol-storymap.scrollBox{top:0;bottom:0;background-color:transparent;border-radius:0;max-width:40%}.ol-storymap.scrollLine .chapter,.ol-storymap.scrollBox .chapter{background-color:#fff;margin:100% 0}.ol-storymap.scrollLine .chapter:first-child,.ol-storymap.scrollBox .chapter:first-child{margin-top:3em}.ol-storymap.scrollLine .chapter.ol-select,.ol-storymap.scrollLine .chapter,.ol-storymap.scrollBox .chapter.ol-select,.ol-storymap.scrollBox .chapter{opacity:1}.ol-storymap.scrollLine .ol-scrolldiv,.ol-storymap.scrollBox .ol-scrolldiv{padding-right:30px}.ol-storymap.scrollLine:before,.ol-storymap.scrollBox:before{content:"";position:absolute;width:2px;height:100%;top:0;bottom:0;right:14px;background-color:#fff}.ol-storymap.scrollLine .ol-scroll,.ol-storymap.scrollBox .ol-scroll{display:block!important;padding:0;width:1px;opacity:1!important;right:15px;overflow:visible;-webkit-transition:none;transition:none}.ol-storymap.scrollLine .ol-scroll>div{background-color:transparent;overflow:visible;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%);-webkit-box-shadow:unset;box-shadow:unset}.ol-storymap.scrollLine .ol-scroll>div:before{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background-color:#0af;border:2px solid #fff;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-storymap.scrollBox .ol-scroll>div{display:none}.ol-storymap.scrollBox .chapter:after{content:"";width:20px;height:20px;position:absolute;top:Min(30%,5em);right:-24.5px;-webkit-box-shadow:0 0 0 2px #fff,inset 0 0 0 15px #0af;box-shadow:0 0 0 2px #fff,inset 0 0 0 15px #0af;border-radius:50%;border:5px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.ol-swipe{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-ms-touch-action:none;touch-action:none}.ol-swipe:before{content:"";position:absolute;top:-5000px;bottom:-5000px;left:50%;width:4px;background:#fff;z-index:-1;-webkit-transform:translate(-2px,0);transform:translate(-2px)}.ol-swipe.horizontal:before{left:-5000px;right:-5000px;top:50%;bottom:auto;width:auto;height:4px}.ol-swipe,.ol-swipe button{cursor:ew-resize}.ol-swipe.horizontal,.ol-swipe.horizontal button{cursor:ns-resize}.ol-swipe:after,.ol-swipe button:before,.ol-swipe button:after{content:"";position:absolute;top:25%;bottom:25%;left:50%;width:2px;background:currentColor;transform:translate(-1px);-webkit-transform:translate(-1px,0)}.ol-swipe button:after{-webkit-transform:translateX(4px);transform:translate(4px)}.ol-swipe button:before{-webkit-transform:translateX(-6px);transform:translate(-6px)}.ol-control.ol-timeline{bottom:0;left:0;right:0;-webkit-transition:.3s;transition:.3s;background-color:rgba(255,255,255,.4)}.ol-control.ol-timeline.ol-collapsed{-webkit-transform:translateY(100%);transform:translateY(100%)}.ol-timeline{overflow:hidden;padding:2px 0 0}.ol-timeline .ol-scroll{overflow:hidden;scroll-behavior:smooth;line-height:1em;height:6em;padding:0 50%}.ol-timeline .ol-scroll.ol-move{scroll-behavior:unset}.ol-timeline.ol-hasbutton .ol-scroll{margin-left:1.5em;padding:0 calc(50% - .75em)}.ol-timeline .ol-buttons{display:none;position:absolute;top:0;background:rgba(255,255,255,.5);width:1.5em;bottom:0;left:0;z-index:10}.ol-timeline.ol-hasbutton .ol-buttons{display:block}.ol-timeline .ol-buttons button{font-size:1em;margin:1px;position:relative}.ol-timeline .ol-buttons .ol-zoom-in:before,.ol-timeline .ol-buttons .ol-zoom-out:before{content:"+";position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-timeline .ol-buttons .ol-zoom-out:before{content:""}.ol-timeline .ol-scroll>div{height:100%;position:relative}.ol-timeline .ol-scroll .ol-times{background:rgba(255,255,255,.5);height:1em;bottom:0;position:absolute;left:-1000px;right:-1000px}.ol-timeline .ol-scroll .ol-time{position:absolute;font-size:.7em;color:#999;bottom:0;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ol-timeline .ol-scroll .ol-time.ol-year{color:#666;z-index:1}.ol-timeline .ol-scroll .ol-time:before{content:"";position:absolute;bottom:1.2em;left:50%;height:500px;border-left:1px solid currentColor}.ol-timeline .ol-scroll .ol-features{position:absolute;top:0;bottom:1em;left:-200px;right:-1000px;margin:0 0 0 200px;overflow:hidden}.ol-timeline .ol-scroll .ol-feature{position:absolute;font-size:.7em;color:#999;top:0;background:#fff;max-width:3em;max-height:2.4em;min-height:1em;line-height:1.2em;border:1px solid #ccc;overflow:hidden;padding:0 .5em 0 0;-webkit-transition:all .3s;transition:all .3s;cursor:pointer;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-timeline.ol-zoomhover .ol-scroll .ol-feature:hover,.ol-timeline.ol-zoomhover .ol-scroll .ol-feature.ol-select{z-index:1;-webkit-transform:scale(1.2);transform:scale(1.2);background:#eee}.ol-timeline .ol-center-date{display:none;position:absolute;left:50%;height:100%;width:2px;bottom:0;z-index:2;pointer-events:none;-webkit-transform:translateX(-50%);transform:translate(-50%);background-color:red;opacity:.4}.ol-timeline.ol-hasbutton .ol-center-date{left:calc(50% + .75em)}.ol-timeline.ol-pointer .ol-center-date{display:block}.ol-timeline.ol-pointer .ol-center-date:before,.ol-timeline.ol-pointer .ol-center-date:after{content:"";border:.3em solid transparent;border-width:.3em .25em;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ol-timeline.ol-pointer .ol-center-date:before{border-top-color:red;top:0}.ol-timeline.ol-pointer .ol-center-date:after{border-bottom-color:red;bottom:0}.ol-timeline.ol-interval .ol-center-date{display:block;background-color:transparent;border:0 solid #000;border-width:0 10000px;-webkit-box-sizing:content-box;box-sizing:content-box;opacity:.2}.ol-control.ol-videorec{top:0;left:50%;-webkit-transform:translateX(-50%);transform:translate(-50%);white-space:nowrap}.ol-control.ol-videorec button{position:relative;display:inline-block;vertical-align:middle}.ol-control.ol-videorec button:before{content:"";position:absolute;top:50%;left:50%;width:.8em;height:.8em;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:currentColor}.ol-control.ol-videorec button.ol-start:before{width:.9em;height:.9em;border-radius:50%;background-color:#c00}.ol-control.ol-videorec button.ol-pause:before{width:.2em;background-color:transparent;-webkit-box-shadow:-.2em 0,.2em 0;box-shadow:-.2em 0,.2em 0}.ol-control.ol-videorec button.ol-resume:before{border-style:solid;background:transparent;width:auto;border-width:.4em 0 .4em .6em;border-color:transparent transparent transparent currentColor;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-control.ol-videorec button.ol-stop,.ol-control.ol-videorec button.ol-pause,.ol-control.ol-videorec button.ol-resume,.ol-control.ol-videorec[data-state=rec] .ol-start,.ol-control.ol-videorec[data-state=pause] .ol-start{display:none}.ol-control.ol-videorec[data-state=rec] .ol-stop,.ol-control.ol-videorec[data-state=pause] .ol-stop,.ol-control.ol-videorec[data-state=rec] .ol-pause,.ol-control.ol-videorec[data-state=pause] .ol-resume{display:inline-block}.ol-control.ol-wmscapabilities{top:.5em;right:2.5em}.ol-touch .ol-control.ol-wmscapabilities{right:3em}.ol-control.ol-wmscapabilities.ol-hidden{display:none}.ol-control.ol-wmscapabilities button:before{content:"+";position:absolute;top:calc(50% - .35em);left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-control.ol-wmscapabilities button:after{content:"";width:.75em;height:.75em;position:absolute;background:transparent;top:calc(50% - .05em);left:50%;-webkit-transform:scaleY(.6) translate(-50%,-50%) rotate(45deg);transform:scaleY(.6) translate(-50%,-50%) rotate(45deg);-webkit-box-shadow:inset -.18em -.18em currentColor,-.4em .1em 0 -.25em currentColor,.1em -.35em 0 -.25em currentColor,.15em .15em currentColor;box-shadow:inset -.18em -.18em currentColor,-.4em .1em 0 -.25em currentColor,.1em -.35em 0 -.25em currentColor,.15em .15em currentColor;border-radius:.1em 0;border:.15em solid transparent;border-width:0 .15em .15em 0}.ol-wmscapabilities .ol-searching{opacity:.5}.ol-wmscapabilities .ol-searching .ol-url:after{content:"";width:.7em;height:.7em;background-color:currentColor;position:absolute;top:6em;border-radius:50%;display:block;left:calc(50% - .35em);-webkit-box-shadow:0 1em currentColor,0 -1em currentColor,1em 0 currentColor,-1em 0 currentColor;box-shadow:0 1em currentColor,0 -1em currentColor,1em 0 currentColor,-1em 0 currentColor;-webkit-animation:ol-wmscapabilities-rotate 2s linear infinite;animation:ol-wmscapabilities-rotate 2s linear infinite}@-webkit-keyframes ol-wmscapabilities-rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ol-wmscapabilities-rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ol-wmscapabilities .ol-url input{width:calc(100% - 10em);-webkit-box-sizing:border-box;box-sizing:border-box;min-width:Min(100%,20em)}.ol-wmscapabilities .ol-url select{width:2em;height:100%;padding:1px}.ol-wmscapabilities .ol-url button{width:7.5em;margin-left:.5em}.ol-wmscapabilities .ol-result{display:none;margin-top:.5em}.ol-wmscapabilities .ol-result.ol-visible{display:block}.ol-wmscapabilities .ol-select-list{position:relative;border:1px solid #369;overflow-x:hidden;width:calc(100% - 120px);-webkit-box-sizing:border-box;box-sizing:border-box;max-height:14.5em}.ol-wmscapabilities .ol-select-list div{padding:0 .5em;cursor:pointer;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden}.ol-wmscapabilities .ol-select-list .level-1{padding-left:1em}.ol-wmscapabilities .ol-select-list .level-2{padding-left:1.5em}.ol-wmscapabilities .ol-select-list .level-3{padding-left:2em}.ol-wmscapabilities .ol-select-list .level-4{padding-left:2.5em}.ol-wmscapabilities .ol-select-list .level-5{padding-left:3em}.ol-wmscapabilities .ol-select-list .ol-info{font-style:italic}.ol-wmscapabilities .ol-select-list .ol-title{background-color:rgba(0,60,136,.1)}.ol-wmscapabilities .ol-select-list div:hover{background-color:rgba(0,60,136,.5);color:#fff}.ol-wmscapabilities .ol-select-list div.selected{background-color:rgba(0,60,136,.7);color:#fff}.ol-wmscapabilities .ol-preview{width:100px;float:right;background:rgba(0,60,136,.1);color:#666;padding:0 5px 5px;text-align:center;margin-left:10px}.ol-wmscapabilities .ol-preview.tainted{width:100px;float:right;background:rgba(136,0,60,.1);color:#666;padding:0 5px 5px;text-align:center;margin-left:10px}.ol-wmscapabilities .ol-preview img{width:100%;display:block;background:#fff}.ol-wmscapabilities .ol-legend{max-width:100%;display:none}.ol-wmscapabilities .ol-legend.visible{display:block}.ol-wmscapabilities .ol-buttons{clear:both;text-align:right}.ol-wmscapabilities .ol-data p{margin:0}.ol-wmscapabilities .ol-data p.ol-title{font-weight:700;margin:1em 0 .5em}.ol-wmscapabilities .ol-error{color:#800}.ol-wmscapabilities ul.ol-wmsform{display:none;list-style:none;padding:0}.ol-wmscapabilities ul.ol-wmsform.visible{display:block}.ol-wmscapabilities .ol-wmsform label{display:inline-block;text-align:right;width:calc(40% - .5em);margin-right:.5em}.ol-wmscapabilities .ol-wmsform input{display:inline-block;width:60%;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-wmscapabilities .ol-wmsform input[type=checkbox]{width:auto}.ol-wmscapabilities .ol-wmsform button{float:right;margin:1em 0}.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] input{width:calc(60% - 2em)}.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] button{position:relative;width:2em;height:1.6em;margin:0;vertical-align:middle;color:#444}.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] button:before,.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] button:after{content:"";position:absolute;width:.25em;height:.9em;border:.1em solid currentColor;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) skewY(-15deg);transform:translate(-50%,-50%) skewY(-15deg)}.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] button:after{-webkit-transform:translateX(.4em) translate(-50%,-50%) skewY(15deg);transform:translate(.4em) translate(-50%,-50%) skewY(15deg);-webkit-box-shadow:-.8em .25em;box-shadow:-.8em .25em}.ol-ext-dialog.ol-wmscapabilities form{width:600px;min-height:15em;top:15%;-webkit-transform:translate(-50%,-15%);transform:translate(-50%,-15%)}.ol-ext-dialog.ol-wmscapabilities .ol-content{max-height:calc(100vh - 6em)}.ol-ext-dialog.ol-wmtscapabilities [data-param=map],.ol-ext-dialog [data-param=style]{display:none}.ol-ext-dialog.ol-wmtscapabilities [data-param=style]{display:list-item}.ol-ext-dialog.ol-wmtscapabilities [data-param=proj],.ol-ext-dialog.ol-wmtscapabilities [data-param=version]{opacity:.6;pointer-events:none}.ol-ext-dialog.ol-wmscapabilities button.ol-wmsform{width:1.8em;text-align:center}.ol-ext-dialog.ol-wmscapabilities button.ol-wmsform:before{content:"+"}.ol-ext-dialog.ol-wmscapabilities .ol-form button.ol-wmsform:before{content:"-"}.ol-ext-dialog.ol-wmscapabilities .ol-form button.ol-load,.ol-ext-dialog.ol-wmscapabilities .ol-form .ol-legend{display:none}.ol-ext-dialog.ol-wmscapabilities .ol-form ul.ol-wmsform{display:block;clear:both}.ol-target-overlay .ol-target{border:1px solid transparent;-webkit-box-shadow:0 0 1px 1px #fff;box-shadow:0 0 1px 1px #fff;display:block;height:20px;width:0}.ol-target-overlay .ol-target:after,.ol-target-overlay .ol-target:before{content:"";border:1px solid #369;-webkit-box-shadow:0 0 1px 1px #fff;box-shadow:0 0 1px 1px #fff;display:block;width:20px;height:0;position:absolute;top:10px;left:-10px}.ol-target-overlay .ol-target:after{-webkit-box-shadow:none;box-shadow:none;height:20px;width:0;top:0;left:0}.ol-overlaycontainer .ol-touch-cursor{width:56px;height:56px;margin:6px;border-radius:50%;cursor:pointer;background:rgba(255,255,255,.4);-webkit-box-shadow:inset 0 0 0 5px #369;box-shadow:inset 0 0 0 5px #369}.ol-overlaycontainer .ol-touch-cursor:after{content:"";position:absolute;top:0;left:0;width:50%;height:50%;background:radial-gradient(circle at 100% 100%,transparent,transparent 70%,#369 70%,#369)}.ol-overlaycontainer .ol-touch-cursor .ol-button{position:absolute;color:#369;height:55%;width:55%;border-radius:50%;cursor:pointer;background:rgba(255,255,255,.4);-webkit-box-shadow:inset 0 0 0 3px currentColor;box-shadow:inset 0 0 0 3px currentColor;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) scale(0);transform:translate(-50%,-50%) scale(0);-webkit-transition:all .5s,opacity 0s,background 0s;transition:all .5s,opacity 0s,background 0s;overflow:hidden}.ol-overlaycontainer .ol-touch-cursor.active.disable .ol-button{opacity:.8;background:rgba(51,102,153,.2)}.ol-overlaycontainer .ol-touch-cursor.active .ol-button{-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-0{top:-18%;left:118%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-1{top:50%;left:140%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-2{top:120%;left:120%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-3{top:140%;left:50%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-4{top:118%;left:-18%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-5{top:50%;left:-40%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-6{top:-18%;left:-18%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-7{top:-40%;left:50%}.ol-overlaycontainer .ol-touch-cursor .ol-button:before{content:"";width:1.5em;height:1em;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);line-height:1em;text-align:center}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-add:before,.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-remove:before{content:"";line-height:.95em;font-size:1.375em;font-weight:700}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-add:before{content:"+"}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-x:before{content:"";font-size:1.2em;font-weight:700}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-move:before{content:"";font-size:1.2em}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-check:before{content:"";font-weight:700}.ol-overlaycontainer .ol-touch-cursor.nodrawing .ol-button.ol-button-x,.ol-overlaycontainer .ol-touch-cursor.nodrawing .ol-button.ol-button-remove,.ol-overlaycontainer .ol-touch-cursor.nodrawing .ol-button.ol-button-check{opacity:.8;background:rgba(51,102,153,.2)}.ol-overlaycontainer .ol-touch-cursor .ol-button>div{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-overlaycontainer .ol-touch-cursor .ol-button-type:before{content:"";font-weight:700}.mapboxgl-canvas:focus{outline:none}.ol-perspective-map{position:absolute;left:50%;top:50%;width:200%;height:200%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-perspective-map .ol-layer{z-index:-1!important}.ol-perspective-map .ol-layers{-webkit-transform:translateY(0) perspective(200px) rotateX(0deg) scaleY(1);transform:translateY(0) perspective(200px) rotateX(0) scaleY(1)}.ol-perspective-map .ol-overlaycontainer,.ol-perspective-map .ol-overlaycontainer-stopevent{width:50%!important;height:50%!important;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-overlay-container .ol-magnify{background:rgba(0,0,0,.5);border:3px solid #369;border-radius:50%;height:150px;width:150px;overflow:hidden;-webkit-box-shadow:5px 5px 5px rgba(0,0,0,.5);box-shadow:5px 5px 5px rgba(0,0,0,.5);position:relative;z-index:0}.ol-overlay-container .ol-magnify:before{border-radius:50%;-webkit-box-shadow:0 0 40px 2px rgba(0,0,0,.25) inset;box-shadow:0 0 40px 2px rgba(0,0,0,.25) inset;content:"";display:block;height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ol-overlay-container .ol-magnify:after{border-radius:50%;-webkit-box-shadow:0 0 20px 7px rgba(255,255,255,1);box-shadow:0 0 20px 7px #fff;content:"";display:block;height:0;left:23%;position:absolute;top:20%;width:20%;z-index:1;transform:rotate(-40deg);-webkit-transform:rotate(-40deg)}.ol-popup.anim{visibility:hidden}.ol-popup.anim.visible{visibility:visible}.ol-popup.anim.visible>div{visibility:visible;-webkit-transform:none;transform:none;-webkit-animation:ol-popup_bounce .4s ease 1;animation:ol-popup_bounce .4s ease 1}@-webkit-keyframes ol-popup_bounce{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ol-popup_bounce{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}.ol-popup.anim.ol-popup-bottom.ol-popup-left>div{-webkit-transform-origin:0 100%;transform-origin:0 100%}.ol-popup.anim.ol-popup-bottom.ol-popup-right>div{-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.ol-popup.anim.ol-popup-bottom.ol-popup-center>div{-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.ol-popup.anim.ol-popup-top.ol-popup-left>div{-webkit-transform-origin:0 0;transform-origin:0 0}.ol-popup.anim.ol-popup-top.ol-popup-right>div{-webkit-transform-origin:100% 0;transform-origin:100% 0}.ol-popup.anim.ol-popup-top.ol-popup-center>div{-webkit-transform-origin:50% 0;transform-origin:50% 0}.ol-popup.anim.ol-popup-middle.ol-popup-left>div{-webkit-transform-origin:0 50%;transform-origin:0 50%}.ol-popup.anim.ol-popup-middle.ol-popup-right>div{-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.ol-popup{font-size:.9em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ol-popup .ol-popup-content{overflow:hidden;cursor:default;padding:.25em .5em}.ol-popup.hasclosebox .ol-popup-content{margin-right:1.7em}.ol-popup .ol-popup-content:after{clear:both;content:"";display:block;font-size:0;height:0}.ol-popup .anchor{display:block;width:0px;height:0px;background:red;position:absolute;margin:-11px 22px;pointer-events:none}.ol-popup .anchor:after,.ol-popup .anchor:before{position:absolute}.ol-popup-right .anchor:after,.ol-popup-right .anchor:before{right:0}.ol-popup-top .anchor{top:0}.ol-popup-bottom .anchor{bottom:0}.ol-popup-right .anchor{right:0}.ol-popup-left .anchor{left:0}.ol-popup-center .anchor{left:50%;margin-left:0!important}.ol-popup-middle .anchor{top:50%;margin-top:0!important}.ol-popup-center.ol-popup-middle .anchor{display:none}.ol-popup.ol-fixed{margin:0!important;top:.5em!important;right:.5em!important;left:auto!important;bottom:auto!important;-webkit-transform:none!important;transform:none!important}.ol-popup.ol-fixed .anchor{display:none}.ol-popup.ol-fixed.anim>div{-webkit-animation:none;animation:none}.ol-popup .ol-fix{width:1em;height:.9em;background:#fff;position:relative;float:right;margin:.2em;cursor:pointer}.ol-popup .ol-fix:before{content:"";width:.8em;height:.7em;display:block;border:.1em solid #666;border-right-width:.1em;border-right-width:.3em;-webkit-box-sizing:border-box;box-sizing:border-box;margin:.1em}.ol-popup.shadow{-webkit-box-shadow:2px 2px 2px 2px rgba(0,0,0,.5);box-shadow:2px 2px 2px 2px rgba(0,0,0,.5)}.ol-popup .closeBox{background-color:rgba(0,60,136,.5);color:#fff;border:0;border-radius:2px;cursor:pointer;float:right;font-size:.9em;font-weight:700;width:1.4em;height:1.4em;margin:5px 5px 0 0;padding:0;position:relative;display:none}.ol-popup.hasclosebox .closeBox{display:block}.ol-popup .closeBox:hover{background-color:rgba(0,60,136,.7)}.ol-popup .closeBox:after{content:"";font-size:1.5em;top:50%;left:0;right:0;width:100%;text-align:center;line-height:1em;margin:-.5em 0;position:absolute}.ol-popup.modifytouch{background-color:#eee}.ol-popup.modifytouch .ol-popup-content{padding:0 .25em;font-size:.85em;white-space:nowrap}.ol-popup.modifytouch .ol-popup-content a{text-decoration:none}.ol-popup.tooltips{background-color:#ffa}.ol-popup.tooltips .ol-popup-content{padding:0 .25em;font-size:.85em;white-space:nowrap}.ol-popup.default>div{background-color:#fff;border:1px solid #69f;border-radius:5px}.ol-popup.default{margin:-11px 0;-webkit-transform:translate(0,-22px);transform:translateY(-22px)}.ol-popup-top.ol-popup.default{margin:11px 0;-webkit-transform:none;transform:none}.ol-popup-left.default{margin:-11px -22px;-webkit-transform:translate(0,-22px);transform:translateY(-22px)}.ol-popup-top.ol-popup-left.default{margin:11px -22px;-webkit-transform:none;transform:none}.ol-popup-right.default{margin:-11px 22px;-webkit-transform:translate(44px,-22px);transform:translate(44px,-22px)}.ol-popup-top.ol-popup-right.default{margin:11px 22px;-webkit-transform:translate(44px,0);transform:translate(44px)}.ol-popup-middle.default{margin:0 10px;-webkit-transform:none;transform:none}.ol-popup-middle.ol-popup-right.default{margin:0 -10px;-webkit-transform:translate(-20px,0);transform:translate(-20px)}.ol-popup.default .anchor{color:#69f}.ol-popup.default .anchor:after,.ol-popup.default .anchor:before{content:"";border-color:currentColor transparent;border-style:solid;border-width:11px;margin:0 -11px}.ol-popup.default .anchor:after{border-color:#fff transparent;border-width:11px;margin:2px -11px}.ol-popup-top.default .anchor:before,.ol-popup-top.default .anchor:after{border-top:0;top:0}.ol-popup-bottom.default .anchor:before,.ol-popup-bottom.default .anchor:after{border-bottom:0;bottom:0}.ol-popup-middle.default .anchor:before{margin:-11px -33px;border-color:transparent currentColor}.ol-popup-middle.default .anchor:after{margin:-11px -31px;border-color:transparent #fff}.ol-popup-middle.ol-popup-left.default .anchor:before,.ol-popup-middle.ol-popup-left.default .anchor:after{border-left:0}.ol-popup-middle.ol-popup-right.default .anchor:before,.ol-popup-middle.ol-popup-right.default .anchor:after{border-right:0}.ol-popup.placemark{color:#c00;margin:-.65em 0;-webkit-transform:translate(0,-1.3em);transform:translateY(-1.3em)}.ol-popup.placemark>div{position:relative;font-size:15px;background-color:#fff;border:0;-webkit-box-shadow:inset 0 0 0 .45em;box-shadow:inset 0 0 0 .45em;width:2em;height:2em;border-radius:50%;min-width:unset;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-popup.placemark .ol-popup-content{overflow:hidden;cursor:default;text-align:center;padding:.25em 0;width:1em;height:1em;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);line-height:1em}.ol-popup.placemark .anchor{margin:0}.ol-popup.placemark .anchor:before{content:"";margin:-.5em;background:transparent;width:1em;height:.5em;border-radius:50%;-webkit-box-shadow:0 1em .5em rgba(0,0,0,.5);box-shadow:0 1em .5em rgba(0,0,0,.5)}.ol-popup.placemark .anchor:after{content:"";border-color:currentColor transparent;border-style:solid;border-width:1em .7em 0;margin:-.75em -.7em;bottom:0}.ol-popup.placemark.shield>div{border-radius:.2em}.ol-popup.placemark.shield .anchor:after{border-width:.8em 1em 0;margin:-.7em -1em}.ol-popup.placemark.blazon>div{border-radius:.2em}.ol-popup.placemark.pushpin{margin:-2.2em 0;-webkit-transform:translate(0,-4em);transform:translateY(-4em)}.ol-popup.placemark.pushpin>div{border-radius:0;background:transparent!important;-webkit-box-shadow:inset 2em 0 currentColor;box-shadow:inset 2em 0 currentColor;width:1.1em}.ol-popup.placemark.pushpin>div:before{content:"";width:1.3em;height:1.5em;border-style:solid;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-color:currentColor transparent;border-width:.3em .5em .5em;pointer-events:none}.ol-popup.placemark.needle{margin:-2em 0;-webkit-transform:translate(0,-4em);transform:translateY(-4em)}.ol-popup.placemark.pushpin .anchor,.ol-popup.placemark.needle .anchor{margin:-1.2em}.ol-popup.placemark.pushpin .anchor:after,.ol-popup.placemark.needle .anchor:after{border-style:solid;border-width:2em .15em 0;margin:-.55em -.2em;width:.1em}.ol-popup.placemark.pushpin .anchor:before,.ol-popup.placemark.needle .anchor:before{margin:-.75em -.5em}.ol-popup.placemark.flagv{margin:-2em 1em;-webkit-transform:translate(0,-4em);transform:translateY(-4em)}.ol-popup.placemark.flagv>div{border-radius:0;-webkit-box-shadow:none;box-shadow:none;background-color:transparent}.ol-popup.placemark.flagv>div:before{content:"";border:1em solid transparent;position:absolute;border-left:2em solid currentColor;pointer-events:none}.ol-popup.placemark.flagv .anchor{margin:-1.4em}.ol-popup.placemark.flag{margin:-2em 1em;-webkit-transform:translate(0,-4em);transform:translateY(-4em)}.ol-popup.placemark.flag>div{border-radius:0;-webkit-transform-origin:0% 150%!important;transform-origin:0% 150%!important}.ol-popup.placemark.flag .anchor{margin:-1.4em}.ol-popup.placemark.flagv .anchor:after,.ol-popup.placemark.flag .anchor:after{border-style:solid;border-width:2em .15em 0;margin:-.55em -1em;width:.1em}.ol-popup.placemark.flagv .anchor:before,.ol-popup.placemark.flag .anchor:before{margin:-.75em -1.25em}.ol-popup.placemark.flag.finish{margin:-2em 1em}.ol-popup.placemark.flag.finish>div{background-image:linear-gradient(45deg,currentColor 25%,transparent 25%,transparent 75%,currentColor 75%,currentColor),linear-gradient(45deg,currentColor 25%,transparent 25%,transparent 75%,currentColor 75%,currentColor);background-size:1em 1em;background-position:.5em 0,0 .5em;-webkit-box-shadow:inset 0 0 0 .25em;box-shadow:inset 0 0 0 .25em}.ol-popup.black .closeBox{background-color:rgba(0,0,0,.5);border-radius:5px;color:#f80}.ol-popup.black .closeBox:hover{background-color:rgba(0,0,0,.7);color:#da2}.ol-popup.black{margin:-20px 0;-webkit-transform:translate(0,-40px);transform:translateY(-40px)}.ol-popup.black>div{background-color:rgba(0,0,0,.6);border-radius:5px;color:#fff}.ol-popup-top.ol-popup.black{margin:20px 0;-webkit-transform:none;transform:none}.ol-popup-left.black{margin:-20px -22px;-webkit-transform:translate(0,-40px);transform:translateY(-40px)}.ol-popup-top.ol-popup-left.black{margin:20px -22px;-webkit-transform:none;transform:none}.ol-popup-right.black{margin:-20px 22px;-webkit-transform:translate(44px,-40px);transform:translate(44px,-40px)}.ol-popup-top.ol-popup-right.black{margin:20px 22px;-webkit-transform:translate(44px,0);transform:translate(44px)}.ol-popup-middle.black{margin:0 11px;-webkit-transform:none;transform:none}.ol-popup-left.ol-popup-middle.black{-webkit-transform:none;transform:none}.ol-popup-right.ol-popup-middle.black{margin:0 -11px;-webkit-transform:translate(-22px,0);transform:translate(-22px)}.ol-popup.black .anchor{margin:-20px 11px;color:rgba(0,0,0,.6)}.ol-popup.black .anchor:before{content:"";border-color:currentColor transparent;border-style:solid;border-width:20px 11px}.ol-popup-top.black .anchor:before{border-top:0;top:0}.ol-popup-bottom.black .anchor:before{border-bottom:0;bottom:0}.ol-popup-middle.black .anchor:before{margin:-20px -22px;border-color:transparent currentColor}.ol-popup-middle.ol-popup-left.black .anchor:before{border-left:0}.ol-popup-middle.ol-popup-right.black .anchor:before{border-right:0}.ol-popup-center.black .anchor:before{margin:0 -10px}.ol-popup.tips .closeBox{background-color:red;border-radius:50%;color:#fff;width:1.2em;height:1.2em}.ol-popup.tips .closeBox:hover{background-color:#f40}.ol-popup.tips{margin:-20px 0;-webkit-transform:translate(0,-40px);transform:translateY(-40px)}.ol-popup.tips>div{background-color:#cea;border:5px solid #ad7;border-radius:5px;color:#333}.ol-popup-top.ol-popup.tips{margin:20px 0;-webkit-transform:none;transform:none}.ol-popup-left.tips{margin:-20px -22px;-webkit-transform:translate(0,-40px);transform:translateY(-40px)}.ol-popup-top.ol-popup-left.tips{margin:20px -22px;-webkit-transform:none;transform:none}.ol-popup-right.tips{margin:-20px 22px;-webkit-transform:translate(44px,-40px);transform:translate(44px,-40px)}.ol-popup-top.ol-popup-right.tips{margin:20px 22px;-webkit-transform:translate(44px,0);transform:translate(44px)}.ol-popup-middle.tips{margin:0;-webkit-transform:none;transform:none}.ol-popup-left.ol-popup-middle.tips{margin:0 22px;-webkit-transform:none;transform:none}.ol-popup-right.ol-popup-middle.tips{margin:0 -22px;-webkit-transform:translate(-44px,0);transform:translate(-44px)}.ol-popup.tips .anchor{margin:-18px 22px;color:#ad7}.ol-popup.tips .anchor:before{content:"";border-color:currentColor transparent;border-style:solid;border-width:20px 11px}.ol-popup-top.tips .anchor:before{border-top:0;top:0}.ol-popup-bottom.tips .anchor:before{border-bottom:0;bottom:0}.ol-popup-center.tips .anchor:before{border-width:20px 6px;margin:0 -6px}.ol-popup-left.tips .anchor:before{border-left:0;margin-left:0}.ol-popup-right.tips .anchor:before{border-right:0;margin-right:0}.ol-popup-middle.tips .anchor:before{margin:-6px -41px;border-color:transparent currentColor;border-width:6px 20px}.ol-popup-middle.ol-popup-left.tips .anchor:before{border-left:0}.ol-popup-middle.ol-popup-right.tips .anchor:before{border-right:0}.ol-popup.warning .closeBox{background-color:red;border-radius:50%;color:#fff;font-size:.83em}.ol-popup.warning .closeBox:hover{background-color:#f40}.ol-popup.warning{background-color:#fd0;border-radius:3px;border:4px dashed #f00;color:#900;margin:-28px 10px;-webkit-transform:translate(0,-56px);transform:translateY(-56px)}.ol-popup-top.ol-popup.warning{margin:28px 10px;-webkit-transform:none;transform:none}.ol-popup-left.warning{margin:-28px -22px;-webkit-transform:translate(0,-56px);transform:translateY(-56px)}.ol-popup-top.ol-popup-left.warning{margin:28px -22px;-webkit-transform:none;transform:none}.ol-popup-right.warning{margin:-28px 22px;-webkit-transform:translate(44px,-56px);transform:translate(44px,-56px)}.ol-popup-top.ol-popup-right.warning{margin:28px 22px;-webkit-transform:translate(44px,0);transform:translate(44px)}.ol-popup-middle.warning{margin:0;-webkit-transform:none;transform:none}.ol-popup-left.ol-popup-middle.warning{margin:0 22px;-webkit-transform:none;transform:none}.ol-popup-right.ol-popup-middle.warning{margin:0 -22px;-webkit-transform:translate(-44px,0);transform:translate(-44px)}.ol-popup.warning .anchor{margin:-33px 7px}.ol-popup.warning .anchor:before{content:"";border-color:#f00 transparent;border-style:solid;border-width:30px 11px}.ol-popup-top.warning .anchor:before{border-top:0;top:0}.ol-popup-bottom.warning .anchor:before{border-bottom:0;bottom:0}.ol-popup-center.warning .anchor:before{margin:0 -21px}.ol-popup-middle.warning .anchor:before{margin:-10px -33px;border-color:transparent #f00;border-width:10px 22px}.ol-popup-middle.ol-popup-left.warning .anchor:before{border-left:0}.ol-popup-middle.ol-popup-right.warning .anchor:before{border-right:0}.ol-popup .ol-popupfeature table{width:100%}.ol-popup .ol-popupfeature table td{max-width:25em;overflow:hidden;text-overflow:ellipsis}.ol-popup .ol-popupfeature table td img{max-width:100px;max-height:100px}.ol-popup .ol-popupfeature tr:nth-child(odd){background-color:#eee}.ol-popup .ol-popupfeature .ol-zoombt{border:0;width:2em;height:2em;display:inline-block;color:rgba(0,60,136,.5);position:relative;background:transparent;outline:none}.ol-popup .ol-popupfeature .ol-zoombt:before{content:"";position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;width:1em;height:1em;background-color:transparent;border:.17em solid currentColor;border-radius:100%;top:.3em;left:.3em}.ol-popup .ol-popupfeature .ol-zoombt:after{content:"";position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;top:1.35em;left:1.15em;border-width:.1em .3em;border-style:solid;border-radius:.03em;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-box-shadow:-.2em 0 0 -.04em;box-shadow:-.2em 0 0 -.04em}.ol-popup .ol-popupfeature .ol-count{float:right;margin:.25em 0}.ol-popup .ol-popupfeature .ol-prev,.ol-popup .ol-popupfeature .ol-next{border-style:solid;border-color:transparent rgba(0,60,136,.5);border-width:.5em 0 .5em .5em;display:inline-block;vertical-align:bottom;margin:0 .5em;cursor:pointer}.ol-popup .ol-popupfeature .ol-prev{border-width:.5em .5em .5em 0}.ol-popup.tooltips.black{background-color:transparent}.ol-popup.tooltips.black>div{-webkit-transform:scaleY(1.3);transform:scaleY(1.3);padding:.2em .5em;background-color:rgba(0,0,0,.5)}.ol-popup-middle.tooltips.black .anchor:before{border-width:5px 10px;margin:-5px -21px}.ol-popup-center.ol-popup-middle,.ol-popup-top.ol-popup-left.ol-fixPopup,.ol-popup-top.ol-popup-right.ol-fixPopup,.ol-popup.ol-fixPopup{margin:0}.ol-miniscroll{position:relative}.ol-miniscroll:hover .ol-scroll{opacity:.5;-webkit-transition:opacity 1s;transition:opacity 1s}.ol-miniscroll .ol-scroll{-ms-touch-action:none;touch-action:none;position:absolute;right:0;width:9px;height:auto;max-height:100%;opacity:0;border-radius:9px;-webkit-transition:opacity 1s .5s;transition:opacity 1s .5s;overflow:hidden;z-index:1}.ol-miniscroll .ol-scroll>div{-ms-touch-action:none;touch-action:none;position:absolute;top:0;right:0;width:9px;height:9px;-webkit-box-shadow:inset 10px 0 currentColor;box-shadow:inset 10px 0 currentColor;border-radius:9px/12px;border:2px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer}.ol-miniscroll .ol-scroll.ol-100pc{opacity:0}.ol-viewport canvas.ol-fixedoverlay{position:absolute;top:0;left:0;width:100%;height:100%}.ol-ext-toggle-switch{cursor:pointer;position:relative}.ol-ext-toggle-switch input[type=radio],.ol-ext-toggle-switch input[type=checkbox]{display:none}.ol-ext-toggle-switch span{color:rgba(0,60,136,.5);position:relative;cursor:pointer;background-color:#ccc;-webkit-transition:.4s,background-color 0s,border-color 0s;transition:.4s,background-color 0s,border-color 0s;width:1.6em;height:1em;display:inline-block;border-radius:1em;font-size:1.3em;vertical-align:middle;margin:-.15em .2em .15em}.ol-ext-toggle-switch span:before{position:absolute;content:"";height:1em;width:1em;left:0;top:50%;background-color:#fff;-webkit-transition:.4s;transition:.4s;border-radius:1em;display:block;-webkit-transform:translateY(-50%);transform:translateY(-50%);border:2px solid #ccc;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-ext-toggle-switch:hover span{background-color:#999}.ol-ext-toggle-switch:hover span:before{border-color:#999}.ol-ext-toggle-switch input:checked+span{background-color:currentColor}.ol-ext-toggle-switch input:checked+span:before{-webkit-transform:translate(.6em,-50%);transform:translate(.6em,-50%);border-color:currentColor}.ol-ext-check{position:relative;display:inline-block}.ol-ext-check input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.ol-ext-check span{color:rgba(0,60,136,.5);position:relative;display:inline-block;width:1em;height:1em;margin:-.1em .5em .1em;background-color:#ccc;vertical-align:middle}.ol-ext-check:hover span{background-color:#999}.ol-ext-checkbox input:checked~span{background-color:currentColor}.ol-ext-checkbox input:checked~span:before{content:"";position:absolute;width:.5em;height:.8em;top:50%;left:50%;-webkit-transform:translateY(-.1em) translate(-50%,-50%) rotate(45deg);transform:translateY(-.1em) translate(-50%,-50%) rotate(45deg);-webkit-box-shadow:inset -.2em -.2em #fff;box-shadow:inset -.2em -.2em #fff}.ol-ext-radio span{width:1.1em;height:1.1em;border-radius:50%}.ol-ext-radio:hover input:checked~span{background-color:#ccc}.ol-ext-radio input:checked~span:before{content:"";position:absolute;width:50%;height:50%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-radius:50%;background-color:currentColor}.ol-collection-list{margin:0;padding:0;list-style:none}.ol-collection-list li{position:relative;padding:0 2em 0 1em}.ol-collection-list li:hover{background-color:rgba(0,60,136,.2)}.ol-collection-list li.ol-select{background-color:rgba(0,60,136,.5);color:#fff}.ol-collection-list li .ol-order{position:absolute;-ms-touch-action:none;touch-action:none;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:2em;height:100%;cursor:n-resize}.ol-collection-list li .ol-order:before{content:"";position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:18px;height:2px;background-color:currentColor;-webkit-box-shadow:0 5px,0 -5px;box-shadow:0 5px,0 -5px;border-radius:2px}.ol-ext-colorpicker.ol-popup{width:2em;height:1.5em;background-color:transparent;background-image:linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%),linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%);background-size:10px 10px;background-position:0 -1px,5px 4px}.ol-ext-colorpicker .ol-tabbar{background-color:#eee;border-bottom:1px solid #999;display:none}.ol-ext-colorpicker.ol-tab .ol-tabbar{display:block}.ol-ext-colorpicker .ol-tabbar>div{display:inline-block;background-color:#fff;padding:0 .5em;border:1px solid #999;border-radius:2px 2px 0 0;position:relative;top:1px;cursor:pointer}.ol-ext-colorpicker .ol-tabbar>div:nth-child(1){border-bottom-color:#fff}.ol-ext-colorpicker.ol-picker-tab .ol-tabbar>div:nth-child(1){border-bottom-color:#999}.ol-ext-colorpicker.ol-picker-tab .ol-tabbar>div:nth-child(2){border-bottom-color:#fff}.ol-ext-colorpicker.ol-popup.ol-tab .ol-popup{width:180px}.ol-ext-colorpicker.ol-tab .ol-palette{margin:0 10px}.ol-ext-colorpicker.ol-tab .ol-container{display:none}.ol-ext-colorpicker.ol-tab.ol-picker-tab .ol-container{display:block}.ol-ext-colorpicker.ol-tab.ol-picker-tab .ol-palette{display:none}.ol-ext-colorpicker.ol-popup .ol-popup{width:340px}.ol-ext-colorpicker.ol-popup .ol-vignet{content:"";position:absolute;width:100%;height:100%;top:0;left:0;border:0;background-color:currentColor;pointer-events:none}.ol-ext-colorpicker .ol-container{position:relative;display:inline-block;vertical-align:top}.ol-ext-colorpicker .ol-cursor{pointer-events:none}.ol-ext-colorpicker .ol-picker{position:relative;cursor:crosshair;width:150px;height:150px;border:5px solid #fff;background-color:currentColor;background-image:-webkit-gradient(linear,left top,left bottom,from(0),color-stop(#000),to(transparent)),-webkit-gradient(linear,left top,right top,from(#fff),to(transparent));background-image:linear-gradient(0,#000,transparent),linear-gradient(90deg,#fff,transparent)}.ol-ext-colorpicker .ol-picker .ol-cursor{position:absolute;left:50%;top:50%;border:1px solid rgba(0,0,0,.7);-webkit-box-shadow:0 0 0 1px rgba(255,255,255,.7);box-shadow:0 0 0 1px rgba(255,255,255,.7);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:10px;height:10px;border-radius:50%}.ol-ext-colorpicker .ol-slider{position:relative;cursor:crosshair;background-color:#fff;height:10px;width:150px;margin:5px 0 10px;border:5px solid #fff;border-width:0 5px;background-image:linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%),linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%);background-size:10px 10px;background-position:0 -1px,5px 4px}.ol-ext-colorpicker .ol-slider>div{width:100%;height:100%;background-image:linear-gradient(45deg,transparent,#fff);pointer-events:none}.ol-ext-colorpicker .ol-slider .ol-cursor{position:absolute;width:4px;height:12px;border:1px solid #000;top:50%;left:0;background:transparent;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-ext-colorpicker .ol-tint{position:absolute;cursor:crosshair;width:10px;height:150px;border:5px solid #fff;border-width:5px 0;-webkit-box-sizing:border;box-sizing:border;top:0;right:5px;background-image:-webkit-gradient(linear,left top,left bottom,from(0),color-stop(#f00),color-stop(#f0f),color-stop(#00f),color-stop(#0ff),color-stop(#0f0),color-stop(#ff0),to(#f00));background-image:linear-gradient(0,red,#f0f,#00f,#0ff,#0f0,#ff0,red)}.ol-ext-colorpicker .ol-tint .ol-cursor{position:absolute;top:0;left:50%;border:1px solid #000;height:4px;width:12px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-ext-colorpicker .ol-clear{position:absolute;border:2px solid #999;right:4px;top:163px;width:10px;height:10px}.ol-ext-colorpicker .ol-clear:before,.ol-ext-colorpicker .ol-clear:after{content:"";position:absolute;width:15px;height:2px;background-color:#999;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(45deg);transform:translate(-50%,-50%) rotate(45deg)}.ol-ext-colorpicker .ol-clear:after{-webkit-transform:translate(-50%,-50%) rotate(-45deg);transform:translate(-50%,-50%) rotate(-45deg)}.ol-ext-colorpicker.ol-nopacity .ol-slider,.ol-ext-colorpicker.ol-nopacity .ol-clear,.ol-ext-colorpicker.ol-nopacity .ol-alpha{display:none}.ol-ext-colorpicker .ol-rgb{position:relative;padding:5px;width:170px;display:none}.ol-ext-colorpicker .ol-rgb input{width:25%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 0 0 2px;border:1px solid #999;border-radius:2px;font-size:13px}.ol-ext-colorpicker .ol-rgb input:nth-child(1){background-color:rgba(255,0,0,.1)}.ol-ext-colorpicker .ol-rgb input:nth-child(2){background-color:rgba(0,255,0,.1)}.ol-ext-colorpicker .ol-rgb input:nth-child(3){background-color:rgba(0,0,255,.12)}.ol-ext-colorpicker button,.ol-ext-colorpicker .ol-txt-color{font-size:13px;margin:0 5px 5px;text-align:center;width:170px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0;border:1px solid #999;border-radius:2px;display:block}.ol-ext-colorpicker button{background-color:#eee}.ol-ext-colorpicker button:hover{background-color:#e9e9e9}.ol-ext-colorpicker .ol-txt-color.ol-error{background-color:rgba(255,0,0,.2)}.ol-ext-colorpicker .ol-palette{padding:2px;display:inline-block;width:152px}.ol-ext-colorpicker .ol-palette>div{width:15px;height:15px;display:inline-block;background-image:linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%),linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%);background-size:10px 10px;background-position:0 0,5px 5px;margin:2px;-webkit-box-shadow:0 0 2px 0px #666;box-shadow:0 0 2px #666;border-radius:1px;cursor:pointer;position:relative}.ol-ext-colorpicker .ol-palette>div:before{content:"";position:absolute;background-color:currentColor;width:100%;height:100%}.ol-ext-colorpicker .ol-palette>div.ol-select:after{content:"";position:absolute;width:6px;height:12px;-webkit-box-shadow:1px 1px #fff,2px 2px #000;box-shadow:1px 1px #fff,2px 2px #000;top:30%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(45deg);transform:translate(-50%,-50%) rotate(45deg)}.ol-ext-colorpicker .ol-palette>div:hover{-webkit-box-shadow:0 0 2px 1px #d90;box-shadow:0 0 2px 1px #d90}.ol-ext-colorpicker .ol-palette hr{margin:0}.ol-input-popup{display:inline-block;position:relative}.ol-input-popup .ol-popup{position:absolute;-webkit-box-shadow:1px 1px 3px 1px #999;box-shadow:1px 1px 3px 1px #999;background-color:#fff;z-index:1;display:none;left:-5px;padding:0;margin:0;list-style:none;white-space:nowrap}.ol-input-popup.ol-hover:hover .ol-popup,.ol-input-popup.ol-focus .ol-popup{display:block}.ol-input-popup.ol-right .ol-popup{left:auto;right:-5px}.ol-input-popup.ol-middle .ol-popup{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ol-input-popup .ol-popup li{position:relative;padding:10px 5px}.ol-input-popup li:hover,.ol-input-popup li.ol-selected{background-color:#ccc}.ol-input-popup.ol-fixed:hover .ol-popup,.ol-input-popup.ol-fixed .ol-popup{position:relative;left:0;-webkit-box-shadow:unset;box-shadow:unset;background-color:transparent;display:inline-block;vertical-align:middle}.ol-input-popup.ol-fixed.ol-left .ol-popup{float:left}.ol-input-popup>div{position:relative;display:inline-block;vertical-align:middle;border-radius:2px;border:1px solid #999;padding:3px 20px 3px 10px}.ol-input-popup>div:before{position:absolute;content:"";right:5px;top:50%;border:5px solid transparent;border-top:5px solid #999}.ol-ext-popup-input{display:inline-block;vertical-align:top}.ol-ext-popup-input.ol-popup{position:relative;width:2em;height:1.5em;display:inline-block;border:3px solid #fff;border-right-width:1em;-webkit-box-shadow:0 0 2px 1px #666;box-shadow:0 0 2px 1px #666;border-radius:2px;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle}.ol-ext-popup-input.ol-popup:after{content:"";position:absolute;border:.5em solid #aaa;border-width:.5em .3em 0;border-color:#999 transparent;right:-.8em;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);pointer-events:none}.ol-ext-popup-input *{-webkit-box-sizing:content-box;box-sizing:content-box}.ol-ext-popup-input.ol-popup .ol-popup{position:absolute;top:100%;min-width:3em;min-height:3em;left:0;-webkit-box-shadow:1px 1px 3px 1px #999;box-shadow:1px 1px 3px 1px #999;display:block;background-color:#fff;display:none;z-index:1}.ol-ext-popup-input.ol-popup .ol-popup.ol-visible{display:block}.ol-ext-popup-input.ol-popup-fixed .ol-popup{position:fixed;top:auto;left:auto}.ol-input-popup.ol-size li{display:table-cell;height:100%;padding:5px;vertical-align:middle}.ol-input-popup.ol-size li>*{background-color:#369;border-radius:50%;vertical-align:middle;width:1em;height:1em}.ol-input-popup.ol-size li>.ol-option-0{position:relative;width:1em;height:1em;border:2px solid currentColor;color:#aaa;background-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box}.ol-input-popup.ol-size li>*:before{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ol-input-popup.ol-size li>.ol-option-0:before{content:"";width:1em;height:2px;background-color:#aaa;-webkit-transform:translate(-50%,-50%) rotate(-45deg);transform:translate(-50%,-50%) rotate(-45deg)}.ol-input-slider{display:inline-block;position:relative}.ol-input-slider .ol-popup{position:absolute;-webkit-box-shadow:1px 1px 3px 1px #999;box-shadow:1px 1px 3px 1px #999;background-color:#fff;z-index:1;display:none;left:-5px}.ol-input-slider.ol-right .ol-popup{left:auto;right:-5px}.ol-input-slider.ol-hover:hover .ol-popup,.ol-input-slider.ol-focus .ol-popup{display:block;white-space:nowrap}.ol-input-slider.ol-hover:hover .ol-popup>*,.ol-input-slider.ol-focus .ol-popup>*{display:inline-block;vertical-align:middle}.ol-input-slider.ol-hover:hover .ol-popup>.ol-before,.ol-input-slider.ol-focus .ol-popup>.ol-before{margin-left:10px}.ol-input-slider.ol-hover:hover .ol-popup>.ol-after,.ol-input-slider.ol-focus .ol-popup>.ol-after{margin-right:10px}.ol-input-slider .ol-slider{display:inline-block;vertical-align:middle;position:relative;width:100px;height:3px;border:0 solid transparent;border-width:10px 15px;-webkit-box-shadow:inset 0 0 0 1px #999;box-shadow:inset 0 0 0 1px #999;-webkit-box-sizing:content-box;box-sizing:content-box;cursor:pointer}.ol-input-slider .ol-slider>.ol-cursor{position:absolute;width:5px;height:10px;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:#999;pointer-events:none}.ol-input-range .ol-slider{cursor:default;width:150px}.ol-input-range .ol-slider>.ol-cursor{pointer-events:all;cursor:pointer;width:10px;border-radius:50%;background-color:#003c88}.ol-input-range.ol-moving .ol-slider>.ol-cursor{pointer-events:none}.ol-input-range .ol-slider>.ol-back{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:30%;right:20%;height:100%;background-color:#003c88;pointer-events:none}.ol-input-slider.ol-fixed:hover .ol-popup,.ol-input-slider.ol-fixed .ol-popup{position:relative;left:0;-webkit-box-shadow:unset;box-shadow:unset;background-color:transparent;display:inline-block;vertical-align:middle}.ol-input-slider.ol-fixed.ol-left .ol-popup{float:left}.ol-input-slider.ol-size .ol-slider{height:auto;-webkit-box-shadow:none;box-shadow:none}.ol-input-slider.ol-size .ol-slider .ol-back{width:0;color:#aaa;border:0 solid transparent;border-width:0 0 20px 100px;border-color:currentColor transparent;pointer-events:none}.ol-input-slider.ol-size .ol-slider>.ol-cursor{width:2px;height:calc(100% + 4px);border-width:5px 3px;border-style:solid;border-color:#f00 transparent;-o-border-image:initial;border-image:initial;background-color:transparent;-webkit-box-shadow:inset 3px 0px #f00;box-shadow:inset 3px 0 red}.ol-input-popup.ol-width li{padding:5px}.ol-input-popup.ol-width li>*{background-color:#369;width:100px;height:1em}.ol-input-popup.ol-width li>.ol-option-0{position:relative;height:1px;background-image:linear-gradient(90deg,#aaa 2px,transparent 2px);background-color:transparent;background-size:4px}/*!\n* ol-contextmenu - v5.4.0\n* https://github.com/jonataswalker/ol-contextmenu\n* Built: Fri Mar 08 2024 12:11:47 GMT+0000 (Coordinated Universal Time)\n*/.ol-ctx-menu-container{position:absolute;padding:8px;background:#fff;color:#222;font-size:13px;border-radius:5px;box-shadow:rgba(0,0,0,.2) 3px 3px 5px;box-sizing:border-box}.ol-ctx-menu-container div,.ol-ctx-menu-container span,.ol-ctx-menu-container a,.ol-ctx-menu-container img,.ol-ctx-menu-container ul,.ol-ctx-menu-container li{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}.ol-ctx-menu-container a img{border:none}.ol-ctx-menu-container *,.ol-ctx-menu-container *:before,.ol-ctx-menu-container *:after{box-sizing:inherit}.ol-ctx-menu-container.ol-ctx-menu-hidden{opacity:0;visibility:hidden;transition:visibility 0s linear .3s,opacity .3s}.ol-ctx-menu-container ul{list-style:none}.ol-ctx-menu-container li{position:relative;line-height:20px;padding:2px 5px;white-space:nowrap}.ol-ctx-menu-container li:not(.ol-ctx-menu-separator):hover{cursor:pointer;background-color:#333;color:#eee}.ol-ctx-menu-container li.ol-ctx-menu-submenu .ol-ctx-menu-container{border:1px solid #eee;padding:8px;top:0;opacity:0;visibility:hidden;transition:visibility 0s linear .3s,opacity .3s}.ol-ctx-menu-container li.ol-ctx-menu-submenu:after{position:absolute;top:7px;right:10px;content:"";display:inline-block;width:.6em;height:.6em;border-right:.3em solid #222;border-top:.3em solid #222;transform:rotate(45deg)}.ol-ctx-menu-container li.ol-ctx-menu-submenu:hover:after{border-color:#eee}.ol-ctx-menu-container:not(.ol-ctx-menu-hidden) li.ol-ctx-menu-submenu:hover>.ol-ctx-menu-container{opacity:1;visibility:visible;transition-delay:0s}.ol-ctx-menu-container li.ol-ctx-menu-separator{padding:0}.ol-ctx-menu-container li.ol-ctx-menu-separator hr{border:0;height:1px;background-image:linear-gradient(to left,rgba(0,0,0,0),rgba(0,0,0,.75),rgba(0,0,0,0))}.ol-ctx-menu-icon{text-indent:20px;background-size:20px auto;background-repeat:no-repeat;background-position:left center}.ol-ctx-menu-zoom-in{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABaUlEQVQ4T72U7VHCQBCGn90GtAMuNGCswFiBWIFQgWMFxg6wArECsQKhArEBiB1Qwa1zgQn5IAYcxv13k71n3919L8KJQ07M47+BzgG9TRfZ/JBuWhS6BJFHRJICYrZGZIz3z5Ct2+B7gG6I6kt+wewdkQVwjtkAkR5mC8yu26A1oItR/cTsOweQBdgutD8G7jGm2PJ2n8oqUKIpIjd4HxTM8gvaT/F+AlmWnyWaIXKF95eNguFzTYFhNsdWu9kFgFlaFMANUH3D8wDLoLgSTSD2il8NCe2ZXQBxWDGwxmyUzzOMBZ7wy7Qb2K0wQfXjMOBuhlFpZtNty5sFaTQBuTusZdymeqs1SpYKcO9HkE3KbTd9WFijMHJQ5hBNEAYNq5Qd0dhyke0GiE4QzjqfW23mHT8Hl4DG4Lce3FPE7AtbBSdsbNqpoJLgYkRnNeUV+xwJDHTnUEkxHGbhBXUs5TjJjew/KPy94g+NRaIVRYmMXwAAAABJRU5ErkJggg==)}.ol-ctx-menu-container li:hover.ol-ctx-menu-zoom-in{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABc0lEQVQ4T71U21ECQRDsJgGdvQDECMQIxAjECMQILCPwzAAjECIQI0AiEDPQAPaWCBhrcKHuCUcV5f7dY3v6tUscefHIePhfwBBCF8CZqRCReRs1tQxDCH1VfQLQz4EsSY4AvIjIsgm8AhhCGKrqa9zwrqoLAKckB5HtguR1E2gBMITQU9VPAD8GICIGtl3e+xHJBwBT59xtHcsCYJZlUwA3kcGHbfDep51OZywi3/acZZm9vyJ5WR5o38uACmDunNt6ZwAkUxFZDwghDFT1jeSjiJinhVUBVNVJkiTDKO8CQA+AsbNQ7s1Ps0VVn5MkSfcCtmBoDZi1Bdx4eJ7zbBolrwPy3o9J3rWSHPs3A1BbjVKlYBaIyDgvu9LDXDU2RTZmXVW1oKyLxRD+OrkOrJLy5mVM0iaftDhuhVbsvBzMglzKUNW6IV/OOWtCM8MmVvEkmbwt83LaB19fdgOtVquUZJeknaDdobTwbOcvBzPcN/AXH1DFFWP7u9oAAAAASUVORK5CYII=)}.ol-ctx-menu-zoom-out{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABU0lEQVQ4T72U7VECMRRFz3sNaAdkacC1AtcKxApcKnCsQOwAK3CtQKxAqEBsANYOqCDPyTIC+8WCw5jfybn33dxEOPGSE/P4b6BzQG89RT47ZJoWhy5B5BGRZAMxWyEyxvtnyFdt8AagS1F9KQ6YvSMyB84xGyDSw2yO2XUbtAJ0MaqfmH0XAPIA2y7tj4F7jAm2uG1yWQZKNEHkBu+Dg2njWBJNEbnC+8uaIFRuWfuG2QxbbrOrUd0A1Tc8D7AIjkur7DAAsVf8MiWMZ3ZR2m02LPIMscATfjHqBnY7TFD9OAy4zTCCPG/MUKMM5O6wkXFr9dZq7FQqqHk/hDzbFa73cFONTZFDdRyiCcKg5rrSiLaXkiI6RjjrfG6VzDs+B5eAxuDXeYpmNRGzL2wZ/wof+du4GNFpBVqqz5HA4MM5VEYYDrOs+1I6Q9u/4Q8O9wN/AGgWjBVqQjjgAAAAAElFTkSuQmCC)}.ol-ctx-menu-container li:hover.ol-ctx-menu-zoom-out{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABYklEQVQ4T72U4VHCQBCF36tA91KAWIFYgViBWIFYgWMFYgdYgVCBWAFSgdiBFpAsFWSdxcDkQoBkhnF/ZjbfvX377ogjF4/Mw/8CVbUD4MynEJF5k2lqFapqz8yeAPRKkCXJEYAXEVnugm8BVXVgZq/FD+9mtgBwSrJfqF2QvN4FjYCq2jWzTwA/DhARh20qTdMRyQcA0xDCbZ3KCJhl2RTATaHgo+6HLMv8+xXJy+qB3l8FGoB5CKHsXcRV1b6ZvZF8FBH3NKotoJlNkiQZFONdlLtJ3rufbouZPSdJMjwIbKDQEzBrClx7eC4i33Uepmk6JnnXaOQifzMAtdGoRApugYiMI1uqKkrRWAfZo9MxM1+UZzFewl8mN4nYdVM83L7BkwbXLUrF3sfBLQDQBbDy08x8vOohXyEE71lVq9emuEk+3gZa3XYroCvwFyjP8yHJDsnxwaU08GxvS2uFhw78BbzWrxXgMbsHAAAAAElFTkSuQmCC)}\n',document.head.appendChild(n),e({A:mo,K:function(t,e,i,n){let o;const r=i;if(g(t)||v(t)){o=new Array(t.length);for(let i=0,n=t.length;i<n;i++)o[i]=e(t[i],i,void 0,r)}else if("number"==typeof t){o=new Array(t);for(let i=0;i<t;i++)o[i]=e(i+1,i,void 0,r)}else if(w(t))if(t[Symbol.iterator])o=Array.from(t,((t,i)=>e(t,i,void 0,r)));else{const i=Object.keys(t);o=new Array(i.length);for(let n=0,s=i.length;n<s;n++){const s=i[n];o[n]=e(t[s],s,n,r)}}else o=[];return o}/*! #__NO_SIDE_EFFECTS__ */,Y:function(t){ni=t},Z:function(){ni=null},_:cf,ak:WF,c:ao,d:Si,f:fo,h:uo,l:lf,m:om,n:$f,o:io,p:function(t){return df(Df(t))?t.pop():void 0},q:Of,r:we,u:Be,v:rm,w:ri,x:en,y:function(t,e){return function(t,e,i=!0,n=!1){const o=ii||Co;if(o){const i=o.type;{const t=Uo(i,!1);if(t&&(t===e||t===L(e)||t===P(L(e))))return i}const r=ui(o[t]||i[t],e)||ui(o.appContext[t],e);return!r&&n?i:r}}(hi,t,!0,e)||t},z:so});const r={},s=[],a=()=>{},l=()=>!1,c=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),h=t=>t.startsWith("onUpdate:"),A=Object.assign,u=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},d=Object.prototype.hasOwnProperty,p=(t,e)=>d.call(t,e),g=Array.isArray,f=t=>"[object Map]"===C(t),m=t=>"[object Set]"===C(t),b=t=>"function"==typeof t,v=t=>"string"==typeof t,y=t=>"symbol"==typeof t,w=t=>null!==t&&"object"==typeof t,x=t=>(w(t)||b(t))&&b(t.then)&&b(t.catch),_=Object.prototype.toString,C=t=>_.call(t),B=t=>C(t).slice(8,-1),S=t=>"[object Object]"===C(t),E=t=>v(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,k=o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),F=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},T=/-(\w)/g,L=F((t=>t.replace(T,((t,e)=>e?e.toUpperCase():"")))),I=/\B([A-Z])/g,M=F((t=>t.replace(I,"-$1").toLowerCase())),P=F((t=>t.charAt(0).toUpperCase()+t.slice(1))),R=F((t=>t?`on${P(t)}`:"")),N=(t,e)=>!Object.is(t,e),O=(t,...e)=>{for(let i=0;i<t.length;i++)t[i](...e)},U=(t,e,i,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:i})},D=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Q;const H=()=>Q||(Q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function z(t){if(g(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],o=v(n)?K(n):z(n);if(o)for(const t in o)e[t]=o[t]}return e}if(v(t)||w(t))return t}const j=/;(?![^(]*\))/g,G=/:([^]+)/,V=/\/\*[^]*?\*\//g;function K(t){const e={};return t.replace(V,"").split(j).forEach((t=>{if(t){const i=t.split(G);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}function q(t){let e="";if(v(t))e=t;else if(g(t))for(let i=0;i<t.length;i++){const n=q(t[i]);n&&(e+=n+" ")}else if(w(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const W=o("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function X(t){return!!t||""===t}const $=t=>!(!t||!0!==t.__v_isRef),Y=e("E",(t=>v(t)?t:null==t?"":g(t)||w(t)&&(t.toString===_||!b(t.toString))?$(t)?Y(t.value):JSON.stringify(t,Z,2):String(t))),Z=(t,e)=>$(e)?Z(t,e.value):f(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,i],n)=>(t[J(e,n)+" =>"]=i,t)),{})}:m(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>J(t)))}:y(e)?J(e):!w(e)||g(e)||S(e)?e:String(e),J=(t,e="")=>{var i;return y(t)?`Symbol(${null!=(i=t.description)?i:e})`:t};
/**
      * @vue/reactivity v3.4.31
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/
let tt,et;class it{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=tt;try{return tt=this,t()}finally{tt=e}}}on(){tt=this}off(){tt=this.parent}stop(t){if(this._active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function nt(){return tt}class ot{constructor(t,e,i,n){this.fn=t,this.trigger=e,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,function(t,e=tt){e&&e.active&&e.effects.push(t)}(this,n)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,At();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(e.computed.value,this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),ut()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=lt,e=et;try{return lt=!0,et=this,this._runnings++,rt(this),this.fn()}finally{st(this),this._runnings--,et=e,lt=t}}stop(){this.active&&(rt(this),st(this),this.onStop&&this.onStop(),this.active=!1)}}function rt(t){t._trackId++,t._depsLength=0}function st(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)at(t.deps[e],t);t.deps.length=t._depsLength}}function at(t,e){const i=t.get(e);void 0!==i&&e._trackId!==i&&(t.delete(e),0===t.size&&t.cleanup())}let lt=!0,ct=0;const ht=[];function At(){ht.push(lt),lt=!1}function ut(){const t=ht.pop();lt=void 0===t||t}function dt(){ct++}function pt(){for(ct--;!ct&&ft.length;)ft.shift()()}function gt(t,e,i){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&at(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ft=[];function mt(t,e,i){dt();for(const n of t.keys()){let i;n._dirtyLevel<e&&(null!=i?i:i=t.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=0===n._dirtyLevel),n._dirtyLevel=e),n._shouldSchedule&&(null!=i?i:i=t.get(n)===n._trackId)&&(n.trigger(),n._runnings&&!n.allowRecurse||2===n._dirtyLevel||(n._shouldSchedule=!1,n.scheduler&&ft.push(n.scheduler)))}pt()}const bt=(t,e)=>{const i=new Map;return i.cleanup=t,i.computed=e,i},vt=new WeakMap,yt=Symbol(""),wt=Symbol("");function xt(t,e,i){if(lt&&et){let e=vt.get(t);e||vt.set(t,e=new Map);let n=e.get(i);n||e.set(i,n=bt((()=>e.delete(i)))),gt(et,n)}}function _t(t,e,i,n,o,r){const s=vt.get(t);if(!s)return;let a=[];if("clear"===e)a=[...s.values()];else if("length"===i&&g(t)){const t=Number(n);s.forEach(((e,i)=>{("length"===i||!y(i)&&i>=t)&&a.push(e)}))}else switch(void 0!==i&&a.push(s.get(i)),e){case"add":g(t)?E(i)&&a.push(s.get("length")):(a.push(s.get(yt)),f(t)&&a.push(s.get(wt)));break;case"delete":g(t)||(a.push(s.get(yt)),f(t)&&a.push(s.get(wt)));break;case"set":f(t)&&a.push(s.get(yt))}dt();for(const l of a)l&&mt(l,4);pt()}const Ct=o("__proto__,__v_isRef,__isVue"),Bt=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(y)),St=Et();function Et(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const i=pe(this);for(let e=0,o=this.length;e<o;e++)xt(i,0,e+"");const n=i[e](...t);return-1===n||!1===n?i[e](...t.map(pe)):n}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){At(),dt();const i=pe(this)[e].apply(this,t);return pt(),ut(),i}})),t}function kt(t){y(t)||(t=String(t));const e=pe(this);return xt(e,0,t),e.hasOwnProperty(t)}class Ft{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,i){const n=this._isReadonly,o=this._isShallow;if("__v_isReactive"===e)return!n;if("__v_isReadonly"===e)return n;if("__v_isShallow"===e)return o;if("__v_raw"===e)return i===(n?o?re:oe:o?ne:ie).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=g(t);if(!n){if(r&&p(St,e))return Reflect.get(St,e,i);if("hasOwnProperty"===e)return kt}const s=Reflect.get(t,e,i);return(y(e)?Bt.has(e):Ct(e))?s:(n||xt(t,0,e),o?s:ye(s)?r&&E(e)?s:s.value:w(s)?n?le(s):se(s):s)}}class Tt extends Ft{constructor(t=!1){super(!1,t)}set(t,e,i,n){let o=t[e];if(!this._isShallow){const e=Ae(o);if(ue(i)||Ae(i)||(o=pe(o),i=pe(i)),!g(t)&&ye(o)&&!ye(i))return!e&&(o.value=i,!0)}const r=g(t)&&E(e)?Number(e)<t.length:p(t,e),s=Reflect.set(t,e,i,n);return t===pe(n)&&(r?N(i,o)&&_t(t,"set",e,i):_t(t,"add",e,i)),s}deleteProperty(t,e){const i=p(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&i&&_t(t,"delete",e,void 0),n}has(t,e){const i=Reflect.has(t,e);return y(e)&&Bt.has(e)||xt(t,0,e),i}ownKeys(t){return xt(t,0,g(t)?"length":yt),Reflect.ownKeys(t)}}class Lt extends Ft{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const It=new Tt,Mt=new Lt,Pt=new Tt(!0),Rt=t=>t,Nt=t=>Reflect.getPrototypeOf(t);function Ot(t,e,i=!1,n=!1){const o=pe(t=t.__v_raw),r=pe(e);i||(N(e,r)&&xt(o,0,e),xt(o,0,r));const{has:s}=Nt(o),a=n?Rt:i?fe:ge;return s.call(o,e)?a(t.get(e)):s.call(o,r)?a(t.get(r)):void(t!==o&&t.get(e))}function Ut(t,e=!1){const i=this.__v_raw,n=pe(i),o=pe(t);return e||(N(t,o)&&xt(n,0,t),xt(n,0,o)),t===o?i.has(t):i.has(t)||i.has(o)}function Dt(t,e=!1){return t=t.__v_raw,!e&&xt(pe(t),0,yt),Reflect.get(t,"size",t)}function Qt(t){t=pe(t);const e=pe(this);return Nt(e).has.call(e,t)||(e.add(t),_t(e,"add",t,t)),this}function Ht(t,e){e=pe(e);const i=pe(this),{has:n,get:o}=Nt(i);let r=n.call(i,t);r||(t=pe(t),r=n.call(i,t));const s=o.call(i,t);return i.set(t,e),r?N(e,s)&&_t(i,"set",t,e):_t(i,"add",t,e),this}function zt(t){const e=pe(this),{has:i,get:n}=Nt(e);let o=i.call(e,t);o||(t=pe(t),o=i.call(e,t)),n&&n.call(e,t);const r=e.delete(t);return o&&_t(e,"delete",t,void 0),r}function jt(){const t=pe(this),e=0!==t.size,i=t.clear();return e&&_t(t,"clear",void 0,void 0),i}function Gt(t,e){return function(i,n){const o=this,r=o.__v_raw,s=pe(r),a=e?Rt:t?fe:ge;return!t&&xt(s,0,yt),r.forEach(((t,e)=>i.call(n,a(t),a(e),o)))}}function Vt(t,e,i){return function(...n){const o=this.__v_raw,r=pe(o),s=f(r),a="entries"===t||t===Symbol.iterator&&s,l="keys"===t&&s,c=o[t](...n),h=i?Rt:e?fe:ge;return!e&&xt(r,0,l?wt:yt),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function Kt(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function qt(){const t={get(t){return Ot(this,t)},get size(){return Dt(this)},has:Ut,add:Qt,set:Ht,delete:zt,clear:jt,forEach:Gt(!1,!1)},e={get(t){return Ot(this,t,!1,!0)},get size(){return Dt(this)},has:Ut,add:Qt,set:Ht,delete:zt,clear:jt,forEach:Gt(!1,!0)},i={get(t){return Ot(this,t,!0)},get size(){return Dt(this,!0)},has(t){return Ut.call(this,t,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Gt(!0,!1)},n={get(t){return Ot(this,t,!0,!0)},get size(){return Dt(this,!0)},has(t){return Ut.call(this,t,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Gt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{t[o]=Vt(o,!1,!1),i[o]=Vt(o,!0,!1),e[o]=Vt(o,!1,!0),n[o]=Vt(o,!0,!0)})),[t,i,e,n]}const[Wt,Xt,$t,Yt]=qt();function Zt(t,e){const i=e?t?Yt:$t:t?Xt:Wt;return(e,n,o)=>"__v_isReactive"===n?!t:"__v_isReadonly"===n?t:"__v_raw"===n?e:Reflect.get(p(i,n)&&n in e?i:e,n,o)}const Jt={get:Zt(!1,!1)},te={get:Zt(!1,!0)},ee={get:Zt(!0,!1)},ie=new WeakMap,ne=new WeakMap,oe=new WeakMap,re=new WeakMap;function se(t){return Ae(t)?t:ce(t,!1,It,Jt,ie)}function ae(t){return ce(t,!1,Pt,te,ne)}function le(t){return ce(t,!0,Mt,ee,oe)}function ce(t,e,i,n,o){if(!w(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const r=o.get(t);if(r)return r;const s=(a=t).__v_skip||!Object.isExtensible(a)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(B(a));var a;if(0===s)return t;const l=new Proxy(t,2===s?n:i);return o.set(t,l),l}function he(t){return Ae(t)?he(t.__v_raw):!(!t||!t.__v_isReactive)}function Ae(t){return!(!t||!t.__v_isReadonly)}function ue(t){return!(!t||!t.__v_isShallow)}function de(t){return!!t&&!!t.__v_raw}function pe(t){const e=t&&t.__v_raw;return e?pe(e):t}const ge=t=>w(t)?se(t):t,fe=t=>w(t)?le(t):t;class me{constructor(t,e,i,n){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ot((()=>t(this._value)),(()=>ve(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=pe(this);return t._cacheable&&!t.effect.dirty||!N(t._value,t._value=t.effect.run())||ve(t,4),be(t),t.effect._dirtyLevel>=2&&ve(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function be(t){var e;lt&&et&&(t=pe(t),gt(et,null!=(e=t.dep)?e:t.dep=bt((()=>t.dep=void 0),t instanceof me?t:void 0)))}function ve(t,e=4,i,n){const o=(t=pe(t)).dep;o&&mt(o,e)}function ye(t){return!(!t||!0!==t.__v_isRef)}function we(t){return _e(t,!1)}function xe(t){return _e(t,!0)}function _e(t,e){return ye(t)?t:new Ce(t,e)}class Ce{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:pe(t),this._value=e?t:ge(t)}get value(){return be(this),this._value}set value(t){const e=this.__v_isShallow||ue(t)||Ae(t);t=e?t:pe(t),N(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=e?t:ge(t),ve(this,4))}}function Be(t){return ye(t)?t.value:t}const Se={get:(t,e,i)=>Be(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const o=t[e];return ye(o)&&!ye(i)?(o.value=i,!0):Reflect.set(t,e,i,n)}};function Ee(t){return he(t)?t:new Proxy(t,Se)}class ke{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:i}=t((()=>be(this)),(()=>ve(this)));this._get=e,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function Fe(t){const e=g(t)?new Array(t.length):{};for(const i in t)e[i]=Ie(t,i);return e}class Te{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return function(t,e){const i=vt.get(t);return i&&i.get(e)}(pe(this._object),this._key)}}class Le{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ie(t,e,i){const n=t[e];return ye(n)?n:new Te(t,e,i)}
/**
      * @vue/runtime-core v3.4.31
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/function Me(t,e,i,n){try{return n?t(...n):t()}catch(Gr){Re(Gr,e,i)}}function Pe(t,e,i,n){if(b(t)){const o=Me(t,e,i,n);return o&&x(o)&&o.catch((t=>{Re(t,e,i)})),o}if(g(t)){const o=[];for(let r=0;r<t.length;r++)o.push(Pe(t[r],e,i,n));return o}}function Re(t,e,i,n=!0){e&&e.vnode;if(e){let n=e.parent;const o=e.proxy,r=`https://vuejs.org/error-reference/#runtime-${i}`;for(;n;){const e=n.ec;if(e)for(let i=0;i<e.length;i++)if(!1===e[i](t,o,r))return;n=n.parent}const s=e.appContext.config.errorHandler;if(s)return At(),Me(s,null,10,[t,o,r]),void ut()}!function(t,e,i,n=!0){console.error(t)}(t,0,0,n)}let Ne=!1,Oe=!1;const Ue=[];let De=0;const Qe=[];let He=null,ze=0;const je=Promise.resolve();let Ge=null;function Ve(t){const e=Ge||je;return t?e.then(this?t.bind(this):t):e}function Ke(t){Ue.length&&Ue.includes(t,Ne&&t.allowRecurse?De+1:De)||(null==t.id?Ue.push(t):Ue.splice(function(t){let e=De+1,i=Ue.length;for(;e<i;){const n=e+i>>>1,o=Ue[n],r=$e(o);r<t||r===t&&o.pre?e=n+1:i=n}return e}(t.id),0,t),qe())}function qe(){Ne||Oe||(Oe=!0,Ge=je.then(Ze))}function We(t,e,i=(Ne?De+1:0)){for(;i<Ue.length;i++){const e=Ue[i];if(e&&e.pre){if(t&&e.id!==t.uid)continue;Ue.splice(i,1),i--,e()}}}function Xe(t){if(Qe.length){const t=[...new Set(Qe)].sort(((t,e)=>$e(t)-$e(e)));if(Qe.length=0,He)return void He.push(...t);for(He=t,ze=0;ze<He.length;ze++){const t=He[ze];!1!==t.active&&t()}He=null,ze=0}}const $e=t=>null==t.id?1/0:t.id,Ye=(t,e)=>{const i=$e(t)-$e(e);if(0===i){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return i};function Ze(t){Oe=!1,Ne=!0,Ue.sort(Ye);try{for(De=0;De<Ue.length;De++){const t=Ue[De];t&&!1!==t.active&&Me(t,null,14)}}finally{De=0,Ue.length=0,Xe(),Ne=!1,Ge=null,(Ue.length||Qe.length)&&Ze()}}function Je(t,e,...i){if(t.isUnmounted)return;const n=t.vnode.props||r;let o=i;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in n){const t=`${"modelValue"===a?"model":a}Modifiers`,{number:e,trim:s}=n[t]||r;s&&(o=i.map((t=>v(t)?t.trim():t))),e&&(o=i.map(D))}let l,c=n[l=R(e)]||n[l=R(L(e))];!c&&s&&(c=n[l=R(M(e))]),c&&Pe(c,t,6,o);const h=n[l+"Once"];if(h){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,Pe(h,t,6,o)}}function ti(t,e,i=!1){const n=e.emitsCache,o=n.get(t);if(void 0!==o)return o;const r=t.emits;let s={},a=!1;if(!b(t)){const n=t=>{const i=ti(t,e,!0);i&&(a=!0,A(s,i))};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return r||a?(g(r)?r.forEach((t=>s[t]=null)):A(s,r),w(t)&&n.set(t,s),s):(w(t)&&n.set(t,null),null)}function ei(t,e){return!(!t||!c(e))&&(e=e.slice(2).replace(/Once$/,""),p(t,e[0].toLowerCase()+e.slice(1))||p(t,M(e))||p(t,e))}let ii=null,ni=null;function oi(t){const e=ii;return ii=t,ni=t&&t.type.__scopeId||null,e}function ri(t,e=ii,i){if(!e)return t;if(t._n)return t;const n=(...i)=>{n._d&&oo(-1);const o=oi(e);let r;try{r=t(...i)}finally{oi(o),n._d&&oo(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function si(t){const{type:e,vnode:i,proxy:n,withProxy:o,propsOptions:[r],slots:s,attrs:a,emit:l,render:c,renderCache:A,props:u,data:d,setupState:p,ctx:g,inheritAttrs:f}=t,m=oi(t);let b,v;try{if(4&i.shapeFlag){const t=o||n,e=t;b=bo(c.call(e,t,A,u,p,d,g)),v=a}else{const t=e;0,b=bo(t.length>1?t(u,{attrs:a,slots:s,emit:l}):t(u,null)),v=e.props?a:ai(a)}}catch(Gr){to.length=0,Re(Gr,t,1),b=po(Zn)}let y=b;if(v&&!1!==f){const t=Object.keys(v),{shapeFlag:e}=y;t.length&&7&e&&(r&&t.some(h)&&(v=li(v,r)),y=go(y,v,!1,!0))}return i.dirs&&(y=go(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(i.dirs):i.dirs),i.transition&&(y.transition=i.transition),b=y,oi(m),b}const ai=t=>{let e;for(const i in t)("class"===i||"style"===i||c(i))&&((e||(e={}))[i]=t[i]);return e},li=(t,e)=>{const i={};for(const n in t)h(n)&&n.slice(9)in e||(i[n]=t[n]);return i};function ci(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(e[r]!==t[r]&&!ei(i,r))return!0}return!1}const hi="components";const Ai=Symbol.for("v-ndc");function ui(t,e){return t&&(t[e]||t[L(e)]||t[P(L(e))])}function di(t,e,i=Co,n=!1){if(i){const o=i[t]||(i[t]=[]),r=e.__weh||(e.__weh=(...n)=>{At();const o=ko(i),r=Pe(e,i,t,n);return o(),ut(),r});return n?o.unshift(r):o.push(r),r}}const pi=t=>(e,i=Co)=>{Io&&"sp"!==t||di(t,((...t)=>e(...t)),i)},gi=pi("bm"),fi=e("s",pi("m")),mi=pi("bu"),bi=pi("u"),vi=pi("bum"),yi=pi("um"),wi=pi("sp"),xi=pi("rtg"),_i=pi("rtc");function Ci(t,e=Co){di("ec",t,e)}function Bi(t,e,i,n){const o=t.dirs,r=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];r&&(a.oldValue=r[s].value);let l=a.dir[n];l&&(At(),Pe(l,i,8,[t.el,a,t,e]),ut())}}function Si(t,e){return b(t)?(()=>A({name:t.name},e,{setup:t}))():t}const Ei=t=>!!t.type.__asyncLoader;function ki(t,e,i={},n,o){if(ii.isCE||ii.parent&&Ei(ii.parent)&&ii.parent.isCE)return po("slot",i,n);let r=t[e];r&&r._c&&(r._d=!1),io();const s=r&&Fi(r(i)),a=ao($n,{key:i.key||s&&s.key||`_${e}`},s||[],s&&1===t._?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function Fi(t){return t.some((t=>!lo(t)||t.type!==Zn&&!(t.type===$n&&!Fi(t.children))))?t:null}const Ti=t=>t?To(t)?Oo(t):Ti(t.parent):null,Li=A(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ti(t.parent),$root:t=>Ti(t.root),$emit:t=>t.emit,$options:t=>zi(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ke(t.update)}),$nextTick:t=>t.n||(t.n=Ve.bind(t.proxy)),$watch:t=>Mn.bind(t)}),Ii=(t,e)=>t!==r&&!t.__isScriptSetup&&p(t,e),Mi={get({_:t},e){if("__v_skip"===e)return!0;const{ctx:i,setupState:n,data:o,props:s,accessCache:a,type:l,appContext:c}=t;let h;if("$"!==e[0]){const l=a[e];if(void 0!==l)switch(l){case 1:return n[e];case 2:return o[e];case 4:return i[e];case 3:return s[e]}else{if(Ii(n,e))return a[e]=1,n[e];if(o!==r&&p(o,e))return a[e]=2,o[e];if((h=t.propsOptions[0])&&p(h,e))return a[e]=3,s[e];if(i!==r&&p(i,e))return a[e]=4,i[e];Ui&&(a[e]=0)}}const A=Li[e];let u,d;return A?("$attrs"===e&&xt(t.attrs,0,""),A(t)):(u=l.__cssModules)&&(u=u[e])?u:i!==r&&p(i,e)?(a[e]=4,i[e]):(d=c.config.globalProperties,p(d,e)?d[e]:void 0)},set({_:t},e,i){const{data:n,setupState:o,ctx:s}=t;return Ii(o,e)?(o[e]=i,!0):n!==r&&p(n,e)?(n[e]=i,!0):!p(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=i,!0))},has({_:{data:t,setupState:e,accessCache:i,ctx:n,appContext:o,propsOptions:s}},a){let l;return!!i[a]||t!==r&&p(t,a)||Ii(e,a)||(l=s[0])&&p(l,a)||p(n,a)||p(Li,a)||p(o.config.globalProperties,a)},defineProperty(t,e,i){return null!=i.get?t._.accessCache[e]=0:p(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function Pi(){return Ri().attrs}function Ri(){const t=Bo();return t.setupContext||(t.setupContext=No(t))}function Ni(t){return g(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}function Oi(t,e){const i=Ni(t);for(const n in e){if(n.startsWith("__skip"))continue;let t=i[n];t?g(t)||b(t)?t=i[n]={type:t,default:e[n]}:t.default=e[n]:null===t&&(t=i[n]={default:e[n]}),t&&e[`__skip_${n}`]&&(t.skipFactory=!0)}return i}let Ui=!0;function Di(t){const e=zi(t),i=t.proxy,n=t.ctx;Ui=!1,e.beforeCreate&&Qi(e.beforeCreate,t,"bc");const{data:o,computed:r,methods:s,watch:l,provide:c,inject:h,created:A,beforeMount:u,mounted:d,beforeUpdate:p,updated:f,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:x,destroyed:_,unmounted:C,render:B,renderTracked:S,renderTriggered:E,errorCaptured:k,serverPrefetch:F,expose:T,inheritAttrs:L,components:I,directives:M,filters:P}=e;if(h&&function(t,e,i=a){g(t)&&(t=Ki(t));for(const n in t){const i=t[n];let o;o=w(i)?"default"in i?en(i.from||n,i.default,!0):en(i.from||n):en(i),ye(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[n]=o}}(h,n,null),s)for(const a in s){const t=s[a];b(t)&&(n[a]=t.bind(i))}if(o){const e=o.call(i,i);w(e)&&(t.data=se(e))}if(Ui=!0,r)for(const g in r){const t=r[g],e=b(t)?t.bind(i,i):b(t.get)?t.get.bind(i,i):a,o=!b(t)&&b(t.set)?t.set.bind(i):a,s=Do({get:e,set:o});Object.defineProperty(n,g,{enumerable:!0,configurable:!0,get:()=>s.value,set:t=>s.value=t})}if(l)for(const a in l)Hi(l[a],n,i,a);if(c){const t=b(c)?c.call(i):c;Reflect.ownKeys(t).forEach((e=>{tn(e,t[e])}))}function R(t,e){g(e)?e.forEach((e=>t(e.bind(i)))):e&&t(e.bind(i))}if(A&&Qi(A,t,"c"),R(gi,u),R(fi,d),R(mi,p),R(bi,f),R(On,m),R(Un,v),R(Ci,k),R(_i,S),R(xi,E),R(vi,x),R(yi,C),R(wi,F),g(T))if(T.length){const e=t.exposed||(t.exposed={});T.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e})}))}else t.exposed||(t.exposed={});B&&t.render===a&&(t.render=B),null!=L&&(t.inheritAttrs=L),I&&(t.components=I),M&&(t.directives=M)}function Qi(t,e,i){Pe(g(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,i)}function Hi(t,e,i,n){const o=n.includes(".")?Pn(i,n):()=>i[n];if(v(t)){const i=e[t];b(i)&&Ln(o,i)}else if(b(t))Ln(o,t.bind(i));else if(w(t))if(g(t))t.forEach((t=>Hi(t,e,i,n)));else{const n=b(t.handler)?t.handler.bind(i):e[t.handler];b(n)&&Ln(o,n,t)}}function zi(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:o,optionsCache:r,config:{optionMergeStrategies:s}}=t.appContext,a=r.get(e);let l;return a?l=a:o.length||i||n?(l={},o.length&&o.forEach((t=>ji(l,t,s,!0))),ji(l,e,s)):l=e,w(e)&&r.set(e,l),l}function ji(t,e,i,n=!1){const{mixins:o,extends:r}=e;r&&ji(t,r,i,!0),o&&o.forEach((e=>ji(t,e,i,!0)));for(const s in e)if(n&&"expose"===s);else{const n=Gi[s]||i&&i[s];t[s]=n?n(t[s],e[s]):e[s]}return t}const Gi={data:Vi,props:Xi,emits:Xi,methods:Wi,computed:Wi,beforeCreate:qi,created:qi,beforeMount:qi,mounted:qi,beforeUpdate:qi,updated:qi,beforeDestroy:qi,beforeUnmount:qi,destroyed:qi,unmounted:qi,activated:qi,deactivated:qi,errorCaptured:qi,serverPrefetch:qi,components:Wi,directives:Wi,watch:function(t,e){if(!t)return e;if(!e)return t;const i=A(Object.create(null),t);for(const n in e)i[n]=qi(t[n],e[n]);return i},provide:Vi,inject:function(t,e){return Wi(Ki(t),Ki(e))}};function Vi(t,e){return e?t?function(){return A(b(t)?t.call(this,this):t,b(e)?e.call(this,this):e)}:e:t}function Ki(t){if(g(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function qi(t,e){return t?[...new Set([].concat(t,e))]:e}function Wi(t,e){return t?A(Object.create(null),t,e):e}function Xi(t,e){return t?g(t)&&g(e)?[...new Set([...t,...e])]:A(Object.create(null),Ni(t),Ni(null!=e?e:{})):e}function $i(){return{app:null,config:{isNativeTag:l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yi=0;function Zi(t,e){return function(i,n=null){b(i)||(i=A({},i)),null==n||w(n)||(n=null);const o=$i(),r=new WeakSet;let s=!1;const a=o.app={_uid:Yi++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Ho,get config(){return o.config},set config(t){},use:(t,...e)=>(r.has(t)||(t&&b(t.install)?(r.add(t),t.install(a,...e)):b(t)&&(r.add(t),t(a,...e))),a),mixin:t=>(o.mixins.includes(t)||o.mixins.push(t),a),component:(t,e)=>e?(o.components[t]=e,a):o.components[t],directive:(t,e)=>e?(o.directives[t]=e,a):o.directives[t],mount(r,l,c){if(!s){const h=po(i,n);return h.appContext=o,!0===c?c="svg":!1===c&&(c=void 0),l&&e?e(h,r):t(h,r,c),s=!0,a._container=r,r.__vue_app__=a,Oo(h.component)}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(o.provides[t]=e,a),runWithContext(t){const e=Ji;Ji=a;try{return t()}finally{Ji=e}}};return a}}let Ji=null;function tn(t,e){if(Co){let i=Co.provides;const n=Co.parent&&Co.parent.provides;n===i&&(i=Co.provides=Object.create(n)),i[t]=e}else;}function en(t,e,i=!1){const n=Co||ii;if(n||Ji){const o=n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Ji._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return i&&b(e)?e.call(n&&n.proxy):e}}const nn={},on=()=>Object.create(nn),rn=t=>Object.getPrototypeOf(t)===nn;function sn(t,e,i,n){const[o,s]=t.propsOptions;let a,l=!1;if(e)for(let r in e){if(k(r))continue;const c=e[r];let h;o&&p(o,h=L(r))?s&&s.includes(h)?(a||(a={}))[h]=c:i[h]=c:ei(t.emitsOptions,r)||r in n&&c===n[r]||(n[r]=c,l=!0)}if(s){const e=pe(i),n=a||r;for(let r=0;r<s.length;r++){const a=s[r];i[a]=an(o,e,a,n[a],t,!p(n,a))}}return l}function an(t,e,i,n,o,r){const s=t[i];if(null!=s){const t=p(s,"default");if(t&&void 0===n){const t=s.default;if(s.type!==Function&&!s.skipFactory&&b(t)){const{propsDefaults:r}=o;if(i in r)n=r[i];else{const s=ko(o);n=r[i]=t.call(null,e),s()}}else n=t}s[0]&&(r&&!t?n=!1:!s[1]||""!==n&&n!==M(i)||(n=!0))}return n}function ln(t,e,i=!1){const n=e.propsCache,o=n.get(t);if(o)return o;const a=t.props,l={},c=[];let h=!1;if(!b(t)){const n=t=>{h=!0;const[i,n]=ln(t,e,!0);A(l,i),n&&c.push(...n)};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}if(!a&&!h)return w(t)&&n.set(t,s),s;if(g(a))for(let s=0;s<a.length;s++){const t=L(a[s]);cn(t)&&(l[t]=r)}else if(a)for(const r in a){const t=L(r);if(cn(t)){const e=a[r],i=l[t]=g(e)||b(e)?{type:e}:A({},e);if(i){const e=un(Boolean,i.type),n=un(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||p(i,"default"))&&c.push(t)}}}const u=[l,c];return w(t)&&n.set(t,u),u}function cn(t){return"$"!==t[0]&&!k(t)}function hn(t){if(null===t)return"null";if("function"==typeof t)return t.name||"";if("object"==typeof t){return t.constructor&&t.constructor.name||""}return""}function An(t,e){return hn(t)===hn(e)}function un(t,e){return g(e)?e.findIndex((e=>An(e,t))):b(e)&&An(e,t)?0:-1}const dn=t=>"_"===t[0]||"$stable"===t,pn=t=>g(t)?t.map(bo):[bo(t)],gn=(t,e,i)=>{if(e._n)return e;const n=ri(((...t)=>pn(e(...t))),i);return n._c=!1,n},fn=(t,e,i)=>{const n=t._ctx;for(const o in t){if(dn(o))continue;const i=t[o];if(b(i))e[o]=gn(0,i,n);else if(null!=i){const t=pn(i);e[o]=()=>t}}},mn=(t,e)=>{const i=pn(e);t.slots.default=()=>i},bn=(t,e)=>{const i=t.slots=on();if(32&t.vnode.shapeFlag){const t=e._;t?(A(i,e),U(i,"_",t,!0)):fn(e,i)}else e&&mn(t,e)},vn=(t,e,i)=>{const{vnode:n,slots:o}=t;let s=!0,a=r;if(32&n.shapeFlag){const t=e._;t?i&&1===t?s=!1:(A(o,e),i||1!==t||delete o._):(s=!e.$stable,fn(e,o)),a=e}else e&&(mn(t,e),a={default:1});if(s)for(const r in o)dn(r)||null!=a[r]||delete o[r]};function yn(t,e,i,n,o=!1){if(g(t))return void t.forEach(((t,r)=>yn(t,e&&(g(e)?e[r]:e),i,n,o)));if(Ei(n)&&!o)return;const s=4&n.shapeFlag?Oo(n.component):n.el,a=o?null:s,{i:l,r:c}=t,h=e&&e.r,A=l.refs===r?l.refs={}:l.refs,d=l.setupState;if(null!=h&&h!==c&&(v(h)?(A[h]=null,p(d,h)&&(d[h]=null)):ye(h)&&(h.value=null)),b(c))Me(c,l,12,[a,A]);else{const e=v(c),n=ye(c);if(e||n){const r=()=>{if(t.f){const i=e?p(d,c)?d[c]:A[c]:c.value;o?g(i)&&u(i,s):g(i)?i.includes(s)||i.push(s):e?(A[c]=[s],p(d,c)&&(d[c]=A[c])):(c.value=[s],t.k&&(A[t.k]=c.value))}else e?(A[c]=a,p(d,c)&&(d[c]=a)):n&&(c.value=a,t.k&&(A[t.k]=a))};a?(r.id=-1,wn(r,i)):r()}}}const wn=function(t,e){var i;e&&e.pendingBranch?g(t)?e.effects.push(...t):e.effects.push(t):(g(i=t)?Qe.push(...i):He&&He.includes(i,i.allowRecurse?ze+1:ze)||Qe.push(i),qe())};function xn(t){return function(t,e){H().__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:l,createText:c,createComment:h,setText:A,setElementText:u,parentNode:d,nextSibling:g,setScopeId:f=a,insertStaticContent:m}=t,b=(t,e,i,n=null,o=null,r=null,s=void 0,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!co(t,e)&&(n=Z(t),q(t,o,r,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:h,shapeFlag:A}=e;switch(c){case Yn:v(t,e,i,n);break;case Zn:y(t,e,i,n);break;case Jn:null==t&&w(e,i,n,s);break;case $n:R(t,e,i,n,o,r,s,a,l);break;default:1&A?B(t,e,i,n,o,r,s,a,l):6&A?N(t,e,i,n,o,r,s,a,l):(64&A||128&A)&&c.process(t,e,i,n,o,r,s,a,l,et)}null!=h&&o&&yn(h,t&&t.ref,r,e||t,!e)},v=(t,e,n,o)=>{if(null==t)i(e.el=c(e.children),n,o);else{const i=e.el=t.el;e.children!==t.children&&A(i,e.children)}},y=(t,e,n,o)=>{null==t?i(e.el=h(e.children||""),n,o):e.el=t.el},w=(t,e,i,n)=>{[t.el,t.anchor]=m(t.children,e,i,n,t.el,t.anchor)},_=({el:t,anchor:e},n,o)=>{let r;for(;t&&t!==e;)r=g(t),i(t,n,o),t=r;i(e,n,o)},C=({el:t,anchor:e})=>{let i;for(;t&&t!==e;)i=g(t),n(t),t=i;n(e)},B=(t,e,i,n,o,r,s,a,l)=>{"svg"===e.type?s="svg":"math"===e.type&&(s="mathml"),null==t?S(e,i,n,o,r,s,a,l):T(t,e,o,r,s,a,l)},S=(t,e,n,r,s,a,c,h)=>{let A,d;const{props:p,shapeFlag:g,transition:f,dirs:m}=t;if(A=t.el=l(t.type,a,p&&p.is,p),8&g?u(A,t.children):16&g&&F(t.children,A,null,r,s,_n(t,a),c,h),m&&Bi(t,null,r,"created"),E(A,t,t.scopeId,c,r),p){for(const e in p)"value"===e||k(e)||o(A,e,null,p[e],a,t.children,r,s,Y);"value"in p&&o(A,"value",null,p.value,a),(d=p.onVnodeBeforeMount)&&wo(d,r,t)}m&&Bi(t,null,r,"beforeMount");const b=function(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}(s,f);b&&f.beforeEnter(A),i(A,e,n),((d=p&&p.onVnodeMounted)||b||m)&&wn((()=>{d&&wo(d,r,t),b&&f.enter(A),m&&Bi(t,null,r,"mounted")}),s)},E=(t,e,i,n,o)=>{if(i&&f(t,i),n)for(let r=0;r<n.length;r++)f(t,n[r]);if(o){if(e===o.subTree){const e=o.vnode;E(t,e,e.scopeId,e.slotScopeIds,o.parent)}}},F=(t,e,i,n,o,r,s,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?vo(t[c]):bo(t[c]);b(null,l,e,i,n,o,r,s,a)}},T=(t,e,i,n,s,a,l)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:A,dirs:d}=e;h|=16&t.patchFlag;const p=t.props||r,g=e.props||r;let f;if(i&&Cn(i,!1),(f=g.onVnodeBeforeUpdate)&&wo(f,i,e,t),d&&Bi(e,t,i,"beforeUpdate"),i&&Cn(i,!0),A?I(t.dynamicChildren,A,c,i,n,_n(e,s),a):l||j(t,e,c,null,i,n,_n(e,s),a,!1),h>0){if(16&h)P(c,e,p,g,i,n,s);else if(2&h&&p.class!==g.class&&o(c,"class",null,g.class,s),4&h&&o(c,"style",p.style,g.style,s),8&h){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const a=r[e],l=p[a],h=g[a];h===l&&"value"!==a||o(c,a,l,h,s,t.children,i,n,Y)}}1&h&&t.children!==e.children&&u(c,e.children)}else l||null!=A||P(c,e,p,g,i,n,s);((f=g.onVnodeUpdated)||d)&&wn((()=>{f&&wo(f,i,e,t),d&&Bi(e,t,i,"updated")}),n)},I=(t,e,i,n,o,r,s)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],h=l.el&&(l.type===$n||!co(l,c)||70&l.shapeFlag)?d(l.el):i;b(l,c,h,null,n,o,r,s,!0)}},P=(t,e,i,n,s,a,l)=>{if(i!==n){if(i!==r)for(const r in i)k(r)||r in n||o(t,r,i[r],null,l,e.children,s,a,Y);for(const r in n){if(k(r))continue;const c=n[r],h=i[r];c!==h&&"value"!==r&&o(t,r,h,c,l,e.children,s,a,Y)}"value"in n&&o(t,"value",i.value,n.value,l)}},R=(t,e,n,o,r,s,a,l,h)=>{const A=e.el=t?t.el:c(""),u=e.anchor=t?t.anchor:c("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:g}=e;g&&(l=l?l.concat(g):g),null==t?(i(A,n,o),i(u,n,o),F(e.children||[],n,u,r,s,a,l,h)):d>0&&64&d&&p&&t.dynamicChildren?(I(t.dynamicChildren,p,n,r,s,a,l),(null!=e.key||r&&e===r.subTree)&&Bn(t,e,!0)):j(t,e,n,u,r,s,a,l,h)},N=(t,e,i,n,o,r,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?o.ctx.activate(e,i,n,s,l):U(e,i,n,o,r,s,l):D(t,e,l)},U=(t,e,i,n,o,s,a)=>{const l=t.component=function(t,e,i){const n=t.type,o=(e?e.appContext:t.appContext)||xo,s={uid:_o++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new it(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ln(n,o),emitsOptions:ti(n,o),emit:null,emitted:null,propsDefaults:r,inheritAttrs:n.inheritAttrs,ctx:r,data:r,props:r,attrs:r,slots:r,refs:r,setupState:r,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};s.ctx={_:s},s.root=e?e.root:s,s.emit=Je.bind(null,s),t.ce&&t.ce(s);return s}(t,n,o);if(Nn(t)&&(l.ctx.renderer=et),function(t,e=!1){e&&Eo(e);const{props:i,children:n}=t.vnode,o=To(t);(function(t,e,i,n=!1){const o={},r=on();t.propsDefaults=Object.create(null),sn(t,e,o,r);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);i?t.props=n?o:ae(o):t.type.props?t.props=o:t.props=r,t.attrs=r})(t,i,o,e),bn(t,n);const r=o?function(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Mi);const{setup:n}=i;if(n){const i=t.setupContext=n.length>1?No(t):null,o=ko(t);At();const r=Me(n,t,0,[t.props,i]);if(ut(),o(),x(r)){if(r.then(Fo,Fo),e)return r.then((i=>{Mo(t,i,e)})).catch((e=>{Re(e,t,0)}));t.asyncDep=r}else Mo(t,r,e)}else Po(t,e)}(t,e):void 0;e&&Eo(!1)}(l),l.asyncDep){if(o&&o.registerDep(l,Q,a),!t.el){const t=l.subTree=po(Zn);y(null,t,e,i)}}else Q(l,t,e,i,o,s,a)},D=(t,e,i)=>{const n=e.component=t.component;if(function(t,e,i){const{props:n,children:o,component:r}=t,{props:s,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(i&&l>=0))return!(!o&&!a||a&&a.$stable)||n!==s&&(n?!s||ci(n,s,c):!!s);if(1024&l)return!0;if(16&l)return n?ci(n,s,c):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e];if(s[i]!==n[i]&&!ei(c,i))return!0}}return!1}(t,e,i)){if(n.asyncDep&&!n.asyncResolved)return void z(n,e,i);n.next=e,function(t){const e=Ue.indexOf(t);e>De&&Ue.splice(e,1)}(n.update),n.effect.dirty=!0,n.update()}else e.el=t.el,n.vnode=e},Q=(t,e,i,n,o,r,s)=>{const l=()=>{if(t.isMounted){let{next:e,bu:i,u:n,parent:a,vnode:c}=t;{const i=Sn(t);if(i)return e&&(e.el=c.el,z(t,e,s)),void i.asyncDep.then((()=>{t.isUnmounted||l()}))}let h,A=e;Cn(t,!1),e?(e.el=c.el,z(t,e,s)):e=c,i&&O(i),(h=e.props&&e.props.onVnodeBeforeUpdate)&&wo(h,a,e,c),Cn(t,!0);const u=si(t),p=t.subTree;t.subTree=u,b(p,u,d(p.el),Z(p),t,o,r),e.el=u.el,null===A&&function({vnode:t,parent:e},i){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n!==t)break;(t=e.vnode).el=i,e=e.parent}}(t,u.el),n&&wn(n,o),(h=e.props&&e.props.onVnodeUpdated)&&wn((()=>wo(h,a,e,c)),o)}else{let s;const{el:a,props:l}=e,{bm:c,m:h,parent:A}=t,u=Ei(e);if(Cn(t,!1),c&&O(c),!u&&(s=l&&l.onVnodeBeforeMount)&&wo(s,A,e),Cn(t,!0),a&&rt){const i=()=>{t.subTree=si(t),rt(a,t.subTree,t,o,null)};u?e.type.__asyncLoader().then((()=>!t.isUnmounted&&i())):i()}else{const s=t.subTree=si(t);b(null,s,i,n,t,o,r),e.el=s.el}if(h&&wn(h,o),!u&&(s=l&&l.onVnodeMounted)){const t=e;wn((()=>wo(s,A,t)),o)}(256&e.shapeFlag||A&&Ei(A.vnode)&&256&A.vnode.shapeFlag)&&t.a&&wn(t.a,o),t.isMounted=!0,e=i=n=null}},c=t.effect=new ot(l,a,(()=>Ke(h)),t.scope),h=t.update=()=>{c.dirty&&c.run()};h.id=t.uid,Cn(t,!0),h()},z=(t,e,i)=>{e.component=t;const n=t.vnode.props;t.vnode=e,t.next=null,function(t,e,i,n){const{props:o,attrs:r,vnode:{patchFlag:s}}=t,a=pe(o),[l]=t.propsOptions;let c=!1;if(!(n||s>0)||16&s){let n;sn(t,e,o,r)&&(c=!0);for(const r in a)e&&(p(e,r)||(n=M(r))!==r&&p(e,n))||(l?!i||void 0===i[r]&&void 0===i[n]||(o[r]=an(l,a,r,void 0,t,!0)):delete o[r]);if(r!==a)for(const t in r)e&&p(e,t)||(delete r[t],c=!0)}else if(8&s){const i=t.vnode.dynamicProps;for(let n=0;n<i.length;n++){let s=i[n];if(ei(t.emitsOptions,s))continue;const h=e[s];if(l)if(p(r,s))h!==r[s]&&(r[s]=h,c=!0);else{const e=L(s);o[e]=an(l,a,e,h,t,!1)}else h!==r[s]&&(r[s]=h,c=!0)}}c&&_t(t.attrs,"set","")}(t,e.props,n,i),vn(t,e.children,i),At(),We(t),ut()},j=(t,e,i,n,o,r,s,a,l=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,A=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void V(c,A,i,n,o,r,s,a,l);if(256&d)return void G(c,A,i,n,o,r,s,a,l)}8&p?(16&h&&Y(c,o,r),A!==c&&u(i,A)):16&h?16&p?V(c,A,i,n,o,r,s,a,l):Y(c,o,r,!0):(8&h&&u(i,""),16&p&&F(A,i,n,o,r,s,a,l))},G=(t,e,i,n,o,r,a,l,c)=>{e=e||s;const h=(t=t||s).length,A=e.length,u=Math.min(h,A);let d;for(d=0;d<u;d++){const n=e[d]=c?vo(e[d]):bo(e[d]);b(t[d],n,i,null,o,r,a,l,c)}h>A?Y(t,o,r,!0,!1,u):F(e,i,n,o,r,a,l,c,u)},V=(t,e,i,n,o,r,a,l,c)=>{let h=0;const A=e.length;let u=t.length-1,d=A-1;for(;h<=u&&h<=d;){const n=t[h],s=e[h]=c?vo(e[h]):bo(e[h]);if(!co(n,s))break;b(n,s,i,null,o,r,a,l,c),h++}for(;h<=u&&h<=d;){const n=t[u],s=e[d]=c?vo(e[d]):bo(e[d]);if(!co(n,s))break;b(n,s,i,null,o,r,a,l,c),u--,d--}if(h>u){if(h<=d){const t=d+1,s=t<A?e[t].el:n;for(;h<=d;)b(null,e[h]=c?vo(e[h]):bo(e[h]),i,s,o,r,a,l,c),h++}}else if(h>d)for(;h<=u;)q(t[h],o,r,!0),h++;else{const p=h,g=h,f=new Map;for(h=g;h<=d;h++){const t=e[h]=c?vo(e[h]):bo(e[h]);null!=t.key&&f.set(t.key,h)}let m,v=0;const y=d-g+1;let w=!1,x=0;const _=new Array(y);for(h=0;h<y;h++)_[h]=0;for(h=p;h<=u;h++){const n=t[h];if(v>=y){q(n,o,r,!0);continue}let s;if(null!=n.key)s=f.get(n.key);else for(m=g;m<=d;m++)if(0===_[m-g]&&co(n,e[m])){s=m;break}void 0===s?q(n,o,r,!0):(_[s-g]=h+1,s>=x?x=s:w=!0,b(n,e[s],i,null,o,r,a,l,c),v++)}const C=w?function(t){const e=t.slice(),i=[0];let n,o,r,s,a;const l=t.length;for(n=0;n<l;n++){const l=t[n];if(0!==l){if(o=i[i.length-1],t[o]<l){e[n]=o,i.push(n);continue}for(r=0,s=i.length-1;r<s;)a=r+s>>1,t[i[a]]<l?r=a+1:s=a;l<t[i[r]]&&(r>0&&(e[n]=i[r-1]),i[r]=n)}}r=i.length,s=i[r-1];for(;r-- >0;)i[r]=s,s=e[s];return i}(_):s;for(m=C.length-1,h=y-1;h>=0;h--){const t=g+h,s=e[t],u=t+1<A?e[t+1].el:n;0===_[h]?b(null,s,i,u,o,r,a,l,c):w&&(m<0||h!==C[m]?K(s,i,u,2):m--)}}},K=(t,e,n,o,r=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:h}=t;if(6&h)return void K(t.component.subTree,e,n,o);if(128&h)return void t.suspense.move(e,n,o);if(64&h)return void a.move(t,e,n,et);if(a===$n){i(s,e,n);for(let t=0;t<c.length;t++)K(c[t],e,n,o);return void i(t.anchor,e,n)}if(a===Jn)return void _(t,e,n);if(2!==o&&1&h&&l)if(0===o)l.beforeEnter(s),i(s,e,n),wn((()=>l.enter(s)),r);else{const{leave:t,delayLeave:o,afterLeave:r}=l,a=()=>i(s,e,n),c=()=>{t(s,(()=>{a(),r&&r()}))};o?o(s,a,c):c()}else i(s,e,n)},q=(t,e,i,n=!1,o=!1)=>{const{type:r,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:h,patchFlag:A,dirs:u,memoIndex:d}=t;if(-2===A&&(o=!1),null!=a&&yn(a,null,i,t,!0),null!=d&&(e.renderCache[d]=void 0),256&h)return void e.ctx.deactivate(t);const p=1&h&&u,g=!Ei(t);let f;if(g&&(f=s&&s.onVnodeBeforeUnmount)&&wo(f,e,t),6&h)$(t.component,i,n);else{if(128&h)return void t.suspense.unmount(i,n);p&&Bi(t,null,e,"beforeUnmount"),64&h?t.type.remove(t,e,i,et,n):c&&(r!==$n||A>0&&64&A)?Y(c,e,i,!1,!0):(r===$n&&384&A||!o&&16&h)&&Y(l,e,i),n&&W(t)}(g&&(f=s&&s.onVnodeUnmounted)||p)&&wn((()=>{f&&wo(f,e,t),p&&Bi(t,null,e,"unmounted")}),i)},W=t=>{const{type:e,el:i,anchor:o,transition:r}=t;if(e===$n)return void X(i,o);if(e===Jn)return void C(t);const s=()=>{n(i),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:n}=r,o=()=>e(i,s);n?n(t.el,s,o):o()}else s()},X=(t,e)=>{let i;for(;t!==e;)i=g(t),n(t),t=i;n(e)},$=(t,e,i)=>{const{bum:n,scope:o,update:r,subTree:s,um:a,m:l,a:c}=t;En(l),En(c),n&&O(n),o.stop(),r&&(r.active=!1,q(s,t,e,i)),a&&wn(a,e),wn((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},Y=(t,e,i,n=!1,o=!1,r=0)=>{for(let s=r;s<t.length;s++)q(t[s],e,i,n,o)},Z=t=>6&t.shapeFlag?Z(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el);let J=!1;const tt=(t,e,i)=>{null==t?e._vnode&&q(e._vnode,null,null,!0):b(e._vnode||null,t,e,null,null,null,i),J||(J=!0,We(),Xe(),J=!1),e._vnode=t},et={p:b,um:q,m:K,r:W,mt:U,mc:F,pc:j,pbc:I,n:Z,o:t};let nt,rt;return{render:tt,hydrate:nt,createApp:Zi(tt,nt)}}(t)}function _n({type:t,props:e},i){return"svg"===i&&"foreignObject"===t||"mathml"===i&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function Cn({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function Bn(t,e,i=!1){const n=t.children,o=e.children;if(g(n)&&g(o))for(let r=0;r<n.length;r++){const t=n[r];let e=o[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[r]=vo(o[r]),e.el=t.el),i||-2===e.patchFlag||Bn(t,e)),e.type===Yn&&(e.el=t.el)}}function Sn(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Sn(e)}function En(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const kn=Symbol.for("v-scx"),Fn=()=>en(kn);const Tn={};function Ln(t,e,i){return In(t,e,i)}function In(t,e,{immediate:i,deep:n,flush:o,once:s,onTrack:l,onTrigger:c}=r){if(e&&s){const t=e;e=(...e)=>{t(...e),S()}}const h=Co,A=t=>!0===n?t:Rn(t,!1===n?1:void 0);let d,p,f=!1,m=!1;if(ye(t)?(d=()=>t.value,f=ue(t)):he(t)?(d=()=>A(t),f=!0):g(t)?(m=!0,f=t.some((t=>he(t)||ue(t))),d=()=>t.map((t=>ye(t)?t.value:he(t)?A(t):b(t)?Me(t,h,2):void 0))):d=b(t)?e?()=>Me(t,h,2):()=>(p&&p(),Pe(t,h,3,[y])):a,e&&n){const t=d;d=()=>Rn(t())}let v,y=t=>{p=C.onStop=()=>{Me(t,h,4),p=C.onStop=void 0}};if(Io){if(y=a,e?i&&Pe(e,h,3,[d(),m?[]:void 0,y]):d(),"sync"!==o)return a;{const t=Fn();v=t.__watcherHandles||(t.__watcherHandles=[])}}let w=m?new Array(t.length).fill(Tn):Tn;const x=()=>{if(C.active&&C.dirty)if(e){const t=C.run();(n||f||(m?t.some(((t,e)=>N(t,w[e]))):N(t,w)))&&(p&&p(),Pe(e,h,3,[t,w===Tn?void 0:m&&w[0]===Tn?[]:w,y]),w=t)}else C.run()};let _;x.allowRecurse=!!e,"sync"===o?_=x:"post"===o?_=()=>wn(x,h&&h.suspense):(x.pre=!0,h&&(x.id=h.uid),_=()=>Ke(x));const C=new ot(d,a,_),B=nt(),S=()=>{C.stop(),B&&u(B.effects,C)};return e?i?x():w=C.run():"post"===o?wn(C.run.bind(C),h&&h.suspense):C.run(),v&&v.push(S),S}function Mn(t,e,i){const n=this.proxy,o=v(t)?t.includes(".")?Pn(n,t):()=>n[t]:t.bind(n,n);let r;b(e)?r=e:(r=e.handler,i=e);const s=ko(this),a=In(o,r.bind(n),i);return s(),a}function Pn(t,e){const i=e.split(".");return()=>{let e=t;for(let t=0;t<i.length&&e;t++)e=e[i[t]];return e}}function Rn(t,e=1/0,i){if(e<=0||!w(t)||t.__v_skip)return t;if((i=i||new Set).has(t))return t;if(i.add(t),e--,ye(t))Rn(t.value,e,i);else if(g(t))for(let n=0;n<t.length;n++)Rn(t[n],e,i);else if(m(t)||f(t))t.forEach((t=>{Rn(t,e,i)}));else if(S(t)){for(const n in t)Rn(t[n],e,i);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Rn(t[n],e,i)}return t}const Nn=t=>t.type.__isKeepAlive;function On(t,e){Dn(t,"a",e)}function Un(t,e){Dn(t,"da",e)}function Dn(t,e,i=Co){const n=t.__wdc||(t.__wdc=()=>{let e=i;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(di(e,n,i),i){let t=i.parent;for(;t&&t.parent;)Nn(t.parent.vnode)&&Qn(n,e,i,t),t=t.parent}}function Qn(t,e,i,n){const o=di(e,t,n,!0);yi((()=>{u(n[e],o)}),i)}function Hn(t,e){6&t.shapeFlag&&t.component?Hn(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}const zn=t=>t&&(t.disabled||""===t.disabled),jn=t=>"undefined"!=typeof SVGElement&&t instanceof SVGElement,Gn=t=>"function"==typeof MathMLElement&&t instanceof MathMLElement,Vn=(t,e)=>{const i=t&&t.to;if(v(i)){if(e){return e(i)}return null}return i},Kn={name:"Teleport",__isTeleport:!0,process(t,e,i,n,o,r,s,a,l,c){const{mc:h,pc:A,pbc:u,o:{insert:d,querySelector:p,createText:g,createComment:f}}=c,m=zn(e.props);let{shapeFlag:b,children:v,dynamicChildren:y}=e;if(null==t){const t=e.el=g(""),c=e.anchor=g("");d(t,i,n),d(c,i,n);const A=e.target=Vn(e.props,p),u=e.targetAnchor=g("");A&&(d(u,A),"svg"===s||jn(A)?s="svg":("mathml"===s||Gn(A))&&(s="mathml"));const f=(t,e)=>{16&b&&h(v,t,e,o,r,s,a,l)};m?f(i,c):A&&f(A,u)}else{e.el=t.el;const n=e.anchor=t.anchor,h=e.target=t.target,d=e.targetAnchor=t.targetAnchor,g=zn(t.props),f=g?i:h,b=g?n:d;if("svg"===s||jn(h)?s="svg":("mathml"===s||Gn(h))&&(s="mathml"),y?(u(t.dynamicChildren,y,f,o,r,s,a),Bn(t,e,!0)):l||A(t,e,f,b,o,r,s,a,!1),m)g?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):qn(e,i,n,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Vn(e.props,p);t&&qn(e,t,null,c,0)}else g&&qn(e,h,d,c,1)}Xn(e)},remove(t,e,i,{um:n,o:{remove:o}},r){const{shapeFlag:s,children:a,anchor:l,targetAnchor:c,target:h,props:A}=t;if(h&&o(c),r&&o(l),16&s){const t=r||!zn(A);for(let o=0;o<a.length;o++){const r=a[o];n(r,e,i,t,!!r.dynamicChildren)}}},move:qn,hydrate:function(t,e,i,n,o,r,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const h=e.target=Vn(e.props,l);if(h){const l=h._lpa||h.firstChild;if(16&e.shapeFlag)if(zn(e.props))e.anchor=c(s(t),e,a(t),i,n,o,r),e.targetAnchor=l;else{e.anchor=s(t);let a=l;for(;a;)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,h._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(l,e,h,i,n,o,r)}Xn(e)}return e.anchor&&s(e.anchor)}};function qn(t,e,i,{o:{insert:n},m:o},r=2){0===r&&n(t.targetAnchor,e,i);const{el:s,anchor:a,shapeFlag:l,children:c,props:h}=t,A=2===r;if(A&&n(s,e,i),(!A||zn(h))&&16&l)for(let u=0;u<c.length;u++)o(c[u],e,i,2);A&&n(a,e,i)}const Wn=Kn;function Xn(t){const e=t.ctx;if(e&&e.ut){let i=t.children[0].el;for(;i&&i!==t.targetAnchor;)1===i.nodeType&&i.setAttribute("data-v-owner",e.uid),i=i.nextSibling;e.ut()}}const $n=e("L",Symbol.for("v-fgt")),Yn=Symbol.for("v-txt"),Zn=Symbol.for("v-cmt"),Jn=Symbol.for("v-stc"),to=[];let eo=null;function io(t=!1){to.push(eo=t?null:[])}let no=1;function oo(t){no+=t}function ro(t){return t.dynamicChildren=no>0?eo||s:null,to.pop(),eo=to[to.length-1]||null,no>0&&eo&&eo.push(t),t}function so(t,e,i,n,o,r){return ro(uo(t,e,i,n,o,r,!0))}function ao(t,e,i,n,o){return ro(po(t,e,i,n,o,!0))}function lo(t){return!!t&&!0===t.__v_isVNode}function co(t,e){return t.type===e.type&&t.key===e.key}const ho=({key:t})=>null!=t?t:null,Ao=({ref:t,ref_key:e,ref_for:i})=>("number"==typeof t&&(t=""+t),null!=t?v(t)||ye(t)||b(t)?{i:ii,r:t,k:e,f:!!i}:t:null);function uo(t,e=null,i=null,n=0,o=null,r=(t===$n?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ho(e),ref:e&&Ao(e),scopeId:ni,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ii};return a?(yo(l,i),128&r&&t.normalize(l)):i&&(l.shapeFlag|=v(i)?8:16),no>0&&!s&&eo&&(l.patchFlag>0||6&r)&&32!==l.patchFlag&&eo.push(l),l}const po=e("b",(function(t,e=null,i=null,n=0,o=null,r=!1){t&&t!==Ai||(t=Zn);if(lo(t)){const n=go(t,e,!0);return i&&yo(n,i),no>0&&!r&&eo&&(6&n.shapeFlag?eo[eo.indexOf(t)]=n:eo.push(n)),n.patchFlag=-2,n}s=t,b(s)&&"__vccOpts"in s&&(t=t.__vccOpts);var s;if(e){e=function(t){return t?de(t)||rn(t)?A({},t):t:null}(e);let{class:t,style:i}=e;t&&!v(t)&&(e.class=q(t)),w(i)&&(de(i)&&!g(i)&&(i=A({},i)),e.style=z(i))}const a=v(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:w(t)?4:b(t)?2:0;return uo(t,e,i,n,o,a,r,!0)}));function go(t,e,i=!1,n=!1){const{props:o,ref:r,patchFlag:s,children:a,transition:l}=t,h=e?function(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=q([e.class,n.class]));else if("style"===t)e.style=z([e.style,n.style]);else if(c(t)){const i=e[t],o=n[t];!o||i===o||g(i)&&i.includes(o)||(e[t]=i?[].concat(i,o):o)}else""!==t&&(e[t]=n[t])}return e}(o||{},e):o,A={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&ho(h),ref:e&&e.ref?i&&r?g(r)?r.concat(Ao(e)):[r,Ao(e)]:Ao(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$n?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&go(t.ssContent),ssFallback:t.ssFallback&&go(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Hn(A,l.clone(A)),A}function fo(t=" ",e=0){return po(Yn,null,t,e)}function mo(t="",e=!1){return e?(io(),ao(Zn,null,t)):po(Zn,null,t)}function bo(t){return null==t||"boolean"==typeof t?po(Zn):g(t)?po($n,null,t.slice()):"object"==typeof t?vo(t):po(Yn,null,String(t))}function vo(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:go(t)}function yo(t,e){let i=0;const{shapeFlag:n}=t;if(null==e)e=null;else if(g(e))i=16;else if("object"==typeof e){if(65&n){const i=e.default;return void(i&&(i._c&&(i._d=!1),yo(t,i()),i._c&&(i._d=!0)))}{i=32;const n=e._;n||rn(e)?3===n&&ii&&(1===ii.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=ii}}else b(e)?(e={default:e,_ctx:ii},i=32):(e=String(e),64&n?(i=16,e=[fo(e)]):i=8);t.children=e,t.shapeFlag|=i}function wo(t,e,i,n=null){Pe(t,e,7,[i,n])}const xo=$i();let _o=0;let Co=null;const Bo=()=>Co||ii;let So,Eo;{const t=H(),e=(e,i)=>{let n;return(n=t[e])||(n=t[e]=[]),n.push(i),t=>{n.length>1?n.forEach((e=>e(t))):n[0](t)}};So=e("__VUE_INSTANCE_SETTERS__",(t=>Co=t)),Eo=e("__VUE_SSR_SETTERS__",(t=>Io=t))}const ko=t=>{const e=Co;return So(t),t.scope.on(),()=>{t.scope.off(),So(e)}},Fo=()=>{Co&&Co.scope.off(),So(null)};function To(t){return 4&t.vnode.shapeFlag}let Lo,Io=!1;function Mo(t,e,i){b(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:w(e)&&(t.setupState=Ee(e)),Po(t,i)}function Po(t,e,i){const n=t.type;if(!t.render){if(!e&&Lo&&!n.render){const e=n.template||zi(t).template;if(e){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:r,compilerOptions:s}=n,a=A(A({isCustomElement:i,delimiters:r},o),s);n.render=Lo(e,a)}}t.render=n.render||a}{const e=ko(t);At();try{Di(t)}finally{ut(),e()}}}const Ro={get:(t,e)=>(xt(t,0,""),t[e])};function No(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,Ro),slots:t.slots,emit:t.emit,expose:e}}function Oo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ee((e=t.exposed,Object.isExtensible(e)&&U(e,"__v_skip",!0),e)),{get:(e,i)=>i in e?e[i]:i in Li?Li[i](t):void 0,has:(t,e)=>e in t||e in Li})):t.proxy;var e}function Uo(t,e=!0){return b(t)?t.displayName||t.name:t.name||e&&t.__name}const Do=e("G",((t,e)=>{const i=function(t,e,i=!1){let n,o;const r=b(t);return r?(n=t,o=a):(n=t.get,o=t.set),new me(n,o,r||!o,i)}(t,0,Io);return i}));function Qo(t,e,i){const n=arguments.length;return 2===n?w(e)&&!g(e)?lo(e)?po(t,null,[e]):po(t,e):po(t,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):3===n&&lo(i)&&(i=[i]),po(t,e,i))}const Ho="3.4.31",zo="undefined"!=typeof document?document:null,jo=zo&&zo.createElement("template"),Go={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const o="svg"===e?zo.createElementNS("http://www.w3.org/2000/svg",t):"mathml"===e?zo.createElementNS("http://www.w3.org/1998/Math/MathML",t):i?zo.createElement(t,{is:i}):zo.createElement(t);return"select"===t&&n&&null!=n.multiple&&o.setAttribute("multiple",n.multiple),o},createText:t=>zo.createTextNode(t),createComment:t=>zo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>zo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,n,o,r){const s=i?i.previousSibling:e.lastChild;if(o&&(o===r||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),i),o!==r&&(o=o.nextSibling););else{jo.innerHTML="svg"===n?`<svg>${t}</svg>`:"mathml"===n?`<math>${t}</math>`:t;const o=jo.content;if("svg"===n||"mathml"===n){const t=o.firstChild;for(;t.firstChild;)o.appendChild(t.firstChild);o.removeChild(t)}e.insertBefore(o,i)}return[s?s.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},Vo=Symbol("_vtc");
/**
      * @vue/runtime-dom v3.4.31
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/const Ko=Symbol("_vod"),qo=Symbol("_vsh"),Wo=Symbol(""),Xo=/(^|;)\s*display\s*:/;const $o=/\s*!important$/;function Yo(t,e,i){if(g(i))i.forEach((i=>Yo(t,e,i)));else if(null==i&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const n=function(t,e){const i=Jo[e];if(i)return i;let n=L(e);if("filter"!==n&&n in t)return Jo[e]=n;n=P(n);for(let o=0;o<Zo.length;o++){const i=Zo[o]+n;if(i in t)return Jo[e]=i}return e}(t,e);$o.test(i)?t.setProperty(M(n),i.replace($o,""),"important"):t[n]=i}}const Zo=["Webkit","Moz","ms"],Jo={};const tr="http://www.w3.org/1999/xlink";function er(t,e,i,n,o,r=W(e)){n&&e.startsWith("xlink:")?null==i?t.removeAttributeNS(tr,e.slice(6,e.length)):t.setAttributeNS(tr,e,i):null==i||r&&!X(i)?t.removeAttribute(e):t.setAttribute(e,r?"":y(i)?String(i):i)}const ir=Symbol("_vei");function nr(t,e,i,n,o=null){const r=t[ir]||(t[ir]={}),s=r[e];if(n&&s)s.value=n;else{const[i,a]=function(t){let e;if(or.test(t)){let i;for(e={};i=t.match(or);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}const i=":"===t[2]?t.slice(3):M(t.slice(2));return[i,e]}(e);if(n){const s=r[e]=function(t,e){const i=t=>{if(t._vts){if(t._vts<=i.attached)return}else t._vts=Date.now();Pe(function(t,e){if(g(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}(t,i.value),e,5,[t])};return i.value=t,i.attached=ar(),i}(n,o);!function(t,e,i,n){t.addEventListener(e,i,n)}(t,i,s,a)}else s&&(!function(t,e,i,n){t.removeEventListener(e,i,n)}(t,i,s,a),r[e]=void 0)}}const or=/(?:Once|Passive|Capture)$/;let rr=0;const sr=Promise.resolve(),ar=()=>rr||(sr.then((()=>rr=0)),rr=Date.now());const lr=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123;const cr=["ctrl","shift","alt","meta"],hr={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>cr.some((i=>t[`${i}Key`]&&!e.includes(i)))},Ar=(t,e)=>{const i=t._withMods||(t._withMods={}),n=e.join(".");return i[n]||(i[n]=(i,...n)=>{for(let t=0;t<e.length;t++){const n=hr[e[t]];if(n&&n(i,e))return}return t(i,...n)})},ur=A({patchProp:(t,e,i,n,o,r,s,a,l)=>{const A="svg"===o;"class"===e?function(t,e,i){const n=t[Vo];n&&(e=(e?[e,...n]:[...n]).join(" ")),null==e?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}(t,n,A):"style"===e?function(t,e,i){const n=t.style,o=v(i);let r=!1;if(i&&!o){if(e)if(v(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==i[e]&&Yo(n,e,"")}else for(const t in e)null==i[t]&&Yo(n,t,"");for(const t in i)"display"===t&&(r=!0),Yo(n,t,i[t])}else if(o){if(e!==i){const t=n[Wo];t&&(i+=";"+t),n.cssText=i,r=Xo.test(i)}}else e&&t.removeAttribute("style");Ko in t&&(t[Ko]=r?n.display:"",t[qo]&&(n.display="none"))}(t,i,n):c(e)?h(e)||nr(t,e,0,n,s):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,i,n){if(n)return"innerHTML"===e||"textContent"===e||!!(e in t&&lr(e)&&b(i));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}if(lr(e)&&v(i))return!1;return e in t}(t,e,n,A))?(!function(t,e,i,n,o,r,s){if("innerHTML"===e||"textContent"===e)return n&&s(n,o,r),void(t[e]=null==i?"":i);const a=t.tagName;if("value"===e&&"PROGRESS"!==a&&!a.includes("-")){const n="OPTION"===a?t.getAttribute("value")||"":t.value,o=null==i?"":String(i);return n===o&&"_value"in t||(t.value=o),null==i&&t.removeAttribute(e),void(t._value=i)}let l=!1;if(""===i||null==i){const n=typeof t[e];"boolean"===n?i=X(i):null==i&&"string"===n?(i="",l=!0):"number"===n&&(i=0,l=!0)}try{t[e]=i}catch(c){}l&&t.removeAttribute(e)}(t,e,n,r,s,a,l),t.tagName.includes("-")||"value"!==e&&"checked"!==e&&"selected"!==e||er(t,e,n,A,0,"value"!==e)):("true-value"===e?t._trueValue=n:"false-value"===e&&(t._falseValue=n),er(t,e,n,A))}},Go);let dr;const pr=function(t,e,i){let n=Promise.resolve();return n.then((()=>t())).catch((t=>{const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}))};var gr={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},fr=Object.defineProperty,mr=!0,br=new WeakMap,vr=t=>br.get(t),yr=(t,e)=>e in t,wr=(t,e)=>(0,console.error)(t,e),xr=new Map,_r=[],Cr="http://www.w3.org/1999/xlink",Br="undefined"!=typeof window?window:{},Sr=Br.document||{head:{}},Er=Br.HTMLElement||class{},kr={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,i,n)=>t.addEventListener(e,i,n),rel:(t,e,i,n)=>t.removeEventListener(e,i,n),ce:(t,e)=>new CustomEvent(t,e)},Fr=(()=>{let t=!1;try{Sr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),Tr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(t){}return!1})(),Lr=!1,Ir=[],Mr=[],Pr=(t,e)=>i=>{t.push(i),Lr||(Lr=!0,e&&4&kr.$flags$?Or(Nr):kr.raf(Nr))},Rr=t=>{for(let i=0;i<t.length;i++)try{t[i](performance.now())}catch(e){wr(e)}t.length=0},Nr=()=>{Rr(Ir),Rr(Mr),(Lr=Ir.length>0)&&kr.raf(Nr)},Or=t=>(t=>Promise.resolve(t))().then(t),Ur=e("a6",Pr(Ir,!1)),Dr=e("a9",Pr(Mr,!0)),Qr=t=>{const e=new URL(t,kr.$resourcesUrl$);return e.origin!==Br.location.origin?e.href:e.pathname},Hr={},zr=t=>"object"===(t=typeof t)||"function"===t;((t,e)=>{for(var i in e)fr(t,i,{get:e[i],enumerable:!0})})({},{err:()=>Gr,map:()=>Vr,ok:()=>jr,unwrap:()=>Xr,unwrapErr:()=>$r});var jr=t=>({isOk:!0,isErr:!1,value:t}),Gr=t=>({isOk:!1,isErr:!0,value:t});function Vr(t,e){if(t.isOk){const i=e(t.value);return i instanceof Promise?i.then((t=>jr(t))):jr(i)}if(t.isErr){const e=t.value;return Gr(e)}throw"should never get here"}var Kr,qr,Wr,Xr=t=>{if(t.isOk)return t.value;throw t.value},$r=t=>{if(t.isErr)return t.value;throw t.value},Yr=(t,e,...i)=>{let n=null,o=null,r=null,s=!1,a=!1;const l=[],c=e=>{for(let i=0;i<e.length;i++)n=e[i],Array.isArray(n)?c(n):null!=n&&"boolean"!=typeof n&&((s="function"!=typeof t&&!zr(n))&&(n=String(n)),s&&a?l[l.length-1].$text$+=n:l.push(s?Zr(null,n):n),a=s)};if(c(i),e){e.key&&(o=e.key),e.name&&(r=e.name);{const t=e.className||e.class;t&&(e.class="object"!=typeof t?t:Object.keys(t).filter((e=>t[e])).join(" "))}}if("function"==typeof t)return t(null===e?{}:e,l,ts);const h=Zr(t,null);return h.$attrs$=e,l.length>0&&(h.$children$=l),h.$key$=o,h.$name$=r,h},Zr=(t,e)=>{const i={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return i},Jr={},ts={forEach:(t,e)=>t.map(es).forEach(e),map:(t,e)=>t.map(es).map(e).map(is)},es=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),is=t=>{if("function"==typeof t.vtag){const e={...t.vattrs};return t.vkey&&(e.key=t.vkey),t.vname&&(e.name=t.vname),Yr(t.vtag,e,...t.vchildren||[])}const e=Zr(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},ns=(t,e,i)=>{const n=t;return{emit:t=>os(n,e,{bubbles:!!(4&i),composed:!!(2&i),cancelable:!!(1&i),detail:t})}},os=(t,e,i)=>{const n=kr.ce(e,i);return t.dispatchEvent(n),n},rs=new WeakMap,ss=t=>{const e=t.$cmpMeta$,i=t.$hostElement$,n=e.$flags$,o=(e.$tagName$,()=>{}),r=((t,e,i)=>{var n;const o=as(e,i),r=xr.get(o);if(t=11===t.nodeType?t:Sr,r)if("string"==typeof r){t=t.head||t;let i,s=rs.get(t);if(s||rs.set(t,s=new Set),!s.has(o)){{i=Sr.createElement("style"),i.innerHTML=r;const e=null!=(n=kr.$nonce$)?n:function(t){var e,i,n;return null!=(n=null==(i=null==(e=t.head)?void 0:e.querySelector('meta[name="csp-nonce"]'))?void 0:i.getAttribute("content"))?n:void 0}(Sr);null!=e&&i.setAttribute("nonce",e),t.insertBefore(i,t.querySelector("link"))}4&e.$flags$&&(i.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),s&&s.add(o)}}else t.adoptedStyleSheets.includes(r)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,r]);return o})(i.shadowRoot?i.shadowRoot:i.getRootNode(),e,t.$modeName$);10&n&&(i["s-sc"]=r,i.classList.add(r+"-h"),2&n&&i.classList.add(r+"-s")),o()},as=(t,e)=>"sc-"+(e&&32&t.$flags$?t.$tagName$+"-"+e:t.$tagName$),ls=(t,e,i,n,o,r)=>{if(i!==n){let a=yr(t,e),l=e.toLowerCase();if("class"===e){const e=t.classList,o=hs(i),r=hs(n);e.remove(...o.filter((t=>t&&!r.includes(t)))),e.add(...r.filter((t=>t&&!o.includes(t))))}else if("style"===e){for(const e in i)n&&null!=n[e]||(e.includes("-")?t.style.removeProperty(e):t.style[e]="");for(const e in n)i&&n[e]===i[e]||(e.includes("-")?t.style.setProperty(e,n[e]):t.style[e]=n[e])}else if("key"===e);else if("ref"===e)n&&n(t);else if(t.__lookupSetter__(e)||"o"!==e[0]||"n"!==e[1]){const c=zr(n);if((a||c&&null!==n)&&!o)try{if(t.tagName.includes("-"))t[e]=n;else{const o=null==n?"":n;"list"===e?a=!1:null!=i&&t[e]==o||(t[e]=o)}}catch(s){}let h=!1;l!==(l=l.replace(/^xlink\:?/,""))&&(e=l,h=!0),null==n||!1===n?!1===n&&""!==t.getAttribute(e)||(h?t.removeAttributeNS(Cr,e):t.removeAttribute(e)):(!a||4&r||o)&&!c&&(n=!0===n?"":n,h?t.setAttributeNS(Cr,e,n):t.setAttribute(e,n))}else if(e="-"===e[2]?e.slice(3):yr(Br,l)?l.slice(2):l[2]+e.slice(3),i||n){const o=e.endsWith(As);e=e.replace(us,""),i&&kr.rel(t,e,i,o),n&&kr.ael(t,e,n,o)}}},cs=/\s/,hs=t=>t?t.split(cs):[],As="Capture",us=new RegExp(As+"$"),ds=(t,e,i)=>{const n=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||Hr,r=e.$attrs$||Hr;for(const s of ps(Object.keys(o)))s in r||ls(n,s,o[s],void 0,i,e.$flags$);for(const s of ps(Object.keys(r)))ls(n,s,o[s],r[s],i,e.$flags$)};function ps(t){return t.includes("ref")?[...t.filter((t=>"ref"!==t)),"ref"]:t}var gs=!1,fs=!1,ms=!1,bs=!1,vs=(t,e,i,n)=>{var o;const r=e.$children$[i];let s,a,l,c=0;if(gs||(ms=!0,"slot"===r.$tag$&&(Kr&&n.classList.add(Kr+"-s"),r.$flags$|=r.$children$?2:1)),null!==r.$text$)s=r.$elm$=Sr.createTextNode(r.$text$);else if(1&r.$flags$)s=r.$elm$=Sr.createTextNode("");else{if(bs||(bs="svg"===r.$tag$),s=r.$elm$=Sr.createElementNS(bs?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!gs&&gr.slotRelocation&&2&r.$flags$?"slot-fb":r.$tag$),bs&&"foreignObject"===r.$tag$&&(bs=!1),ds(null,r,bs),(t=>null!=t)(Kr)&&s["s-si"]!==Kr&&s.classList.add(s["s-si"]=Kr),Ps(s,n),r.$children$)for(c=0;c<r.$children$.length;++c)a=vs(t,r,c,s),a&&s.appendChild(a);"svg"===r.$tag$?bs=!1:"foreignObject"===s.tagName&&(bs=!0)}return s["s-hn"]=Wr,3&r.$flags$&&(s["s-sr"]=!0,s["s-cr"]=qr,s["s-sn"]=r.$name$||"",s["s-rf"]=null==(o=r.$attrs$)?void 0:o.ref,l=t&&t.$children$&&t.$children$[i],l&&l.$tag$===r.$tag$&&t.$elm$&&ys(t.$elm$,!1)),s},ys=(t,e)=>{kr.$flags$|=1;const i=Array.from(t.childNodes);if(t["s-sr"]&&gr.experimentalSlotFixes){let e=t;for(;e=e.nextSibling;)e&&e["s-sn"]===t["s-sn"]&&e["s-sh"]===Wr&&i.push(e)}for(let n=i.length-1;n>=0;n--){const t=i[n];t["s-hn"]!==Wr&&t["s-ol"]&&(Is(Bs(t),t,Cs(t)),t["s-ol"].remove(),t["s-ol"]=void 0,t["s-sh"]=void 0,ms=!0),e&&ys(t,e)}kr.$flags$&=-2},ws=(t,e,i,n,o,r)=>{let s,a=t["s-cr"]&&t["s-cr"].parentNode||t;for(a.shadowRoot&&a.tagName===Wr&&(a=a.shadowRoot);o<=r;++o)n[o]&&(s=vs(null,i,o,t),s&&(n[o].$elm$=s,Is(a,s,Cs(e))))},xs=(t,e,i)=>{for(let n=e;n<=i;++n){const e=t[n];if(e){const t=e.$elm$;Ls(e),t&&(fs=!0,t["s-ol"]?t["s-ol"].remove():ys(t,!0),t.remove())}}},_s=(t,e,i=!1)=>t.$tag$===e.$tag$&&("slot"===t.$tag$?t.$name$===e.$name$:!!i||t.$key$===e.$key$),Cs=t=>t&&t["s-ol"]||t,Bs=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Ss=(t,e,i=!1)=>{const n=e.$elm$=t.$elm$,o=t.$children$,r=e.$children$,s=e.$tag$,a=e.$text$;let l;null===a?(bs="svg"===s||"foreignObject"!==s&&bs,("slot"!==s||gs)&&ds(t,e,bs),null!==o&&null!==r?((t,e,i,n,o=!1)=>{let r,s,a=0,l=0,c=0,h=0,A=e.length-1,u=e[0],d=e[A],p=n.length-1,g=n[0],f=n[p];for(;a<=A&&l<=p;)if(null==u)u=e[++a];else if(null==d)d=e[--A];else if(null==g)g=n[++l];else if(null==f)f=n[--p];else if(_s(u,g,o))Ss(u,g,o),u=e[++a],g=n[++l];else if(_s(d,f,o))Ss(d,f,o),d=e[--A],f=n[--p];else if(_s(u,f,o))"slot"!==u.$tag$&&"slot"!==f.$tag$||ys(u.$elm$.parentNode,!1),Ss(u,f,o),Is(t,u.$elm$,d.$elm$.nextSibling),u=e[++a],f=n[--p];else if(_s(d,g,o))"slot"!==u.$tag$&&"slot"!==f.$tag$||ys(d.$elm$.parentNode,!1),Ss(d,g,o),Is(t,d.$elm$,u.$elm$),d=e[--A],g=n[++l];else{for(c=-1,h=a;h<=A;++h)if(e[h]&&null!==e[h].$key$&&e[h].$key$===g.$key$){c=h;break}c>=0?(s=e[c],s.$tag$!==g.$tag$?r=vs(e&&e[l],i,c,t):(Ss(s,g,o),e[c]=void 0,r=s.$elm$),g=n[++l]):(r=vs(e&&e[l],i,l,t),g=n[++l]),r&&Is(Bs(u.$elm$),r,Cs(u.$elm$))}a>A?ws(t,null==n[p+1]?null:n[p+1].$elm$,i,n,l,p):l>p&&xs(e,a,A)})(n,o,e,r,i):null!==r?(null!==t.$text$&&(n.textContent=""),ws(n,null,e,r,0,r.length-1)):null!==o&&xs(o,0,o.length-1),bs&&"svg"===s&&(bs=!1)):(l=n["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(n.data=a)},Es=t=>{const e=t.childNodes;for(const i of e)if(1===i.nodeType){if(i["s-sr"]){const t=i["s-sn"];i.hidden=!1;for(const n of e)if(n!==i)if(n["s-hn"]!==i["s-hn"]||""!==t){if(1===n.nodeType&&(t===n.getAttribute("slot")||t===n["s-sn"])||3===n.nodeType&&t===n["s-sn"]){i.hidden=!0;break}}else if(1===n.nodeType||3===n.nodeType&&""!==n.textContent.trim()){i.hidden=!0;break}}Es(i)}},ks=[],Fs=t=>{let e,i,n;for(const o of t.childNodes){if(o["s-sr"]&&(e=o["s-cr"])&&e.parentNode){i=e.parentNode.childNodes;const t=o["s-sn"];for(n=i.length-1;n>=0;n--)if(e=i[n],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==o["s-hn"]&&!gr.experimentalSlotFixes)if(Ts(e,t)){let i=ks.find((t=>t.$nodeToRelocate$===e));fs=!0,e["s-sn"]=e["s-sn"]||t,i?(i.$nodeToRelocate$["s-sh"]=o["s-hn"],i.$slotRefNode$=o):(e["s-sh"]=o["s-hn"],ks.push({$slotRefNode$:o,$nodeToRelocate$:e})),e["s-sr"]&&ks.map((t=>{Ts(t.$nodeToRelocate$,e["s-sn"])&&(i=ks.find((t=>t.$nodeToRelocate$===e)),i&&!t.$slotRefNode$&&(t.$slotRefNode$=i.$slotRefNode$))}))}else ks.some((t=>t.$nodeToRelocate$===e))||ks.push({$nodeToRelocate$:e})}1===o.nodeType&&Fs(o)}},Ts=(t,e)=>1===t.nodeType?null===t.getAttribute("slot")&&""===e||t.getAttribute("slot")===e:t["s-sn"]===e||""===e,Ls=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(Ls)},Is=(t,e,i)=>{const n=null==t?void 0:t.insertBefore(e,i);return Ps(e,t),n},Ms=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...Ms(t.parentElement)),e},Ps=(t,e,i=!1)=>{var n;if(t&&e&&1===t.nodeType){const o=new Set(Ms(e).filter(Boolean));if(o.size&&(null==(n=t.classList)||n.add(...t["s-scs"]=[...o]),t["s-ol"]||i))for(const e of Array.from(t.childNodes))Ps(e,t,!0)}},Rs=(t,e,i=!1)=>{var n,o,r,s,a;const l=t.$hostElement$,c=t.$cmpMeta$,h=t.$vnode$||Zr(null,null),A=(t=>t&&t.$tag$===Jr)(e)?e:Yr(null,null,e);if(Wr=l.tagName,c.$attrsToReflect$&&(A.$attrs$=A.$attrs$||{},c.$attrsToReflect$.map((([t,e])=>A.$attrs$[e]=l[t]))),i&&A.$attrs$)for(const u of Object.keys(A.$attrs$))l.hasAttribute(u)&&!["key","ref","style","class"].includes(u)&&(A.$attrs$[u]=l[u]);if(A.$tag$=null,A.$flags$|=4,t.$vnode$=A,A.$elm$=h.$elm$=l.shadowRoot||l,Kr=l["s-sc"],gs=!!(1&c.$flags$),qr=l["s-cr"],fs=!1,Ss(h,A,i),kr.$flags$|=1,ms){Fs(A.$elm$);for(const t of ks){const e=t.$nodeToRelocate$;if(!e["s-ol"]){const t=Sr.createTextNode("");t["s-nr"]=e,Is(e.parentNode,e["s-ol"]=t,e)}}for(const t of ks){const e=t.$nodeToRelocate$,a=t.$slotRefNode$;if(a){const t=a.parentNode;let i=a.nextSibling;{let r=null==(n=e["s-ol"])?void 0:n.previousSibling;for(;r;){let n=null!=(o=r["s-nr"])?o:null;if(n&&n["s-sn"]===e["s-sn"]&&t===n.parentNode){for(n=n.nextSibling;n===e||(null==n?void 0:n["s-sr"]);)n=null==n?void 0:n.nextSibling;if(!n||!n["s-nr"]){i=n;break}}r=r.previousSibling}}(!i&&t!==e.parentNode||e.nextSibling!==i)&&e!==i&&(!e["s-hn"]&&e["s-ol"]&&(e["s-hn"]=e["s-ol"].parentNode.nodeName),Is(t,e,i),1===e.nodeType&&(e.hidden=null!=(r=e["s-ih"])&&r)),e&&"function"==typeof a["s-rf"]&&a["s-rf"](e)}else 1===e.nodeType&&(i&&(e["s-ih"]=null!=(s=e.hidden)&&s),e.hidden=!0)}}if(fs&&Es(A.$elm$),kr.$flags$&=-2,ks.length=0,gr.experimentalScopedSlotChanges&&2&c.$flags$)for(const u of A.$elm$.childNodes)u["s-hn"]===Wr||u["s-sh"]||(i&&null==u["s-ih"]&&(u["s-ih"]=null!=(a=u.hidden)&&a),u.hidden=!0);qr=void 0},Ns=(t,e)=>{t.$flags$|=16,t.$ancestorComponent$;return Dr((()=>Os(t,e)))},Os=(t,e)=>{const i=t.$hostElement$,n=(t.$cmpMeta$.$tagName$,()=>{}),o=i;if(!o)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let r;return r=Gs(o,e?"componentWillLoad":"componentWillUpdate"),r=Us(r,(()=>Gs(o,"componentWillRender"))),n(),Us(r,(()=>Qs(t,o,e)))},Us=(t,e)=>Ds(t)?t.then(e).catch((t=>{console.error(t),e()})):e(),Ds=t=>t instanceof Promise||t&&t.then&&"function"==typeof t.then,Qs=async(t,e,i)=>{const n=t.$hostElement$,o=(t.$cmpMeta$.$tagName$,()=>{});n["s-rc"],i&&ss(t);const r=(t.$cmpMeta$.$tagName$,()=>{});Hs(t,e,n,i),r(),o(),zs(t)},Hs=(t,e,i,n)=>{try{e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(gr.hasRenderFn||gr.reflect)&&(gr.vdomRender||gr.reflect)&&(gr.hydrateServerSide||Rs(t,e,n))}catch(o){wr(o,t.$hostElement$)}return null},zs=t=>{t.$cmpMeta$.$tagName$;const e=()=>{},i=t.$hostElement$;t.$ancestorComponent$,Gs(i,"componentDidRender"),64&t.$flags$?(Gs(i,"componentDidUpdate"),e()):(t.$flags$|=64,Gs(i,"componentDidLoad"),e())},js=t=>{{const e=vr(t),i=e.$hostElement$.isConnected;return i&&2==(18&e.$flags$)&&Ns(e,!1),i}},Gs=(t,e,i)=>{if(t&&t[e])try{return t[e](i)}catch(n){wr(n)}},Vs=(t,e,i,n)=>{const o=vr(t),r=t,s=o.$instanceValues$.get(e),a=o.$flags$,l=r;var c,h;c=i,h=n.$members$[e][0],i=null==c||zr(c)?c:4&h?"false"!==c&&(""===c||!!c):2&h?parseFloat(c):1&h?String(c):c;const A=Number.isNaN(s)&&Number.isNaN(i);if(i!==s&&!A){if(o.$instanceValues$.set(e,i),n.$watchers$&&128&a){const t=n.$watchers$[e];t&&t.map((t=>{try{l[t](i,s,e)}catch(n){wr(n,r)}}))}if(2==(18&a)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(i,s,e))return;Ns(o,!1)}}},Ks=(t,e,i)=>{var n,o;const r=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const i=Object.entries(null!=(n=e.$members$)?n:{});i.map((([t,[i]])=>{(31&i||32&i)&&Object.defineProperty(r,t,{get(){return((t,e)=>vr(t).$instanceValues$.get(e))(this,t)},set(i){Vs(this,t,i,e)},configurable:!0,enumerable:!0})}));{const n=new Map;r.attributeChangedCallback=function(t,i,o){kr.jmp((()=>{var s;const a=n.get(t);if(this.hasOwnProperty(a))o=this[a],delete this[a];else{if(r.hasOwnProperty(a)&&"number"==typeof this[a]&&this[a]==o)return;if(null==a){const n=vr(this),r=null==n?void 0:n.$flags$;if(r&&!(8&r)&&128&r&&o!==i){const n=this,r=null==(s=e.$watchers$)?void 0:s[t];null==r||r.forEach((e=>{null!=n[e]&&n[e].call(n,o,i,t)}))}return}}this[a]=(null!==o||"boolean"!=typeof this[a])&&o}))},t.observedAttributes=Array.from(new Set([...Object.keys(null!=(o=e.$watchers$)?o:{}),...i.filter((([t,e])=>15&e[0])).map((([t,i])=>{var o;const r=i[1]||t;return n.set(r,t),512&i[0]&&(null==(o=e.$attrsToReflect$)||o.push([t,r])),r}))]))}}return t},qs=async(t,e,i,n)=>{let o;if(!(32&e.$flags$)){e.$flags$|=32,i.$lazyBundleId$;{o=t.constructor;const i=t.localName;customElements.whenDefined(i).then((()=>e.$flags$|=128))}if(o&&o.style){let n;"string"==typeof o.style?n=o.style:"string"!=typeof o.style&&(e.$modeName$=(t=>_r.map((e=>e(t))).find((t=>!!t)))(t),e.$modeName$&&(n=o.style[e.$modeName$]));const r=as(i,e.$modeName$);if(!xr.has(r)){const t=(i.$tagName$,()=>{});((t,e,i)=>{let n=xr.get(t);Tr&&i?(n=n||new CSSStyleSheet,"string"==typeof n?n=e:n.replaceSync(e)):n=e,xr.set(t,n)})(r,n,!!(1&i.$flags$)),t()}}}e.$ancestorComponent$;Ns(e,!0)},Ws=t=>{const e=t["s-cr"]=Sr.createComment("");e["s-cn"]=!0,Is(t,e,t.firstChild)},Xs=(t,e)=>{const i={$flags$:e[0],$tagName$:e[1]};i.$members$=e[2],i.$listeners$=e[3],i.$watchers$=t.$watchers$,i.$attrsToReflect$=[];const n=t.prototype.connectedCallback,o=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){((t,e)=>{const i={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};br.set(t,i)})(this,i)},connectedCallback(){const t=vr(this);$s(this,t,i.$listeners$),(t=>{if(!(1&kr.$flags$)){const e=vr(t),i=e.$cmpMeta$,n=(i.$tagName$,()=>{});1&e.$flags$?($s(t,e,i.$listeners$),(null==e?void 0:e.$lazyInstance$)?e.$lazyInstance$:(null==e?void 0:e.$onReadyPromise$)&&e.$onReadyPromise$.then((()=>{e.$lazyInstance$}))):(e.$flags$|=1,12&i.$flags$&&Ws(t),i.$members$&&Object.entries(i.$members$).map((([e,[i]])=>{if(31&i&&t.hasOwnProperty(e)){const i=t[e];delete t[e],t[e]=i}})),qs(t,e,i)),n()}})(this),n&&n.call(this)},disconnectedCallback(){(async t=>{if(!(1&kr.$flags$)){const e=vr(t);e.$rmListeners$&&(e.$rmListeners$.map((t=>t())),e.$rmListeners$=void 0)}})(this),o&&o.call(this)},__attachShadow(){if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${i.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else this.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)})}}),t.is=i.$tagName$,Ks(t,i)},$s=(t,e,i,n)=>{i&&i.map((([i,n,o])=>{const r=Zs(t,i),s=Ys(e,o),a=Js(i);kr.ael(r,n,s,a),(e.$rmListeners$=e.$rmListeners$||[]).push((()=>kr.rel(r,n,s,a)))}))},Ys=(t,e)=>i=>{try{gr.lazyLoad||t.$hostElement$[e](i)}catch(n){wr(n)}},Zs=(t,e)=>4&e?Sr:8&e?Br:16&e?Sr.body:t,Js=t=>Fr?{passive:!!(1&t),capture:!!(2&t)}:!!(2&t)
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */;const ta=e("a8",((t,e)=>{t.componentOnReady?t.componentOnReady().then((t=>e(t))):la((()=>e(t)))})),ea=t=>void 0!==t.componentOnReady,ia=(t,e=[])=>{const i={};return e.forEach((e=>{if(t.hasAttribute(e)){null!==t.getAttribute(e)&&(i[e]=t.getAttribute(e)),t.removeAttribute(e)}})),i},na=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],oa=(t,e)=>ia(t,na),ra=e("ac",((t,e,i,n)=>{var o;if("undefined"!=typeof window){const r=window,s=null===(o=null==r?void 0:r.Ionic)||void 0===o?void 0:o.config;if(s){const o=s.get("_ael");if(o)return o(t,e,i,n);if(s._ael)return s._ael(t,e,i,n)}}return t.addEventListener(e,i,n)})),sa=e("ad",((t,e,i,n)=>{var o;if("undefined"!=typeof window){const r=window,s=null===(o=null==r?void 0:r.Ionic)||void 0===o?void 0:o.config;if(s){const o=s.get("_rel");if(o)return o(t,e,i,n);if(s._rel)return s._rel(t,e,i,n)}}return t.removeEventListener(e,i,n)})),aa=(t,e=t)=>t.shadowRoot||e,la=e("ag",(t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t))),ca=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},ha=e("a1",((t,e,i)=>Math.max(t,Math.min(e,i)))),Aa=(t,e)=>{if(!t){const t="ASSERT: "+e;throw console.error(t),new Error(t)}},ua=(e("a5",(t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];return{x:t.clientX,y:t.clientY}}if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}})),t=>{const e="rtl"===document.dir;switch(t){case"start":return e;case"end":return!e;default:throw new Error(`"${t}" is not a valid value for [side]. Use "start" or "end" instead.`)}}),da=(t,e)=>{const i=t._original||t;return{_original:t,emit:pa(i.emit.bind(i),e)}},pa=(t,e=0)=>{let i;return(...n)=>{clearTimeout(i),i=setTimeout(t,e,...n)}},ga=(t,e)=>{if(null!=t||(t={}),null!=e||(e={}),t===e)return!0;const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!1;for(const n of i){if(!(n in e))return!1;if(t[n]!==e[n])return!1}return!0},fa="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",ma="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",ba="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",va="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>";
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
class ya{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,e){const i=this.m.get(t);return void 0!==i?i:e}getBoolean(t,e=!1){const i=this.m.get(t);return void 0===i?e:"string"==typeof i?"true"===i:!!i}getNumber(t,e){const i=parseFloat(this.m.get(t));return isNaN(i)?void 0!==e?e:NaN:i}set(t,e){this.m.set(t,e)}}const wa=new ya,xa=(t,e)=>t.substr(0,e.length)===e,_a="ionic:",Ca="ionic-persist-config",Ba=(t,e)=>("string"==typeof t&&(e=t,t=void 0),(t=>Sa(t))(t).includes(e)),Sa=(t=window)=>{if(void 0===t)return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=Ea(t),e.forEach((e=>t.document.documentElement.classList.add(`plt-${e}`)))),e},Ea=t=>{const e=wa.get("platform");return Object.keys(Na).filter((i=>{const n=null==e?void 0:e[i];return"function"==typeof n?n(t):Na[i](t)}))},ka=t=>!!Pa(t,/iPad/i)||!(!Pa(t,/Macintosh/i)||!Ta(t)),Fa=t=>Pa(t,/android|sink/i),Ta=t=>Ra(t,"(any-pointer:coarse)"),La=t=>Ia(t)||Ma(t),Ia=t=>!!(t.cordova||t.phonegap||t.PhoneGap),Ma=t=>{const e=t.Capacitor;return!!(null==e?void 0:e.isNative)},Pa=(t,e)=>e.test(t.navigator.userAgent),Ra=(t,e)=>{var i;return null===(i=t.matchMedia)||void 0===i?void 0:i.call(t,e).matches},Na={ipad:ka,iphone:t=>Pa(t,/iPhone/i),ios:t=>Pa(t,/iPhone|iPod/i)||ka(t),android:Fa,phablet:t=>{const e=t.innerWidth,i=t.innerHeight,n=Math.min(e,i),o=Math.max(e,i);return n>390&&n<520&&o>620&&o<800},tablet:t=>{const e=t.innerWidth,i=t.innerHeight,n=Math.min(e,i),o=Math.max(e,i);return ka(t)||(t=>Fa(t)&&!Pa(t,/mobile/i))(t)||n>460&&n<820&&o>780&&o<1400},cordova:Ia,capacitor:Ma,electron:t=>Pa(t,/electron/i),pwa:t=>{var e;return!(!(null===(e=t.matchMedia)||void 0===e?void 0:e.call(t,"(display-mode: standalone)").matches)&&!t.navigator.standalone)},mobile:Ta,mobileweb:t=>Ta(t)&&!La(t),desktop:t=>!Ta(t),hybrid:La};let Oa;const Ua=t=>t&&(t=>vr(t).$modeName$)(t)||Oa,Da=(t={})=>{if("undefined"==typeof window)return;const e=window.document,i=window,n=i.Ionic=i.Ionic||{},o={};var r;t._ael&&(o.ael=t._ael),t._rel&&(o.rel=t._rel),t._ce&&(o.ce=t._ce),r=o,Object.assign(kr,r);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(t=>{try{const e=t.sessionStorage.getItem(Ca);return null!==e?JSON.parse(e):{}}catch(e){return{}}})(i)),{persistConfig:!1}),n.config),(t=>{const e={};return t.location.search.slice(1).split("&").map((t=>t.split("="))).map((([t,e])=>{try{return[decodeURIComponent(t),decodeURIComponent(e)]}catch(i){return["",""]}})).filter((([t])=>xa(t,_a))).map((([t,e])=>[t.slice(_a.length),e])).forEach((([t,i])=>{e[t]=i})),e})(i)),t);wa.reset(s),wa.getBoolean("persistConfig")&&((t,e)=>{try{t.sessionStorage.setItem(Ca,JSON.stringify(e))}catch(i){return}})(i,s),Sa(i),n.config=wa,n.mode=Oa=wa.get("mode",e.documentElement.getAttribute("mode")||(Ba(i,"ios")?"ios":"md")),wa.set("mode",Oa),e.documentElement.setAttribute("mode",Oa),e.documentElement.classList.add(Oa),wa.getBoolean("_testing")&&wa.set("animated",!1);const a=t=>{var e;return null===(e=t.tagName)||void 0===e?void 0:e.startsWith("ION-")},l=t=>["ios","md"].includes(t);var c;c=t=>{for(;t;){const e=t.mode||t.getAttribute("mode");if(e){if(l(e))return e;a(t)&&console.warn('Invalid ionic mode: "'+e+'", expected: "ios" or "md"')}t=t.parentElement}return Oa},_r.push(c)};
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
let Qa;const Ha=(t,e)=>{const i=(()=>{if("undefined"==typeof window)return new Map;if(!Qa){const t=window;t.Ionicons=t.Ionicons||{},Qa=t.Ionicons.map=t.Ionicons.map||new Map}return Qa})().get(t);if(i)return i;try{return Qr(`svg/${t}.svg`)}catch(n){console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},za=(t,e,i,n,o)=>{if(i="ios"===(i&&Ka(i))?"ios":"md",n&&"ios"===i?t=Ka(n):o&&"md"===i?t=Ka(o):(t||!e||Ga(e)||(t=e),Va(t)&&(t=Ka(t))),!Va(t)||""===t.trim())return null;return""!==t.replace(/[a-z]|-|\d/gi,"")?null:t},ja=t=>Va(t)&&(t=t.trim(),Ga(t))?t:null,Ga=t=>t.length>0&&/(\/|\.)/.test(t),Va=t=>"string"==typeof t,Ka=t=>t.toLowerCase(),qa=t=>{if(1===t.nodeType){if("script"===t.nodeName.toLowerCase())return!1;for(let e=0;e<t.attributes.length;e++){const i=t.attributes[e].name;if(Va(i)&&0===i.toLowerCase().indexOf("on"))return!1}for(let e=0;e<t.childNodes.length;e++)if(!qa(t.childNodes[e]))return!1}return!0},Wa=new Map,Xa=new Map;let $a;const Ya=(t,e)=>{let i=Xa.get(t);if(!i){if("undefined"==typeof fetch||"undefined"==typeof document)return Wa.set(t,""),Promise.resolve();if((t=>t.startsWith("data:image/svg+xml"))(t)&&(t=>-1!==t.indexOf(";utf8,"))(t)){$a||($a=new DOMParser);const e=$a.parseFromString(t,"text/html").querySelector("svg");return e&&Wa.set(t,e.outerHTML),Promise.resolve()}i=fetch(t).then((i=>{if(i.ok)return i.text().then((i=>{i&&!1!==e&&(i=(t=>{const e=document.createElement("div");e.innerHTML=t;for(let n=e.childNodes.length-1;n>=0;n--)"svg"!==e.childNodes[n].nodeName.toLowerCase()&&e.removeChild(e.childNodes[n]);const i=e.firstElementChild;if(i&&"svg"===i.nodeName.toLowerCase()){const t=i.getAttribute("class")||"";if(i.setAttribute("class",(t+" s-ion-icon").trim()),qa(i))return e.innerHTML}return""})(i)),Wa.set(t,i||"")}));Wa.set(t,"")})),Xa.set(t,i)}return i},Za=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=Ja(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((t,e=[])=>{const i={};return e.forEach((e=>{t.hasAttribute(e)&&(null!==t.getAttribute(e)&&(i[e]=t.getAttribute(e)),t.removeAttribute(e))})),i})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,e,i){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const n=this.io=new window.IntersectionObserver((t=>{t[0].isIntersecting&&(n.disconnect(),this.io=void 0,i())}),{rootMargin:e});n.observe(t)}else i()}loadIcon(){if(this.isVisible){const t=(t=>{let e=ja(t.src);if(e)return e;if(e=za(t.name,t.icon,t.mode,t.ios,t.md),e)return Ha(e,t);if(t.icon){if(e=ja(t.icon),e)return e;if(e=ja(t.icon[t.mode]),e)return e}return null})(this);t&&(Wa.has(t)?this.svgContent=Wa.get(t):Ya(t,this.sanitize).then((()=>this.svgContent=Wa.get(t))),this.didLoadIcon=!0)}this.iconName=za(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:e,inheritedAttributes:i,el:n}=this,o=this.mode||"md",r=!!e&&((e.includes("arrow")||e.includes("chevron"))&&!1!==t),s=t||r;return Yr(Jr,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},tl(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&(a=n,a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},i),this.svgContent?Yr("div",{class:"icon-inner",innerHTML:this.svgContent}):Yr("div",{class:"icon-inner"}));var a}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),Ja=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",tl=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function el(){if("undefined"==typeof customElements)return;["ion-icon"].forEach((t=>{if("ion-icon"===t)customElements.get(t)||customElements.define(t,Za)}))}
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const il=(t,...e)=>console.warn(`[Ionic Warning]: ${t}`,...e),nl=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=ns(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(t){this.emitTap(t)}emitTap(t){this.stopPropagation&&(t.preventDefault(),t.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const t=Ua(this);return Yr(Jr,{key:"c803b4302c8e722064feb03dafe3cb6e190b4f2b",tabindex:"-1","aria-hidden":"true",class:{[t]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",md:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}"}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function ol(){if("undefined"==typeof customElements)return;["ion-backdrop"].forEach((t=>{if("ion-backdrop"===t)customElements.get(t)||customElements.define(t,nl)}))}
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const rl=(t,e)=>null!==e.closest(t),sl=(t,e)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,al=t=>{const e={};return(t=>{if(void 0!==t)return(Array.isArray(t)?t:t.split(" ")).filter((t=>null!=t)).map((t=>t.trim())).filter((t=>""!==t));return[]})(t).forEach((t=>e[t]=!0)),e},ll=/^[a-z][a-z0-9+\-.]*:/,cl=async(t,e,i,n)=>{if(null!=t&&"#"!==t[0]&&!ll.test(t)){const o=document.querySelector("ion-router");if(o)return null!=e&&e.preventDefault(),o.push(t,i,n)}return!1},hl=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(t,e){return new Promise((i=>{Ur((()=>{const n=this.el.getBoundingClientRect(),o=n.width,r=n.height,s=Math.sqrt(o*o+r*r),a=Math.max(r,o),l=this.unbounded?a:s+ul,c=Math.floor(a*dl),h=l/c;let A=t-n.left,u=e-n.top;this.unbounded&&(A=.5*o,u=.5*r);const d=A-.5*c,p=u-.5*c,g=.5*o-A,f=.5*r-u;Dr((()=>{const t=document.createElement("div");t.classList.add("ripple-effect");const e=t.style;e.top=p+"px",e.left=d+"px",e.width=e.height=c+"px",e.setProperty("--final-scale",`${h}`),e.setProperty("--translate-end",`${g}px, ${f}px`);(this.el.shadowRoot||this.el).appendChild(t),setTimeout((()=>{i((()=>{Al(t)}))}),325)}))}))}))}get unbounded(){return"unbounded"===this.type}render(){const t=Ua(this);return Yr(Jr,{key:"2302f087ab1c6755355736e4ca77309c5fdcf185",role:"presentation",class:{[t]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),Al=t=>{t.classList.add("fade-out"),setTimeout((()=>{t.remove()}),200)},ul=10,dl=.5;function pl(){if("undefined"==typeof customElements)return;["ion-ripple-effect"].forEach((t=>{if("ion-ripple-effect"===t)customElements.get(t)||customElements.define(t,hl)}))}
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const gl=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ns(this,"ionFocus",7),this.ionBlur=ns(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=t=>{const{el:e}=this;"button"===this.type?cl(this.href,t,this.routerDirection,this.routerAnimation):(t=>!!t.shadowRoot&&!!t.attachShadow)(e)&&this.submitForm(t)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:t}=this;this.formButtonEl&&(this.formButtonEl.disabled=t)}renderHiddenButton(){const t=this.formEl=this.findForm();if(t){const{formButtonEl:e}=this;if(null!==e&&t.contains(e))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,t.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=oa(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(void 0===this.fill||"clear"===this.fill)&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:t}=this;if(t instanceof HTMLFormElement)return t;if("string"==typeof t){const e=document.getElementById(t);return e?e instanceof HTMLFormElement?e:(il(`Form with selector: "#${t}" could not be found. Verify that the id is attached to a <form> element.`,this.el),null):(il(`Form with selector: "#${t}" could not be found. Verify that the id is correct and the form is rendered in the DOM.`,this.el),null)}return void 0!==t?(il('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(t){this.formEl&&this.formButtonEl&&(t.preventDefault(),this.formButtonEl.click())}render(){const t=Ua(this),{buttonType:e,type:i,disabled:n,rel:o,target:r,size:s,href:a,color:l,expand:c,hasIconOnly:h,shape:A,strong:u,inheritedAttributes:d}=this,p=void 0===s&&this.inItem?"small":s,g=void 0===a?"button":"a",f="button"===g?{type:i}:{download:this.download,href:a,rel:o,target:r};let m=this.fill;return null==m&&(m=this.inToolbar||this.inListHeader?"clear":"solid"),"button"!==i&&this.renderHiddenButton(),Yr(Jr,{key:"8f3a0363d46ef888d22b0b0812c70cb4f79e6efa",onClick:this.handleClick,"aria-disabled":n?"true":null,class:sl(l,{[t]:!0,[e]:!0,[`${e}-${c}`]:void 0!==c,[`${e}-${p}`]:void 0!==p,[`${e}-${A}`]:void 0!==A,[`${e}-${m}`]:!0,[`${e}-strong`]:u,"in-toolbar":rl("ion-toolbar",this.el),"in-toolbar-color":rl("ion-toolbar[color]",this.el),"in-buttons":rl("ion-buttons",this.el),"button-has-icon-only":h,"button-disabled":n,"ion-activatable":!0,"ion-focusable":!0})},Yr(g,Object.assign({key:"a517c7d06aab15ad4c2a51b8ec224c1aeb4ed565"},f,{class:"button-native",part:"native",disabled:n,onFocus:this.onFocus,onBlur:this.onBlur},d),Yr("span",{key:"127c26dd97c0bf5097433df77df7313d59784899",class:"button-inner"},Yr("slot",{key:"39d9a9cad8e1addbe63406062e555e05c2cb541b",name:"icon-only",onSlotchange:this.slotChanged}),Yr("slot",{key:"cfdebdd89155c6c21eb80e51e06456a3a6d877e0",name:"start"}),Yr("slot",{key:"eac497e0f97ab55baa834ae23155d89b0f7069c6"}),Yr("slot",{key:"c99f7900f8856b32a0b4ac11092d461f5e9a1109",name:"end"})),"md"===t&&Yr("ion-ripple-effect",{key:"c681edb0480879fbd801575f2233f6e118898638",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',md:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}'}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
const fl=function(){if("undefined"==typeof customElements)return;["ion-button","ion-ripple-effect"].forEach((t=>{switch(t){case"ion-button":customElements.get(t)||customElements.define(t,gl);break;case"ion-ripple-effect":customElements.get(t)||pl()}}))},ml=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const t=Ua(this);return Yr(Jr,{key:"4e5ce9abb3f56e8c91e3eb58c2819300e61eba24",class:{[t]:!0,"buttons-collapse":this.collapse}},Yr("slot",{key:"f2f360ec888b6e946b512fed07431fab47c61482"}))}static get style(){return{ios:".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",md:".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}"}}},[38,"ion-buttons",{collapse:[4]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
const bl=function(){if("undefined"==typeof customElements)return;["ion-buttons"].forEach((t=>{if("ion-buttons"===t)customElements.get(t)||customElements.define(t,ml)}))},vl="undefined"!=typeof window?window:void 0;
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */vl&&vl.CSS&&vl.CSS.supports&&vl.CSS.supports("--a: 0");
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
const yl=e("$",(t=>t&&""!==t.dir?"rtl"===t.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))),wl=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ns(this,"ionScrollStart",7),this.ionScroll=ns(this,"ionScroll",7),this.ionScrollEnd=ns(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){if(this.isMainContent=null===this.el.closest("ion-menu, ion-popover, ion-modal"),ea(this.el)){const t=this.tabsElement=this.el.closest("ion-tabs");null!==t&&(this.tabsLoadCallback=()=>this.resize(),t.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),ea(this.el)){const{tabsElement:t,tabsLoadCallback:e}=this;null!==t&&void 0!==e&&t.removeEventListener("ionTabBarLoaded",e),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout((()=>{null!==this.el.offsetParent&&this.resize()}),100)}shouldForceOverscroll(){const{forceOverscroll:t}=this,e=Ua(this);return void 0===t?"ios"===e&&Ba("ios"):t}resize(){this.fullscreen?Ur((()=>this.readDimensions())):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,js(this))}readDimensions(){const t=xl(this.el),e=Math.max(this.el.offsetTop,0),i=Math.max(t.offsetHeight-e-this.el.offsetHeight,0);(e!==this.cTop||i!==this.cBottom)&&(this.cTop=e,this.cBottom=i,js(this))}onScroll(t){const e=Date.now(),i=!this.isScrolling;this.lastScroll=e,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Ur((e=>{this.queued=!1,this.detail.event=t,_l(this.detail,this.scrollEl,e,i),this.ionScroll.emit(this.detail)})))}async getScrollElement(){return this.scrollEl||await new Promise((t=>ta(this.el,t))),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise((t=>ta(this.el,t))),Promise.resolve(this.backgroundContentEl)}scrollToTop(t=0){return this.scrollToPoint(void 0,0,t)}async scrollToBottom(t=0){const e=await this.getScrollElement(),i=e.scrollHeight-e.clientHeight;return this.scrollToPoint(void 0,i,t)}async scrollByPoint(t,e,i){const n=await this.getScrollElement();return this.scrollToPoint(t+n.scrollLeft,e+n.scrollTop,i)}async scrollToPoint(t,e,i=0){const n=await this.getScrollElement();if(i<32)return null!=e&&(n.scrollTop=e),void(null!=t&&(n.scrollLeft=t));let o,r=0;const s=new Promise((t=>o=t)),a=n.scrollTop,l=n.scrollLeft,c=null!=e?e-a:0,h=null!=t?t-l:0,A=t=>{const e=Math.min(1,(t-r)/i)-1,s=Math.pow(e,3)+1;0!==c&&(n.scrollTop=Math.floor(s*c+a)),0!==h&&(n.scrollLeft=Math.floor(s*h+l)),s<1?requestAnimationFrame(A):o()};return requestAnimationFrame((t=>{r=t,A(t)})),s}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval((()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()}),100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:t,isMainContent:e,scrollX:i,scrollY:n,el:o}=this,r=yl(o)?"rtl":"ltr",s=Ua(this),a=this.shouldForceOverscroll(),l="ios"===s;return this.resize(),Yr(Jr,{key:"f599a7da14969df38c20a6f650179d2a319fb58b",role:e?"main":void 0,class:sl(this.color,{[s]:!0,"content-sizing":rl("ion-popover",this.el),overscroll:a,[`content-${r}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},Yr("div",{key:"7c545c3c95ea05abd036d0462936ac153d2a8fc6",ref:t=>this.backgroundContentEl=t,id:"background-content",part:"background"}),"before"===t?Yr("slot",{name:"fixed"}):null,Yr("div",{key:"a67ab7438466c99f74b7ba59964802c3ba86ac5b",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":n,overscroll:(i||n)&&a},ref:t=>this.scrollEl=t,onScroll:this.scrollEvents?t=>this.onScroll(t):void 0,part:"scroll"},Yr("slot",{key:"6d10fcac2e40b4dd6c20d91a8957ac07251d2fa7"})),l?Yr("div",{class:"transition-effect"},Yr("div",{class:"transition-cover"}),Yr("div",{class:"transition-shadow"})):null,"after"===t?Yr("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}'}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),xl=t=>{const e=t.closest("ion-tabs");if(e)return e;const i=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return i||(t=>{var e;return t.parentElement?t.parentElement:(null===(e=t.parentNode)||void 0===e?void 0:e.host)?t.parentNode.host:null})(t)},_l=(t,e,i,n)=>{const o=t.currentX,r=t.currentY,s=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=i-s;if(n&&(t.startTime=i,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=i,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const e=(a-o)/c,i=(l-r)/c;t.velocityX=.7*e+.3*t.velocityX,t.velocityY=.7*i+.3*t.velocityY}};
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const Cl=function(){if("undefined"==typeof customElements)return;["ion-content"].forEach((t=>{if("ion-content"===t)customElements.get(t)||customElements.define(t,wl)}))},Bl=e("af","undefined"!=typeof window?window:void 0),Sl=e("a4","undefined"!=typeof document?document:void 0),El=()=>{if(void 0!==Bl)return Bl.Capacitor};
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
var kl,Fl;!function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"}(kl||(kl={})),function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"}(Fl||(Fl={}));const Tl={getEngine(){const t=El();if(null==t?void 0:t.isPluginAvailable("Haptics"))return t.Plugins.Haptics},available(){if(!this.getEngine())return!1;const t=El();return"web"!==(null==t?void 0:t.getPlatform())||"undefined"!=typeof navigator&&void 0!==navigator.vibrate},impact(t){const e=this.getEngine();e&&e.impact({style:t.style})},notification(t){const e=this.getEngine();e&&e.notification({type:t.type})},selection(){this.impact({style:kl.Light})},selectionStart(){const t=this.getEngine();t&&t.selectionStart()},selectionChanged(){const t=this.getEngine();t&&t.selectionChanged()},selectionEnd(){const t=this.getEngine();t&&t.selectionEnd()}},Ll=()=>Tl.available(),Il=()=>{Ll()&&Tl.selectionStart()},Ml=()=>{Ll()&&Tl.selectionChanged()},Pl=()=>wa.get("experimentalCloseWatcher",!1)&&void 0!==Bl&&"CloseWatcher"in Bl,Rl=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:99,OVERLAY_BACK_BUTTON_PRIORITY:100,blockHardwareBackButton:()=>{document.addEventListener("backbutton",(()=>{}))},shouldUseCloseWatcher:Pl,startHardwareBackButton:()=>{const t=document;let e=!1;const i=()=>{if(e)return;let i=0,n=[];const o=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(t,e){n.push({priority:t,handler:e,id:i++})}}});t.dispatchEvent(o);const r=()=>{if(n.length>0){let t={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};n.forEach((e=>{e.priority>=t.priority&&(t=e)})),e=!0,n=n.filter((e=>e.id!==t.id)),(async t=>{try{if(null==t?void 0:t.handler){const e=t.handler(r);null!=e&&await e}}catch(e){console.error(e)}})(t).then((()=>e=!1))}};r()};if(Pl()){let t;const e=()=>{null==t||t.destroy(),t=new Bl.CloseWatcher,t.onclose=()=>{i(),e()}};e()}else t.addEventListener("backbutton",i)}},Symbol.toStringTag,{value:"Module"})),Nl=async(t,e,i,n,o,r)=>{var s;if(t)return t.attachViewToDom(e,i,o,n);if(!(r||"string"==typeof i||i instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof i?null===(s=e.ownerDocument)||void 0===s?void 0:s.createElement(i):i;return n&&n.forEach((t=>a.classList.add(t))),o&&Object.assign(a,o),e.appendChild(a),await new Promise((t=>ta(a,t))),a},Ol=(t,e)=>{if(e){if(t){const i=e.parentElement;return t.removeViewFromDom(i,e)}e.remove()}return Promise.resolve()},Ul=()=>{let t,e;return{attachViewToDom:async(i,n,o={},r=[])=>{var s,a;let l;if(t=i,n){const e="string"==typeof n?null===(s=t.ownerDocument)||void 0===s?void 0:s.createElement(n):n;r.forEach((t=>e.classList.add(t))),Object.assign(e,o),t.appendChild(e),l=e,await new Promise((t=>ta(e,t)))}else if(t.children.length>0&&("ION-MODAL"===t.tagName||"ION-POPOVER"===t.tagName)){if(!(l=t.children[0]).classList.contains("ion-delegate-host")){const e=null===(a=t.ownerDocument)||void 0===a?void 0:a.createElement("div");e.classList.add("ion-delegate-host"),r.forEach((t=>e.classList.add(t))),e.append(...t.children),t.appendChild(e),l=e}}const c=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),c.appendChild(t),null!=l?l:t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};class Dl{constructor(t,e,i,n,o){this.id=e,this.name=i,this.disableScroll=o,this.priority=1e6*n+e,this.ctrl=t}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Ql{constructor(t,e,i,n){this.id=e,this.disable=i,this.disableScroll=n,this.ctrl=t}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Hl="backdrop-no-scroll",zl=new
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){var e;return new Dl(this,this.newID(),t.name,null!==(e=t.priority)&&void 0!==e?e:0,!!t.disableScroll)}createBlocker(t={}){return new Ql(this,this.newID(),t.disable,!!t.disableScroll)}start(t,e,i){return this.canStart(t)?(this.requestedStart.set(e,i),!0):(this.requestedStart.delete(e),!1)}capture(t,e,i){if(!this.start(t,e,i))return!1;const n=this.requestedStart;let o=-1e4;if(n.forEach((t=>{o=Math.max(o,t)})),o===i){this.capturedId=e,n.clear();const i=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(i),!0}return n.delete(e),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,e){let i=this.disabledGestures.get(t);void 0===i&&(i=new Set,this.disabledGestures.set(t,i)),i.add(e)}enableGesture(t,e){const i=this.disabledGestures.get(t);void 0!==i&&i.delete(e)}disableScroll(t){this.disabledScroll.add(t),1===this.disabledScroll.size&&document.body.classList.add(Hl)}enableScroll(t){this.disabledScroll.delete(t),0===this.disabledScroll.size&&document.body.classList.remove(Hl)}canStart(t){return void 0===this.capturedId&&!this.isDisabled(t)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const e=this.disabledGestures.get(t);return!!(e&&e.size>0)}newID(){return this.gestureId++,this.gestureId}},jl='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Gl=(t,e)=>{const i=t.querySelector(jl);Kl(i,null!=e?e:t)},Vl=(t,e)=>{const i=Array.from(t.querySelectorAll(jl)),n=i.length>0?i[i.length-1]:null;Kl(n,null!=e?e:t)},Kl=(t,e)=>{let i=t;const n=null==t?void 0:t.shadowRoot;n&&(i=n.querySelector(jl)||t),i?ca(i):e.focus()};let ql=0,Wl=0;const Xl=new WeakMap,$l=t=>({create:e=>tc(t,e),dismiss:(e,i,n)=>oc(document,e,i,t,n),getTop:async()=>sc(document,t)}),Yl=$l("ion-toast"),Zl=t=>{"undefined"!=typeof document&&nc(document);const e=ql++;t.overlayIndex=e},Jl=t=>(t.hasAttribute("id")||(t.id="ion-overlay-"+ ++Wl),t.id),tc=(t,e)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(t).then((()=>{const i=document.createElement(t);return i.classList.add("overlay-hidden"),Object.assign(i,Object.assign(Object.assign({},e),{hasController:!0})),Ac(document).appendChild(i),new Promise((t=>ta(i,t)))})):Promise.resolve(),ec=(t,e)=>{let i=t;const n=null==t?void 0:t.shadowRoot;n&&(i=n.querySelector(jl)||t),i?ca(i):e.focus()},ic=(t,e)=>{const i=sc(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),n=t.target;if(!i||!n)return;if(i.classList.contains(Cc))return;i.shadowRoot?(()=>{if(i.contains(n))i.lastFocus=n;else if("ION-TOAST"===n.tagName)ec(i.lastFocus,i);else{const t=i.lastFocus;Gl(i),t===e.activeElement&&Vl(i),i.lastFocus=e.activeElement}})():(()=>{if(i===n)i.lastFocus=void 0;else if("ION-TOAST"===n.tagName)ec(i.lastFocus,i);else{const t=aa(i);if(!t.contains(n))return;const o=t.querySelector(".ion-overlay-wrapper");if(!o)return;if(o.contains(n)||n===t.querySelector("ion-backdrop"))i.lastFocus=n;else{const t=i.lastFocus;Gl(o,i),t===e.activeElement&&Vl(o,i),i.lastFocus=e.activeElement}}})()},nc=t=>{0===ql&&(ql=1,t.addEventListener("focus",(e=>{ic(e,t)}),!0),t.addEventListener("ionBackButton",(e=>{const i=sc(t);(null==i?void 0:i.backdropDismiss)&&e.detail.register(100,(()=>{i.dismiss(void 0,bc)}))})),Pl()||t.addEventListener("keydown",(e=>{if("Escape"===e.key){const e=sc(t);(null==e?void 0:e.backdropDismiss)&&e.dismiss(void 0,bc)}})))},oc=(t,e,i,n,o)=>{const r=sc(t,n,o);return r?r.dismiss(e,i):Promise.reject("overlay does not exist")},rc=(t,e)=>((t,e)=>(void 0===e&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter((t=>t.overlayIndex>0))))(t,e).filter((t=>!t.classList.contains("overlay-hidden"))),sc=(t,e,i)=>{const n=rc(t,e);return void 0===i?n[n.length-1]:n.find((t=>t.id===i))},ac=(t=!1)=>{const e=Ac(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))},lc=async(t,e,i,n,o)=>{var r,s;if(t.presented)return;ac(!0),document.body.classList.add(Hl),xc(t.el),t.presented=!0,t.willPresent.emit(),null===(r=t.willPresentShorthand)||void 0===r||r.emit();const a=Ua(t),l=t.enterAnimation?t.enterAnimation:wa.get(e,"ios"===a?i:n);await uc(t,l,t.el,o)&&(t.didPresent.emit(),null===(s=t.didPresentShorthand)||void 0===s||s.emit()),"ION-TOAST"!==t.el.tagName&&cc(t.el),!t.keyboardClose||null!==document.activeElement&&t.el.contains(document.activeElement)||t.el.focus(),t.el.removeAttribute("aria-hidden")},cc=async t=>{let e=document.activeElement;if(!e)return;const i=null==e?void 0:e.shadowRoot;i&&(e=i.querySelector(jl)||e),await t.onDidDismiss(),null!==document.activeElement&&document.activeElement!==document.body||e.focus()},hc=async(t,e,i,n,o,r,s)=>{var a,l;if(!t.presented)return!1;void 0!==Sl&&1===rc(Sl).length&&(ac(!1),document.body.classList.remove(Hl)),t.presented=!1;try{t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:i}),null===(a=t.willDismissShorthand)||void 0===a||a.emit({data:e,role:i});const c=Ua(t),h=t.leaveAnimation?t.leaveAnimation:wa.get(n,"ios"===c?o:r);i!==vc&&await uc(t,h,t.el,s),t.didDismiss.emit({data:e,role:i}),null===(l=t.didDismissShorthand)||void 0===l||l.emit({data:e,role:i});(Xl.get(t)||[]).forEach((t=>t.destroy())),Xl.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),void 0!==t.el.lastFocus&&(t.el.lastFocus=void 0)}catch(Gr){console.error(Gr)}return t.el.remove(),_c(),!0},Ac=t=>t.querySelector("ion-app")||t.body,uc=async(t,e,i,n)=>{i.classList.remove("overlay-hidden");const o=e(t.el,n);t.animated&&wa.getBoolean("animated",!0)||o.duration(0),t.keyboardClose&&o.beforeAddWrite((()=>{const t=i.ownerDocument.activeElement;(null==t?void 0:t.matches("input,ion-input, ion-textarea"))&&t.blur()}));const r=Xl.get(t)||[];return Xl.set(t,[...r,o]),await o.play(),!0},dc=(t,e)=>{let i;const n=new Promise((t=>i=t));return pc(t,e,(t=>{i(t.detail)})),n},pc=(t,e,i)=>{const n=o=>{sa(t,e,n),i(o)};ra(t,e,n)},gc=t=>"cancel"===t||t===bc,fc=t=>t(),mc=(t,e)=>{if("function"==typeof t){return wa.get("_zoneGate",fc)((()=>{try{return t(e)}catch(i){throw i}}))}},bc="backdrop",vc="gesture",yc=t=>{let e,i=!1;const n=Ul(),o=(o=!1)=>{if(e&&!o)return{delegate:e,inline:i};const{el:r,hasController:s,delegate:a}=t,l=r.parentNode;return i=null!==l&&!s,e=i?a||n:a,{inline:i,delegate:e}};return{attachViewToDom:async e=>{const{delegate:i}=o(!0);if(i)return await i.attachViewToDom(t.el,e);const{hasController:n}=t;if(n&&void 0!==e)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:e}=o();e&&void 0!==t.el&&e.removeViewFromDom(t.el.parentElement,t.el)}}},wc=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(i,n)=>{e();const o=void 0!==n?document.getElementById(n):null;if(!o)return void il(`A trigger element with the ID "${n}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,i);t=((t,e)=>{const i=()=>{e.present()};return t.addEventListener("click",i),()=>{t.removeEventListener("click",i)}})(o,i)},removeClickListener:e}},xc=t=>{var e;if(void 0===Sl)return;const i=rc(Sl);for(let n=i.length-1;n>=0;n--){const o=i[n],r=null!==(e=i[n+1])&&void 0!==e?e:t;(r.hasAttribute("aria-hidden")||"ION-TOAST"!==r.tagName)&&o.setAttribute("aria-hidden","true")}},_c=()=>{if(void 0===Sl)return;const t=rc(Sl);for(let e=t.length-1;e>=0;e--){const i=t[e];if(i.removeAttribute("aria-hidden"),"ION-TOAST"!==i.tagName)break}},Cc="ion-disable-focus-trap",Bc=()=>{let t;return{lock:async()=>{const e=t;let i;return t=new Promise((t=>i=t)),void 0!==e&&await e,i}}},Sc="ionViewWillEnter",Ec="ionViewDidEnter",kc="ionViewWillLeave",Fc="ionViewDidLeave",Tc="ionViewWillUnload",Lc=t=>{t.tabIndex=-1,t.focus()},Ic=t=>null!==t.offsetParent,Mc="ion-last-focus",Pc={saveViewFocus:t=>{if(wa.get("focusManagerPriority",!1)){const e=document.activeElement;null!==e&&(null==t?void 0:t.contains(e))&&e.setAttribute(Mc,"true")}},setViewFocus:t=>{const e=wa.get("focusManagerPriority",!1);if(Array.isArray(e)&&!t.contains(document.activeElement)){const i=t.querySelector(`[${Mc}]`);if(i&&Ic(i))return void Lc(i);for(const n of e)switch(n){case"content":const e=t.querySelector('main, [role="main"]');if(e&&Ic(e))return void Lc(e);break;case"heading":const i=t.querySelector('h1, [role="heading"][aria-level="1"]');if(i&&Ic(i))return void Lc(i);break;case"banner":const o=t.querySelector('header, [role="banner"]');if(o&&Ic(o))return void Lc(o);break;default:il(`Unrecognized focus manager priority value ${n}`)}Lc(t)}}},Rc=t=>new Promise(((e,i)=>{Dr((()=>{Nc(t),Oc(t).then((i=>{i.animation&&i.animation.destroy(),Uc(t),e(i)}),(e=>{Uc(t),i(e)}))}))})),Nc=t=>{const e=t.enteringEl,i=t.leavingEl;Pc.saveViewFocus(i),$c(e,i,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Xc(e,!1),e.style.setProperty("pointer-events","none"),i&&(Xc(i,!1),i.style.setProperty("pointer-events","none"))},Oc=async t=>{const e=await Dc(t);return e&&mr?Qc(e,t):Hc(t)},Uc=t=>{const e=t.enteringEl,i=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),void 0!==i&&(i.classList.remove("ion-page-invisible"),i.style.removeProperty("pointer-events")),Pc.setViewFocus(e)},Dc=async t=>{if(!t.leavingEl||!t.animated||0===t.duration)return;if(t.animationBuilder)return t.animationBuilder;return"ios"===t.mode?(await pr((()=>i.import("./ios.transition-legacy-_WPGXcwt.js")))).iosTransitionAnimation:(await pr((()=>i.import("./md.transition-legacy-DrDeqHzR.js")))).mdTransitionAnimation},Qc=async(t,e)=>{await zc(e,!0);const i=t(e.baseEl,e);Vc(e.enteringEl,e.leavingEl);const n=await Gc(i,e);return e.progressCallback&&e.progressCallback(void 0),n&&Kc(e.enteringEl,e.leavingEl),{hasCompleted:n,animation:i}},Hc=async t=>{const e=t.enteringEl,i=t.leavingEl,n=wa.get("focusManagerPriority",!1);return await zc(t,n),Vc(e,i),Kc(e,i),{hasCompleted:!0}},zc=async(t,e)=>{(void 0!==t.deepWait?t.deepWait:e)&&await Promise.all([Wc(t.enteringEl),Wc(t.leavingEl)]),await jc(t.viewIsReady,t.enteringEl)},jc=async(t,e)=>{t&&await t(e)},Gc=(t,e)=>{const i=e.progressCallback,n=new Promise((e=>{t.onFinish((t=>e(1===t)))}));return i?(t.progressStart(!0),i(t)):t.play(),n},Vc=(t,e)=>{qc(e,kc),qc(t,Sc)},Kc=(t,e)=>{qc(t,Ec),qc(e,Fc)},qc=(t,e)=>{if(t){const i=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(i)}},Wc=async t=>{const e=t;if(e){if(null!=e.componentOnReady){if(null!=await e.componentOnReady())return}else if(null!=e.__registerHost){const t=new Promise((t=>la(t)));return void(await t)}await Promise.all(Array.from(e.children).map(Wc))}},Xc=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},$c=(t,e,i)=>{void 0!==t&&(t.style.zIndex="back"===i?"99":"101"),void 0!==e&&(e.style.zIndex="100")};e("a3",(t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t}));
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
let Yc;const Zc=(t,e,i)=>{const n=e.startsWith("animation")?(t=>{if(void 0===Yc){const e=void 0!==t.style.animationName,i=void 0!==t.style.webkitAnimationName;Yc=!e&&i?"-webkit-":""}return Yc})(t):"";t.style.setProperty(n+e,i)},Jc=(t=[],e)=>{if(void 0!==e){const i=Array.isArray(e)?e:[e];return[...t,...i]}return t},th=e("a2",(t=>{let e,i,n,o,r,s,a,l,c,h,A,u=[],d=[],p=[],g=!1,f={},m=[],b=[],v={},y=0,w=!1,x=!1,_=!0,C=!1,B=!0,S=!1;const E=t,k=[],F=[],T=[],L=[],I=[],M=[],P=[],R=[],N=[],O=[],U=[],D="function"==typeof AnimationEffect||void 0!==Bl&&"function"==typeof Bl.AnimationEffect,Q="function"==typeof Element&&"function"==typeof Element.prototype.animate&&D,H=()=>U,z=t=>{K(),t&&q()},j=(t,e)=>{const i=e.findIndex((e=>e.c===t));i>-1&&e.splice(i,1)},G=(t,e)=>(((null==e?void 0:e.oneTimeCallback)?F:k).push({c:t,o:e}),A),V=()=>(k.length=0,F.length=0,A),K=()=>{Q&&(U.forEach((t=>{t.cancel()})),U.length=0)},q=()=>{M.forEach((t=>{(null==t?void 0:t.parentNode)&&t.parentNode.removeChild(t)})),M.length=0},W=()=>void 0!==r?r:a?a.getFill():"both",X=()=>void 0!==l?l:void 0!==s?s:a?a.getDirection():"normal",$=()=>w?"linear":void 0!==n?n:a?a.getEasing():"linear",Y=()=>x?0:void 0!==c?c:void 0!==i?i:a?a.getDuration():0,Z=()=>void 0!==o?o:a?a.getIterations():1,J=()=>void 0!==h?h:void 0!==e?e:a?a.getDelay():0,tt=t=>{Q&&H().forEach((e=>{const i=e.effect;if(i.setKeyframes)i.setKeyframes(t);else{const n=new KeyframeEffect(i.target,t,i.getTiming());e.effect=n}}))},et=()=>{0!==y&&(y--,0===y&&((()=>{N.forEach((t=>t())),O.forEach((t=>t()));const t=_?1:0,e=m,i=b,n=v;L.forEach((t=>{const o=t.classList;e.forEach((t=>o.add(t))),i.forEach((t=>o.remove(t)));for(const e in n)n.hasOwnProperty(e)&&Zc(t,e,n[e])})),c=void 0,l=void 0,h=void 0,k.forEach((e=>e.c(t,A))),F.forEach((e=>e.c(t,A))),F.length=0,B=!0,_&&(C=!0),_=!0})(),a&&a.animationFinish()))},it=()=>{(()=>{P.forEach((t=>t())),R.forEach((t=>t()));const t=d,e=p,i=f;L.forEach((n=>{const o=n.classList;t.forEach((t=>o.add(t))),e.forEach((t=>o.remove(t)));for(const t in i)i.hasOwnProperty(t)&&Zc(n,t,i[t])}))})(),u.length>0&&Q&&(L.forEach((t=>{const e=t.animate(u,{id:E,delay:J(),duration:Y(),easing:$(),iterations:Z(),fill:W(),direction:X()});e.pause(),U.push(e)})),U.length>0&&(U[0].onfinish=()=>{et()})),g=!0},nt=t=>{t=Math.min(Math.max(t,0),.9999),Q&&U.forEach((e=>{e.currentTime=e.effect.getComputedTiming().delay+Y()*t,e.pause()}))},ot=t=>{U.forEach((t=>{t.effect.updateTiming({delay:J(),duration:Y(),easing:$(),iterations:Z(),fill:W(),direction:X()})})),void 0!==t&&nt(t)},rt=(t=!1,e=!0,i)=>(t&&I.forEach((n=>{n.update(t,e,i)})),Q&&ot(i),A),st=()=>{g&&(Q?U.forEach((t=>{t.pause()})):L.forEach((t=>{Zc(t,"animation-play-state","paused")})),S=!0)},at=t=>new Promise((e=>{(null==t?void 0:t.sync)&&(x=!0,G((()=>x=!1),{oneTimeCallback:!0})),g||it(),C&&(Q&&(nt(0),ot()),C=!1),B&&(y=I.length+1,B=!1);const i=()=>{j(n,F),e()},n=()=>{j(i,T),e()};G(n,{oneTimeCallback:!0}),((t,e)=>{T.push({c:t,o:e})})(i,{oneTimeCallback:!0}),I.forEach((t=>{t.play()})),Q?(U.forEach((t=>{t.play()})),0!==u.length&&0!==L.length||et()):et(),S=!1})),lt=(t,e)=>{const i=u[0];return void 0===i||void 0!==i.offset&&0!==i.offset?u=[{offset:0,[t]:e},...u]:i[t]=e,A};return A={parentAnimation:a,elements:L,childAnimations:I,id:E,animationFinish:et,from:lt,to:(t,e)=>{const i=u[u.length-1];return void 0===i||void 0!==i.offset&&1!==i.offset?u=[...u,{offset:1,[t]:e}]:i[t]=e,A},fromTo:(t,e,i)=>lt(t,e).to(t,i),parent:t=>(a=t,A),play:at,pause:()=>(I.forEach((t=>{t.pause()})),st(),A),stop:()=>{I.forEach((t=>{t.stop()})),g&&(K(),g=!1),w=!1,x=!1,B=!0,l=void 0,c=void 0,h=void 0,y=0,C=!1,_=!0,S=!1,T.forEach((t=>t.c(0,A))),T.length=0},destroy:t=>(I.forEach((e=>{e.destroy(t)})),z(t),L.length=0,I.length=0,u.length=0,V(),g=!1,B=!0,A),keyframes:t=>{const e=u!==t;return u=t,e&&tt(u),A},addAnimation:t=>{if(null!=t)if(Array.isArray(t))for(const e of t)e.parent(A),I.push(e);else t.parent(A),I.push(t);return A},addElement:t=>{if(null!=t)if(1===t.nodeType)L.push(t);else if(t.length>=0)for(let e=0;e<t.length;e++)L.push(t[e]);else console.error("Invalid addElement value");return A},update:rt,fill:t=>(r=t,rt(!0),A),direction:t=>(s=t,rt(!0),A),iterations:t=>(o=t,rt(!0),A),duration:t=>(Q||0!==t||(t=1),i=t,rt(!0),A),easing:t=>(n=t,rt(!0),A),delay:t=>(e=t,rt(!0),A),getWebAnimations:H,getKeyframes:()=>u,getFill:W,getDirection:X,getDelay:J,getIterations:Z,getEasing:$,getDuration:Y,afterAddRead:t=>(N.push(t),A),afterAddWrite:t=>(O.push(t),A),afterClearStyles:(t=[])=>{for(const e of t)v[e]="";return A},afterStyles:(t={})=>(v=t,A),afterRemoveClass:t=>(b=Jc(b,t),A),afterAddClass:t=>(m=Jc(m,t),A),beforeAddRead:t=>(P.push(t),A),beforeAddWrite:t=>(R.push(t),A),beforeClearStyles:(t=[])=>{for(const e of t)f[e]="";return A},beforeStyles:(t={})=>(f=t,A),beforeRemoveClass:t=>(p=Jc(p,t),A),beforeAddClass:t=>(d=Jc(d,t),A),onFinish:G,isRunning:()=>0!==y&&!S,progressStart:(t=!1,e)=>(I.forEach((i=>{i.progressStart(t,e)})),st(),w=t,g||it(),rt(!1,!0,e),A),progressStep:t=>(I.forEach((e=>{e.progressStep(t)})),nt(t),A),progressEnd:(t,e,i)=>(w=!1,I.forEach((n=>{n.progressEnd(t,e,i)})),void 0!==i&&(c=i),C=!1,_=!0,0===t?(l="reverse"===X()?"normal":"reverse","reverse"===l&&(_=!1),Q?(rt(),nt(1-e)):(h=(1-e)*Y()*-1,rt(!1,!1))):1===t&&(Q?(rt(),nt(e)):(h=e*Y()*-1,rt(!1,!1))),void 0===t||a||at(),A)}})),eh="ion-content",ih=".ion-content-scroll-host",nh=`${eh}, ${ih}`,oh=t=>"ION-CONTENT"===t.tagName,rh=e("ah",(async t=>oh(t)?(await new Promise((e=>ta(t,e))),t.getScrollElement()):t)),sh=t=>{const e=t.querySelector(ih);return e||t.querySelector(nh)},ah=e("a7",(t=>t.closest(nh))),lh=(e("aa",((t,e)=>{if(oh(t)){return t.scrollToTop(e)}return Promise.resolve(t.scrollTo({top:0,left:0,behavior:"smooth"}))})),e("ai",((t,e,i,n)=>{if(oh(t)){return t.scrollByPoint(e,i,n)}return Promise.resolve(t.scrollBy({top:i,left:e,behavior:n>0?"smooth":"auto"}))})),t=>((t,...e)=>console.error(`<${t.tagName.toLowerCase()}> must be used inside ${e.join(" or ")}.`))(t,eh)),ch=t=>{if(oh(t)){const e=t,i=e.scrollY;return e.scrollY=!1,i}return t.style.setProperty("overflow","hidden"),!0};
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
var hh,Ah;!function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"}(hh||(hh={})),e("ae",Ah),function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"}(Ah||e("ae",Ah={}));const uh=e("ab",{getEngine(){const t=El();if(null==t?void 0:t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return(null==t?void 0:t.getResizeMode)?t.getResizeMode().catch((t=>{if(t.code!==hh.Unimplemented)throw t})):Promise.resolve(void 0)}}),dh=t=>{if(void 0===Sl||t===Ah.None||void 0===t)return null;const e=Sl.querySelector("ion-app");return null!=e?e:Sl.body},ph=t=>{const e=dh(t);return null===e?0:e.clientHeight},gh=async t=>{let e,i,n,o;const r=async()=>{const t=await uh.getResizeMode(),r=void 0===t?void 0:t.mode;e=()=>{void 0===o&&(o=ph(r)),n=!0,s(n,r)},i=()=>{n=!1,s(n,r)},null==Bl||Bl.addEventListener("keyboardWillShow",e),null==Bl||Bl.addEventListener("keyboardWillHide",i)},s=(e,i)=>{t&&t(e,a(i))},a=t=>{if(0===o||o===ph(t))return;const e=dh(t);return null!==e?new Promise((t=>{const i=new ResizeObserver((()=>{e.clientHeight===o&&(i.disconnect(),t())}));i.observe(e)})):void 0};return await r(),{init:r,destroy:()=>{null==Bl||Bl.removeEventListener("keyboardWillShow",e),null==Bl||Bl.removeEventListener("keyboardWillHide",i),e=i=void 0},isKeyboardVisible:()=>n}},fh=(t,e)=>{Ur((()=>{const i=t.scrollTop,n=t.scrollHeight-t.clientHeight,o=ha(0,1-(i-(n-10))/10,1);Dr((()=>{e.style.setProperty("--opacity-scale",o.toString())}))}))},mh=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if("ios"!==Ua(this))return;const{collapse:t}=this,e="fade"===t;if(this.destroyCollapsibleFooter(),e){const t=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),e=t?sh(t):null;if(!e)return void lh(this.el);this.setupFadeFooter(e)}},this.setupFadeFooter=async t=>{const e=this.scrollEl=await rh(t);this.contentScrollCallback=()=>{fh(e,this.el)},e.addEventListener("scroll",this.contentScrollCallback),fh(e,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await gh((async(t,e)=>{!1===t&&void 0!==e&&await e,this.keyboardVisible=t}))}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:t,collapse:e}=this,i=Ua(this),n=this.el.closest("ion-tabs"),o=null==n?void 0:n.querySelector(":scope > ion-tab-bar");return Yr(Jr,{key:"5da19dc38ba73e1ddfd1bef3ebd485105d77c751",role:"contentinfo",class:{[i]:!0,[`footer-${i}`]:!0,"footer-translucent":t,[`footer-translucent-${i}`]:t,"footer-toolbar-padding":!(this.keyboardVisible||o&&"bottom"===o.slot),[`footer-collapse-${e}`]:void 0!==e}},"ios"===i&&t&&Yr("div",{key:"fafad08090a33d8c4e8a5b63d61929dcb89aab47",class:"footer-background"}),Yr("slot",{key:"e0a443d346afa55e4317c0bc1263fdbe3c619559"}))}get el(){return this}static get style(){return{ios:"ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",md:"ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}"}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const bh=function(){if("undefined"==typeof customElements)return;["ion-footer"].forEach((t=>{if("ion-footer"===t)customElements.get(t)||customElements.define(t,mh)}))},vh=t=>{const e=document.querySelector(`${t}.ion-cloned-element`);if(null!==e)return e;const i=document.createElement(t);return i.classList.add("ion-cloned-element"),i.style.setProperty("display","none"),document.body.appendChild(i),i},yh=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map((t=>{const e=t.querySelector("ion-title");return{el:t,background:t.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:e,innerTitleEl:e?e.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(t.querySelectorAll("ion-buttons"))}}))}},wh=(t,e)=>{"fade"!==t.collapse&&(void 0===e?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},xh=(t,e,i,n)=>{Dr((()=>{const o=n.scrollTop;((t,e,i)=>{if(!t[0].isIntersecting)return;const n=t[0].intersectionRatio>.9||i<=0?0:100*(1-t[0].intersectionRatio)/75;wh(e.el,1===n?void 0:n)})(t,e,o);const r=t[0],s=r.intersectionRect,a=s.width*s.height,l=r.rootBounds.width*r.rootBounds.height,c=0===a&&0===l,h=Math.abs(s.left-r.boundingClientRect.left),A=Math.abs(s.right-r.boundingClientRect.right);if(!c&&!(a>0&&(h>=5||A>=5)))if(r.isIntersecting)_h(e,!1),_h(i);else{(0===s.x&&0===s.y||0!==s.width&&0!==s.height)&&o>0&&(_h(e),_h(i,!1),wh(e.el))}}))},_h=(t,e=!0)=>{const i=t.el;e?(i.classList.remove("header-collapse-condense-inactive"),i.removeAttribute("aria-hidden")):(i.classList.add("header-collapse-condense-inactive"),i.setAttribute("aria-hidden","true"))},Ch=(t=[],e=1,i=!1)=>{t.forEach((t=>{const n=t.ionTitleEl,o=t.innerTitleEl;n&&"large"===n.size&&(o.style.transition=i?"all 0.2s ease-in-out":"",o.style.transform=`scale3d(${e}, ${e}, 1)`)}))},Bh=(t,e,i)=>{Ur((()=>{const n=t.scrollTop,o=e.clientHeight,r=i?i.clientHeight:0;if(null!==i&&n<r)return e.style.setProperty("--opacity-scale","0"),void t.style.setProperty("clip-path",`inset(${o}px 0px 0px 0px)`);const s=ha(0,(n-r)/10,1);Dr((()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",s.toString())}))}))},Sh=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(t,e)=>{const i=this.scrollEl=await rh(t);this.contentScrollCallback=()=>{Bh(this.scrollEl,this.el,e)},i.addEventListener("scroll",this.contentScrollCallback),Bh(this.scrollEl,this.el,e)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=oa(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if("ios"!==Ua(this))return;const{collapse:t}=this,e="condense"===t,i="fade"===t;if(this.destroyCollapsibleHeader(),e){const t=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),e=t?sh(t):null;Dr((()=>{vh("ion-title").size="large",vh("ion-back-button")})),await this.setupCondenseHeader(e,t)}else if(i){const t=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),e=t?sh(t):null;if(!e)return void lh(this.el);const i=e.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(e,i)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(t,e){if(!t||!e)return void lh(this.el);if("undefined"==typeof IntersectionObserver)return;this.scrollEl=await rh(t);const i=e.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find((t=>"condense"!==t.collapse)),!this.collapsibleMainHeader)return;const n=yh(this.collapsibleMainHeader),o=yh(this.el);if(!n||!o)return;_h(n,!1),wh(n.el,0);this.intersectionObserver=new IntersectionObserver((t=>{xh(t,n,o,this.scrollEl)}),{root:t,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{((t,e,i)=>{Ur((()=>{const n=t.scrollTop,o=ha(1,1+-n/500,1.1);null===i.querySelector("ion-refresher.refresher-native")&&Dr((()=>{Ch(e.toolbars,o)}))}))})(this.scrollEl,o,t)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Dr((()=>{void 0!==this.collapsibleMainHeader&&this.collapsibleMainHeader.classList.add("header-collapse-main")}))}render(){const{translucent:t,inheritedAttributes:e}=this,i=Ua(this),n=this.collapse||"none",o=rl("ion-menu",this.el)?"none":"banner";return Yr(Jr,Object.assign({key:"c687314ef290793a9d633ad20cfc5eeb47621e31",role:o,class:{[i]:!0,[`header-${i}`]:!0,"header-translucent":this.translucent,[`header-collapse-${n}`]:!0,[`header-translucent-${i}`]:this.translucent}},e),"ios"===i&&t&&Yr("div",{key:"b429996046082405a91e7c23f95516db0b736f12",class:"header-background"}),Yr("slot",{key:"e17a8965f8d3a33c1bfcb056c153d8242e5229fa"}))}get el(){return this}static get style(){return{ios:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",md:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}"}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const Eh=function(){if("undefined"==typeof customElements)return;["ion-header"].forEach((t=>{if("ion-header"===t)customElements.get(t)||customElements.define(t,Sh)}))},kh=t=>{try{if(t instanceof Ph)return t.value;if(!Lh()||"string"!=typeof t||""===t)return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),i=document.createElement("div");e.appendChild(i),i.innerHTML=t,Mh.forEach((t=>{const i=e.querySelectorAll(t);for(let n=i.length-1;n>=0;n--){const t=i[n];t.parentNode?t.parentNode.removeChild(t):e.removeChild(t);const o=Th(t);for(let e=0;e<o.length;e++)Fh(o[e])}}));const n=Th(e);for(let t=0;t<n.length;t++)Fh(n[t]);const o=document.createElement("div");o.appendChild(e);const r=o.querySelector("div");return null!==r?r.innerHTML:o.innerHTML}catch(Gr){return console.error(Gr),""}},Fh=t=>{if(t.nodeType&&1!==t.nodeType)return;if("undefined"!=typeof NamedNodeMap&&!(t.attributes instanceof NamedNodeMap))return void t.remove();for(let i=t.attributes.length-1;i>=0;i--){const e=t.attributes.item(i),n=e.name;if(!Ih.includes(n.toLowerCase())){t.removeAttribute(n);continue}const o=e.value,r=t[n];(null!=o&&o.toLowerCase().includes("javascript:")||null!=r&&r.toLowerCase().includes("javascript:"))&&t.removeAttribute(n)}const e=Th(t);for(let i=0;i<e.length;i++)Fh(e[i])},Th=t=>null!=t.children?t.children:t.childNodes,Lh=()=>{var t;const e=window,i=null===(t=null==e?void 0:e.Ionic)||void 0===t?void 0:t.config;return!i||(i.get?i.get("sanitizerEnabled",!0):!0===i.sanitizerEnabled||void 0===i.sanitizerEnabled)},Ih=["class","id","href","src","name","slot"],Mh=["script","style","iframe","meta","link","object","embed"];
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */class Ph{constructor(t){this.value=t}}const Rh=(t,e,i)=>{const n=null==t?0:t.toString().length,o=Nh(n,e);if(void 0===i)return o;try{return i(n,e)}catch(r){return((t,...e)=>{console.error(`[Ionic Error]: ${t}`,...e)})("Exception in provided `counterFormatter`.",r),o}},Nh=(t,e)=>`${t} / ${e}`,Oh=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.ionInput=ns(this,"ionInput",7),this.ionChange=ns(this,"ionChange",7),this.ionBlur=ns(this,"ionBlur",7),this.ionFocus=ns(this,"ionFocus",7),this.inputId="ion-input-"+Uh++,this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=t=>{const e=t.target;e&&(this.value=e.value||""),this.emitInputChange(t)},this.onChange=t=>{this.emitValueChange(t)},this.onBlur=t=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(t),this.didInputClearOnEdit=!1,this.ionBlur.emit(t)},this.onFocus=t=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(t)},this.onKeydown=t=>{this.checkClearOnEdit(t)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=t=>{this.clearInput&&!this.readonly&&!this.disabled&&t&&(t.preventDefault(),t.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(t)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:t,debounce:e,originalIonInput:i}=this;this.ionInput=void 0===e?null!=i?i:t:da(t,e)}onTypeChange(){const t=this.el.querySelector("ion-input-password-toggle");t&&(t.type=this.type)}valueChanged(){const t=this.nativeInput,e=this.getValue();t&&t.value!==e&&!this.isComposing&&(t.value=e)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},oa(this.el)),ia(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:t}=this;this.slotMutationController=((t,e,i)=>{let n,o;if(void 0!==Bl&&"MutationObserver"in Bl){const o=Array.isArray(e)?e:[e];n=new MutationObserver((t=>{for(const e of t)for(const t of e.addedNodes)if(t.nodeType===Node.ELEMENT_NODE&&o.includes(t.slot))return i(),void la((()=>r(t)))})),n.observe(t,{childList:!0,subtree:!0})}const r=t=>{var n;o&&(o.disconnect(),o=void 0),o=new MutationObserver((t=>{i();for(const i of t)for(const t of i.removedNodes)t.nodeType===Node.ELEMENT_NODE&&t.slot===e&&s()})),o.observe(null!==(n=t.parentElement)&&void 0!==n?n:t,{subtree:!0,childList:!0})},s=()=>{o&&(o.disconnect(),o=void 0)};return{destroy:()=>{n&&(n.disconnect(),n=void 0),s()}}})(t,["label","start","end"],(()=>js(this))),this.notchController=((t,e,i)=>{let n;const o=()=>void 0!==e()&&void 0===t.label&&null!==i(),r=()=>{const s=e();if(void 0===s)return;if(!o())return void s.style.removeProperty("width");const a=i().scrollWidth;if(0===a&&null===s.offsetParent&&void 0!==Bl&&"IntersectionObserver"in Bl){if(void 0!==n)return;const e=n=new IntersectionObserver((t=>{1===t[0].intersectionRatio&&(r(),e.disconnect(),n=void 0)}),{threshold:.01,root:t});e.observe(s)}else s.style.setProperty("width",.75*a+"px")};return{calculateNotchWidth:()=>{o()&&la((()=>{r()}))},destroy:()=>{n&&(n.disconnect(),n=void 0)}}})(t,(()=>this.notchSpacerEl),(()=>this.labelSlot)),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var t;null===(t=this.notchController)||void 0===t||t.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise((t=>ta(this.el,t))),Promise.resolve(this.nativeInput)}emitValueChange(t){const{value:e}=this,i=null==e?e:e.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:t})}emitInputChange(t){const{value:e}=this,i=null==e?e:e.toString();this.ionInput.emit({value:i,event:t})}shouldClearOnEdit(){const{type:t,clearOnEdit:e}=this;return void 0===e?"password"===t:e}getValue(){return"number"==typeof this.value?this.value.toString():(this.value||"").toString()}checkClearOnEdit(t){if(!this.shouldClearOnEdit())return;const e=["Enter","Tab","Shift","Meta","Alt","Control"].includes(t.key);this.didInputClearOnEdit||!this.hasValue()||e||(this.value="",this.emitInputChange(t)),e||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:t,errorText:e}=this;return[Yr("div",{class:"helper-text"},t),Yr("div",{class:"error-text"},e)]}renderCounter(){const{counter:t,maxlength:e,counterFormatter:i,value:n}=this;if(!0===t&&void 0!==e)return Yr("div",{class:"counter"},Rh(n,e,i))}renderBottomContent(){const{counter:t,helperText:e,errorText:i,maxlength:n}=this;if(!!e||!!i||!0===t&&void 0!==n)return Yr("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:t}=this;return Yr("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},void 0===t?Yr("slot",{name:"label"}):Yr("div",{class:"label-text"},t))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return void 0!==this.label||null!==this.labelSlot}renderLabelContainer(){return"md"===Ua(this)&&"outline"===this.fill?[Yr("div",{class:"input-outline-container"},Yr("div",{class:"input-outline-start"}),Yr("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},Yr("div",{class:"notch-spacer","aria-hidden":"true",ref:t=>this.notchSpacerEl=t},this.label)),Yr("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:t,fill:e,readonly:i,shape:n,inputId:o,labelPlacement:r,el:s,hasFocus:a,clearInputIcon:l}=this,c=Ua(this),h=this.getValue(),A=rl("ion-item",this.el),u="md"===c&&"outline"!==e&&!A,d=null!=l?l:"ios"===c?ba:va,p=this.hasValue(),g=null!==s.querySelector('[slot="start"], [slot="end"]'),f="stacked"===r||"floating"===r&&(p||a||g);return Yr(Jr,{key:"907ce98a82b5cfae5a08504cd79e00a2330b7444",class:sl(this.color,{[c]:!0,"has-value":p,"has-focus":a,"label-floating":f,[`input-fill-${e}`]:void 0!==e,[`input-shape-${n}`]:void 0!==n,[`input-label-placement-${r}`]:!0,"in-item":A,"in-item-color":rl("ion-item.ion-color",this.el),"input-disabled":t})},Yr("label",{key:"59d5bb45d2a5b828bba0ed8687a632a551e2f4d8",class:"input-wrapper",htmlFor:o},this.renderLabelContainer(),Yr("div",{key:"f93f129d08246d0e9a601c100d718534d6403853",class:"native-wrapper"},Yr("slot",{key:"54eeb1a6bace662b7eb0d7e27180ea3d7e3a3729",name:"start"}),Yr("input",Object.assign({key:"b3e0be55bc1a4a539ae3b0fdcf7fc078723cca16",class:"native-input",ref:t=>this.nativeInput=t,id:o,disabled:t,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:h,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!t&&Yr("button",{key:"5f6373504a6d0d074bfbf875c794d45ea2748175","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:t=>{t.preventDefault()},onFocusin:t=>{t.stopPropagation()},onClick:this.clearTextInput},Yr("ion-icon",{key:"230d77973aa83458ceb32bf52e3abe9bc322cfe6","aria-hidden":"true",icon:d})),Yr("slot",{key:"9d69ac6e8a3c4b2b303dba2478f82695d5755ed2",name:"end"})),u&&Yr("div",{key:"ac61f16237ce731e0745ab72d0fc3f066252464a",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}}static get style(){return{ios:".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",md:".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}"}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},void 0,{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */let Uh=0;const Dh=function(){if("undefined"==typeof customElements)return;["ion-input","ion-icon"].forEach((t=>{switch(t){case"ion-input":customElements.get(t)||customElements.define(t,Oh);break;case"ion-icon":customElements.get(t)||el()}}))},Qh=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=ma,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(t){const{color:e}=this;void 0===e&&(this.labelColorStyles=t.detail)}itemStyle(t){t.stopPropagation();const e=t.target.tagName,i=t.detail,n={},o=this.itemStyles.get(e)||{};let r=!1;Object.keys(i).forEach((t=>{if(i[t]){const e=`item-${t}`;o[e]||(r=!0),n[e]=!0}})),r||Object.keys(n).length===Object.keys(o).length||(r=!0),r&&(this.itemStyles.set(e,n),js(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=ia(this.el,["aria-label"])}componentDidLoad(){la((()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()}))}setMultipleInputs(){const t=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),e=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=t.length+e.length>1||t.length+i.length>1||t.length>0&&this.isClickable()}hasCover(){return 1===this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length&&!this.multipleInputs}isClickable(){return void 0!==this.href||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const t=this.el.querySelector(".ion-focusable");return this.canActivate()||null!==t}hasStartEl(){null!==this.el.querySelector('[slot="start"]')&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:t,detailIcon:e,download:i,labelColorStyles:n,lines:o,disabled:r,href:s,rel:a,target:l,routerAnimation:c,routerDirection:h,inheritedAriaAttributes:A,multipleInputs:u}=this,d={},p=Ua(this),g=this.isClickable(),f=this.canActivate(),m=g?void 0===s?"button":"a":"div",b="button"===m?{type:this.type}:{download:i,href:s,rel:a,target:l};let v={};const y=this.getFirstInteractive();(g||void 0!==y&&!u)&&(v={onClick:t=>{if(g&&cl(s,t,h,c),void 0!==y&&!u){const e=t.composedPath()[0];if(t.isTrusted){this.el.shadowRoot.contains(e)&&("ION-INPUT"===y.tagName||"ION-TEXTAREA"===y.tagName?y.setFocus():y.click())}}}});const w=void 0!==t?t:"ios"===p&&g;this.itemStyles.forEach((t=>{Object.assign(d,t)}));const x=r||d["item-interactive-disabled"]?"true":null,_=rl("ion-list",this.el)&&!rl("ion-radio-group",this.el),C=void 0!==y&&!["ION-INPUT","ION-TEXTAREA"].includes(y.tagName);return Yr(Jr,{key:"f7986b5b81c4f289460bff2c452ce993b674236b","aria-disabled":x,class:Object.assign(Object.assign(Object.assign({},d),n),sl(this.color,{item:!0,[p]:!0,"item-lines-default":void 0===o,[`item-lines-${o}`]:void 0!==o,"item-control-needs-pointer-cursor":C,"item-disabled":r,"in-list":_,"item-multiple-inputs":this.multipleInputs,"ion-activatable":f,"ion-focusable":this.focusable,"item-rtl":"rtl"===document.dir})),role:_?"listitem":null},Yr(m,Object.assign({key:"cfafac67cdb532e4bce2dd4989e1936c013396ba"},b,A,{class:"item-native",part:"native",disabled:r},v),Yr("slot",{key:"68a5b8e978eed62d7d913ca006bd4bd01497cd32",name:"start"}),Yr("div",{key:"5b052cc338b00e8d40ab77cac7a139448f9b6452",class:"item-inner"},Yr("div",{key:"7548addbe881a41ee32fd51627db230b56510760",class:"input-wrapper"},Yr("slot",{key:"b6f4edd5895b9f91bf060edb35666b0e7ea26ccc"})),Yr("slot",{key:"b595e7fb96461ea2e356dbad6529531ca19705db",name:"end"}),w&&Yr("ion-icon",{key:"091aa449464d530c921bd7de79bdc16fbdc14a70",icon:e,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":e===ma})),f&&"md"===p&&Yr("ion-ripple-effect",{key:"a4454f5ad15a67d5e41173d0227b77cd69776a18"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',md:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}'}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
const Hh=function(){if("undefined"==typeof customElements)return;["ion-item","ion-icon","ion-ripple-effect"].forEach((t=>{switch(t){case"ion-item":customElements.get(t)||customElements.define(t,Qh);break;case"ion-icon":customElements.get(t)||el();break;case"ion-ripple-effect":customElements.get(t)||pl()}}))},zh=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.ionColor=ns(this,"ionColor",7),this.ionStyle=ns(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate="floating"===this.position,this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout((()=>{this.noAnimate=!1}),1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:t}=this;this.ionColor.emit({"item-label-color":void 0!==t,[`ion-color-${t}`]:void 0!==t})}emitStyle(){const{inRange:t,position:e}=this;t||this.ionStyle.emit({label:!0,[`label-${e}`]:void 0!==e})}render(){const t=this.position,e=Ua(this);return Yr(Jr,{key:"c2c0f388dab910d294efb9fbb409ee4ef829c1ed",class:sl(this.color,{[e]:!0,"in-item-color":rl("ion-item.ion-color",this.el),[`label-${t}`]:void 0!==t,"label-no-animate":this.noAnimate,"label-rtl":"rtl"===document.dir})},Yr("slot",{key:"4de6b69950f417873a13c851018ec31ea2686f0a"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",md:".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}"}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
const jh=function(){if("undefined"==typeof customElements)return;["ion-label"].forEach((t=>{if("ion-label"===t)customElements.get(t)||customElements.define(t,zh)}))},Gh=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const t=this.el.querySelector("ion-item-sliding");return!!(null==t?void 0:t.closeOpened)&&t.closeOpened()}render(){const t=Ua(this),{lines:e,inset:i}=this;return Yr(Jr,{key:"8bde220025a7eeca6da075379c6487c4c9bdddc1",role:"list",class:{[t]:!0,[`list-${t}`]:!0,"list-inset":i,[`list-lines-${e}`]:void 0!==e,[`list-${t}-lines-${e}`]:void 0!==e}})}get el(){return this}static get style(){return{ios:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",md:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}"}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
const Vh=function(){if("undefined"==typeof customElements)return;["ion-list"].forEach((t=>{if("ion-list"===t)customElements.get(t)||customElements.define(t,Gh)}))},Kh=(t,e,i,n,o)=>Wh(t[1],e[1],i[1],n[1],o).map((o=>qh(t[0],e[0],i[0],n[0],o))),qh=(t,e,i,n,o)=>o*(3*e*Math.pow(o-1,2)+o*(-3*i*o+3*i+n*o))-t*Math.pow(o-1,3),Wh=(t,e,i,n,o)=>Xh((n-=o)-3*(i-=o)+3*(e-=o)-(t-=o),3*i-6*e+3*t,3*e-3*t,t).filter((t=>t>=0&&t<=1)),Xh=(t,e,i,n)=>{if(0===t)return((t,e,i)=>{const n=e*e-4*t*i;return n<0?[]:[(-e+Math.sqrt(n))/(2*t),(-e-Math.sqrt(n))/(2*t)]})(e,i,n);const o=(3*(i/=t)-(e/=t)*e)/3,r=(2*e*e*e-9*e*i+27*(n/=t))/27;if(0===o)return[Math.pow(-r,1/3)];if(0===r)return[Math.sqrt(-o),-Math.sqrt(-o)];const s=Math.pow(r/2,2)+Math.pow(o/3,3);if(0===s)return[Math.pow(r/2,.5)-e/3];if(s>0)return[Math.pow(-r/2+Math.sqrt(s),1/3)-Math.pow(r/2+Math.sqrt(s),1/3)-e/3];const a=Math.sqrt(Math.pow(-o/3,3)),l=Math.acos(-r/(2*Math.sqrt(Math.pow(-o/3,3)))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]},$h=t=>th().duration(t?400:300),Yh=t=>{let e,i;const n=t.width+8,o=th(),r=th();t.isEndSide?(e=n+"px",i="0px"):(e=-n+"px",i="0px"),o.addElement(t.menuInnerEl).fromTo("transform",`translateX(${e})`,`translateX(${i})`);const s="ios"===Ua(t),a=s?.2:.25;return r.addElement(t.backdropEl).fromTo("opacity",.01,a),$h(s).addAnimation([o,r])},Zh=t=>{let e,i;const n=Ua(t),o=t.width;t.isEndSide?(e=-o+"px",i=o+"px"):(e=o+"px",i=-o+"px");const r=th().addElement(t.menuInnerEl).fromTo("transform",`translateX(${i})`,"translateX(0px)"),s=th().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${e})`),a=th().addElement(t.backdropEl).fromTo("opacity",.01,.32);return $h("ios"===n).addAnimation([r,s,a])},Jh=t=>{const e=Ua(t),i=t.width*(t.isEndSide?-1:1)+"px",n=th().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${i})`);return $h("ios"===e).addAnimation(n)},tA=()=>{const t=new Map,e=[],i=async(t,i=!1)=>{if(await c(),"start"===t||"end"===t){const n=e.filter((e=>e.side===t&&!e.disabled));if(n.length>=1)return n.length>1&&i&&il(`menuController queried for a menu on the "${t}" side, but ${n.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,n.map((t=>t.el))),n[0].el;const o=e.filter((e=>e.side===t));if(o.length>=1)return o.length>1&&i&&il(`menuController queried for a menu on the "${t}" side, but ${o.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,o.map((t=>t.el))),o[0].el}else if(null!=t)return l((e=>e.menuId===t));const n=l((t=>!t.disabled));return n||(e.length>0?e[0].el:void 0)},n=async()=>(await c(),r()),o=(e,i)=>{t.set(e,i)},r=()=>l((t=>t._isOpen)),s=()=>e.map((t=>t.el)),a=()=>e.some((t=>t.isAnimating)),l=t=>{const i=e.find(t);if(void 0!==i)return i.el},c=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map((t=>new Promise((e=>ta(t,e))))));return o("reveal",Jh),o("push",Zh),o("overlay",Yh),null==Sl||Sl.addEventListener("ionBackButton",(t=>{const e=r();e&&t.detail.register(99,(()=>e.close()))})),{registerAnimation:o,get:i,getMenus:async()=>(await c(),s()),getOpen:n,isEnabled:async t=>{const e=await i(t);return!!e&&!e.disabled},swipeGesture:async(t,e)=>{const n=await i(e);return n&&(n.swipeGesture=t),n},isAnimating:async()=>(await c(),a()),isOpen:async t=>{if(null!=t){const e=await i(t);return void 0!==e&&e.isOpen()}return void 0!==await n()},enable:async(t,e)=>{const n=await i(e);return n&&(n.disabled=!t),n},toggle:async t=>{const e=await i(t,!0);return!!e&&e.toggle()},close:async t=>{const e=await(void 0!==t?i(t,!0):n());return void 0!==e&&e.close()},open:async t=>{const e=await i(t,!0);return!!e&&e.open()},_getOpenSync:r,_createAnimation:(e,i)=>{const n=t.get(e);if(!n)throw new Error("animation not registered");return n(i)},_register:t=>{e.indexOf(t)<0&&e.push(t)},_unregister:t=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},_setOpen:async(t,e,i)=>{if(a())return!1;if(e){const e=await n();e&&t.el!==e&&await e.setOpen(!1,!1)}return t._setOpen(e,i)}}},eA=tA(),iA=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=ns(this,"ionWillOpen",7),this.ionWillClose=ns(this,"ionWillClose",7),this.ionDidOpen=ns(this,"ionDidOpen",7),this.ionDidClose=ns(this,"ionDidClose",7),this.ionMenuChange=ns(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=zl.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=t=>{const e=sc(document);e&&!e.contains(this.el)||this.trapKeyboardFocus(t,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(t,e){const i=this.contentEl;i&&(void 0!==e&&i.classList.remove(`menu-content-${e}`),i.classList.add(`menu-content-${t}`),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=ua(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){"undefined"!=typeof customElements&&null!=customElements&&await customElements.whenDefined("ion-menu"),void 0===this.type&&(this.type=wa.get("menuType","overlay"));const t=void 0!==this.contentId?document.getElementById(this.contentId):null;null!==t?(this.el.contains(t)&&console.error('Menu: "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=t,t.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),eA._register(this),this.menuChanged(),this.gesture=(await pr((async()=>{const{createGesture:t}=await Promise.resolve().then((()=>EA));return{createGesture:t}}))).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:t=>this.canStart(t),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.updateState()):console.error('Menu: must have a "content" element to listen for drag events on.')}componentWillLoad(){this.inheritedAttributes=oa(this.el)}async componentDidLoad(){this.didLoad=!0;const t=this.el.closest("ion-split-pane");null!==t&&(this.isPaneVisible=await t.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),eA._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(t){const e=this.el.closest("ion-split-pane");null!==e&&e===t.target&&(this.isPaneVisible=t.detail.visible,this.updateState())}onBackdropClick(t){if(this._isOpen&&this.lastOnEnd<t.timeStamp-100){!!t.composedPath&&!t.composedPath().includes(this.menuInnerEl)&&(t.preventDefault(),t.stopPropagation(),this.close())}}onKeydown(t){"Escape"===t.key&&this.close()}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(t=!0){return this.setOpen(!0,t)}close(t=!0){return this.setOpen(!1,t)}toggle(t=!0){return this.setOpen(!this._isOpen,t)}setOpen(t,e=!0){return eA._setOpen(this,t,e)}trapKeyboardFocus(t,e){const i=t.target;if(i)if(this.el.contains(i))this.lastFocus=i;else{const{el:t}=this;Gl(t),this.lastFocus===e.activeElement&&Vl(t)}}async _setOpen(t,e=!0){return!(!this._isActive()||this.isAnimating||t===this._isOpen)&&(this.beforeAnimation(t),await this.loadAnimation(),await this.startAnimation(t,e),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(t),!0))}async loadAnimation(){const t=this.menuInnerEl.offsetWidth,e=ua(this.side);if(t===this.width&&void 0!==this.animation&&e===this.isEndSide)return;this.width=t,this.isEndSide=e,this.animation&&(this.animation.destroy(),this.animation=void 0);const i=this.animation=await eA._createAnimation(this.type,this);wa.getBoolean("animated",!0)||i.duration(0),i.fill("both")}async startAnimation(t,e){const i=!t,n=Ua(this),o="ios"===n?"cubic-bezier(0.32,0.72,0,1)":"cubic-bezier(0.0,0.0,0.2,1)",r="ios"===n?"cubic-bezier(1, 0, 0.68, 0.28)":"cubic-bezier(0.4, 0, 0.6, 1)",s=this.animation.direction(i?"reverse":"normal").easing(i?r:o);e?await s.play():s.play({sync:!0}),"reverse"===s.getDirection()&&s.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(t){return!(!!document.querySelector("ion-modal.show-modal")||!this.canSwipe())&&(!!this._isOpen||!eA._getOpenSync()&&oA(window,t.currentX,this.isEndSide,this.maxEdgeStart))}onWillStart(){return this.beforeAnimation(!this._isOpen),this.loadAnimation()}onStart(){this.isAnimating&&this.animation?this.animation.progressStart(!0,this._isOpen?1:0):Aa(!1,"isAnimating has to be true")}onMove(t){if(!this.isAnimating||!this.animation)return void Aa(!1,"isAnimating has to be true");const e=nA(t.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-e:e)}onEnd(t){if(!this.isAnimating||!this.animation)return void Aa(!1,"isAnimating has to be true");const e=this._isOpen,i=this.isEndSide,n=nA(t.deltaX,e,i),o=this.width,r=n/o,s=t.velocityX,a=o/2,l=s>=0&&(s>.2||t.deltaX>a),c=s<=0&&(s<-.2||t.deltaX<-a),h=e?i?l:c:i?c:l;let A=!e&&h;e&&!h&&(A=!0),this.lastOnEnd=t.currentTime;let u=h?.001:-.001;u+=Kh([0,0],[.4,0],[.6,1],[1,1],ha(0,r<0?.01:r,.9999))[0]||0;const d=this._isOpen?!h:h;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish((()=>this.afterAnimation(A)),{oneTimeCallback:!0}).progressEnd(d?1:0,this._isOpen?1-u:u,300)}beforeAnimation(t){Aa(!this.isAnimating,"_before() should not be called while animating"),this.el.classList.add(rA),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(sA),this.contentEl&&(this.contentEl.classList.add(aA),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,t?this.ionWillOpen.emit():this.ionWillClose.emit()}afterAnimation(t){var e;if(this._isOpen=t,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),t){this.ionDidOpen.emit();(null===(e=document.activeElement)||void 0===e?void 0:e.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)}else this.el.classList.remove(rA),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(aA),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(sA),this.animation&&this.animation.stop(),this.ionDidClose.emit(),document.removeEventListener("focus",this.handleFocus,!0)}updateState(){const t=this._isActive();this.gesture&&this.gesture.enable(t&&this.swipeGesture),t||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1))}render(){const{type:t,disabled:e,el:i,isPaneVisible:n,inheritedAttributes:o,side:r}=this,s=Ua(this);return Yr(Jr,{key:"30c0c9bfb8973e4a6feb658f8c4ee8e362f464ed",onKeyDown:Pl()?null:this.onKeydown,role:"navigation","aria-label":o["aria-label"]||"menu",class:{[s]:!0,[`menu-type-${t}`]:!0,"menu-enabled":!e,[`menu-side-${r}`]:!0,"menu-pane-visible":n,"split-pane-side":rl("ion-split-pane",i)}},Yr("div",{key:"34b0e5840906862cf1bc27207e089004b0402c56",class:"menu-inner",part:"container",ref:t=>this.menuInnerEl=t},Yr("slot",{key:"2cd7e61a8c0987ca4b3f1f8b33cba7152f1275fe"})),Yr("ion-backdrop",{key:"d190b1f9b66c76e276f27bfe074d3aab796180fb",ref:t=>this.backdropEl=t,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",md:":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}"}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),nA=(t,e,i)=>Math.max(0,e!==i?-t:t),oA=(t,e,i,n)=>i?e>=t.innerWidth-n:e<=n,rA="show-menu",sA="show-backdrop",aA="menu-content-open";
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const lA=function(){if("undefined"==typeof customElements)return;["ion-menu","ion-backdrop"].forEach((t=>{switch(t){case"ion-menu":customElements.get(t)||customElements.define(t,iA);break;case"ion-backdrop":customElements.get(t)||ol()}}))},cA=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>eA.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await(async t=>{const e=await eA.get(t);return!(!e||!(await e.isActive()))})(this.menu)}render(){const t=Ua(this),e=this.autoHide&&!this.visible;return Yr(Jr,{key:"90e621f09792383f1badcc1b402b1ac7d08c5f98",onClick:this.onClick,"aria-hidden":e?"true":null,class:{[t]:!0,"menu-toggle-hidden":e}},Yr("slot",{key:"c0abdd1d91e9d80ee3704e3e374ebe1f29078460"}))}static get style(){return":host(.menu-toggle-hidden){display:none}"}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const hA=function(){if("undefined"==typeof customElements)return;["ion-menu-toggle"].forEach((t=>{if("ion-menu-toggle"===t)customElements.get(t)||customElements.define(t,cA)}))};class AA{constructor(t,e){this.component=t,this.params=e,this.state=1}async init(t){if(this.state=2,!this.element){const e=this.component;this.element=await Nl(this.delegate,t,e,["ion-page","ion-page-invisible"],this.params)}}_destroy(){Aa(3!==this.state,"view state must be ATTACHED");const t=this.element;t&&(this.delegate?this.delegate.removeViewFromDom(t.parentElement,t):t.remove()),this.nav=void 0,this.state=3}}const uA=(t,e,i)=>!!t&&(t.component===e&&ga(t.params,i)),dA=(t,e)=>t?t instanceof AA?t:new AA(t,e):null,pA=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ns(this,"ionNavWillLoad",7),this.ionNavWillChange=ns(this,"ionNavWillChange",3),this.ionNavDidChange=ns(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}rootChanged(){void 0!==this.root&&!1!==this.didLoad&&(this.useRouter||void 0!==this.root&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=null!==document.querySelector("ion-router")&&null===this.el.closest("[no-router]"),void 0===this.swipeGesture){const t=Ua(this);this.swipeGesture=wa.getBoolean("swipeBackEnabled","ios"===t)}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await pr((async()=>{const{createSwipeBackGesture:t}=await i.import("./swipe-back-legacy-BIpJ6aun.js");return{createSwipeBackGesture:t}}))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const t of this.views)qc(t.element,Tc),t._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(t,e,i,n){return this.insert(-1,t,e,i,n)}insert(t,e,i,n,o){return this.insertPages(t,[{component:e,componentProps:i}],n,o)}insertPages(t,e,i,n){return this.queueTrns({insertStart:t,insertViews:e,opts:i},n)}pop(t,e){return this.removeIndex(-1,1,t,e)}popTo(t,e,i){const n={removeStart:-1,removeCount:-1,opts:e};return"object"==typeof t&&t.component?(n.removeView=t,n.removeStart=1):"number"==typeof t&&(n.removeStart=t+1),this.queueTrns(n,i)}popToRoot(t,e){return this.removeIndex(1,-1,t,e)}removeIndex(t,e=1,i,n){return this.queueTrns({removeStart:t,removeCount:e,opts:i},n)}setRoot(t,e,i,n){return this.setPages([{component:t,componentProps:e}],i,n)}setPages(t,e,i){return null!=e||(e={}),!0!==e.animated&&(e.animated=!1),this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:e},i)}setRouteId(t,e,i,n){const o=this.getActiveSync();if(uA(o,t,e))return Promise.resolve({changed:!1,element:o.element});let r;const s=new Promise((t=>r=t));let a;const l={updateURL:!1,viewIsReady:t=>{let e;const i=new Promise((t=>e=t));return r({changed:!0,element:t,markVisible:async()=>{e(),await a}}),i}};if("root"===i)a=this.setRoot(t,e,l);else{const o=this.views.find((i=>uA(i,t,e)));o?a=this.popTo(o,Object.assign(Object.assign({},l),{direction:"back",animationBuilder:n})):"forward"===i?a=this.push(t,e,Object.assign(Object.assign({},l),{animationBuilder:n})):"back"===i&&(a=this.setRoot(t,e,Object.assign(Object.assign({},l),{direction:"back",animated:!0,animationBuilder:n})))}return s}async getRouteId(){const t=this.getActiveSync();if(t)return{id:t.element.tagName,params:t.params,element:t.element}}async getActive(){return this.getActiveSync()}async getByIndex(t){return this.views[t]}async canGoBack(t){return this.canGoBackSync(t)}async getPrevious(t){return this.getPreviousSync(t)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(t=this.getActiveSync()){return!(!t||!this.getPreviousSync(t))}getPreviousSync(t=this.getActiveSync()){if(!t)return;const e=this.views,i=e.indexOf(t);return i>0?e[i-1]:void 0}async queueTrns(t,e){var i,n;if(this.isTransitioning&&(null===(i=t.opts)||void 0===i?void 0:i.skipIfBusy))return!1;const o=new Promise(((e,i)=>{t.resolve=e,t.reject=i}));if(t.done=e,t.opts&&!1!==t.opts.updateURL&&this.useRouter){const e=document.querySelector("ion-router");if(e){const i=await e.canTransition();if(!1===i)return!1;if("string"==typeof i)return e.push(i,t.opts.direction||"back"),!1}}return 0===(null===(n=t.insertViews)||void 0===n?void 0:n.length)&&(t.insertViews=void 0),this.transInstr.push(t),this.nextTrns(),o}success(t,e){if(this.destroyed)this.fireError("nav controller was destroyed",e);else if(e.done&&e.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction),e.resolve(t.hasCompleted),!1!==e.opts.updateURL&&this.useRouter){const e=document.querySelector("ion-router");if(e){const i="back"===t.direction?"back":"forward";e.navChanged(i)}}}failed(t,e){this.destroyed?this.fireError("nav controller was destroyed",e):(this.transInstr.length=0,this.fireError(t,e))}fireError(t,e){e.done&&e.done(!1,!1,t),e.reject&&!this.destroyed?e.reject(t):e.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const t=this.transInstr.shift();return!!t&&(this.runTransition(t),!0)}async runTransition(t){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(t);const e=this.getActiveSync(),i=this.getEnteringView(t,e);if(!e&&!i)throw new Error("no views in the stack to be removed");i&&1===i.state&&await i.init(this.el),this.postViewInit(i,e,t);const n=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&i!==e;if(n&&t.opts&&e){"back"===t.opts.direction&&(t.opts.animationBuilder=t.opts.animationBuilder||(null==i?void 0:i.animationBuilder)),e.animationBuilder=t.opts.animationBuilder}let o;o=n?await this.transition(i,e,t):{hasCompleted:!0,requiresTransition:!1},this.success(o,t),this.ionNavDidChange.emit()}catch(e){this.failed(e,t)}this.isTransitioning=!1,this.nextTrns()}prepareTI(t){var e,i,n;const o=this.views.length;if(null!==(e=t.opts)&&void 0!==e||(t.opts={}),null!==(i=(n=t.opts).delegate)&&void 0!==i||(n.delegate=this.delegate),void 0!==t.removeView){Aa(void 0!==t.removeStart,"removeView needs removeStart"),Aa(void 0!==t.removeCount,"removeView needs removeCount");const e=this.views.indexOf(t.removeView);if(e<0)throw new Error("removeView was not found");t.removeStart+=e}void 0!==t.removeStart&&(t.removeStart<0&&(t.removeStart=o-1),t.removeCount<0&&(t.removeCount=o-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===o),t.insertViews&&((t.insertStart<0||t.insertStart>o)&&(t.insertStart=o),t.enteringRequiresTransition=t.insertStart===o);const r=t.insertViews;if(!r)return;Aa(r.length>0,"length can not be zero");const s=r.map((t=>t instanceof AA?t:"component"in t?dA(t.component,null===t.componentProps?void 0:t.componentProps):dA(t,void 0))).filter((t=>null!==t));if(0===s.length)throw new Error("invalid views to insert");for(const a of s){a.delegate=t.opts.delegate;const e=a.nav;if(e&&e!==this)throw new Error("inserted view was already inserted");if(3===a.state)throw new Error("inserted view was already destroyed")}t.insertViews=s}getEnteringView(t,e){const i=t.insertViews;if(void 0!==i)return i[i.length-1];const n=t.removeStart;if(void 0!==n){const i=this.views,o=n+t.removeCount;for(let t=i.length-1;t>=0;t--){const r=i[t];if((t<n||t>=o)&&r!==e)return r}}}postViewInit(t,e,i){var n,o,r;Aa(e||t,"Both leavingView and enteringView are null"),Aa(i.resolve,"resolve must be valid"),Aa(i.reject,"reject must be valid");const s=i.opts,{insertViews:a,removeStart:l,removeCount:c}=i;let h;if(void 0!==l&&void 0!==c){Aa(l>=0,"removeStart can not be negative"),Aa(c>=0,"removeCount can not be negative"),h=[];for(let i=l;i<l+c;i++){const n=this.views[i];void 0!==n&&n!==t&&n!==e&&h.push(n)}null!==(n=s.direction)&&void 0!==n||(s.direction="back")}const A=this.views.length+(null!==(o=null==a?void 0:a.length)&&void 0!==o?o:0)-(null!=c?c:0);if(Aa(A>=0,"final balance can not be negative"),0===A)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(a){let t=i.insertStart;for(const e of a)this.insertViewAt(e,t),t++;i.enteringRequiresTransition&&(null!==(r=s.direction)&&void 0!==r||(s.direction="forward"))}if(h&&h.length>0){for(const t of h)qc(t.element,kc),qc(t.element,Fc),qc(t.element,Tc);for(const t of h)this.destroyView(t)}}async transition(t,e,i){const n=i.opts,o=n.progressAnimation?t=>{void 0===t||this.gestureOrAnimationInProgress?this.sbAni=t:(this.gestureOrAnimationInProgress=!0,t.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0}),t.progressEnd(0,0,0))}:void 0,r=Ua(this),s=t.element,a=e&&e.element,l=Object.assign(Object.assign({mode:r,showGoBack:this.canGoBackSync(t),baseEl:this.el,progressCallback:o,animated:this.animated&&wa.getBoolean("animated",!0),enteringEl:s,leavingEl:a},n),{animationBuilder:n.animationBuilder||this.animation||wa.get("navAnimation")}),{hasCompleted:c}=await Rc(l);return this.transitionFinish(c,t,e,n)}transitionFinish(t,e,i,n){const o=t?e:i;return o&&this.unmountInactiveViews(o),{hasCompleted:t,requiresTransition:!0,enteringView:e,leavingView:i,direction:n.direction}}insertViewAt(t,e){const i=this.views,n=i.indexOf(t);n>-1?(Aa(t.nav===this,"view is not part of the nav"),i.splice(n,1),i.splice(e,0,t)):(Aa(!t.nav,"nav is used"),t.nav=this,i.splice(e,0,t))}removeView(t){Aa(2===t.state||3===t.state,"view state should be loaded or destroyed");const e=this.views,i=e.indexOf(t);Aa(i>-1,"view must be part of the stack"),i>=0&&e.splice(i,1)}destroyView(t){t._destroy(),this.removeView(t)}unmountInactiveViews(t){if(this.destroyed)return;const e=this.views,i=e.indexOf(t);for(let n=e.length-1;n>=0;n--){const t=e[n],o=t.element;o&&(n>i?(qc(o,Tc),this.destroyView(t)):n<i&&Xc(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(t){this.sbAni&&this.sbAni.progressStep(t)}onEnd(t,e,i){if(this.sbAni){this.sbAni.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0});let n=t?-.001:.001;t?n+=Kh([0,0],[.32,.72],[0,1],[1,1],e)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),n+=Kh([0,0],[1,0],[.68,.28],[1,1],e)[0]),this.sbAni.progressEnd(t?1:0,n,i)}else this.gestureOrAnimationInProgress=!1}render(){return Yr("slot",{key:"e9d99a8a0b84f02f9964d8143cd5e647e43334f9"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);const gA=function(){if("undefined"==typeof customElements)return;["ion-nav"].forEach((t=>{if("ion-nav"===t)customElements.get(t)||customElements.define(t,pA)}))},fA=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.ionInput=ns(this,"ionInput",7),this.ionChange=ns(this,"ionChange",7),this.ionCancel=ns(this,"ionCancel",7),this.ionClear=ns(this,"ionClear",7),this.ionBlur=ns(this,"ionBlur",7),this.ionFocus=ns(this,"ionFocus",7),this.ionStyle=ns(this,"ionStyle",7),this.isCancelVisible=!1,this.shouldAlignLeft=!0,this.inputId="ion-searchbar-"+mA++,this.inheritedAttributes={},this.onClearInput=async t=>(this.ionClear.emit(),new Promise((e=>{setTimeout((()=>{const i=this.getValue();""!==i&&(this.value="",this.emitInputChange(),t&&!this.focused&&(this.setFocus(),this.focusedValue=i)),e()}),64)}))),this.onCancelSearchbar=async t=>{t&&(t.preventDefault(),t.stopPropagation()),this.ionCancel.emit();const e=this.getValue(),i=this.focused;await this.onClearInput(),e&&!i&&this.emitValueChange(t),this.nativeInput&&this.nativeInput.blur()},this.onInput=t=>{const e=t.target;e&&(this.value=e.value),this.emitInputChange(t)},this.onChange=t=>{this.emitValueChange(t)},this.onBlur=t=>{this.focused=!1,this.ionBlur.emit(),this.positionElements(),this.focusedValue!==this.value&&this.emitValueChange(t),this.focusedValue=void 0},this.onFocus=()=>{this.focused=!0,this.focusedValue=this.value,this.ionFocus.emit(),this.positionElements()},this.focused=!1,this.noAnimate=!0,this.color=void 0,this.animated=!1,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.cancelButtonIcon=wa.get("backButtonIcon",fa),this.cancelButtonText="Cancel",this.clearIcon=void 0,this.debounce=void 0,this.disabled=!1,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder="Search",this.searchIcon=void 0,this.showCancelButton="never",this.showClearButton="always",this.spellcheck=!1,this.type="search",this.value=""}onLangChanged(t){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{lang:t}),js(this)}onDirChanged(t){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:t}),js(this)}debounceChanged(){const{ionInput:t,debounce:e,originalIonInput:i}=this;this.ionInput=void 0===e?null!=i?i:t:da(t,e)}valueChanged(){const t=this.nativeInput,e=this.getValue();t&&t.value!==e&&(t.value=e)}showCancelButtonChanged(){requestAnimationFrame((()=>{this.positionElements(),js(this)}))}connectedCallback(){this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign({},ia(this.el,["lang","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.positionElements(),this.debounceChanged(),setTimeout((()=>{this.noAnimate=!1}),300)}emitStyle(){this.ionStyle.emit({searchbar:!0})}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise((t=>ta(this.el,t))),Promise.resolve(this.nativeInput)}emitValueChange(t){const{value:e}=this,i=null==e?e:e.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:t})}emitInputChange(t){const{value:e}=this;this.ionInput.emit({value:e,event:t})}positionElements(){const t=this.getValue(),e=this.shouldAlignLeft,i=Ua(this),n=!this.animated||""!==t.trim()||!!this.focused;this.shouldAlignLeft=n,"ios"===i&&(e!==n&&this.positionPlaceholder(),this.animated&&this.positionCancelButton())}positionPlaceholder(){const t=this.nativeInput;if(!t)return;const e=yl(this.el),i=(this.el.shadowRoot||this.el).querySelector(".searchbar-search-icon");if(this.shouldAlignLeft)t.removeAttribute("style"),i.removeAttribute("style");else{const n=document,o=n.createElement("span");o.innerText=this.placeholder||"",n.body.appendChild(o),la((()=>{const n=o.offsetWidth;o.remove();const r="calc(50% - "+n/2+"px)",s="calc(50% - "+(n/2+i.clientWidth+8)+"px)";e?(t.style.paddingRight=r,i.style.marginRight=s):(t.style.paddingLeft=r,i.style.marginLeft=s)}))}}positionCancelButton(){const t=yl(this.el),e=(this.el.shadowRoot||this.el).querySelector(".searchbar-cancel-button"),i=this.shouldShowCancelButton();if(null!==e&&i!==this.isCancelVisible){const n=e.style;if(this.isCancelVisible=i,i)t?n.marginLeft="0":n.marginRight="0";else{const i=e.offsetWidth;i>0&&(t?n.marginLeft=-i+"px":n.marginRight=-i+"px")}}}getValue(){return this.value||""}hasValue(){return""!==this.getValue()}shouldShowCancelButton(){return!("never"===this.showCancelButton||"focus"===this.showCancelButton&&!this.focused)}shouldShowClearButton(){return!("never"===this.showClearButton||"focus"===this.showClearButton&&!this.focused)}render(){const{cancelButtonText:t,autocapitalize:e}=this,i=this.animated&&wa.getBoolean("animated",!0),n=Ua(this),o=this.clearIcon||("ios"===n?ba:va),r=this.searchIcon||("ios"===n?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"),s=this.shouldShowCancelButton(),a="never"!==this.showCancelButton&&Yr("button",{key:"20b2d0f2e3425eede725dbe3323c7c29cdb66f4e","aria-label":t,"aria-hidden":s?void 0:"true",type:"button",tabIndex:"ios"!==n||s?void 0:-1,onMouseDown:this.onCancelSearchbar,onTouchStart:this.onCancelSearchbar,class:"searchbar-cancel-button"},Yr("div",{key:"3a516c3fdd35256eb79639fd340afcdd92cfd7aa","aria-hidden":"true"},"md"===n?Yr("ion-icon",{"aria-hidden":"true",mode:n,icon:this.cancelButtonIcon,lazy:!1}):t));return Yr(Jr,{key:"34878db21f63a9bdffca0446d8ad5619ff04cac3",role:"search","aria-disabled":this.disabled?"true":null,class:sl(this.color,{[n]:!0,"searchbar-animated":i,"searchbar-disabled":this.disabled,"searchbar-no-animate":i&&this.noAnimate,"searchbar-has-value":this.hasValue(),"searchbar-left-aligned":this.shouldAlignLeft,"searchbar-has-focus":this.focused,"searchbar-should-show-clear":this.shouldShowClearButton(),"searchbar-should-show-cancel":this.shouldShowCancelButton()})},Yr("div",{key:"faa7b011206a8359b1963368c65988e506b260cb",class:"searchbar-input-container"},Yr("input",Object.assign({key:"732d3e5a2b258da6f136a14472ac872816a9853b","aria-label":"search text",disabled:this.disabled,ref:t=>this.nativeInput=t,class:"searchbar-input",inputMode:this.inputmode,enterKeyHint:this.enterkeyhint,name:this.name,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,minLength:this.minlength,maxLength:this.maxlength,placeholder:this.placeholder,type:this.type,value:this.getValue(),autoCapitalize:"default"===e?void 0:e,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,spellcheck:this.spellcheck},this.inheritedAttributes)),"md"===n&&a,Yr("ion-icon",{key:"767dca971849f221dde220deae728b41bf764b98","aria-hidden":"true",mode:n,icon:r,lazy:!1,class:"searchbar-search-icon"}),Yr("button",{key:"9941b5de1ed9ebcf3e81de8e0731c09dea5a89d9","aria-label":"reset",type:"button","no-blur":!0,class:"searchbar-clear-button",onPointerDown:t=>{t.preventDefault()},onClick:()=>this.onClearInput(!0)},Yr("ion-icon",{key:"cb2b543d286373a84e2c6c2a959f92b045bbd7dd","aria-hidden":"true",mode:n,icon:o,lazy:!1,class:"searchbar-clear-icon"}))),"ios"===n&&a)}get el(){return this}static get watchers(){return{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}}static get style(){return{ios:".sc-ion-searchbar-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-ios-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:inherit}.searchbar-search-icon.sc-ion-searchbar-ios{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-ios{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-ios{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-ios::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-ios>div.sc-ion-searchbar-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-ios:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios{display:block}.searchbar-disabled.sc-ion-searchbar-ios-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-ios-h{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.07);--border-radius:10px;--box-shadow:none;--cancel-button-color:var(--ion-color-primary, #0054e9);--clear-button-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--color:var(--ion-text-color, #000);--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:12px;padding-bottom:12px;min-height:60px;contain:content}.searchbar-input-container.sc-ion-searchbar-ios{min-height:36px}.searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:calc(50% - 60px);margin-inline-start:calc(50% - 60px);top:0;position:absolute;width:1.375rem;height:100%;contain:strict}.searchbar-search-icon.sc-ion-searchbar-ios{inset-inline-start:5px}.searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:6px;padding-bottom:6px;height:100%;font-size:1.0625rem;font-weight:400;contain:strict}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.75rem;padding-inline-start:1.75rem;-webkit-padding-end:1.75rem;padding-inline-end:1.75rem}.searchbar-clear-button.sc-ion-searchbar-ios{top:0;background-position:center;position:absolute;width:1.875rem;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-ios{inset-inline-end:0}.searchbar-clear-icon.sc-ion-searchbar-ios{width:1.125rem;height:100%}.searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:0;padding-inline-end:0;padding-top:0;padding-bottom:0;-ms-flex-negative:0;flex-shrink:0;background-color:transparent;font-size:17px}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:0;margin-inline-start:0}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.875rem;padding-inline-start:1.875rem}.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{display:block}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-transition:all 300ms ease;transition:all 300ms ease}.searchbar-animated.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{opacity:1;pointer-events:auto}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-margin-end:-100%;margin-inline-end:-100%;-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);-webkit-transition:all 300ms ease;transition:all 300ms ease;opacity:0;pointer-events:none}.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-transition-duration:0ms;transition-duration:0ms}.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{color:var(--ion-color-base)}@media (any-hover: hover){.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios:hover{color:var(--ion-color-tint)}}ion-toolbar.sc-ion-searchbar-ios-h,ion-toolbar .sc-ion-searchbar-ios-h{padding-top:1px;padding-bottom:15px;min-height:52px}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color),ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color){color:inherit}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios{color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios{background:rgba(var(--ion-color-contrast-rgb), 0.07);color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}",md:".sc-ion-searchbar-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-md-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{color:inherit}.searchbar-search-icon.sc-ion-searchbar-md{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-md{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-md{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-md::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-md>div.sc-ion-searchbar-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-md:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md{display:block}.searchbar-disabled.sc-ion-searchbar-md-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-md-h{--background:var(--ion-background-color, #fff);--border-radius:2px;--box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--cancel-button-color:var(--ion-color-step-900, var(--ion-text-color-step-100, #1a1a1a));--clear-button-color:initial;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;background:inherit}.searchbar-search-icon.sc-ion-searchbar-md{top:11px;width:1.3125rem;height:1.3125rem}.searchbar-search-icon.sc-ion-searchbar-md{inset-inline-start:16px}.searchbar-cancel-button.sc-ion-searchbar-md{top:0;background-color:transparent;font-size:1.5em}.searchbar-cancel-button.sc-ion-searchbar-md{inset-inline-start:9px}.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-cancel-button.sc-ion-searchbar-md{position:absolute}.searchbar-search-icon.ion-activated.sc-ion-searchbar-md,.searchbar-cancel-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-input.sc-ion-searchbar-md{-webkit-padding-start:3.4375rem;padding-inline-start:3.4375rem;-webkit-padding-end:3.4375rem;padding-inline-end:3.4375rem;padding-top:0.375rem;padding-bottom:0.375rem;background-position:left 8px center;height:auto;font-size:1rem;font-weight:400;line-height:30px}[dir=rtl].sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md,[dir=rtl] .sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}[dir=rtl].sc-ion-searchbar-md .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}@supports selector(:dir(rtl)){.searchbar-input.sc-ion-searchbar-md:dir(rtl){background-position:right 8px center}}.searchbar-clear-button.sc-ion-searchbar-md{top:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;position:absolute;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-md{inset-inline-end:13px}.searchbar-clear-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-clear-icon.sc-ion-searchbar-md{width:1.375rem;height:100%}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md{display:none}ion-toolbar.sc-ion-searchbar-md-h,ion-toolbar .sc-ion-searchbar-md-h{-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:3px;padding-bottom:3px}"}}},[34,"ion-searchbar",{color:[513],animated:[4],autocapitalize:[1],autocomplete:[1],autocorrect:[1],cancelButtonIcon:[1,"cancel-button-icon"],cancelButtonText:[1,"cancel-button-text"],clearIcon:[1,"clear-icon"],debounce:[2],disabled:[4],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],searchIcon:[1,"search-icon"],showCancelButton:[1,"show-cancel-button"],showClearButton:[1,"show-clear-button"],spellcheck:[4],type:[1],value:[1025],focused:[32],noAnimate:[32],setFocus:[64],getInputElement:[64]},void 0,{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */let mA=0;const bA=function(){if("undefined"==typeof customElements)return;["ion-searchbar","ion-icon"].forEach((t=>{switch(t){case"ion-searchbar":customElements.get(t)||customElements.define(t,fA);break;case"ion-icon":customElements.get(t)||el()}}))},vA=(t,e,i,n)=>{const o=yA(t)?{capture:!!n.capture,passive:!!n.passive}:!!n.capture;let r,s;return t.__zone_symbol__addEventListener?(r="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(r="addEventListener",s="removeEventListener"),t[r](e,i,o),()=>{t[s](e,i,o)}},yA=t=>{if(void 0===wA)try{const e=Object.defineProperty({},"passive",{get:()=>{wA=!0}});t.addEventListener("optsTest",(()=>{}),e)}catch(e){wA=!1}return!!wA};
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */let wA;const xA=t=>t instanceof Document?t:t.ownerDocument,_A=e("a0",(t=>{let e=!1,i=!1,n=!0,o=!1;const r=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),s=r.canStart,a=r.onWillStart,l=r.onStart,c=r.onEnd,h=r.notCaptured,A=r.onMove,u=r.threshold,d=r.passive,p=r.blurOnStart,g={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},f=((t,e,i)=>{const n=i*(Math.PI/180),o="x"===t,r=Math.cos(n),s=e*e;let a=0,l=0,c=!1,h=0;return{start(t,e){a=t,l=e,h=0,c=!0},detect(t,e){if(!c)return!1;const i=t-a,n=e-l,A=i*i+n*n;if(A<s)return!1;const u=Math.sqrt(A),d=(o?i:n)/u;return h=d>r?1:d<-r?-1:0,c=!1,!0},isGesture:()=>0!==h,getDirection:()=>h}})(r.direction,r.threshold,r.maxAngle),m=zl.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),b=()=>{e&&(o=!1,A&&A(g))},v=()=>!!m.capture()&&(e=!0,n=!1,g.startX=g.currentX,g.startY=g.currentY,g.startTime=g.currentTime,a?a(g).then(y):y(),!0),y=()=>{p&&(()=>{if("undefined"!=typeof document){const t=document.activeElement;(null==t?void 0:t.blur)&&t.blur()}})(),l&&l(g),n=!0},w=()=>{e=!1,i=!1,o=!1,n=!0,m.release()},x=t=>{const i=e,o=n;w(),o&&(CA(g,t),i?c&&c(g):h&&h(g))},_=((t,e,i,n,o)=>{let r,s,a,l,c,h,A,u=0;const d=n=>{u=Date.now()+2e3,e(n)&&(!s&&i&&(s=vA(t,"touchmove",i,o)),a||(a=vA(n.target,"touchend",g,o)),l||(l=vA(n.target,"touchcancel",g,o)))},p=n=>{u>Date.now()||e(n)&&(!h&&i&&(h=vA(xA(t),"mousemove",i,o)),A||(A=vA(xA(t),"mouseup",f,o)))},g=t=>{m(),n&&n(t)},f=t=>{b(),n&&n(t)},m=()=>{s&&s(),a&&a(),l&&l(),s=a=l=void 0},b=()=>{h&&h(),A&&A(),h=A=void 0},v=()=>{m(),b()},y=(e=!0)=>{e?(r||(r=vA(t,"touchstart",d,o)),c||(c=vA(t,"mousedown",p,o))):(r&&r(),c&&c(),r=c=void 0,v())};return{enable:y,stop:v,destroy:()=>{y(!1),n=i=e=void 0}}})(r.el,(t=>{const e=SA(t);return!(i||!n)&&(BA(t,g),g.startX=g.currentX,g.startY=g.currentY,g.startTime=g.currentTime=e,g.velocityX=g.velocityY=g.deltaX=g.deltaY=0,g.event=t,(!s||!1!==s(g))&&(m.release(),!!m.start()&&(i=!0,0===u?v():(f.start(g.startX,g.startY),!0))))}),(t=>{e?!o&&n&&(o=!0,CA(g,t),requestAnimationFrame(b)):(CA(g,t),f.detect(g.currentX,g.currentY)&&(f.isGesture()&&v()||C()))}),x,{capture:!1,passive:d}),C=()=>{w(),_.stop(),h&&h(g)};return{enable(t=!0){t||(e&&x(void 0),w()),_.enable(t)},destroy(){m.destroy(),_.destroy()}}})),CA=(t,e)=>{if(!e)return;const i=t.currentX,n=t.currentY,o=t.currentTime;BA(e,t);const r=t.currentX,s=t.currentY,a=(t.currentTime=SA(e))-o;if(a>0&&a<100){const e=(r-i)/a,o=(s-n)/a;t.velocityX=.7*e+.3*t.velocityX,t.velocityY=.7*o+.3*t.velocityY}t.deltaX=r-t.startX,t.deltaY=s-t.startY,t.event=e},BA=(t,e)=>{let i=0,n=0;if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];i=t.clientX,n=t.clientY}else void 0!==t.pageX&&(i=t.pageX,n=t.pageY)}e.currentX=i,e.currentY=n},SA=t=>t.timeStamp||Date.now(),EA=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:zl,createGesture:_A},Symbol.toStringTag,{value:"Module"})),kA=(t,e)=>{let i,n;const o=(t,n,o)=>{if("undefined"==typeof document)return;const a=document.elementFromPoint(t,n);a&&e(a)&&!a.disabled?a!==i&&(s(),r(a,o)):s()},r=(t,e)=>{i=t,n||(n=i);const o=i;Dr((()=>o.classList.add("ion-activated"))),e()},s=(t=!1)=>{if(!i)return;const e=i;Dr((()=>e.classList.remove("ion-activated"))),t&&n!==i&&i.click(),i=void 0};return _A({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>o(t.currentX,t.currentY,Il),onMove:t=>o(t.currentX,t.currentY,Ml),onEnd:()=>{s(!0),Ll()&&Tl.selectionEnd(),n=void 0}})},FA=t=>{const e=th(),i=th(),n=th();return i.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([i,n])},TA=t=>{const e=th(),i=th(),n=th();return i.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([i,n])},LA=t=>{const e=th(),i=th(),n=th();return i.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([i,n])},IA=t=>{const e=th(),i=th(),n=th();return i.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([i,n])},MA=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.didPresent=ns(this,"ionActionSheetDidPresent",7),this.willPresent=ns(this,"ionActionSheetWillPresent",7),this.willDismiss=ns(this,"ionActionSheetWillDismiss",7),this.didDismiss=ns(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=ns(this,"didPresent",7),this.willPresentShorthand=ns(this,"willPresent",7),this.willDismissShorthand=ns(this,"willDismiss",7),this.didDismissShorthand=ns(this,"didDismiss",7),this.delegateController=yc(this),this.lockController=Bc(),this.triggerController=wc(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,bc)},this.dispatchCancelHandler=t=>{const e=t.detail.role;if(gc(e)){const t=this.getButtons().find((t=>"cancel"===t.role));this.callButtonHandler(t)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(t,e){!0===t&&!1===e?this.present():!1===t&&!0===e&&this.dismiss()}triggerChanged(){const{trigger:t,el:e,triggerController:i}=this;t&&i.addClickListener(e,t)}async present(){const t=await this.lockController.lock();await this.delegateController.attachViewToDom(),await lc(this,"actionSheetEnter",FA,LA),t()}async dismiss(t,e){const i=await this.lockController.lock(),n=await hc(this,t,e,"actionSheetLeave",TA,IA);return n&&this.delegateController.removeViewFromDom(),i(),n}onDidDismiss(){return dc(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return dc(this.el,"ionActionSheetWillDismiss")}async buttonClick(t){const e=t.role;if(gc(e))return this.dismiss(t.data,e);return await this.callButtonHandler(t)?this.dismiss(t.data,t.role):Promise.resolve()}async callButtonHandler(t){if(t){if(!1===await mc(t.handler))return!1}return!0}getButtons(){return this.buttons.map((t=>"string"==typeof t?{text:t}:t))}connectedCallback(){Zl(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){Jl(this.el)}componentDidLoad(){const{groupEl:t,wrapperEl:e}=this;!this.gesture&&"ios"===Ua(this)&&e&&t&&Ur((()=>{t.scrollHeight>t.clientHeight||(this.gesture=kA(e,(t=>t.classList.contains("action-sheet-button"))),this.gesture.enable(!0))})),!0===this.isOpen&&la((()=>this.present())),this.triggerChanged()}render(){const{header:t,htmlAttributes:e,overlayIndex:i}=this,n=Ua(this),o=this.getButtons(),r=o.find((t=>"cancel"===t.role)),s=o.filter((t=>"cancel"!==t.role)),a=`action-sheet-${i}-header`;return Yr(Jr,Object.assign({key:"b640e9730af4bd9ec569884cf203c63102e0ea59",role:"dialog","aria-modal":"true","aria-labelledby":void 0!==t?a:null,tabindex:"-1"},e,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({[n]:!0},al(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),Yr("ion-backdrop",{key:"bcfa5b7ffb5c265ef54caa114e697ada11f20c12",tappable:this.backdropDismiss}),Yr("div",{key:"207ae95b5365ce1d76170a05bdf8c83c3ba5de42",tabindex:"0"}),Yr("div",{key:"bf2b4e8d57c822a4ea2bbe6c34b1b2f2067e4c02",class:"action-sheet-wrapper ion-overlay-wrapper",ref:t=>this.wrapperEl=t},Yr("div",{key:"9c4841eb03ca1378c5abc1e3aafbbcfaaa43c345",class:"action-sheet-container"},Yr("div",{key:"fa438b8663f5d30852e5967da0471489efa783b2",class:"action-sheet-group",ref:t=>this.groupEl=t},void 0!==t&&Yr("div",{key:"2c600f1cd8314d65137fb1bfa180312b4791121a",id:a,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":void 0!==this.subHeader}},t,this.subHeader&&Yr("div",{key:"a98d6a3f7948733de22a07432e56255f11243b7b",class:"action-sheet-sub-title"},this.subHeader)),s.map((t=>Yr("button",Object.assign({},t.htmlAttributes,{type:"button",id:t.id,class:PA(t),onClick:()=>this.buttonClick(t),disabled:t.disabled}),Yr("span",{class:"action-sheet-button-inner"},t.icon&&Yr("ion-icon",{icon:t.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),t.text),"md"===n&&Yr("ion-ripple-effect",null))))),r&&Yr("div",{key:"5c5abd0e0b3d486ba2bfe437e28a23b2c7c4c955",class:"action-sheet-group action-sheet-group-cancel"},Yr("button",Object.assign({key:"520a23bbbe6c7436f5bc58bad162d7894b870e54"},r.htmlAttributes,{type:"button",class:PA(r),onClick:()=>this.buttonClick(r)}),Yr("span",{key:"28c90f66786ee82316adc6cfd68d322d2038357d",class:"action-sheet-button-inner"},r.icon&&Yr("ion-icon",{key:"fd49fcea260c7addc9b07718eeb02d4fa6e4d900",icon:r.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),r.text),"md"===n&&Yr("ion-ripple-effect",{key:"c83f636e171fe77635a4fce2b97161447e10546a"}))))),Yr("div",{key:"d304920fc7cb006b87542183a3224a7e460abd3d",tabindex:"0"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:'.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color-step-150, var(--ion-background-color, #fff)));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #0054e9);--button-color-disabled:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999));text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);padding-bottom:var(--ion-safe-area-bottom, 0);-webkit-box-sizing:content-box;box-sizing:content-box}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-size:max(13px, 0.8125rem);font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:max(13px, 0.8125rem);font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:14px;padding-bottom:14px;min-height:56px;font-size:max(20px, 1.25rem);contain:content}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:max(28px, 1.75rem);pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #c5000f)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #c5000f)}}',md:'.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--button-color-disabled:var(--button-color);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:1rem;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:0.875rem}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;position:relative;min-height:52px;font-size:1rem;text-align:start;contain:content;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:1.5rem}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}'}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),PA=t=>Object.assign({"action-sheet-button":!0,"ion-activatable":!t.disabled,"ion-focusable":!t.disabled,[`action-sheet-${t.role}`]:void 0!==t.role},al(t.cssClass));
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
const RA=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=ns(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const t=this.getSize();this.ionStyle.emit({[`title-${t}`]:!0})}getSize(){return void 0!==this.size?this.size:"default"}render(){const t=Ua(this),e=this.getSize();return Yr(Jr,{key:"5a58dc437a6f4257244bbdd7e9a682a17d8c9a6b",class:sl(this.color,{[t]:!0,[`title-${e}`]:!0,"title-rtl":"rtl"===document.dir})},Yr("div",{key:"58682ea7b8f47a08adfad419b5c76b34784c6501",class:"toolbar-title"},Yr("slot",{key:"8a9248534e4c3076f5e2dfda38ef86069796851c"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",md:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}"}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);const NA=function(){if("undefined"==typeof customElements)return;["ion-title"].forEach((t=>{if("ion-title"===t)customElements.get(t)||customElements.define(t,RA)}))},OA=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const t=Array.from(this.el.querySelectorAll("ion-buttons")),e=t.find((t=>"start"===t.slot));e&&e.classList.add("buttons-first-slot");const i=t.reverse(),n=i.find((t=>"end"===t.slot))||i.find((t=>"primary"===t.slot))||i.find((t=>"secondary"===t.slot));n&&n.classList.add("buttons-last-slot")}childrenStyle(t){t.stopPropagation();const e=t.target.tagName,i=t.detail,n={},o=this.childrenStyles.get(e)||{};let r=!1;Object.keys(i).forEach((t=>{const e=`toolbar-${t}`,s=i[t];s!==o[e]&&(r=!0),s&&(n[e]=!0)})),r&&(this.childrenStyles.set(e,n),js(this))}render(){const t=Ua(this),e={};return this.childrenStyles.forEach((t=>{Object.assign(e,t)})),Yr(Jr,{key:"4bb3a55001408a3bdf033af76b9196cb96c07c09",class:Object.assign(Object.assign({},e),sl(this.color,{[t]:!0,"in-toolbar":rl("ion-toolbar",this.el)}))},Yr("div",{key:"0891db157d6e028c6d03696f13fb510ea91b0296",class:"toolbar-background"}),Yr("div",{key:"95fbc870d808f74af4bb18cd8f8ec8c7828a9e0b",class:"toolbar-container"},Yr("slot",{key:"84d4a9644660fe00ca085055ca8d12f3647531ad",name:"start"}),Yr("slot",{key:"fd361dc9c9979f59aed2fedcf94629506fae62b0",name:"secondary"}),Yr("div",{key:"54d2b28616a4627c55766f66dc453707752758a6",class:"toolbar-content"},Yr("slot",{key:"8f65e0830cce7135640b90eb694e282cb7e5efd2"})),Yr("slot",{key:"c78be11a207c8674f222543646398636956087e6",name:"primary"}),Yr("slot",{key:"ab25e1601ccaa8cb0d81921b849bcb7402aa7826",name:"end"})))}get el(){return this}static get style(){return{ios:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",md:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}"}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const UA=function(){if("undefined"==typeof customElements)return;["ion-toolbar"].forEach((t=>{if("ion-toolbar"===t)customElements.get(t)||customElements.define(t,OA)}))},DA=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async t=>{const e=this.el.closest("ion-nav");return t.preventDefault(),e&&await e.canGoBack()?e.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):cl(this.defaultHref,t,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=oa(this.el),void 0===this.defaultHref&&(this.defaultHref=wa.get("backButtonDefaultHref"))}get backButtonIcon(){const t=this.icon;return null!=t?t:"ios"===Ua(this)?wa.get("backButtonIcon","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>"):wa.get("backButtonIcon",fa)}get backButtonText(){const t="ios"===Ua(this)?"Back":null;return null!=this.text?this.text:wa.get("backButtonText",t)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:t,defaultHref:e,disabled:i,type:n,hasIconOnly:o,backButtonIcon:r,backButtonText:s,icon:a,inheritedAttributes:l}=this,c=void 0!==e,h=Ua(this),A=l["aria-label"]||s||"back";return Yr(Jr,{key:"8351c93a1812c94c979fb115f07a9ad7b3152188",onClick:this.onClick,class:sl(t,{[h]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":o,"in-toolbar":rl("ion-toolbar",this.el),"in-toolbar-color":rl("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":c})},Yr("button",{key:"991b8baa784dbfbdf8d3581cbbf6a858ac1f1e6e",type:n,disabled:i,class:"button-native",part:"native","aria-label":A},Yr("span",{key:"929fcd83a4fdb00cf97ca803f234719171602a5e",class:"button-inner"},r&&Yr("ion-icon",{key:"0c10d412ae8342d96f221e626b421c9abadac748",part:"icon",icon:r,"aria-hidden":"true",lazy:!1,"flip-rtl":void 0===a}),s&&Yr("span",{key:"96f505880a80f36ee8b8c78268b450f3629ee613",part:"text","aria-hidden":"true",class:"button-text"},s)),"md"===h&&Yr("ion-ripple-effect",{key:"0aecf5d415c608069eb1a10043530bd0929b6383",type:this.rippleType})))}get el(){return this}static get style(){return{ios:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',md:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}'}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const QA=function(){if("undefined"==typeof customElements)return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach((t=>{switch(t){case"ion-back-button":customElements.get(t)||customElements.define(t,DA);break;case"ion-icon":customElements.get(t)||el();break;case"ion-ripple-effect":customElements.get(t)||pl()}}))},HA=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ns(this,"ionNavWillLoad",7),this.ionNavWillChange=ns(this,"ionNavWillChange",3),this.ionNavDidChange=ns(this,"ionNavDidChange",3),this.lockController=Bc(),this.gestureOrAnimationInProgress=!1,this.mode=Ua(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}async connectedCallback(){const t=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await pr((async()=>{const{createSwipeBackGesture:t}=await i.import("./swipe-back-legacy-BIpJ6aun.js");return{createSwipeBackGesture:t}}))).createSwipeBackGesture(this.el,(()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart()),(()=>t()),(t=>{var e;return null===(e=this.ani)||void 0===e?void 0:e.progressStep(t)}),((t,e,i)=>{if(this.ani){this.ani.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(t)}),{oneTimeCallback:!0});let n=t?-.001:.001;t?n+=Kh([0,0],[.32,.72],[0,1],[1,1],e)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),n+=Kh([0,0],[1,0],[.68,.28],[1,1],e)[0]),this.ani.progressEnd(t?1:0,n,i)}else this.gestureOrAnimationInProgress=!1})),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(t,e,i){const n=await this.lockController.lock();let o=!1;try{o=await this.transition(t,e,i)}catch(r){console.error(r)}return n(),o}async setRouteId(t,e,i,n){return{changed:await this.setRoot(t,e,{duration:"root"===i?0:void 0,direction:"back"===i?"back":"forward",animationBuilder:n}),element:this.activeEl}}async getRouteId(){const t=this.activeEl;return t?{id:t.tagName,element:t,params:this.activeParams}:void 0}async setRoot(t,e,i){if(this.activeComponent===t&&ga(e,this.activeParams))return!1;const n=this.activeEl,o=await Nl(this.delegate,this.el,t,["ion-page","ion-page-invisible"],e);return this.activeComponent=t,this.activeEl=o,this.activeParams=e,await this.commit(o,n,i),await Ol(this.delegate,n),!0}async transition(t,e,i={}){if(e===t)return!1;this.ionNavWillChange.emit();const{el:n,mode:o}=this,r=this.animated&&wa.getBoolean("animated",!0),s=i.animationBuilder||this.animation||wa.get("navAnimation");return await Rc(Object.assign(Object.assign({mode:o,animated:r,enteringEl:t,leavingEl:e,baseEl:n,deepWait:ea(n),progressCallback:i.progressAnimation?t=>{void 0===t||this.gestureOrAnimationInProgress?this.ani=t:(this.gestureOrAnimationInProgress=!0,t.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)}),{oneTimeCallback:!0}),t.progressEnd(0,0,0))}:void 0},i),{animationBuilder:s})),this.ionNavDidChange.emit(),!0}render(){return Yr("slot",{key:"8279a453c66a766e6e383ff59842b4ae070c13a9"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);const zA=function(){if("undefined"==typeof customElements)return;["ion-router-outlet"].forEach((t=>{if("ion-router-outlet"===t)customElements.get(t)||customElements.define(t,HA)}))},jA="undefined"!=typeof document;
/*!
        * vue-router v4.4.0
        * (c) 2024 Eduardo San Martin Morote
        * @license MIT
        */const GA=Object.assign;function VA(t,e){const i={};for(const n in e){const o=e[n];i[n]=qA(o)?o.map(t):t(o)}return i}const KA=()=>{},qA=Array.isArray,WA=/#/g,XA=/&/g,$A=/\//g,YA=/=/g,ZA=/\?/g,JA=/\+/g,tu=/%5B/g,eu=/%5D/g,iu=/%5E/g,nu=/%60/g,ou=/%7B/g,ru=/%7C/g,su=/%7D/g,au=/%20/g;function lu(t){return encodeURI(""+t).replace(ru,"|").replace(tu,"[").replace(eu,"]")}function cu(t){return lu(t).replace(ou,"{").replace(su,"}").replace(iu,"^")}function hu(t){return lu(t).replace(JA,"%2B").replace(au,"+").replace(WA,"%23").replace(XA,"%26").replace(nu,"`").replace(ou,"{").replace(su,"}").replace(iu,"^")}function Au(t){return hu(t).replace(YA,"%3D")}function uu(t){return null==t?"":function(t){return lu(t).replace(WA,"%23").replace(ZA,"%3F")}(t).replace($A,"%2F")}function du(t){try{return decodeURIComponent(""+t)}catch(Gr){}return""+t}const pu=/\/$/,gu=t=>t.replace(pu,"");function fu(t,e,i="/"){let n,o={},r="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),o=t(r)),a>-1&&(n=n||e.slice(0,a),s=e.slice(a,e.length)),n=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),n=t.split("/"),o=n[n.length-1];".."!==o&&"."!==o||n.push("");let r,s,a=i.length-1;for(r=0;r<n.length;r++)if(s=n[r],"."!==s){if(".."!==s)break;a>1&&a--}return i.slice(0,a).join("/")+"/"+n.slice(r).join("/")}(null!=n?n:e,i),{fullPath:n+(r&&"?")+r+s,path:n,query:o,hash:du(s)}}function mu(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function bu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!yu(t[i],e[i]))return!1;return!0}function yu(t,e){return qA(t)?wu(t,e):qA(e)?wu(e,t):t===e}function wu(t,e){return qA(e)?t.length===e.length&&t.every(((t,i)=>t===e[i])):1===t.length&&t[0]===e}const xu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var _u,Cu,Bu,Su;(Cu=_u||(_u={})).pop="pop",Cu.push="push",(Su=Bu||(Bu={})).back="back",Su.forward="forward",Su.unknown="";const Eu=/^[^#]+#/;function ku(t,e){return t.replace(Eu,"#")+e}const Fu=()=>({left:window.scrollX,top:window.scrollY});function Tu(t){let e;if("el"in t){const i=t.el,n="string"==typeof i&&i.startsWith("#"),o="string"==typeof i?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!o)return;e=function(t,e){const i=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-i.left-(e.left||0),top:n.top-i.top-(e.top||0)}}(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}function Lu(t,e){return(history.state?history.state.position-e:-1)+t}const Iu=new Map;let Mu=()=>location.protocol+"//"+location.host;function Pu(t,e){const{pathname:i,search:n,hash:o}=e,r=t.indexOf("#");if(r>-1){let e=o.includes(t.slice(r))?t.slice(r).length:1,i=o.slice(e);return"/"!==i[0]&&(i="/"+i),mu(i,"")}return mu(i,t)+n+o}function Ru(t,e,i,n=!1,o=!1){return{back:t,current:e,forward:i,replaced:n,position:window.history.length,scroll:o?Fu():null}}function Nu(t){const e=function(t){const{history:e,location:i}=window,n={value:Pu(t,i)},o={value:e.state};function r(n,r,s){const a=t.indexOf("#"),l=a>-1?(i.host&&document.querySelector("base")?t:t.slice(a))+n:Mu()+t+n;try{e[s?"replaceState":"pushState"](r,"",l),o.value=r}catch(Gr){console.error(Gr),i[s?"replace":"assign"](l)}}return o.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:n,state:o,push:function(t,i){const s=GA({},o.value,e.state,{forward:t,scroll:Fu()});r(s.current,s,!0),r(t,GA({},Ru(n.value,t,null),{position:s.position+1},i),!1),n.value=t},replace:function(t,i){r(t,GA({},e.state,Ru(o.value.back,t,o.value.forward,!0),i,{position:o.value.position}),!0),n.value=t}}}(t=function(t){if(!t)if(jA){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),gu(t)}(t)),i=function(t,e,i,n){let o=[],r=[],s=null;const a=({state:r})=>{const a=Pu(t,location),l=i.value,c=e.value;let h=0;if(r){if(i.value=a,e.value=r,s&&s===l)return void(s=null);h=c?r.position-c.position:0}else n(a);o.forEach((t=>{t(i.value,l,{delta:h,type:_u.pop,direction:h?h>0?Bu.forward:Bu.back:Bu.unknown})}))};function l(){const{history:t}=window;t.state&&t.replaceState(GA({},t.state,{scroll:Fu()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){s=i.value},listen:function(t){o.push(t);const e=()=>{const e=o.indexOf(t);e>-1&&o.splice(e,1)};return r.push(e),e},destroy:function(){for(const t of r)t();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(t,e.state,e.location,e.replace);const n=GA({location:"",base:t,go:function(t,e=!0){e||i.pauseListeners(),history.go(t)},createHref:ku.bind(null,t)},e,i);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Ou(t){return"string"==typeof t||"symbol"==typeof t}const Uu=Symbol("");var Du,Qu;function Hu(t,e){return GA(new Error,{type:t,[Uu]:!0},e)}function zu(t,e){return t instanceof Error&&Uu in t&&(null==e||!!(t.type&e))}(Qu=Du||(Du={}))[Qu.aborted=4]="aborted",Qu[Qu.cancelled=8]="cancelled",Qu[Qu.duplicated=16]="duplicated";const ju="[^/]+?",Gu={sensitive:!1,strict:!1,start:!0,end:!0},Vu=/[.+*?^${}()[\]/\\]/g;function Ku(t,e){let i=0;for(;i<t.length&&i<e.length;){const n=e[i]-t[i];if(n)return n;i++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function qu(t,e){let i=0;const n=t.score,o=e.score;for(;i<n.length&&i<o.length;){const t=Ku(n[i],o[i]);if(t)return t;i++}if(1===Math.abs(o.length-n.length)){if(Wu(n))return 1;if(Wu(o))return-1}return o.length-n.length}function Wu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Xu={type:0,value:""},$u=/[a-zA-Z0-9_]/;function Yu(t,e,i){const n=function(t,e){const i=GA({},Gu,e),n=[];let o=i.start?"^":"";const r=[];for(const a of t){const t=a.length?[]:[90];i.strict&&!a.length&&(o+="/");for(let e=0;e<a.length;e++){const n=a[e];let s=40+(i.sensitive?.25:0);if(0===n.type)e||(o+="/"),o+=n.value.replace(Vu,"\\$&"),s+=40;else if(1===n.type){const{value:t,repeatable:i,optional:l,regexp:c}=n;r.push({name:t,repeatable:i,optional:l});const h=c||ju;if(h!==ju){s+=10;try{new RegExp(`(${h})`)}catch(Gr){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+Gr.message)}}let A=i?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(A=l&&a.length<2?`(?:/${A})`:"/"+A),l&&(A+="?"),o+=A,s+=20,l&&(s+=-8),i&&(s+=-20),".*"===h&&(s+=-50)}t.push(s)}n.push(t)}if(i.strict&&i.end){const t=n.length-1;n[t][n[t].length-1]+=.7000000000000001}i.strict||(o+="/?"),i.end?o+="$":i.strict&&(o+="(?:/|$)");const s=new RegExp(o,i.sensitive?"":"i");return{re:s,score:n,keys:r,parse:function(t){const e=t.match(s),i={};if(!e)return null;for(let n=1;n<e.length;n++){const t=e[n]||"",o=r[n-1];i[o.name]=t&&o.repeatable?t.split("/"):t}return i},stringify:function(e){let i="",n=!1;for(const o of t){n&&i.endsWith("/")||(i+="/"),n=!1;for(const t of o)if(0===t.type)i+=t.value;else if(1===t.type){const{value:r,repeatable:s,optional:a}=t,l=r in e?e[r]:"";if(qA(l)&&!s)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const c=qA(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${r}"`);o.length<2&&(i.endsWith("/")?i=i.slice(0,-1):n=!0)}i+=c}}return i||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[Xu]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${i})/"${c}": ${t}`)}let i=0,n=i;const o=[];let r;function s(){r&&o.push(r),r=[]}let a,l=0,c="",h="";function A(){c&&(0===i?r.push({type:0,value:c}):1===i||2===i||3===i?(r.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:h,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function u(){c+=a}for(;l<t.length;)if(a=t[l++],"\\"!==a||2===i)switch(i){case 0:"/"===a?(c&&A(),s()):":"===a?(A(),i=1):u();break;case 4:u(),i=n;break;case 1:"("===a?i=2:$u.test(a)?u():(A(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==h[h.length-1]?h=h.slice(0,-1)+a:i=3:h+=a;break;case 3:A(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,h="";break;default:e("Unknown state")}else n=i,i=4;return 2===i&&e(`Unfinished custom RegExp for param "${c}"`),A(),s(),o}(t.path),i),o=GA(n,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function Zu(t,e){const i=[],n=new Map;function o(t,i,n){const a=!n,l=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:td(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}(t);l.aliasOf=n&&n.record;const c=nd(e,t),h=[l];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)h.push(GA({},l,{components:n?n.record.components:l.components,path:t,aliasOf:n?n.record:l}))}let A,u;for(const e of h){const{path:h}=e;if(i&&"/"!==h[0]){const t=i.record.path,n="/"===t[t.length-1]?"":"/";e.path=i.record.path+(h&&n+h)}if(A=Yu(e,i,c),n?n.alias.push(A):(u=u||A,u!==A&&u.alias.push(A),a&&t.name&&!ed(A)&&r(t.name)),od(A)&&s(A),l.children){const t=l.children;for(let e=0;e<t.length;e++)o(t[e],A,n&&n.children[e])}n=n||A}return u?()=>{r(u)}:KA}function r(t){if(Ou(t)){const e=n.get(t);e&&(n.delete(t),i.splice(i.indexOf(e),1),e.children.forEach(r),e.alias.forEach(r))}else{const e=i.indexOf(t);e>-1&&(i.splice(e,1),t.record.name&&n.delete(t.record.name),t.children.forEach(r),t.alias.forEach(r))}}function s(t){const e=function(t,e){let i=0,n=e.length;for(;i!==n;){const o=i+n>>1;qu(t,e[o])<0?n=o:i=o+1}const o=function(t){let e=t;for(;e=e.parent;)if(od(e)&&0===qu(t,e))return e;return}(t);o&&(n=e.lastIndexOf(o,n-1));return n}(t,i);i.splice(e,0,t),t.record.name&&!ed(t)&&n.set(t.record.name,t)}return e=nd({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>o(t))),{addRoute:o,resolve:function(t,e){let o,r,s,a={};if("name"in t&&t.name){if(o=n.get(t.name),!o)throw Hu(1,{location:t});s=o.record.name,a=GA(Ju(e.params,o.keys.filter((t=>!t.optional)).concat(o.parent?o.parent.keys.filter((t=>t.optional)):[]).map((t=>t.name))),t.params&&Ju(t.params,o.keys.map((t=>t.name)))),r=o.stringify(a)}else if(null!=t.path)r=t.path,o=i.find((t=>t.re.test(r))),o&&(a=o.parse(r),s=o.record.name);else{if(o=e.name?n.get(e.name):i.find((t=>t.re.test(e.path))),!o)throw Hu(1,{location:t,currentLocation:e});s=o.record.name,a=GA({},e.params,t.params),r=o.stringify(a)}const l=[];let c=o;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:r,params:a,matched:l,meta:id(l)}},removeRoute:r,clearRoutes:function(){i.length=0,n.clear()},getRoutes:function(){return i},getRecordMatcher:function(t){return n.get(t)}}}function Ju(t,e){const i={};for(const n of e)n in t&&(i[n]=t[n]);return i}function td(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const n in t.components)e[n]="object"==typeof i?i[n]:i;return e}function ed(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function id(t){return t.reduce(((t,e)=>GA(t,e.meta)),{})}function nd(t,e){const i={};for(const n in t)i[n]=n in e?e[n]:t[n];return i}function od({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function rd(t){const e={};if(""===t||"?"===t)return e;const i=("?"===t[0]?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const t=i[n].replace(JA," "),o=t.indexOf("="),r=du(o<0?t:t.slice(0,o)),s=o<0?null:du(t.slice(o+1));if(r in e){let t=e[r];qA(t)||(t=e[r]=[t]),t.push(s)}else e[r]=s}return e}function sd(t){let e="";for(let i in t){const n=t[i];if(i=Au(i),null==n){void 0!==n&&(e+=(e.length?"&":"")+i);continue}const o=qA(n)?n.map((t=>t&&hu(t))):[n&&hu(n)];o.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+i,null!=t&&(e+="="+t))}))}return e}function ad(t){const e={};for(const i in t){const n=t[i];void 0!==n&&(e[i]=qA(n)?n.map((t=>null==t?null:""+t)):null==n?n:""+n)}return e}const ld=Symbol(""),cd=Symbol(""),hd=Symbol(""),Ad=Symbol(""),ud=Symbol("");function dd(){let t=[];return{add:function(e){return t.push(e),()=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function pd(t,e,i,n,o,r=(t=>t())){const s=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise(((a,l)=>{const c=t=>{var r;!1===t?l(Hu(4,{from:i,to:e})):t instanceof Error?l(t):"string"==typeof(r=t)||r&&"object"==typeof r?l(Hu(2,{from:e,to:t})):(s&&n.enterCallbacks[o]===s&&"function"==typeof t&&s.push(t),a())},h=r((()=>t.call(n&&n.instances[o],e,i,c)));let A=Promise.resolve(h);t.length<3&&(A=A.then(c)),A.catch((t=>l(t)))}))}function gd(t,e,i,n,o=(t=>t())){const r=[];for(const a of t)for(const t in a.components){let l=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if("object"==typeof(s=l)||"displayName"in s||"props"in s||"__vccOpts"in s){const s=(l.__vccOpts||l)[e];s&&r.push(pd(s,i,n,a,t,o))}else{let s=l();r.push((()=>s.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${a.path}"`));const s=(l=r).__esModule||"Module"===l[Symbol.toStringTag]?r.default:r;var l;a.components[t]=s;const c=(s.__vccOpts||s)[e];return c&&pd(c,i,n,a,t,o)()}))))}}var s;return r}function fd(t){const e=en(hd),i=en(Ad),n=Do((()=>{const i=Be(t.to);return e.resolve(i)})),o=Do((()=>{const{matched:t}=n.value,{length:e}=t,o=t[e-1],r=i.matched;if(!o||!r.length)return-1;const s=r.findIndex(bu.bind(null,o));if(s>-1)return s;const a=bd(t[e-2]);return e>1&&bd(o)===a&&r[r.length-1].path!==a?r.findIndex(bu.bind(null,t[e-2])):s})),r=Do((()=>o.value>-1&&function(t,e){for(const i in e){const n=e[i],o=t[i];if("string"==typeof n){if(n!==o)return!1}else if(!qA(o)||o.length!==n.length||n.some(((t,e)=>t!==o[e])))return!1}return!0}(i.params,n.value.params))),s=Do((()=>o.value>-1&&o.value===i.matched.length-1&&vu(i.params,n.value.params)));return{route:n,href:Do((()=>n.value.href)),isActive:r,isExactActive:s,navigate:function(i={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(i)?e[Be(t.replace)?"replace":"push"](Be(t.to)).catch(KA):Promise.resolve()}}}const md=Si({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fd,setup(t,{slots:e}){const i=se(fd(t)),{options:n}=en(hd),o=Do((()=>({[vd(t.activeClass,n.linkActiveClass,"router-link-active")]:i.isActive,[vd(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive})));return()=>{const n=e.default&&e.default(i);return t.custom?n:Qo("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:o.value},n)}}});function bd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vd=(t,e,i)=>null!=t?t:null!=e?e:i,yd=Si({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const n=en(ud),o=Do((()=>t.route||n.value)),r=en(cd,0),s=Do((()=>{let t=Be(r);const{matched:e}=o.value;let i;for(;(i=e[t])&&!i.components;)t++;return t})),a=Do((()=>o.value.matched[s.value]));tn(cd,Do((()=>s.value+1))),tn(ld,a),tn(ud,o);const l=we();return Ln((()=>[l.value,a.value,t.name]),(([t,e,i],[n,o,r])=>{e&&(e.instances[i]=t,o&&o!==e&&t&&t===n&&(e.leaveGuards.size||(e.leaveGuards=o.leaveGuards),e.updateGuards.size||(e.updateGuards=o.updateGuards))),!t||!e||o&&bu(e,o)&&n||(e.enterCallbacks[i]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const n=o.value,r=t.name,s=a.value,c=s&&s.components[r];if(!c)return wd(i.default,{Component:c,route:n});const h=s.props[r],A=h?!0===h?n.params:"function"==typeof h?h(n):h:null,u=Qo(c,GA({},A,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(s.instances[r]=null)},ref:l}));return wd(i.default,{Component:u,route:n})||u}}});function wd(t,e){if(!t)return null;const i=t(e);return 1===i.length?i[0]:i}const xd=yd;function _d(t){const e=Zu(t.routes,t),i=t.parseQuery||rd,n=t.stringifyQuery||sd,o=t.history,r=dd(),s=dd(),a=dd(),l=xe(xu);let c=xu;jA&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=VA.bind(null,(t=>""+t)),A=VA.bind(null,uu),u=VA.bind(null,du);function d(t,r){if(r=GA({},r||l.value),"string"==typeof t){const n=fu(i,t,r.path),s=e.resolve({path:n.path},r),a=o.createHref(n.fullPath);return GA(n,s,{params:u(s.params),hash:du(n.hash),redirectedFrom:void 0,href:a})}let s;if(null!=t.path)s=GA({},t,{path:fu(i,t.path,r.path).path});else{const e=GA({},t.params);for(const t in e)null==e[t]&&delete e[t];s=GA({},t,{params:A(e)}),r.params=A(r.params)}const a=e.resolve(s,r),c=t.hash||"";a.params=h(u(a.params));const d=function(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}(n,GA({},t,{hash:cu(c),path:a.path})),p=o.createHref(d);return GA({fullPath:d,hash:c,query:n===sd?ad(t.query):t.query||{}},a,{redirectedFrom:void 0,href:p})}function p(t){return"string"==typeof t?fu(i,t,l.value.path):GA({},t)}function g(t,e){if(c!==t)return Hu(8,{from:e,to:t})}function f(t){return b(t)}function m(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:i}=e;let n="function"==typeof i?i(t):i;return"string"==typeof n&&(n=n.includes("?")||n.includes("#")?n=p(n):{path:n},n.params={}),GA({query:t.query,hash:t.hash,params:null!=n.path?{}:t.params},n)}}function b(t,e){const i=c=d(t),o=l.value,r=t.state,s=t.force,a=!0===t.replace,h=m(i);if(h)return b(GA(p(h),{state:"object"==typeof h?GA({},r,h.state):r,force:s,replace:a}),e||i);const A=i;let u;return A.redirectedFrom=e,!s&&function(t,e,i){const n=e.matched.length-1,o=i.matched.length-1;return n>-1&&n===o&&bu(e.matched[n],i.matched[o])&&vu(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}(n,o,i)&&(u=Hu(16,{to:A,from:o}),L(o,o,!0,!1)),(u?Promise.resolve(u):w(A,o)).catch((t=>zu(t)?zu(t,2)?t:T(t):F(t,A,o))).then((t=>{if(t){if(zu(t,2))return b(GA({replace:a},p(t.to),{state:"object"==typeof t.to?GA({},r,t.to.state):r,force:s}),e||A)}else t=_(A,o,!0,a,r);return x(A,o,t),t}))}function v(t,e){const i=g(t,e);return i?Promise.reject(i):Promise.resolve()}function y(t){const e=P.values().next().value;return e&&"function"==typeof e.runWithContext?e.runWithContext(t):t()}function w(t,e){let i;const[n,o,a]=function(t,e){const i=[],n=[],o=[],r=Math.max(e.matched.length,t.matched.length);for(let s=0;s<r;s++){const r=e.matched[s];r&&(t.matched.find((t=>bu(t,r)))?n.push(r):i.push(r));const a=t.matched[s];a&&(e.matched.find((t=>bu(t,a)))||o.push(a))}return[i,n,o]}(t,e);i=gd(n.reverse(),"beforeRouteLeave",t,e);for(const r of n)r.leaveGuards.forEach((n=>{i.push(pd(n,t,e))}));const l=v.bind(null,t,e);return i.push(l),N(i).then((()=>{i=[];for(const n of r.list())i.push(pd(n,t,e));return i.push(l),N(i)})).then((()=>{i=gd(o,"beforeRouteUpdate",t,e);for(const n of o)n.updateGuards.forEach((n=>{i.push(pd(n,t,e))}));return i.push(l),N(i)})).then((()=>{i=[];for(const n of a)if(n.beforeEnter)if(qA(n.beforeEnter))for(const o of n.beforeEnter)i.push(pd(o,t,e));else i.push(pd(n.beforeEnter,t,e));return i.push(l),N(i)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),i=gd(a,"beforeRouteEnter",t,e,y),i.push(l),N(i)))).then((()=>{i=[];for(const n of s.list())i.push(pd(n,t,e));return i.push(l),N(i)})).catch((t=>zu(t,8)?t:Promise.reject(t)))}function x(t,e,i){a.list().forEach((n=>y((()=>n(t,e,i)))))}function _(t,e,i,n,r){const s=g(t,e);if(s)return s;const a=e===xu,c=jA?history.state:{};i&&(n||a?o.replace(t.fullPath,GA({scroll:a&&c&&c.scroll},r)):o.push(t.fullPath,r)),l.value=t,L(t,e,i,a),T()}let C;function B(){C||(C=o.listen(((t,e,i)=>{if(!R.listening)return;const n=d(t),r=m(n);if(r)return void b(GA(r,{replace:!0}),n).catch(KA);c=n;const s=l.value;var a,h;jA&&(a=Lu(s.fullPath,i.delta),h=Fu(),Iu.set(a,h)),w(n,s).catch((t=>zu(t,12)?t:zu(t,2)?(b(t.to,n).then((t=>{zu(t,20)&&!i.delta&&i.type===_u.pop&&o.go(-1,!1)})).catch(KA),Promise.reject()):(i.delta&&o.go(-i.delta,!1),F(t,n,s)))).then((t=>{(t=t||_(n,s,!1))&&(i.delta&&!zu(t,8)?o.go(-i.delta,!1):i.type===_u.pop&&zu(t,20)&&o.go(-1,!1)),x(n,s,t)})).catch(KA)})))}let S,E=dd(),k=dd();function F(t,e,i){T(t);const n=k.list();return n.length?n.forEach((n=>n(t,e,i))):console.error(t),Promise.reject(t)}function T(t){return S||(S=!t,B(),E.list().forEach((([e,i])=>t?i(t):e())),E.reset()),t}function L(e,i,n,o){const{scrollBehavior:r}=t;if(!jA||!r)return Promise.resolve();const s=!n&&function(t){const e=Iu.get(t);return Iu.delete(t),e}(Lu(e.fullPath,0))||(o||!n)&&history.state&&history.state.scroll||null;return Ve().then((()=>r(e,i,s))).then((t=>t&&Tu(t))).catch((t=>F(t,e,i)))}const I=t=>o.go(t);let M;const P=new Set,R={currentRoute:l,listening:!0,addRoute:function(t,i){let n,o;return Ou(t)?(n=e.getRecordMatcher(t),o=i):o=t,e.addRoute(o,n)},removeRoute:function(t){const i=e.getRecordMatcher(t);i&&e.removeRoute(i)},clearRoutes:e.clearRoutes,hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:d,options:t,push:f,replace:function(t){return f(GA(p(t),{replace:!0}))},go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:r.add,beforeResolve:s.add,afterEach:a.add,onError:k.add,isReady:function(){return S&&l.value!==xu?Promise.resolve():new Promise(((t,e)=>{E.add([t,e])}))},install(t){t.component("RouterLink",md),t.component("RouterView",xd),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>Be(l)}),jA&&!M&&l.value===xu&&(M=!0,f(o.location).catch((t=>{})));const e={};for(const n in xu)Object.defineProperty(e,n,{get:()=>l.value[n],enumerable:!0});t.provide(hd,this),t.provide(Ad,ae(e)),t.provide(ud,l);const i=t.unmount;P.add(t),t.unmount=function(){P.delete(t),P.size<1&&(c=xu,C&&C(),C=null,l.value=xu,M=!1,S=!1),i()}}};function N(t){return t.reduce(((t,e)=>t.then((()=>y(e)))),Promise.resolve())}return R}
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
const Cd=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ns(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=t=>{"Enter"!==t.key&&" "!==t.key||this.selectTab(t)},this.onClick=t=>{this.selectTab(t)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(t){const e=t.target,i=this.el.parentElement;(t.composedPath().includes(i)||(null==e?void 0:e.contains(this.el)))&&(this.selected=this.tab===t.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},ia(this.el,["aria-label"])),void 0===this.layout&&(this.layout=wa.get("tabButtonLayout","icon-top"))}selectTab(t){void 0!==this.tab&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),t.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:t,hasIcon:e,hasLabel:i,href:n,rel:o,target:r,layout:s,selected:a,tab:l,inheritedAttributes:c}=this,h=Ua(this),A={download:this.download,href:n,rel:o,target:r};return Yr(Jr,{key:"4b528ce31f67e10ad849e0c99bd034bba675c227",onClick:this.onClick,onKeyup:this.onKeyUp,id:void 0!==l?`tab-button-${l}`:null,class:{[h]:!0,"tab-selected":a,"tab-disabled":t,"tab-has-label":i,"tab-has-icon":e,"tab-has-label-only":i&&!e,"tab-has-icon-only":e&&!i,[`tab-layout-${s}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Yr("a",Object.assign({key:"0da8784b1b243ffaaaf04dd7adb55d6881ed0c08"},A,{class:"button-native",part:"native",role:"tab","aria-selected":a?"true":null,"aria-disabled":t?"true":null,tabindex:t?"-1":void 0},c),Yr("span",{key:"2c628e8f1ebc129f84876c01530468cb97d8bf3a",class:"button-inner"},Yr("slot",{key:"8052a171d197a7de1a7eb12b091c35f73ae1ee21"})),"md"===h&&Yr("ion-ripple-effect",{key:"4186bdb5ed045ec16f495a14fa30ac864c576227",type:"unbounded"})))}get el(){return this}static get style(){return{ios:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',md:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}'}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);const Bd=function(){if("undefined"==typeof customElements)return;["ion-tab-button","ion-ripple-effect"].forEach((t=>{switch(t){case"ion-tab-button":customElements.get(t)||customElements.define(t,Cd);break;case"ion-ripple-effect":customElements.get(t)||pl()}}))},Sd=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ns(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ns(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){void 0!==this.selectedTab&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await gh((async(t,e)=>{!1===t&&void 0!==e&&await e,this.keyboardVisible=t}))}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:t,translucent:e,keyboardVisible:i}=this,n=Ua(this),o=i&&"top"!==this.el.getAttribute("slot");return Yr(Jr,{key:"3a8595dd83f89e8319471a7a7f9f64b2565b384c",role:"tablist","aria-hidden":o?"true":null,class:sl(t,{[n]:!0,"tab-bar-translucent":e,"tab-bar-hidden":o})},Yr("slot",{key:"8b65eceb922f6abfa15f41046261586fb94b981f"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",md:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}"}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */const Ed=function(){if("undefined"==typeof customElements)return;["ion-tab-bar"].forEach((t=>{if("ion-tab-bar"===t)customElements.get(t)||customElements.define(t,Sd)}))},kd=Xs(class extends Er{constructor(){super(),this.__registerHost()}componentDidLoad(){Td((async()=>{const t=Ba(window,"hybrid");if(wa.getBoolean("_testing")||pr((()=>i.import("./index9-legacy-B2gDfbZQ.js"))).then((t=>t.startTapClick(wa))),wa.getBoolean("statusTap",t)&&pr((()=>i.import("./status-tap-legacy-C1yMB8ZZ.js"))).then((t=>t.startStatusTap())),wa.getBoolean("inputShims",Fd())){const t=Ba(window,"ios")?"ios":"android";pr((()=>i.import("./input-shims-legacy-J7j7Qj9b.js"))).then((e=>e.startInputShims(wa,t)))}const e=await pr((()=>Promise.resolve().then((()=>Rl)))),n=t||Pl();wa.getBoolean("hardwareBackButton",n)?e.startHardwareBackButton():(Pl()&&il("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),e.blockHardwareBackButton()),"undefined"!=typeof window&&pr((()=>Promise.resolve().then((()=>yp)))).then((t=>t.startKeyboardAssist(window))),pr((()=>i.import("./focus-visible-legacy-CdO5cX4I.js"))).then((t=>this.focusVisible=t.startFocusVisible()))}))}async setFocus(t){this.focusVisible&&this.focusVisible.setFocus(t)}render(){const t=Ua(this);return Yr(Jr,{key:"a562850f242d9d45573e35efdd4bd178254677ef",class:{[t]:!0,"ion-page":!0,"force-statusbar-padding":wa.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}},[0,"ion-app",{setFocus:[64]}]),Fd=()=>{if(Ba(window,"ios")&&Ba(window,"mobile"))return!0;return!(!Ba(window,"android")||!Ba(window,"mobileweb"))},Td=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};const Ld=function(){if("undefined"==typeof customElements)return;["ion-app"].forEach((t=>{if("ion-app"===t)customElements.get(t)||customElements.define(t,kd)}))};let Id;const Md=(t,e)=>{const i=(()=>{if("undefined"==typeof window)return new Map;if(!Id){const t=window;t.Ionicons=t.Ionicons||{},Id=t.Ionicons.map=t.Ionicons.map||new Map}return Id})().get(t);if(i)return i;try{return Qr(`svg/${t}.svg`)}catch(n){console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},Pd=(t,e,i,n,o)=>{if(i="ios"===(i&&Ud(i))?"ios":"md",n&&"ios"===i?t=Ud(n):o&&"md"===i?t=Ud(o):(t||!e||Nd(e)||(t=e),Od(t)&&(t=Ud(t))),!Od(t)||""===t.trim())return null;return""!==t.replace(/[a-z]|-|\d/gi,"")?null:t},Rd=t=>Od(t)&&(t=t.trim(),Nd(t))?t:null,Nd=t=>t.length>0&&/(\/|\.)/.test(t),Od=t=>"string"==typeof t,Ud=t=>t.toLowerCase(),Dd=t=>{if(1===t.nodeType){if("script"===t.nodeName.toLowerCase())return!1;for(let e=0;e<t.attributes.length;e++){const i=t.attributes[e].name;if(Od(i)&&0===i.toLowerCase().indexOf("on"))return!1}for(let e=0;e<t.childNodes.length;e++)if(!Dd(t.childNodes[e]))return!1}return!0},Qd=new Map,Hd=new Map;let zd;const jd=(t,e)=>{let i=Hd.get(t);if(!i){if("undefined"==typeof fetch||"undefined"==typeof document)return Qd.set(t,""),Promise.resolve();if((t=>t.startsWith("data:image/svg+xml"))(t)&&(t=>-1!==t.indexOf(";utf8,"))(t)){zd||(zd=new DOMParser);const e=zd.parseFromString(t,"text/html").querySelector("svg");return e&&Qd.set(t,e.outerHTML),Promise.resolve()}i=fetch(t).then((i=>{if(i.ok)return i.text().then((i=>{i&&!1!==e&&(i=(t=>{const e=document.createElement("div");e.innerHTML=t;for(let n=e.childNodes.length-1;n>=0;n--)"svg"!==e.childNodes[n].nodeName.toLowerCase()&&e.removeChild(e.childNodes[n]);const i=e.firstElementChild;if(i&&"svg"===i.nodeName.toLowerCase()){const t=i.getAttribute("class")||"";if(i.setAttribute("class",(t+" s-ion-icon").trim()),Dd(i))return e.innerHTML}return""})(i)),Qd.set(t,i||"")}));Qd.set(t,"")})),Hd.set(t,i)}return i},Gd=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=Vd(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((t,e=[])=>{const i={};return e.forEach((e=>{t.hasAttribute(e)&&(null!==t.getAttribute(e)&&(i[e]=t.getAttribute(e)),t.removeAttribute(e))})),i})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,e,i){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const n=this.io=new window.IntersectionObserver((t=>{t[0].isIntersecting&&(n.disconnect(),this.io=void 0,i())}),{rootMargin:e});n.observe(t)}else i()}loadIcon(){if(this.isVisible){const t=(t=>{let e=Rd(t.src);if(e)return e;if(e=Pd(t.name,t.icon,t.mode,t.ios,t.md),e)return Md(e,t);if(t.icon){if(e=Rd(t.icon),e)return e;if(e=Rd(t.icon[t.mode]),e)return e}return null})(this);t&&(Qd.has(t)?this.svgContent=Qd.get(t):jd(t,this.sanitize).then((()=>this.svgContent=Qd.get(t))),this.didLoadIcon=!0)}this.iconName=Pd(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:e,inheritedAttributes:i,el:n}=this,o=this.mode||"md",r=!!e&&((e.includes("arrow")||e.includes("chevron"))&&!1!==t),s=t||r;return Yr(Jr,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},Kd(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&(a=n,a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},i),this.svgContent?Yr("div",{class:"icon-inner",innerHTML:this.svgContent}):Yr("div",{class:"icon-inner"}));var a}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),Vd=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",Kd=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;const qd=function(){if("undefined"==typeof customElements)return;["ion-icon"].forEach((t=>{if("ion-icon"===t)customElements.get(t)||customElements.define(t,Gd)}))},Wd=function(){if("undefined"==typeof customElements)return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach((t=>{switch(t){case"ion-action-sheet":customElements.get(t)||customElements.define(t,MA);break;case"ion-backdrop":customElements.get(t)||ol();break;case"ion-icon":customElements.get(t)||el();break;case"ion-ripple-effect":customElements.get(t)||pl()}}))};
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
function Xd(t,e,i,n){let o;if(o="md"===i?"top"===t?8:-8:"top"===t?10:-10,e&&Bl){!function(t,e){null===t.offsetParent&&il("The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}(e,n);const i=e.getBoundingClientRect();return"top"===t?o+=i.bottom:"bottom"===t&&(o-=Bl.innerHeight-i.top),{top:`${o}px`,bottom:`${o}px`}}return{top:`calc(${o}px + var(--ion-safe-area-top, 0px))`,bottom:`calc(${o}px - var(--ion-safe-area-bottom, 0px))`}}const $d=(t,e)=>Math.floor(t/2-e/2),Yd=(t,e)=>{const i=th(),n=th(),{position:o,top:r,bottom:s}=e,a=aa(t).querySelector(".toast-wrapper");switch(n.addElement(a),o){case"top":n.fromTo("transform","translateY(-100%)",`translateY(${r})`);break;case"middle":const e=$d(t.clientHeight,a.clientHeight);a.style.top=`${e}px`,n.fromTo("opacity",.01,1);break;default:n.fromTo("transform","translateY(100%)",`translateY(${s})`)}return i.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(n)},Zd=(t,e)=>{const i=th(),n=th(),{position:o,top:r,bottom:s}=e,a=aa(t).querySelector(".toast-wrapper");switch(n.addElement(a),o){case"top":n.fromTo("transform",`translateY(${r})`,"translateY(-100%)");break;case"middle":n.fromTo("opacity",.99,0);break;default:n.fromTo("transform",`translateY(${s})`,"translateY(100%)")}return i.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},Jd=(t,e)=>{const i=th(),n=th(),{position:o,top:r,bottom:s}=e,a=aa(t).querySelector(".toast-wrapper");switch(n.addElement(a),o){case"top":a.style.setProperty("transform",`translateY(${r})`),n.fromTo("opacity",.01,1);break;case"middle":const e=$d(t.clientHeight,a.clientHeight);a.style.top=`${e}px`,n.fromTo("opacity",.01,1);break;default:a.style.setProperty("transform",`translateY(${s})`),n.fromTo("opacity",.01,1)}return i.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(n)},tp=t=>{const e=th(),i=th(),n=aa(t).querySelector(".toast-wrapper");return i.addElement(n).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},ep=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ns(this,"ionToastDidPresent",7),this.willPresent=ns(this,"ionToastWillPresent",7),this.willDismiss=ns(this,"ionToastWillDismiss",7),this.didDismiss=ns(this,"ionToastDidDismiss",7),this.didPresentShorthand=ns(this,"didPresent",7),this.willPresentShorthand=ns(this,"willPresent",7),this.willDismissShorthand=ns(this,"willDismiss",7),this.didDismissShorthand=ns(this,"didDismiss",7),this.delegateController=yc(this),this.lockController=Bc(),this.triggerController=wc(),this.customHTMLEnabled=wa.get("innerHTMLTemplatesEnabled",false),this.presented=!1,this.dispatchCancelHandler=t=>{const e=t.detail.role;if(gc(e)){const t=this.getButtons().find((t=>"cancel"===t.role));this.callButtonHandler(t)}},this.createSwipeGesture=t=>{const e=this.gesture=((t,e,i)=>{const n=aa(t).querySelector(".toast-wrapper"),o=t.clientHeight,r=n.getBoundingClientRect();let s=0;const a="middle"===t.position?.5:0,l="top"===t.position?-1:1,c=$d(o,r.height),h=[{offset:0,transform:`translateY(-${c+r.height}px)`},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:`translateY(${c+r.height}px)`}],A=th("toast-swipe-to-dismiss-animation").addElement(n).duration(100);switch(t.position){case"middle":s=o+r.height,A.keyframes(h),A.progressStart(!0,.5);break;case"top":s=r.bottom,A.keyframes([{offset:0,transform:`translateY(${e.top})`},{offset:1,transform:"translateY(-100%)"}]),A.progressStart(!0,0);break;default:s=o-r.top,A.keyframes([{offset:0,transform:`translateY(${e.bottom})`},{offset:1,transform:"translateY(100%)"}]),A.progressStart(!0,0)}const u=t=>t*l/s,d=_A({el:n,gestureName:"toast-swipe-to-dismiss",gesturePriority:39,direction:"y",onMove:t=>{const e=a+u(t.deltaY);A.progressStep(e)},onEnd:e=>{const o=e.velocityY,r=(e.deltaY+1e3*o)/s*l;d.enable(!1);let a=!0,p=1,g=0,f=0;if("middle"===t.position){a=r>=.25||r<=-.25,p=1,g=0;const t=n.getBoundingClientRect(),i=t.top-c,o=`${i}px`,s=e.deltaY<=0?-1:1,l=(c+t.height)*s,h=[{offset:0,transform:`translateY(${o})`},{offset:1,transform:`translateY(${a?`${l}px`:"0px"})`}];A.keyframes(h),f=l-i}else a=r>=.5,p=a?1:0,g=u(e.deltaY),f=(a?1-g:g)*s;const m=Math.min(Math.abs(f)/Math.abs(o),200);A.onFinish((()=>{a?(i(),A.destroy()):("middle"===t.position?A.keyframes(h).progressStart(!0,.5):A.progressStart(!0,0),d.enable(!0))}),{oneTimeCallback:!0}).progressEnd(p,g,m)}});return d})(this.el,t,(()=>{this.dismiss(void 0,vc)}));e.enable(!0)},this.destroySwipeGesture=()=>{const{gesture:t}=this;void 0!==t&&(t.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:t}=this;return"vertical"===t},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=wa.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(t,e){!0===t&&!1===e?this.present():!1===t&&!0===e&&this.dismiss()}triggerChanged(){const{trigger:t,el:e,triggerController:i}=this;t&&i.addClickListener(e,t)}connectedCallback(){Zl(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){Jl(this.el)}componentDidLoad(){!0===this.isOpen&&la((()=>this.present())),this.triggerChanged()}async present(){const t=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:e,position:i}=this,n=Xd(i,this.getAnchorElement(),Ua(this),e);this.lastPresentedPosition=n,await lc(this,"toastEnter",Yd,Jd,{position:i,top:n.top,bottom:n.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout((()=>this.dismiss(void 0,"timeout")),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(n),t()}async dismiss(t,e){var i,n;const o=await this.lockController.lock(),{durationTimeout:r,position:s,lastPresentedPosition:a}=this;r&&clearTimeout(r);const l=await hc(this,t,e,"toastLeave",Zd,tp,{position:s,top:null!==(i=null==a?void 0:a.top)&&void 0!==i?i:"",bottom:null!==(n=null==a?void 0:a.bottom)&&void 0!==n?n:""});return l&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),o(),l}onDidDismiss(){return dc(this.el,"ionToastDidDismiss")}onWillDismiss(){return dc(this.el,"ionToastWillDismiss")}getButtons(){const t=this.buttons?this.buttons.map((t=>"string"==typeof t?{text:t}:t)):[];return t}getAnchorElement(){const{position:t,positionAnchor:e,el:i}=this;if(void 0!==e)if("middle"!==t||void 0===e){if("string"==typeof e){const t=document.getElementById(e);return null===t?void il(`An anchor element with an ID of "${e}" was not found in the DOM.`,i):t}if(e instanceof Er)return e;il("Invalid positionAnchor value:",e,i)}else il('The positionAnchor property is ignored when using position="middle".',this.el)}async buttonClick(t){const e=t.role;if(gc(e))return this.dismiss(void 0,e);return await this.callButtonHandler(t)?this.dismiss(void 0,e):Promise.resolve()}async callButtonHandler(t){if(null==t?void 0:t.handler)try{if(!1===await mc(t.handler))return!1}catch(e){console.error(e)}return!0}renderButtons(t,e){if(0===t.length)return;const i=Ua(this);return Yr("div",{class:{"toast-button-group":!0,[`toast-button-group-${e}`]:!0}},t.map((t=>Yr("button",Object.assign({},t.htmlAttributes,{type:"button",class:ip(t),tabIndex:0,onClick:()=>this.buttonClick(t),part:np(t)}),Yr("div",{class:"toast-button-inner"},t.icon&&Yr("ion-icon",{"aria-hidden":"true",icon:t.icon,slot:void 0===t.text?"icon-only":void 0,class:"toast-button-icon"}),t.text),"md"===i&&Yr("ion-ripple-effect",{type:void 0!==t.icon&&void 0===t.text?"unbounded":"bounded"})))))}renderToastMessage(t,e=null){const{customHTMLEnabled:i,message:n}=this;return i?Yr("div",{key:t,"aria-hidden":e,class:"toast-message",part:"message",innerHTML:kh(n)}):Yr("div",{key:t,"aria-hidden":e,class:"toast-message",part:"message"},n)}renderHeader(t,e=null){return Yr("div",{key:t,class:"toast-header","aria-hidden":e,part:"header"},this.header)}render(){const{layout:t,el:e,revealContentToScreenReader:i,header:n,message:o}=this,r=this.getButtons(),s=r.filter((t=>"start"===t.side)),a=r.filter((t=>"start"!==t.side)),l=Ua(this),c={"toast-wrapper":!0,[`toast-${this.position}`]:!0,[`toast-layout-${t}`]:!0};return"stacked"===t&&s.length>0&&a.length>0&&il("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",e),Yr(Jr,Object.assign({key:"da148788489146a20b42023fdc6401e53c044767",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:`${6e4+this.overlayIndex}`},class:sl(this.color,Object.assign(Object.assign({[l]:!0},al(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),Yr("div",{key:"ab0a4d783aa43ba961492b3eb8beb60a38153057",class:c},Yr("div",{key:"83e49027fd1ca6553d6910ff91befeea43576f3c",class:"toast-container",part:"container"},this.renderButtons(s,"start"),void 0!==this.icon&&Yr("ion-icon",{key:"025cb4b6b170a89548969a25bcce4ab7a3817898",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),Yr("div",{key:"b811b4e1cbc1528c2cfb57898f5615692120f840",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&void 0!==n&&this.renderHeader("oldHeader","true"),!i&&void 0!==o&&this.renderToastMessage("oldMessage","true"),i&&void 0!==n&&this.renderHeader("header"),i&&void 0!==o&&this.renderToastMessage("header")),this.renderButtons(a,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",md:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}"}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),ip=t=>({"toast-button":!0,"toast-button-icon-only":void 0!==t.icon&&void 0===t.text,[`toast-button-${t.role}`]:void 0!==t.role,"ion-focusable":!0,"ion-activatable":!0}),np=t=>gc(t.role)?"button cancel":"button";const op=function(){if("undefined"==typeof customElements)return;["ion-toast","ion-icon","ion-ripple-effect"].forEach((t=>{switch(t){case"ion-toast":customElements.get(t)||customElements.define(t,ep);break;case"ion-icon":customElements.get(t)||el();break;case"ion-ripple-effect":customElements.get(t)||pl()}}))},rp="ionKeyboardDidShow",sp="ionKeyboardDidHide";
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */let ap={},lp={},cp=!1;const hp=t=>{t.addEventListener("keyboardDidShow",(e=>Ap(t,e))),t.addEventListener("keyboardDidHide",(()=>up(t)))},Ap=(t,e)=>{fp(t,e),cp=!0},up=t=>{mp(t),cp=!1},dp=()=>{const t=(ap.height-lp.height)*lp.scale;return!cp&&ap.width===lp.width&&t>150},pp=t=>cp&&!gp(t),gp=t=>cp&&lp.height===t.innerHeight,fp=(t,e)=>{const i=e?e.keyboardHeight:t.innerHeight-lp.height,n=new CustomEvent(rp,{detail:{keyboardHeight:i}});t.dispatchEvent(n)},mp=t=>{const e=new CustomEvent(sp);t.dispatchEvent(e)},bp=t=>{ap=Object.assign({},lp),lp=vp(t.visualViewport)},vp=t=>({width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale}),yp=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:sp,KEYBOARD_DID_OPEN:rp,copyVisualViewport:vp,keyboardDidClose:gp,keyboardDidOpen:dp,keyboardDidResize:pp,resetKeyboardAssist:()=>{ap={},lp={},cp=!1},setKeyboardClose:up,setKeyboardOpen:Ap,startKeyboardAssist:t=>{if(uh.getEngine())hp(t);else{if(!t.visualViewport)return;lp=vp(t.visualViewport),t.visualViewport.onresize=()=>{bp(t),dp()||pp(t)?Ap(t):gp(t)&&up(t)}}},trackViewportChanges:bp},Symbol.toStringTag,{value:"Module"}));
/*!
       * (C) Ionic http://ionicframework.com - MIT License
       */
var wp;!function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"}(wp||(wp={}));const xp={getEngine(){const t=El();if(null==t?void 0:t.isPluginAvailable("StatusBar"))return t.Plugins.StatusBar},setStyle(t){const e=this.getEngine();e&&e.setStyle(t)},getStyle:async function(){const t=this.getEngine();if(!t)return wp.Default;const{style:e}=await t.getInfo();return e}},_p=(t,e)=>{if(1===e)return 0;const i=1/(1-e);return t*i+-e*i},Cp=()=>{!Bl||Bl.innerWidth>=768||xp.setStyle({style:wp.Dark})},Bp=(t=wp.Default)=>{!Bl||Bl.innerWidth>=768||xp.setStyle({style:t})},Sp=async(t,e)=>{if("function"!=typeof t.canDismiss)return;await t.canDismiss(void 0,vc)&&(e.isRunning()?e.onFinish((()=>{t.dismiss(void 0,"handler")}),{oneTimeCallback:!0}):t.dismiss(void 0,"handler"))},Ep=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1,kp=.915,Fp=(t,e,i,n)=>{const o=.5,r=t.offsetHeight;let s=!1,a=!1,l=null,c=null;let h=!0,A=0;const u=_A({el:t,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:t=>{const e=t.event.target;if(null===e||!e.closest)return!0;if(l=ah(e),l){if(oh(l)){const t=aa(l);c=t.querySelector(".inner-scroll")}else c=l;return!!!l.querySelector("ion-refresher")&&0===c.scrollTop}return null===e.closest("ion-footer")},onStart:i=>{const{deltaY:n}=i;h=!l||!oh(l)||l.scrollY,a=void 0!==t.canDismiss&&!0!==t.canDismiss,n>0&&l&&ch(l),e.progressStart(!0,s?1:0)},onMove:t=>{const{deltaY:n}=t;n>0&&l&&ch(l);const s=t.deltaY/r,c=s>=0&&a,h=c?.2:.9999,u=c?Ep(s/h):s,d=ha(1e-4,u,h);e.progressStep(d),d>=o&&A<o?Bp(i):d<o&&A>=o&&Cp(),A=d},onEnd:i=>{const c=i.velocityY,A=i.deltaY/r,d=A>=0&&a,p=d?.2:.9999,g=d?Ep(A/p):A,f=ha(1e-4,g,p),m=(i.deltaY+1e3*c)/r,b=!d&&m>=o;let v=b?-.001:.001;b?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),v+=Kh([0,0],[.32,.72],[0,1],[1,1],f)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),v+=Kh([0,0],[1,0],[.68,.28],[1,1],f)[0]);const y=Tp(b?A*r:(1-f)*r,c);s=b,u.enable(!1),l&&((t,e)=>{oh(t)?t.scrollY=e:t.style.removeProperty("overflow")})(l,h),e.onFinish((()=>{b||u.enable(!0)})).progressEnd(b?1:0,v,y),d&&f>p/4?Sp(t,e):b&&n()}});return u},Tp=(t,e)=>ha(400,t/Math.abs(1.1*e),500),Lp=t=>{const{currentBreakpoint:e,backdropBreakpoint:i}=t,n=void 0===i||i<e,o=n?`calc(var(--backdrop-opacity) * ${e})`:"0",r=th("backdropAnimation").fromTo("opacity",0,o);n&&r.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);return{wrapperAnimation:th("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-100*e}%)`}]),backdropAnimation:r}},Ip=t=>{const{currentBreakpoint:e,backdropBreakpoint:i}=t,n=`calc(var(--backdrop-opacity) * ${_p(e,i)})`,o=[{offset:0,opacity:n},{offset:1,opacity:0}],r=[{offset:0,opacity:n},{offset:i,opacity:0},{offset:1,opacity:0}],s=th("backdropAnimation").keyframes(0!==i?r:o);return{wrapperAnimation:th("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-100*e}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:s}},Mp=(t,e)=>{const{presentingEl:i,currentBreakpoint:n}=e,o=aa(t),{wrapperAnimation:r,backdropAnimation:s}=void 0!==n?Lp(e):{backdropAnimation:th().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:th().fromTo("transform","translateY(100vh)","translateY(0vh)")};s.addElement(o.querySelector("ion-backdrop")),r.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const a=th("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(r);if(i){const t=window.innerWidth<768,e="ION-MODAL"===i.tagName&&void 0!==i.presentingElement,n=aa(i),o=th().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),l=document.body;if(t){const t=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",n=`translateY(${e?"-10px":t}) scale(${kp})`;o.afterStyles({transform:n}).beforeAddWrite((()=>l.style.setProperty("background-color","black"))).addElement(i).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:n,borderRadius:"10px 10px 0 0"}]),a.addAnimation(o)}else if(a.addAnimation(s),e){const t=`translateY(-10px) scale(${e?kp:1})`;o.afterStyles({transform:t}).addElement(n.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:t}]);const i=th().afterStyles({transform:t}).addElement(n.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:t}]);a.addAnimation([o,i])}else r.fromTo("opacity","0","1")}else a.addAnimation(s);return a},Pp=(t,e,i=500)=>{const{presentingEl:n,currentBreakpoint:o}=e,r=aa(t),{wrapperAnimation:s,backdropAnimation:a}=void 0!==o?Ip(e):{backdropAnimation:th().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:th().fromTo("transform","translateY(0vh)","translateY(100vh)")};a.addElement(r.querySelector("ion-backdrop")),s.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const l=th("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(i).addAnimation(s);if(n){const t=window.innerWidth<768,e="ION-MODAL"===n.tagName&&void 0!==n.presentingElement,i=aa(n),o=th().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((t=>{if(1!==t)return;n.style.setProperty("overflow","");const e=Array.from(r.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter((t=>void 0!==t.presentingElement)).length;e<=1&&r.style.setProperty("background-color","")})),r=document.body;if(t){const t=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",i=`translateY(${e?"-10px":t}) scale(${kp})`;o.addElement(n).keyframes([{offset:0,filter:"contrast(0.85)",transform:i,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),l.addAnimation(o)}else if(l.addAnimation(a),e){const t=`translateY(-10px) scale(${e?kp:1})`;o.addElement(i.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:t},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const n=th().addElement(i.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:t},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);l.addAnimation([o,n])}else s.fromTo("opacity","1","0")}else l.addAnimation(a);return l},Rp=(t,e)=>{const{currentBreakpoint:i}=e,n=aa(t),{wrapperAnimation:o,backdropAnimation:r}=void 0!==i?Lp(e):{backdropAnimation:th().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:th().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])};return r.addElement(n.querySelector("ion-backdrop")),o.addElement(n.querySelector(".modal-wrapper")),th().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([r,o])},Np=(t,e)=>{const{currentBreakpoint:i}=e,n=aa(t),{wrapperAnimation:o,backdropAnimation:r}=void 0!==i?Ip(e):{backdropAnimation:th().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:th().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])};return r.addElement(n.querySelector("ion-backdrop")),o.addElement(n.querySelector(".modal-wrapper")),th().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([r,o])},Op=Xs(class extends Er{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ns(this,"ionModalDidPresent",7),this.willPresent=ns(this,"ionModalWillPresent",7),this.willDismiss=ns(this,"ionModalWillDismiss",7),this.didDismiss=ns(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=ns(this,"ionBreakpointDidChange",7),this.didPresentShorthand=ns(this,"didPresent",7),this.willPresentShorthand=ns(this,"willPresent",7),this.willDismissShorthand=ns(this,"willDismiss",7),this.didDismissShorthand=ns(this,"didDismiss",7),this.ionMount=ns(this,"ionMount",7),this.lockController=Bc(),this.triggerController=wc(),this.coreDelegate=Ul(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:t,handleBehavior:e}=this;"cycle"===e&&void 0===t&&this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:t}=this;void 0===t&&this.dismiss(void 0,bc)},this.onLifecycle=t=>{const e=this.usersElement,i=Up[t.type];if(e&&i){const n=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:t.detail});e.dispatchEvent(n)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(t,e){!0===t&&!1===e?this.present():!1===t&&!0===e&&this.dismiss()}triggerChanged(){const{trigger:t,el:e,triggerController:i}=this;t&&i.addClickListener(e,t)}breakpointsChanged(t){void 0!==t&&(this.sortedBreakpoints=t.sort(((t,e)=>t-e)))}connectedCallback(){const{el:t}=this;Zl(t),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){const{breakpoints:t,initialBreakpoint:e,el:i,htmlAttributes:n}=this,o=this.isSheetModal=void 0!==t&&void 0!==e,r=["aria-label","role"];this.inheritedAttributes=ia(i,r),void 0!==n&&r.forEach((t=>{n[t]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[t]:n[t]}),delete n[t])})),o&&(this.currentBreakpoint=this.initialBreakpoint),void 0===t||void 0===e||t.includes(e)||il("Your breakpoints array must include the initialBreakpoint value."),Jl(i)}componentDidLoad(){!0===this.isOpen&&la((()=>this.present())),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(t=!1){if(this.workingDelegate&&!t)return{delegate:this.workingDelegate,inline:this.inline};const e=this.el.parentNode,i=this.inline=null!==e&&!this.hasController;return{inline:i,delegate:this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate}}async checkCanDismiss(t,e){const{canDismiss:i}=this;return"function"==typeof i?i(t,e):i}async present(){const t=await this.lockController.lock();if(this.presented)return void t();const{presentingElement:e,el:i}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:n,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await Nl(o,i,this.component,["ion-page"],this.componentProps,n),ea(i)?await Wc(this.usersElement):this.keepContentsMounted||await new Promise((t=>la((()=>la((()=>t())))))),Dr((()=>this.el.classList.add("show-modal")));const r=void 0!==e;r&&"ios"===Ua(this)&&(this.statusBarStyle=await xp.getStyle(),Cp()),await lc(this,"modalEnter",Mp,Rp,{presentingEl:e,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),"undefined"!=typeof window&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),la((()=>{this.gesture&&this.gesture.enable(!0)})))},window.addEventListener(rp,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():r&&this.initSwipeToClose(),t()}initSwipeToClose(){var t;if("ios"!==Ua(this))return;const{el:e}=this,i=this.leaveAnimation||wa.get("modalLeave",Pp),n=this.animation=i(e,{presentingEl:this.presentingElement});if(!sh(e))return void lh(e);const o=null!==(t=this.statusBarStyle)&&void 0!==t?t:wp.Default;this.gesture=Fp(e,n,o,(()=>{this.gestureAnimationDismissing=!0,Bp(this.statusBarStyle),this.animation.onFinish((async()=>{await this.dismiss(void 0,vc),this.gestureAnimationDismissing=!1}))})),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:t,initialBreakpoint:e,backdropBreakpoint:i}=this;if(!t||void 0===e)return;const n=this.enterAnimation||wa.get("modalEnter",Mp),o=this.animation=n(this.el,{presentingEl:this.presentingElement,currentBreakpoint:e,backdropBreakpoint:i});o.progressStart(!0,1);const{gesture:r,moveSheetToBreakpoint:s}=((t,e,i,n,o,r,s=[],a,l,c)=>{const h={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==o?[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-o,opacity:0},{offset:1,opacity:0}]:[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}]},A=t.querySelector("ion-content"),u=i.clientHeight;let d=n,p=0,g=!1;const f=r.childAnimations.find((t=>"wrapperAnimation"===t.id)),m=r.childAnimations.find((t=>"backdropAnimation"===t.id)),b=s[s.length-1],v=s[0],y=()=>{t.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),t.classList.remove(Cc)},w=()=>{t.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),t.classList.add(Cc)};f&&m&&(f.keyframes([...h.WRAPPER_KEYFRAMES]),m.keyframes([...h.BACKDROP_KEYFRAMES]),r.progressStart(!0,1-d),d>o?y():w());A&&d!==b&&(A.scrollY=!1);const x=e=>{const{breakpoint:i,canDismiss:n,breakpointOffset:a,animated:u}=e,p=n&&0===i,g=p?d:i,b=0!==g;return d=0,f&&m&&(f.keyframes([{offset:0,transform:`translateY(${100*a}%)`},{offset:1,transform:`translateY(${100*(1-g)}%)`}]),m.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${_p(1-a,o)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${_p(g,o)})`}]),r.progressStep(0)),_.enable(!1),p?Sp(t,r):b||l(),A&&g===s[s.length-1]&&(A.scrollY=!0),new Promise((t=>{r.onFinish((()=>{b?f&&m?la((()=>{f.keyframes([...h.WRAPPER_KEYFRAMES]),m.keyframes([...h.BACKDROP_KEYFRAMES]),r.progressStart(!0,1-g),d=g,c(d),d>o?y():w(),_.enable(!0),t()})):(_.enable(!0),t()):t()}),{oneTimeCallback:!0}).progressEnd(1,0,u?500:0)}))},_=_A({el:i,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:t=>{const e=ah(t.event.target);if(d=a(),1===d&&e){const t=oh(e)?aa(e).querySelector(".inner-scroll"):e;return!e.querySelector("ion-refresher")&&0===t.scrollTop}return!0},onStart:e=>{g=void 0!==t.canDismiss&&!0!==t.canDismiss&&0===v,e.deltaY>0&&A&&(A.scrollY=!1),la((()=>{t.focus()})),r.progressStart(!0,1-d)},onMove:t=>{t.deltaY>0&&A&&(A.scrollY=!1);const e=1-d,i=s.length>1?1-s[1]:void 0,n=e+t.deltaY/u,o=void 0!==i&&n>=i&&g,a=o?.95:.9999,l=o&&void 0!==i?i+Ep((n-i)/(a-i)):n;p=ha(1e-4,l,a),r.progressStep(p)},onEnd:t=>{const e=t.velocityY,i=(t.deltaY+350*e)/u,n=d-i,o=s.reduce(((t,e)=>Math.abs(e-n)<Math.abs(t-n)?e:t));x({breakpoint:o,breakpointOffset:p,canDismiss:g,animated:!0})}});return{gesture:_,moveSheetToBreakpoint:x}})(this.el,this.backdropEl,t,e,i,o,this.sortedBreakpoints,(()=>{var t;return null!==(t=this.currentBreakpoint)&&void 0!==t?t:0}),(()=>this.sheetOnDismiss()),(t=>{this.currentBreakpoint!==t&&(this.currentBreakpoint=t,this.ionBreakpointDidChange.emit({breakpoint:t}))}));this.gesture=r,this.moveSheetToBreakpoint=s,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish((async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,vc),this.gestureAnimationDismissing=!1}))}async dismiss(t,e){var i;if(this.gestureAnimationDismissing&&e!==vc)return!1;const n=await this.lockController.lock();if("handler"!==e&&!(await this.checkCanDismiss(t,e)))return n(),!1;const{presentingElement:o}=this;void 0!==o&&"ios"===Ua(this)&&Bp(this.statusBarStyle),"undefined"!=typeof window&&this.keyboardOpenCallback&&(window.removeEventListener(rp,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const r=await hc(this,t,e,"modalLeave",Pp,Np,{presentingEl:o,currentBreakpoint:null!==(i=this.currentBreakpoint)&&void 0!==i?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});if(r){const{delegate:t}=this.getDelegate();await Ol(t,this.usersElement),Dr((()=>this.el.classList.remove("show-modal"))),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,n(),r}onDidDismiss(){return dc(this.el,"ionModalDidDismiss")}onWillDismiss(){return dc(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(t){if(!this.isSheetModal)return void il("setCurrentBreakpoint is only supported on sheet modals.");if(!this.breakpoints.includes(t))return void il(`Attempted to set invalid breakpoint value ${t}. Please double check that the breakpoint value is part of your defined breakpoints.`);const{currentBreakpoint:e,moveSheetToBreakpoint:i,canDismiss:n,breakpoints:o,animated:r}=this;e!==t&&i&&(this.sheetTransition=i({breakpoint:t,breakpointOffset:1-e,canDismiss:void 0!==n&&!0!==n&&0===o[0],animated:r}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:t,currentBreakpoint:e}=this;if(!t||null==e)return!1;const i=t.filter((t=>0!==t)),n=i.indexOf(e),o=i[(n+1)%i.length];return await this.setCurrentBreakpoint(o),!0}render(){const{handle:t,isSheetModal:e,presentingElement:i,htmlAttributes:n,handleBehavior:o,inheritedAttributes:r,focusTrap:s}=this,a=!1!==t&&e,l=Ua(this),c=void 0!==i&&"ios"===l,h="cycle"===o;return Yr(Jr,Object.assign({key:"fe6fd17cf857127f89d652b9aa3e9473d28c55db","no-router":!0,tabindex:"-1"},n,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[l]:!0,"modal-default":!c&&!e,"modal-card":c,"modal-sheet":e,"overlay-hidden":!0,[Cc]:!1===s},al(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),Yr("ion-backdrop",{key:"0f3a31363c2717e5483bc0412c25804897d4aff8",ref:t=>this.backdropEl=t,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===l&&Yr("div",{key:"0e5ed59162ff08fe0a9f757e06bdacc75f65c0ed",class:"modal-shadow"}),Yr("div",Object.assign({key:"35cdbe2238765e5f346ad7be64f7eefa8c78f0c0",role:"dialog"},r,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:t=>this.wrapperEl=t}),a&&Yr("button",{key:"7a4031eaebf9a098f4c4220a5fe9d1c25cc0ec92",class:"modal-handle",tabIndex:h?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:h?this.onHandleClick:void 0,part:"handle"}),Yr("slot",{key:"534adc8e5bd850199fe2e9e16f0e7c19217d8486"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}',md:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}'}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Up={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};const Dp=function(){if("undefined"==typeof customElements)return;["ion-modal","ion-backdrop"].forEach((t=>{switch(t){case"ion-modal":customElements.get(t)||customElements.define(t,Op);break;case"ion-backdrop":customElements.get(t)||ol()}}))},Qp="update:modelValue",Hp="modelValue",zp="routerLink",jp="navManager",Gp=Symbol(),Vp={default:Gp},Kp=t=>(null==t?void 0:t.split(" "))||[],qp=(t,e,i=[])=>{var n;return[...Array.from((null===(n=t.value)||void 0===n?void 0:n.classList)||[]),...i].filter(((t,i,n)=>!e.has(t)&&n.indexOf(t)===i))},Wp=(t,e,i=[],n,o)=>{void 0!==e&&e();const s=Si(((e,{attrs:i,slots:s,emit:a})=>{var l;let c=e[n];const h=we(),A=new Set(Kp(i.class)),u={created:t=>{(Array.isArray(o)?o:[o]).forEach((e=>{t.addEventListener(e.toLowerCase(),(t=>{c=(null==t?void 0:t.target)[n],a(Qp,c)}))}))}},d=Bo(),p=(null===(l=null==d?void 0:d.appContext)||void 0===l?void 0:l.provides[jp])?en(jp):void 0;return()=>{c=e[n],Kp(i.class).forEach((t=>{A.add(t)}));const o=e.onClick;let a={ref:h,class:qp(h,A),onClick:t=>{void 0!==o&&o(t),t.defaultPrevented||(t=>{const{routerLink:i}=e;if(i!==Gp)if(void 0!==p){let i={event:t};for(const t in e){const n=e[t];e.hasOwnProperty(t)&&t.startsWith("router")&&n!==Gp&&(i[t]=n)}p.navigate(i)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")})(t)}};for(const t in e){const i=e[t];(e.hasOwnProperty(t)&&i!==Gp||t.startsWith("aria"))&&(a[t]=i)}n&&(e[Hp]!==Gp?a=Object.assign(Object.assign({},a),{[n]:e[Hp]}):c!==Gp&&(a=Object.assign(Object.assign({},a),{[n]:c})));const l=Qo(t,a,s.default&&s.default());return void 0===n?l:function(t,e){if(null===ii)return t;const i=Oo(ii),n=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,s,a,l=r]=e[o];t&&(b(t)&&(t={mounted:t,updated:t}),t.deep&&Rn(s),n.push({dir:t,instance:i,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}(l,[[u]])}}));return"function"!=typeof s&&(s.name=t,s.props={[zp]:Vp},i.forEach((t=>{s.props[t]=Vp})),n&&(s.props[Hp]=Vp,s.emits=[Qp])),s},Xp=e("i",Wp("ion-button",fl,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"])),$p=(e("N",Wp("ion-buttons",bl,["collapse"])),e("j",Wp("ion-content",Cl,["color","fullscreen","fixedSlotPlacement","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]))),Yp=(e("R",Wp("ion-footer",bh,["collapse","translucent"])),e("g",Wp("ion-header",Eh,["collapse","translucent"]))),Zp=Wp("ion-input",Dh,["color","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","inputmode","helperText","label","labelPlacement","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value","ionInput","ionChange","ionBlur","ionFocus"],"value","ion-input"),Jp=e("T",Wp("ion-item",Hh,["color","button","detail","detailIcon","disabled","download","href","rel","lines","routerAnimation","routerDirection","target","type"])),tg=e("W",Wp("ion-label",jh,["color","position","ionColor","ionStyle"])),eg=e("J",Wp("ion-list",Vh,["lines","inset"])),ig=Wp("ion-menu",lA,["contentId","menuId","type","disabled","side","swipeGesture","maxEdgeStart","ionWillOpen","ionWillClose","ionDidOpen","ionDidClose","ionMenuChange"]),ng=Wp("ion-menu-toggle",hA,["menu","autoHide"]),og=(e("H",Wp("ion-searchbar",bA,["color","animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","debounce","disabled","inputmode","enterkeyhint","maxlength","minlength","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value","ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus","ionStyle"],"value","ion-input")),e("e",Wp("ion-title",NA,["color","size","ionStyle"]))),rg=e("I",Wp("ion-toolbar",UA,["color"]));var sg;!function(t){t.WillEnter="onIonViewWillEnter",t.DidEnter="onIonViewDidEnter",t.WillLeave="onIonViewWillLeave",t.DidLeave="onIonViewDidLeave"}(sg||(sg={}));const ag={[Sc]:sg.WillEnter,[Ec]:sg.DidEnter,[kc]:sg.WillLeave,[Fc]:sg.DidLeave},lg={main:0},cg=(t,e,i)=>{(null==t?void 0:t[i])&&t[i].bind(null==e?void 0:e.value)();const n=null==e?void 0:e.value;if((null==n?void 0:n[i])&&n[i](),n){const t=n[ag[i]];t&&t.forEach((t=>t()))}},hg=()=>{if("undefined"!=typeof window){const t=window.Ionic;if(t&&t.config)return t.config}return null},Ag=t=>(e,i=Bo())=>((t,e,i)=>{if(i){const n=i,o=n.proxy[t]||(n.proxy[t]=[]);n.exposed&&(n.exposed[t]=o);const r=(...t)=>{if(!n.isUnmounted)return t?e(...t):e()};return o.push(r),r}console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")})(t,e,i);Ag(sg.WillEnter),Ag(sg.DidEnter),Ag(sg.WillLeave),Ag(sg.DidLeave);const ug=e("a",(()=>{const{canGoBack:t,goBack:e,goForward:i,handleNavigate:n}=en("navManager"),o=(t,e,i,o)=>n(t,i,e,o);return{canGoBack:t,push:(t,e)=>o(t,"forward","push",e),replace:(t,e)=>o(t,"root","replace",e),back:t=>e(t),forward:t=>i(t),navigate:o}})),dg=t=>t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),pg={async install(t,e={}){"undefined"!=typeof document&&document.documentElement.classList.add("ion-ce");const{ael:i,rel:n,ce:o}={ael:(t,e,i,n)=>t.addEventListener(dg(e),i,n),rel:(t,e,i,n)=>t.removeEventListener(dg(e),i,n),ce:(t,e)=>new CustomEvent(dg(t),e)};Da(Object.assign(Object.assign({},e),{_ael:i,_rel:n,_ce:o}))}};Si(((t,{attrs:e,slots:i})=>{QA();const n=en("navManager"),o=()=>{if(void 0===n)return;const t=e["default-href"]||e.defaultHref,i=e["router-animation"]||e.routerAnimation;n.handleNavigateBack(t,i)};return()=>Qo("ion-back-button",Object.assign({onClick:o},e),i.default&&i.default())})).name="IonBackButton";const gg=e("k",Si({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup:(t,{attrs:e,slots:i})=>()=>Qo("div",Object.assign(Object.assign({},e),{class:"ion-page",ref:"ionPage"}),i.default&&i.default())})),fg=t=>!t.classList.contains("ion-page-hidden")&&!t.classList.contains("ion-page-invisible"),mg=Symbol(0),bg=Si({name:"IonRouterOutlet",setup(){zA();const t=en(Ad),e=en(Ad),i=en(mg,0),n=Do((()=>e.matched[i]));let o,r;tn(mg,i+1),tn(ld,n);const s=we(),a=((t="main")=>{var e;const i=(null!==(e=lg[t])&&void 0!==e?e:0)+1;return lg[t]=i,i.toString()})("ion-router-outlet"),l=en("navManager"),c=en("viewStacks"),h=xe([]);let A,u=!1;Ln((()=>[e,n.value]),(([t,e])=>{if(void 0!==e){const i=e!==o,s=t.matched[t.matched.length-1]===e&&t.path!==r;(i||s)&&b(n)}o=e,r=t.path}),{deep:!0});const d=()=>{const t=hg();if(!(t&&t.get("swipeBackEnabled","ios"===s.value.mode)))return!1;const e=c.getViewStack(a);if(!e||e.length<=1)return!1;const i=l.getLeavingRouteInfo();return!!c.findViewItemByRouteInfo({pathname:i.pushedByRoute||""},a)},p=async()=>{const t=l.getLeavingRouteInfo(),{routerAnimation:e}=t,i=c.findViewItemByRouteInfo({pathname:t.pushedByRoute||""},a),n=c.findViewItemByRouteInfo(t,a);if(n){let t=e;const o=i.ionPageElement,r=n.ionPageElement,s=i.routerAnimation;void 0===t&&void 0!==s&&(t=s),n.routerAnimation=t,await f(o,r,"back",l.canGoBack(2),!0,t)}return Promise.resolve()},g=t=>{if(t)u=!0,l.handleNavigateBack();else{const t=l.getCurrentRouteInfo(),e=c.findViewItemByRouteInfo({pathname:t.pushedByRoute||""},a);e.ionPageElement.setAttribute("aria-hidden","true"),e.ionPageElement.classList.add("ion-page-hidden")}};Ln(s,(()=>{s.value.swipeHandler={canStart:d,onStart:p,onEnd:g}}));const f=async(t,e,i,n,o,r)=>{if(u)return u=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);t.classList.add("ion-page-invisible");const a=void 0===i||"root"===i||"none"===i;return await s.value.commit(t,e,{duration:a&&void 0===r?0:void 0,direction:i,showGoBack:n,progressAnimation:o,animationBuilder:r})},m=async()=>{const t=l.getCurrentRouteInfo(),{routerDirection:e,routerAction:i,routerAnimation:n,prevRouteLastPathname:o,delta:r}=t,s=c.findViewItemByRouteInfo(t,a);let A=c.findLeavingViewItemByRouteInfo(t,a);const u=s.ionPageElement;if(void 0===u&&console.warn(`[@ionic/vue Warning]: The view you are trying to render for path ${t.pathname} does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.\n\nSee https://ionicframework.com/docs/vue/navigation#ionpage for more information.`),s!==A&&(!A&&o&&(A=c.findViewItemByPathname(o,a)),!fg(u)||void 0===(null==A?void 0:A.ionPageElement)||fg(A.ionPageElement))){if(cg(s.vueComponent,s.vueComponentRef,Sc),(null==A?void 0:A.ionPageElement)&&s!==A){let o=n;const l=A.ionPageElement;cg(A.vueComponent,A.vueComponentRef,kc);const h=s.routerAnimation;void 0===o&&"back"===e&&void 0!==h&&(o=h),A.routerAnimation=o,await f(u,l,e,!!t.pushedByRoute,!1,o),l.classList.add("ion-page-hidden"),l.setAttribute("aria-hidden","true");const d=1===c.size();if("replace"===i)A.mount=!1,A.ionPageElement=void 0,A.ionRoute=!1;else if("push"!==i||"forward"!==e){"none"!==e&&A&&s!==A&&(A.mount=!1,A.ionPageElement=void 0,A.ionRoute=!1,d&&c.unmountLeavingViews(a,s,r))}else d&&c.mountIntermediaryViews(a,A,r);cg(A.vueComponent,A.vueComponentRef,Fc)}else requestAnimationFrame((()=>u.classList.remove("ion-page-invisible")));cg(s.vueComponent,s.vueComponentRef,Ec),h.value=c.getChildrenToRender(a)}},b=t=>{const i=e.matched[0];if(A||(A=i.path),!t.value||t.value!==i&&i.path!==A)return;const n=l.getCurrentRouteInfo();let o=c.findViewItemByRouteInfo(n,a);o||(o=c.createViewItem(a,t.value.components.default,t.value,n),c.add(o)),o.mount?m():(o.mount=!0,o.registerCallback=()=>{m(),o.registerCallback=void 0}),h.value=c.getChildrenToRender(a)};n.value&&b(n),yi((()=>c.clear(a)));return{id:a,components:h,injectedRoute:t,ionRouterOutlet:s,registerIonPage:(t,e)=>{const i=t.ionPageElement;c.registerIonPage(t,e),t.registerCallback?(e.classList.add("ion-page-invisible"),t.registerCallback()):i&&!i.classList.contains("ion-page-invisible")&&e.classList.remove("ion-page-invisible")}}},render(){const{components:t,registerIonPage:e,injectedRoute:i}=this;return Qo("ion-router-outlet",{ref:"ionRouterOutlet"},t&&t.map((t=>{var n,o;let r={ref:t.vueComponentRef,key:t.pathname,registerIonPage:i=>e(t,i)};const s=null===(o=null===(n=t.matchedRoute)||void 0===n?void 0:n.props)||void 0===o?void 0:o.default,a=s?!0===s?t.params:"function"==typeof s?(()=>{var e;const n=null===(e=t.vueComponentData)||void 0===e?void 0:e.propsFunctionResult;if(n)return n;{const e=s(i);return t.vueComponentData=Object.assign(Object.assign({},t.vueComponentData),{propsFunctionResult:e}),e}})():s:null;return r=Object.assign(Object.assign({},r),a),Qo(t.vueComponent,r)})))}}),vg=Si({name:"IonTabButton",props:{_getTabState:{type:Function,default:()=>({})},disabled:Boolean,download:String,href:String,rel:String,layout:String,selected:Boolean,tab:String,target:String},setup(t,{slots:e}){Bd();const i=en("navManager"),n=e=>{e.cancelable&&e.preventDefault();const{tab:n,href:o,_getTabState:r}=t,s=r(),a=s.tabs[n]||{},l=a.originalHref||o,c=a.currentHref||o;s.activeTab===n?l!==c&&i.resetTab(n):i.changeTab(n,c)};return()=>Qo("ion-tab-button",Object.assign({onClick:n},t),e.default&&e.default())}}),yg="ionTabsWillChange",wg="ionTabsDidChange",xg=t=>t.type&&("IonRouterOutlet"===t.type.name||"ion-router-outlet"===t.type),_g=Si({name:"IonTabs",emits:[yg,wg],render(){var t;const{$slots:e,$emit:i}=this,n=e.default&&e.default();let o;if(n&&n.length>0&&(o=n.find((t=>xg(t)))),!o)throw new Error("IonTabs must contain an IonRouterOutlet. See https://ionicframework.com/docs/vue/navigation#working-with-tabs for more information.");let r=[Qo("div",{class:"tabs-inner",style:{position:"relative",flex:"1",contain:"layout size style"}},o)];if(n&&n.length>0){const e=n.filter((t=>!t.type||!xg(t))),o=e.find((t=>(t=>t.type&&("IonTabBar"===t.type.name||"ion-tab-bar"===t.type))(t))),s=o&&"top"===(null===(t=o.props)||void 0===t?void 0:t.slot);o&&(o.props||(o.props={}),o.props._tabsWillChange=t=>i(yg,{tab:t}),o.props._tabsDidChange=t=>i(wg,{tab:t})),r=s?[...e,...r]:[...r,...e]}return Qo("ion-tabs",{style:{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","flex-direction":"column",width:"100%",height:"100%",contain:"layout size style","z-index":"0"}},r)}}),Cg=t=>{var e;return"IonTabButton"===(null===(e=t.type)||void 0===e?void 0:e.name)},Bg=t=>{let e=[];return t.forEach((t=>{if(Cg(t))e.push(t);else if(Array.isArray(t.children)&&t.children.length>1){const i=Bg(t.children);e=[...e,...i]}})),e},Sg=Si({name:"IonTabBar",props:{_tabsWillChange:{type:Function,default:()=>{}},_tabsDidChange:{type:Function,default:()=>{}}},data:()=>({tabState:{activeTab:void 0,tabs:{}},tabVnodes:[]}),updated(){this.setupTabState(en("navManager"))},methods:{setupTabState(t){const e=this.$data.tabState,i=Bo();(this.$data.tabVnodes=Bg(i.subTree.children||[])).forEach((t=>{e.tabs[t.props.tab]={originalHref:t.props.href,currentHref:t.props.href,ref:t},t.component.props._getTabState=()=>e})),this.checkActiveTab(t)},checkActiveTab(t){const e=t.getCurrentRouteInfo(),i=this.$data.tabVnodes,{tabs:n,activeTab:o}=this.$data.tabState,r=this.$data.tabState,s=Object.keys(n).find((t=>{const i=n[t].originalHref;return e.pathname.startsWith(i)}));if(i.forEach((t=>{const e=n[t.props.tab];e&&e.originalHref===t.props.href||(n[t.props.tab]={originalHref:t.props.href,currentHref:t.props.href,ref:t})})),s&&o){const t=this.$data.tabState.tabs[o].currentHref;if(s!==o||t!==e.pathname){const t=e.search?`?${e.search}`:"";n[s]=Object.assign(Object.assign({},n[s]),{currentHref:e.pathname+t})}"pop"===e.routerAction&&s!==o&&(n[o]=Object.assign(Object.assign({},n[o]),{currentHref:n[o].originalHref}))}const a=i.find((t=>{var e;return Cg(t)&&(null===(e=t.props)||void 0===e?void 0:e.tab)===s})),l=this.$refs.ionTabBar,c=s!==o;l&&(a?(c&&this.$props._tabsWillChange(s),t.handleSetCurrentTab(s),l.selectedTab=r.activeTab=s,c&&this.$props._tabsDidChange(s)):l.selectedTab=r.activeTab="")}},mounted(){const t=en("navManager");this.setupTabState(t),t.registerHistoryChangeListener((()=>this.checkActiveTab(t)))},setup:(t,{slots:e})=>(Ed(),()=>Qo("ion-tab-bar",{ref:"ionTabBar"},e.default&&e.default()))}),Eg=xe([]),kg=Si(((t,{attrs:e,slots:i})=>(Ld(),()=>Qo("ion-app",Object.assign({},e),[i.default&&i.default(),...Eg.value]))));kg.name="IonApp";const Fg=t=>{Eg.value=[...Eg.value,t]},Tg=t=>{Eg.value=Eg.value.filter((e=>e!==t))},Lg=(t=Fg,e=Tg)=>{const i=new WeakMap;return{attachViewToDom:(e,n,o={},r)=>{const s=document.createElement("div");r&&s.classList.add(...r),e.appendChild(s);const a=Qo(Wn,{to:s},Qo(n,Object.assign({},o)));return i.set(s,a),t(a),Promise.resolve(s)},removeViewFromDom:(t,n)=>{const o=i.get(n);return o&&e(o),Promise.resolve()}}},Ig=Si((t=>{gA();const e=xe([]),i=Lg((t=>e.value=[...e.value,t]),(t=>e.value=e.value.filter((e=>e!==t))));return()=>Qo("ion-nav",Object.assign(Object.assign({},t),{delegate:i}),e.value)}));Ig.name="IonNav",Ig.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const Mg=e("P",Si({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup:(t,{slots:e})=>(qd(),()=>{var i,n;const{icon:o,ios:r,md:s,mode:a}=t;let l;const c=hg(),h=a||(null==c?void 0:c.get("mode"));return l=r||s?"ios"===h?null!==(i=null!=r?r:s)&&void 0!==i?i:o:null!==(n=null!=s?s:r)&&void 0!==n?n:o:o,Qo("ion-icon",Object.assign(Object.assign({},t),{icon:l}),e)})})),Pg=Symbol(),Rg={default:Pg},Ng=(t,e,i=[],n,o)=>{const r=Si(((i,{slots:o})=>{void 0!==e&&e();const r=we(!1),s=we();return fi((()=>{s.value.addEventListener("ion-mount",(()=>r.value=!0)),s.value.addEventListener("will-present",(()=>r.value=!0)),s.value.addEventListener("did-dismiss",(()=>r.value=!1))})),()=>{let e={};for(const t in i){const n=i[t];i.hasOwnProperty(t)&&n!==Pg&&(e[t]=n)}return Qo(t,Object.assign(Object.assign({},e),{ref:s}),r.value||e.keepContentsMounted||""===e.keepContentsMounted?n?Qo("div",{className:"ion-delegate-host ion-page"},o):o:void 0)}}));return r.name=t,r.props={isOpen:Rg},i.forEach((t=>{r.props[t]=Rg})),r},Og=(e("F",Ng("ion-action-sheet",Wd,["animated","backdropDismiss","buttons","cssClass","enterAnimation","header","htmlAttributes","isOpen","keyboardClose","leaveAnimation","mode","subHeader","translucent","trigger"])),e("M",Ng("ion-modal",Dp,["animated","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","enterAnimation","focusTrap","handle","handleBehavior","htmlAttributes","initialBreakpoint","isOpen","keepContentsMounted","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","trigger"],!0)),(t,e,i=!1)=>{const n=i?Lg():void 0,o=e.create.bind(e);return e.create=e=>(t(),o(Object.assign(Object.assign({},e),{delegate:n}))),e}),Ug=Og(op,Yl),Dg=Si({__name:"App",setup:t=>(fi((()=>{document.body.classList.toggle("light",!0)})),(t,e)=>(io(),ao(Be(kg),null,{default:ri((()=>[po(Be(bg))])),_:1})))}),Qg={main:0},Hg=(t="main")=>{var e;const i=(null!==(e=Qg[t])&&void 0!==e?e:0)+1;return Qg[t]=i,i.toString()};e("V","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='32' y='144' width='400' height='224' rx='45.7' ry='45.7' stroke-linecap='square' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><rect x='85.69' y='198.93' width='154.31' height='114.13' rx='4' ry='4' stroke-linecap='square' stroke-miterlimit='10' class='ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M480 218.67v74.66' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),e("X","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>"),e("Q","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>"),e("D","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 256c-13.47 0-26.94-2.39-37.44-7.17l-148-67.49C63.79 178.26 48 169.25 48 152.24s15.79-26 22.58-29.12l149.28-68.07c20.57-9.4 51.61-9.4 72.19 0l149.37 68.07c6.79 3.09 22.58 12.1 22.58 29.12s-15.79 26-22.58 29.11l-148 67.48C282.94 253.61 269.47 256 256 256zm176.76-100.86z'/><path d='M441.36 226.81L426.27 220l-38.77 17.74-94 43c-10.5 4.8-24 7.19-37.44 7.19s-26.93-2.39-37.42-7.19l-94.07-43L85.79 220l-15.22 6.84C63.79 229.93 48 239 48 256s15.79 26.08 22.56 29.17l148 67.63C229 357.6 242.49 360 256 360s26.94-2.4 37.44-7.19l147.87-67.61c6.81-3.09 22.69-12.11 22.69-29.2s-15.77-26.07-22.64-29.19z'/><path d='M441.36 330.8l-15.09-6.8-38.77 17.73-94 42.95c-10.5 4.78-24 7.18-37.44 7.18s-26.93-2.39-37.42-7.18l-94.07-43L85.79 324l-15.22 6.84C63.79 333.93 48 343 48 360s15.79 26.07 22.56 29.15l148 67.59C229 461.52 242.54 464 256 464s26.88-2.48 37.38-7.27l147.92-67.57c6.82-3.08 22.7-12.1 22.7-29.16s-15.77-26.07-22.64-29.2z'/></svg>"),e("C","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M256 96V56M256 456v-40M256 112a144 144 0 10144 144 144 144 0 00-144-144zM416 256h40M56 256h40' class='ionicon-fill-none'/></svg>"),e("B","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M48.17 113.34A32 32 0 0032 141.24V438a32 32 0 0047 28.37c.43-.23.85-.47 1.26-.74l84.14-55.05a8 8 0 003.63-6.72V46.45a8 8 0 00-12.51-6.63zM212.36 39.31A8 8 0 00200 46v357.56a8 8 0 003.63 6.72l96 62.42A8 8 0 00312 466V108.67a8 8 0 00-3.64-6.73zM464.53 46.47a31.64 31.64 0 00-31.5-.88 12.07 12.07 0 00-1.25.74l-84.15 55a8 8 0 00-3.63 6.72v357.46a8 8 0 0012.52 6.63l107.07-73.46a32 32 0 0016.41-28v-296a32.76 32.76 0 00-15.47-28.21z'/></svg>"),e("S","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zM351 175.24l-82.24 186.52c-4.79 10.47-20.78 7-20.78-4.56V268a4 4 0 00-4-4H154.8c-11.52 0-15-15.87-4.57-20.67L336.76 161A10.73 10.73 0 01351 175.24z'/></svg>"),e("U","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M467 45.2A44.45 44.45 0 00435.29 32H312.36a30.63 30.63 0 00-21.52 8.89L45.09 286.59a44.82 44.82 0 000 63.32l117 117a44.83 44.83 0 0063.34 0l245.65-245.6A30.6 30.6 0 00480 199.8v-123a44.24 44.24 0 00-13-31.6zM384 160a32 32 0 1132-32 32 32 0 01-32 32z'/></svg>");function zg(t){return!!nt()&&(function(t){tt&&tt.cleanups.push(t)}(t),!0)}function jg(){const t=new Set,e=e=>{t.delete(e)};return{on:i=>{t.add(i);const n=()=>e(i);return zg(n),{off:n}},off:e,trigger:(...e)=>Promise.all(Array.from(t).map((t=>t(...e))))}}function Gg(t){return"function"==typeof t?t():Be(t)}const Vg="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const Kg=()=>{};function qg(t,e=!1,i="Timeout"){return new Promise(((n,o)=>{e?setTimeout((()=>o(i)),t):setTimeout(n,t)}))}function Wg(...t){if(1!==t.length)return function(t,e,i){return ye(t)?t:b(t)?new Le(t):w(t)&&arguments.length>1?Ie(t,e,i):we(t)}(...t);const e=t[0];return"function"==typeof e?le(new ke((()=>({get:e,set:Kg})))):we(e)}function Xg(t,e=!1){function i(i,{flush:n="sync",deep:o=!1,timeout:r,throwOnTimeout:s}={}){let a=null;const l=new Promise((r=>{a=Ln(t,(t=>{i(t)!==e&&(null==a||a(),r(t))}),{flush:n,deep:o,immediate:!0})})),c=[l];return null!=r&&c.push(qg(r,s).then((()=>Gg(t))).finally((()=>null==a?void 0:a()))),Promise.race(c)}function n(n,o){if(!ye(n))return i((t=>t===n),o);const{flush:r="sync",deep:s=!1,timeout:a,throwOnTimeout:l}=null!=o?o:{};let c=null;const h=new Promise((i=>{c=Ln([t,n],(([t,n])=>{e!==(t===n)&&(null==c||c(),i(t))}),{flush:r,deep:s,immediate:!0})})),A=[h];return null!=a&&A.push(qg(a,l).then((()=>Gg(t))).finally((()=>(null==c||c(),Gg(t))))),Promise.race(A)}function o(t){return r(1,t)}function r(t=1,e){let n=-1;return i((()=>(n+=1,n>=t)),e)}if(Array.isArray(Gg(t))){const n={toMatch:i,toContains:function(t,e){return i((e=>{const i=Array.from(e);return i.includes(t)||i.includes(Gg(t))}),e)},changed:o,changedTimes:r,get not(){return Xg(t,!e)}};return n}{const s={toMatch:i,toBe:n,toBeTruthy:function(t){return i((t=>Boolean(t)),t)},toBeNull:function(t){return n(null,t)},toBeNaN:function(t){return i(Number.isNaN,t)},toBeUndefined:function(t){return n(void 0,t)},changed:o,changedTimes:r,get not(){return Xg(t,!e)}};return s}}function $g(t){return Xg(t)}const Yg=Vg?window:void 0,Zg={json:"application/json",text:"text/plain"};function Jg(t){return t&&function(t,...e){return e.some((e=>e in t))}(t,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}function tf(t){return"undefined"!=typeof Headers&&t instanceof Headers?Object.fromEntries(t.entries()):t}function ef(t,...e){var i;const n="function"==typeof AbortController;let o={},r={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const s={method:"GET",type:"text",payload:void 0};e.length>0&&(Jg(e[0])?r={...r,...e[0]}:o=e[0]),e.length>1&&Jg(e[1])&&(r={...r,...e[1]});const{fetch:a=(null==(i=Yg)?void 0:i.fetch),initialData:l,timeout:c}=r,h=jg(),A=jg(),u=jg(),d=we(!1),p=we(!1),g=we(!1),f=we(null),m=xe(null),b=xe(null),v=xe(l||null),y=Do((()=>n&&p.value));let w,x;const _=()=>{n&&(null==w||w.abort(),w=new AbortController,w.signal.onabort=()=>g.value=!0,o={...o,signal:w.signal})},C=t=>{p.value=t,d.value=!t};c&&(x=function(t,e,i={}){const{immediate:n=!0}=i,o=we(!1);let r=null;function s(){r&&(clearTimeout(r),r=null)}function a(){o.value=!1,s()}function l(...i){s(),o.value=!0,r=setTimeout((()=>{o.value=!1,r=null,t(...i)}),Gg(e))}return n&&(o.value=!0,Vg&&l()),zg(a),{isPending:le(o),start:l,stop:a}}(_,c,{immediate:!1}));let B=0;const S=async(e=!1)=>{var i,n;_(),C(!0),b.value=null,f.value=null,g.value=!1,B+=1;const c=B,d={method:s.method,headers:{}};if(s.payload){const t=tf(d.headers),e=Gg(s.payload);s.payloadType||!e||Object.getPrototypeOf(e)!==Object.prototype||e instanceof FormData||(s.payloadType="json"),s.payloadType&&(t["Content-Type"]=null!=(i=Zg[s.payloadType])?i:s.payloadType),d.body="json"===s.payloadType?JSON.stringify(e):e}let p=!1;const y={url:Gg(t),options:{...d,...o},cancel:()=>{p=!0}};if(r.beforeFetch&&Object.assign(y,await r.beforeFetch(y)),p||!a)return C(!1),Promise.resolve(null);let w=null;return x&&x.start(),a(y.url,{...d,...y.options,headers:{...tf(d.headers),...tf(null==(n=y.options)?void 0:n.headers)}}).then((async t=>{if(m.value=t,f.value=t.status,w=await t.clone()[s.type](),!t.ok)throw v.value=l||null,new Error(t.statusText);return r.afterFetch&&({data:w}=await r.afterFetch({data:w,response:t})),v.value=w,h.trigger(t),t})).catch((async t=>{let i=t.message||t.name;if(r.onFetchError&&({error:i,data:w}=await r.onFetchError({data:w,error:t,response:m.value})),b.value=i,r.updateDataOnError&&(v.value=w),A.trigger(t),e)throw t;return null})).finally((()=>{c===B&&C(!1),x&&x.stop(),u.trigger(null)}))},E=Wg(r.refetch);Ln([E,Wg(t)],(([t])=>t&&S()),{deep:!0});const k={isFinished:le(d),isFetching:le(p),statusCode:f,response:m,error:b,data:v,canAbort:y,aborted:g,abort:_,execute:S,onFetchResponse:h.on,onFetchError:A.on,onFetchFinally:u.on,get:F("GET"),put:F("PUT"),post:F("POST"),delete:F("DELETE"),patch:F("PATCH"),head:F("HEAD"),options:F("OPTIONS"),json:L("json"),text:L("text"),blob:L("blob"),arrayBuffer:L("arrayBuffer"),formData:L("formData")};function F(t){return(e,i)=>{if(!p.value)return s.method=t,s.payload=e,s.payloadType=i,ye(s.payload)&&Ln([E,Wg(s.payload)],(([t])=>t&&S()),{deep:!0}),{...k,then:(t,e)=>T().then(t,e)}}}function T(){return new Promise(((t,e)=>{$g(d).toBe(!0).then((()=>t(k))).catch((t=>e(t)))}))}function L(t){return()=>{if(!p.value)return s.type=t,{...k,then:(t,e)=>T().then(t,e)}}}return r.immediate&&Promise.resolve().then((()=>S())),{...k,then:(t,e)=>T().then(t,e)}}var nf=function(t,e){return nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},nf(t,e)};function of(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}nf(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function rf(t,e,i,n){return new(i||(i=Promise))((function(o,r){function s(t){try{l(n.next(t))}catch(e){r(e)}}function a(t){try{l(n.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))}function sf(t,e){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(l){a=[6,l],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function af(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lf(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,o,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)s.push(n.value)}catch(vy){o={error:vy}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return s}function cf(t,e,i){if(i||2===arguments.length)for(var n,o=0,r=e.length;o<r;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}function hf(t){return this instanceof hf?(this.v=t,this):new hf(t)}function Af(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=i.apply(t,e||[]),r=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){o[t]&&(n[t]=function(e){return new Promise((function(i,n){r.push([t,e,i,n])>1||a(t,e)}))})}function a(t,e){try{!function(t){t.value instanceof hf?Promise.resolve(t.value.v).then(l,c):h(r[0][2],t)}(o[t](e))}catch(i){h(r[0][3],i)}}function l(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),r.shift(),r.length&&a(r[0][0],r[0][1])}}function uf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=af(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,o){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,o,(e=t[i](e)).done,e.value)}))}}}function df(t){return"function"==typeof t}"function"==typeof SuppressedError&&SuppressedError;var pf,gf,ff=(pf=function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}},(gf=pf((function(t){Error.call(t),t.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),gf.prototype.constructor=gf,gf);function mf(t,e){if(t){var i=t.indexOf(e);0<=i&&t.splice(i,1)}}var bf=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,i,n,o;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r))try{for(var s=af(r),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else r.remove(this);var l=this.initialTeardown;if(df(l))try{l()}catch(p){o=p instanceof ff?p.errors:[p]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var h=af(c),A=h.next();!A.done;A=h.next()){var u=A.value;try{yf(u)}catch(Gr){o=null!=o?o:[],Gr instanceof ff?o=cf(cf([],lf(o)),lf(Gr.errors)):o.push(Gr)}}}catch(g){i={error:g}}finally{try{A&&!A.done&&(n=h.return)&&n.call(h)}finally{if(i)throw i.error}}}if(o)throw new ff(o)}},t.prototype.add=function(e){var i;if(e&&e!==this)if(this.closed)yf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&mf(e,t)},t.prototype.remove=function(e){var i=this._finalizers;i&&mf(i,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();function vf(t){return t instanceof bf||t&&"closed"in t&&df(t.remove)&&df(t.add)&&df(t.unsubscribe)}function yf(t){df(t)?t():t.unsubscribe()}bf.EMPTY;var wf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xf={setTimeout:function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return setTimeout.apply(void 0,cf([t,e],lf(i)))},clearTimeout:function(t){var e=xf.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function _f(t){xf.setTimeout((function(){throw t}))}function Cf(){}var Bf=function(t){function e(e){var i=t.call(this)||this;return i.isStopped=!1,e?(i.destination=e,vf(e)&&e.add(i)):i.destination=Lf,i}return of(e,t),e.create=function(t,e,i){return new Ff(t,e,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(bf),Sf=Function.prototype.bind;function Ef(t,e){return Sf.call(t,e)}var kf=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(vy){Tf(vy)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(vy){Tf(vy)}else Tf(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(vy){Tf(vy)}},t}(),Ff=function(t){function e(e,i,n){var o,r,s=t.call(this)||this;df(e)||!e?o={next:null!=e?e:void 0,error:null!=i?i:void 0,complete:null!=n?n:void 0}:s&&wf.useDeprecatedNextContext?((r=Object.create(e)).unsubscribe=function(){return s.unsubscribe()},o={next:e.next&&Ef(e.next,r),error:e.error&&Ef(e.error,r),complete:e.complete&&Ef(e.complete,r)}):o=e;return s.destination=new kf(o),s}return of(e,t),e}(Bf);function Tf(t){_f(t)}var Lf={closed:!0,next:Cf,error:function(t){throw t},complete:Cf},If="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mf(t){return t}var Pf=e("O",function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var i=new t;return i.source=this,i.operator=e,i},t.prototype.subscribe=function(t,e,i){var n,o,r=this,s=(n=t)&&n instanceof Bf||function(t){return t&&df(t.next)&&df(t.error)&&df(t.complete)}(n)&&vf(n)?t:new Ff(t,e,i);return o=function(){var t=r,e=t.operator,i=t.source;s.add(e?e.call(s,i):i?r._subscribe(s):r._trySubscribe(s))},o(),s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(Gr){t.error(Gr)}},t.prototype.forEach=function(t,e){var i=this;return new(e=Rf(e))((function(e,n){var o=new Ff({next:function(e){try{t(e)}catch(Gr){n(Gr),o.unsubscribe()}},error:n,complete:e});i.subscribe(o)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[If]=function(){return this},t.prototype.pipe=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(0===(t=e).length?Mf:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)})(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Rf(t))((function(t,i){var n;e.subscribe((function(t){return n=t}),(function(t){return i(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}());function Rf(t){var e;return null!==(e=null!=t?t:wf.Promise)&&void 0!==e?e:Promise}function Nf(t){return function(e){if(function(t){return df(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(Gr){this.error(Gr)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Of(t,e,i,n,o){return new Uf(t,e,i,n,o)}var Uf=function(t){function e(e,i,n,o,r,s){var a=t.call(this,e)||this;return a.onFinalize=r,a.shouldUnsubscribe=s,a._next=i?function(t){try{i(t)}catch(Gr){e.error(Gr)}}:t.prototype._next,a._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=n?function(){try{n()}catch(Gr){e.error(Gr)}finally{this.unsubscribe()}}:t.prototype._complete,a}return of(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;t.prototype.unsubscribe.call(this),!i&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(Bf);function Df(t){return t[t.length-1]}function Qf(t){return(e=Df(t))&&df(e.schedule)?t.pop():void 0;var e}var Hf=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function zf(t){return df(null==t?void 0:t.then)}function jf(t){return df(t[If])}function Gf(t){return Symbol.asyncIterator&&df(null==t?void 0:t[Symbol.asyncIterator])}function Vf(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Kf="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function qf(t){return df(null==t?void 0:t[Kf])}function Wf(t){return Af(this,arguments,(function(){var e,i,n;return sf(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,hf(e.read())];case 3:return i=o.sent(),n=i.value,i.done?[4,hf(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,hf(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function Xf(t){return df(null==t?void 0:t.getReader)}function $f(t){if(t instanceof Pf)return t;if(null!=t){if(jf(t))return n=t,new Pf((function(t){var e=n[If]();if(df(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Hf(t))return i=t,new Pf((function(t){for(var e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()}));if(zf(t))return function(t){return new Pf((function(e){t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,_f)}))}(t);if(Gf(t))return Yf(t);if(qf(t))return e=t,new Pf((function(t){var i,n;try{for(var o=af(e),r=o.next();!r.done;r=o.next()){var s=r.value;if(t.next(s),t.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}t.complete()}));if(Xf(t))return Yf(Wf(t))}var e,i,n;throw Vf(t)}function Yf(t){return new Pf((function(e){(function(t,e){var i,n,o,r;return rf(this,void 0,void 0,(function(){var s,a;return sf(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),i=uf(t),l.label=1;case 1:return[4,i.next()];case 2:if((n=l.sent()).done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),o={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(r=i.return)?[4,r.call(i)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function Zf(t,e,i,n,o){void 0===n&&(n=0),void 0===o&&(o=!1);var r=e.schedule((function(){i(),o?t.add(this.schedule(null,n)):this.unsubscribe()}),n);if(t.add(r),!o)return r}function Jf(t,e){return void 0===e&&(e=0),Nf((function(i,n){i.subscribe(Of(n,(function(i){return Zf(n,t,(function(){return n.next(i)}),e)}),(function(){return Zf(n,t,(function(){return n.complete()}),e)}),(function(i){return Zf(n,t,(function(){return n.error(i)}),e)})))}))}function tm(t,e){return void 0===e&&(e=0),Nf((function(i,n){n.add(t.schedule((function(){return i.subscribe(n)}),e))}))}function em(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pf((function(i){Zf(i,e,(function(){var n=t[Symbol.asyncIterator]();Zf(i,e,(function(){n.next().then((function(t){t.done?i.complete():i.next(t.value)}))}),0,!0)}))}))}function im(t,e){if(null!=t){if(jf(t))return function(t,e){return $f(t).pipe(tm(e),Jf(e))}(t,e);if(Hf(t))return function(t,e){return new Pf((function(i){var n=0;return e.schedule((function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())}))}))}(t,e);if(zf(t))return function(t,e){return $f(t).pipe(tm(e),Jf(e))}(t,e);if(Gf(t))return em(t,e);if(qf(t))return function(t,e){return new Pf((function(i){var n;return Zf(i,e,(function(){n=t[Kf](),Zf(i,e,(function(){var t,e,o;try{e=(t=n.next()).value,o=t.done}catch(Gr){return void i.error(Gr)}o?i.complete():i.next(e)}),0,!0)})),function(){return df(null==n?void 0:n.return)&&n.return()}}))}(t,e);if(Xf(t))return function(t,e){return em(Wf(t),e)}(t,e)}throw Vf(t)}function nm(t,e){return e?im(t,e):$f(t)}function om(t,e){return Nf((function(i,n){var o=0;i.subscribe(Of(n,(function(i){n.next(t.call(e,i,o++))})))}))}function rm(t){return Nf((function(e,i){var n,o=null,r=!1;o=e.subscribe(Of(i,void 0,void 0,(function(s){n=$f(t(s,rm(t)(e))),o?(o.unsubscribe(),o=null,n.subscribe(i)):r=!0}))),r&&(o.unsubscribe(),o=null,n.subscribe(i))}))}async function sm(t,e,i=void 0){switch(i){case"success":return Ug.create({message:e,duration:1500,position:t,icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-38 312.38l-80.6-89.57 23.79-21.41 56 62.22L350 153.46 374.54 174z'/></svg>",color:"success"}).then((t=>t.present()));case"warning":return Ug.create({message:e,duration:1500,position:t,icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M479 447.77L268.43 56.64a8 8 0 00-14.09 0L43.73 447.77a8 8 0 007.05 11.79H472a8 8 0 007-11.79zm-197.62-36.29h-40v-40h40zm-4-63.92h-32l-6-160h44z'/></svg>",color:"warning"}).then((t=>t.present()));case"danger":return Ug.create({message:e,duration:1500,position:t,icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M56 320l156.05 12-23 89.4c-6.08 26.6.7 41.87 22.39 48.62l34.69 9.85a4 4 0 004.4-1.72l129-202.34a8 8 0 016.81-3.81H496V64H378.39a48 48 0 01-15.18-2.46l-76.3-25.43a80 80 0 00-25.3-4.11H83.68c-19 0-31.5 13.52-35.23 32.16L16 206.42V280c0 22.06 18 38 40 40z'/><path d='M378.45 273.93A15.84 15.84 0 01386 272a15.93 15.93 0 00-7.51 1.91zM337.86 343.22l-.13.22a2.53 2.53 0 01.13-.22c20.5-35.51 30.36-55 33.82-62-3.47 7.06-13.34 26.51-33.82 62z' class='ionicon-fill-none'/><path d='M372.66 279.16l-1 2a16.29 16.29 0 016.77-7.26 16.48 16.48 0 00-5.77 5.26z'/></svg>",color:"danger"}).then((t=>t.present()));default:return Ug.create({message:e,duration:1500,position:t,color:"primary"}).then((t=>t.present()))}}/*! Capacitor: https://capacitorjs.com/ - MIT License */const am=t=>t.CapacitorPlatforms=(t=>{const e=new Map;e.set("web",{name:"web"});const i=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e};return i.addPlatform=(t,e)=>{i.platforms.set(t,e)},i.setPlatform=t=>{i.platforms.has(t)&&(i.currentPlatform=i.platforms.get(t))},i})(t),lm=am("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});var cm;lm.addPlatform,lm.setPlatform,function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"}(cm||(cm={}));class hm extends Error{constructor(t,e,i){super(t),this.message=t,this.code=e,this.data=i}}const Am=t=>{var e,i,n,o,r;const s=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},l=a.Plugins=a.Plugins||{},c=t.CapacitorPlatforms,h=(null===(e=null==c?void 0:c.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==s?s.name:(t=>{var e,i;return(null==t?void 0:t.androidBridge)?"android":(null===(i=null===(e=null==t?void 0:t.webkit)||void 0===e?void 0:e.messageHandlers)||void 0===i?void 0:i.bridge)?"ios":"web"})(t)),A=(null===(i=null==c?void 0:c.currentPlatform)||void 0===i?void 0:i.isNativePlatform)||(()=>"web"!==h()),u=(null===(n=null==c?void 0:c.currentPlatform)||void 0===n?void 0:n.isPluginAvailable)||(t=>{const e=p.get(t);return!!(null==e?void 0:e.platforms.has(h()))||!!d(t)}),d=(null===(o=null==c?void 0:c.currentPlatform)||void 0===o?void 0:o.getPluginHeader)||(t=>{var e;return null===(e=a.PluginHeaders)||void 0===e?void 0:e.find((e=>e.name===t))}),p=new Map,g=(null===(r=null==c?void 0:c.currentPlatform)||void 0===r?void 0:r.registerPlugin)||((t,e={})=>{const i=p.get(t);if(i)return console.warn(`Capacitor plugin "${t}" already registered. Cannot register plugins twice.`),i.proxy;const n=h(),o=d(t);let r;const c=i=>{let l;const c=(...c)=>{const h=(async()=>(!r&&n in e?r=r="function"==typeof e[n]?await e[n]():e[n]:null!==s&&!r&&"web"in e&&(r=r="function"==typeof e.web?await e.web():e.web),r))().then((e=>{const r=((e,i)=>{var r,s;if(!o){if(e)return null===(s=e[i])||void 0===s?void 0:s.bind(e);throw new hm(`"${t}" plugin is not implemented on ${n}`,cm.Unimplemented)}{const n=null==o?void 0:o.methods.find((t=>i===t.name));if(n)return"promise"===n.rtype?e=>a.nativePromise(t,i.toString(),e):(e,n)=>a.nativeCallback(t,i.toString(),e,n);if(e)return null===(r=e[i])||void 0===r?void 0:r.bind(e)}})(e,i);if(r){const t=r(...c);return l=null==t?void 0:t.remove,t}throw new hm(`"${t}.${i}()" is not implemented on ${n}`,cm.Unimplemented)}));return"addListener"===i&&(h.remove=async()=>l()),h};return c.toString=()=>`${i.toString()}() { [capacitor code] }`,Object.defineProperty(c,"name",{value:i,writable:!1,configurable:!1}),c},A=c("addListener"),u=c("removeListener"),g=(t,e)=>{const i=A({eventName:t},e),n=async()=>{const n=await i;u({eventName:t,callbackId:n},e)},o=new Promise((t=>i.then((()=>t({remove:n})))));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await n()},o},f=new Proxy({},{get(t,e){switch(e){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return o?g:A;case"removeListener":return u;default:return c(e)}}});return l[t]=f,p.set(t,{name:t,proxy:f,platforms:new Set([...Object.keys(e),...o?[n]:[]])}),f});return a.convertFileSrc||(a.convertFileSrc=t=>t),a.getPlatform=h,a.handleError=e=>t.console.error(e),a.isNativePlatform=A,a.isPluginAvailable=u,a.pluginMethodNoop=(t,e,i)=>Promise.reject(`${i} does not have an implementation of "${e}".`),a.registerPlugin=g,a.Exception=hm,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},um=t=>t.Capacitor=Am(t),dm=um("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),pm=dm.registerPlugin;dm.Plugins;class gm{constructor(t){this.listeners={},this.retainedEventArguments={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,e){let i=!1;this.listeners[t]||(this.listeners[t]=[],i=!0),this.listeners[t].push(e);const n=this.windowListeners[t];n&&!n.registered&&this.addWindowListener(n),i&&this.sendRetainedArgumentsForEvent(t);return Promise.resolve({remove:async()=>this.removeListener(t,e)})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,e,i){const n=this.listeners[t];if(n)n.forEach((t=>t(e)));else if(i){let i=this.retainedEventArguments[t];i||(i=[]),i.push(e),this.retainedEventArguments[t]=i}}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,e){this.windowListeners[e]={registered:!1,windowEventName:t,pluginEventName:e,handler:t=>{this.notifyListeners(e,t)}}}unimplemented(t="not implemented"){return new dm.Exception(t,cm.Unimplemented)}unavailable(t="not available"){return new dm.Exception(t,cm.Unavailable)}async removeListener(t,e){const i=this.listeners[t];if(!i)return;const n=i.indexOf(e);this.listeners[t].splice(n,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const e=this.retainedEventArguments[t];e&&(delete this.retainedEventArguments[t],e.forEach((e=>{this.notifyListeners(t,e)})))}}e("aj",gm);const fm=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),mm=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class bm extends gm{async getCookies(){const t=document.cookie,e={};return t.split(";").forEach((t=>{if(t.length<=0)return;let[i,n]=t.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=mm(i).trim(),n=mm(n).trim(),e[i]=n})),e}async setCookie(t){try{const e=fm(t.key),i=fm(t.value),n=`; expires=${(t.expires||"").replace("expires=","")}`,o=(t.path||"/").replace("path=",""),r=null!=t.url&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${e}=${i||""}${n}; path=${o}; ${r};`}catch(vy){return Promise.reject(vy)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(vy){return Promise.reject(vy)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const e of t)document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(vy){return Promise.reject(vy)}}async clearAllCookies(){try{await this.clearCookies()}catch(vy){return Promise.reject(vy)}}}pm("CapacitorCookies",{web:()=>new bm});const vm=(t,e={})=>{const i=Object.assign({method:t.method||"GET",headers:t.headers},e),n=((t={})=>{const e=Object.keys(t),i=Object.keys(t).map((t=>t.toLocaleLowerCase())),n=i.reduce(((i,n,o)=>(i[n]=t[e[o]],i)),{});return n})(t.headers),o=n["content-type"]||"";if("string"==typeof t.data)i.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const e=new URLSearchParams;for(const[i,n]of Object.entries(t.data||{}))e.set(i,n);i.body=e.toString()}else if(o.includes("multipart/form-data")||t.data instanceof FormData){const e=new FormData;if(t.data instanceof FormData)t.data.forEach(((t,i)=>{e.append(i,t)}));else for(const i of Object.keys(t.data))e.append(i,t.data[i]);i.body=e;const n=new Headers(i.headers);n.delete("content-type"),i.headers=n}else(o.includes("application/json")||"object"==typeof t.data)&&(i.body=JSON.stringify(t.data));return i};class ym extends gm{async request(t){const e=vm(t,t.webFetchExtra),i=((t,e=!0)=>t?Object.entries(t).reduce(((t,i)=>{const[n,o]=i;let r,s;return Array.isArray(o)?(s="",o.forEach((t=>{r=e?encodeURIComponent(t):t,s+=`${n}=${r}&`})),s.slice(0,-1)):(r=e?encodeURIComponent(o):o,s=`${n}=${r}`),`${t}&${s}`}),"").substr(1):null)(t.params,t.shouldEncodeUrlParams),n=i?`${t.url}?${i}`:t.url,o=await fetch(n,e),r=o.headers.get("content-type")||"";let s,a,{responseType:l="text"}=o.ok?t:{};switch(r.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await o.blob(),s=await(async t=>new Promise(((e,i)=>{const n=new FileReader;n.onload=()=>{const t=n.result;e(t.indexOf(",")>=0?t.split(",")[1]:t)},n.onerror=t=>i(t),n.readAsDataURL(t)})))(a);break;case"json":s=await o.json();break;default:s=await o.text()}const c={};return o.headers.forEach(((t,e)=>{c[e]=t})),{data:s,headers:c,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}pm("CapacitorHttp",{web:()=>new ym});const wm=pm("Preferences",{web:()=>pr((()=>i.import("./web-legacy-qL0zSgi2.js"))).then((t=>new t.PreferencesWeb))}),xm=async()=>{const t=await(async()=>{try{const t=await wm.get({key:"user"});return t.value?JSON.parse(t.value):null}catch(vy){return console.error("Failed to retrieve user:",vy),{token:""}}})();return t?t.token:""},{VITE_API_SALT:_m,VITE_DEMO_API_BASE_URL:Cm,VITE_PROD_API_BASE_URL:Bm}={VITE_DEMO_API_BASE_URL:"https://asset-indoor-locator-main.onrender.com/api",VITE_PROD_API_BASE_URL:"http://185.169.239.178:8180/localsenseadmin",VITE_API_SALT:"abcdefghijklmnopqrstuvwxyz20191107salt",VITE_DEMO_MODE:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},Sm=(e("t",((t,e={})=>{const i=xm();if(!i)return sm("bottom","You are not logged in","danger"),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nm(t,Qf(t))}();const n={Token:`${i}`,...e.headers};return nm(ef(`${Cm}/${t}`,n).json()).pipe(om((({data:t,error:e})=>{if(e.value)throw new Error(`Obs API Error: ${e.value.message}`);return t.value})),rm((t=>{return console.error("Obs API Error catched:",t),i=df(e=t)?e:function(){return e},new Pf((function(t){return t.error(i())}));var e,i})))})),async t=>((async t=>{await wm.set({key:"user",value:JSON.stringify({id:1,name:t.name,token:t.token})})})({name:"Max",token:"oneTokenLikeeyJhbGciOiJIUzI1NiJ9.eyJ1a"}),'{"code":200,"msg":"success","data":"eyJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJhZG1pbiIsInN1YiI6InRvcGljIiwiaXAiOiI5My42NS4xODkuNjYiLCJleHAiOjE3MjA0ODA3NTIsInVpcCI6IjMzOTQyOTZhZDk3YjRlMjA3M2MzOTM0MjU0NTI2MTM2In0.gNFl3OsXuDjx6uN01qDn0e3zV3uiLttfyQoHQJkpZic"}')),Em=()=>{(async()=>{await wm.remove({key:"user"})})(),sm("bottom","Logged out","success")},km=uo("div",{class:"menu-header"},[uo("p",null,"Admin"),uo("p",null,"Version: 1.0.0"),uo("p",null,"Description: Asset Locator, developed and managed by Company Ltd., represents a cutting-edge application designed to streamline and enhance the asset management process for businesses. Launched in 2024, this application leverages the latest in technology to provide users with an intuitive and efficient platform for tracking and managing assets across various locations.")],-1),Fm=Si({__name:"SideMenuComponent",setup(t){const e=ug(),i=()=>{eA.close("sidemenu"),Em(),e.push("/login")};return(t,e)=>(io(),ao(Be(ig),{side:"start","menu-id":"sidemenu","content-id":"main-content"},{default:ri((()=>[po(Be(Yp),null,{default:ri((()=>[po(Be(rg),null,{default:ri((()=>[po(Be(og),null,{default:ri((()=>[fo("Menu")])),_:1})])),_:1})])),_:1}),po(Be($p),null,{default:ri((()=>[km,po(Be(eg),{class:"logout-list"},{default:ri((()=>[po(Be(Jp),{button:"",onClick:i},{default:ri((()=>[po(Be(Mg),{slot:"start",icon:Be("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zM459.31 244.69l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z'/></svg>")},null,8,["icon"]),po(Be(tg),null,{default:ri((()=>[fo("Logout")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}))}}),Tm={class:"ion-page",id:"main-content"},Lm=Si({__name:"TabsPage",setup:t=>(t,e)=>(io(),ao(Be(gg),null,{default:ri((()=>[uo("div",Tm,[po(Be(_g),null,{default:ri((()=>[po(Be(bg)),po(Be(Sg),{slot:"bottom",color:"dark"},{default:ri((()=>[po(Be(vg),{tab:"homepage",href:"/tabs/home"},{default:ri((()=>[po(Be(Mg),{"aria-hidden":"true",icon:Be("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z'/><path d='M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z'/></svg>")},null,8,["icon"]),po(Be(tg),null,{default:ri((()=>[fo("Home")])),_:1})])),_:1}),po(Be(vg),{tab:"navigate",href:"/tabs/navigate"},{default:ri((()=>[po(Be(Mg),{"aria-hidden":"true",icon:Be("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M272 464a16 16 0 01-16-16.42V264.13a8 8 0 00-8-8H64.41a16.31 16.31 0 01-15.49-10.65 16 16 0 018.41-19.87l384-176.15a16 16 0 0121.22 21.19l-176 384A16 16 0 01272 464z'/></svg>")},null,8,["icon"]),po(Be(tg),null,{default:ri((()=>[fo("Map")])),_:1})])),_:1}),po(Be(vg),{tab:"search",href:"/tabs/search"},{default:ri((()=>[po(Be(Mg),{icon:Be("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>")},null,8,["icon"]),po(Be(tg),null,{default:ri((()=>[fo("Assets")])),_:1})])),_:1}),po(Be(vg),{tab:"profile",href:"#"},{default:ri((()=>[po(Be(ng),null,{default:ri((()=>[po(Be(Mg),{icon:Be("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 01-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 01432 480z'/></svg>")},null,8,["icon"])])),_:1}),po(Be(tg),null,{default:ri((()=>[fo("Profile")])),_:1})])),_:1})])),_:1})])),_:1})]),po(Fm,{ref:"childCompRef"},null,512)])),_:1}))}),Im=Si({__name:"TestPage",setup:t=>(t,e)=>(io(),ao(Be(gg),null,{default:ri((()=>[po(Be(Yp),null,{default:ri((()=>[po(Be(rg),null,{default:ri((()=>[po(Be(og),null,{default:ri((()=>[fo("Hospital Assets")])),_:1})])),_:1})])),_:1}),po(Be($p),{class:"ion-padding"},{default:ri((()=>[fo(" Examples to test components ")])),_:1})])),_:1}))}),Mm=uo("br",null,null,-1),Pm=uo("p",{class:"support-text"},[fo(" Problems with login? "),uo("a",{href:"mailto:support@company.ltd"},"Write us")],-1),Rm=Si({__name:"LoginPage",setup(t){const e=we({username:"",password:""}),i=ug(),n=we("password"),o=we(null);gi((()=>{xm().then((t=>{""!==t&&i.push("/tabs/home")}))}));const r=async()=>{if(o.value=null,!e.value.username)return o.value="Username field is required",void sm("bottom","Username field is required","danger");if(!e.value.password)return sm("bottom","Password field is required","danger"),void(o.value="Password field is required");try{const t=await Sm(e.value);console.log(t);const{msg:n,code:o}=JSON.parse(t);-1===o&&sm("bottom",n,"warning"),200===o&&(sm("bottom",`Welcome ${e.value.username}!`,"success"),i.push("/tabs/home"))}catch(vy){sm("bottom","Oops! It looks like there's a problem connecting to our servers. Please try again in a few moments.","warning"),console.error(vy)}},s=()=>{n.value="password"===n.value?"text":"password"};return(t,i)=>(io(),ao(Be(gg),null,{default:ri((()=>[po(Be(Yp),null,{default:ri((()=>[po(Be(rg),null,{default:ri((()=>[po(Be(og),null,{default:ri((()=>[fo("Asset Locator")])),_:1})])),_:1})])),_:1}),po(Be($p),{class:"ion-padding"},{default:ri((()=>[uo("img",{src:"images/login-logo.png",class:"login-logo",alt:"Logo"}),uo("form",{onSubmit:Ar(r,["prevent"])},[po(Be(Jp),null,{default:ri((()=>[po(Be(Zp),{"label-placement":"stacked",label:"Username",placeholder:"",modelValue:e.value.username,"onUpdate:modelValue":i[0]||(i[0]=t=>e.value.username=t)},{default:ri((()=>[po(Be(Mg),{slot:"start",icon:Be("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-50.22 116.82C218.45 151.39 236.28 144 256 144s37.39 7.44 50.11 20.94c12.89 13.68 19.16 32.06 17.68 51.82C320.83 256 290.43 288 256 288s-64.89-32-67.79-71.25c-1.47-19.92 4.79-38.36 17.57-51.93zM256 432a175.49 175.49 0 01-126-53.22 122.91 122.91 0 0135.14-33.44C190.63 329 222.89 320 256 320s65.37 9 90.83 25.34A122.87 122.87 0 01382 378.78 175.45 175.45 0 01256 432z'/></svg>"),"aria-hidden":"true"},null,8,["icon"])])),_:1},8,["modelValue"])])),_:1}),po(Be(Jp),null,{default:ri((()=>[po(Be(Zp),{type:n.value,"label-placement":"stacked",label:"Password",placeholder:"",modelValue:e.value.password,"onUpdate:modelValue":i[1]||(i[1]=t=>e.value.password=t)},{default:ri((()=>[po(Be(Mg),{slot:"start",icon:Be("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z'/></svg>"),"aria-hidden":"true"},null,8,["icon"]),po(Be(Xp),{fill:"clear",slot:"end","aria-label":"Show/hide",onClick:s},{default:ri((()=>[po(Be(Mg),{slot:"icon-only",icon:"password"===n.value?Be("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>"):Be("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>"),"aria-hidden":"true"},null,8,["icon"])])),_:1})])),_:1},8,["type","modelValue"])])),_:1}),Mm,po(Be(Xp),{expand:"block",type:"submit"},{default:ri((()=>[fo("Login")])),_:1}),Pm],32)])),_:1})])),_:1}))}}),Nm=[{path:"/",redirect:"/tabs/home"},{path:"/tabs/",component:Lm,children:[{path:"",redirect:"/tabs/home"},{path:"home",component:()=>pr((()=>i.import("./TabHomepage-legacy-BM5qNy-5.js")))},{path:"navigate",component:()=>pr((()=>i.import("./TabNavigate-legacy-Dix7ebkl.js")))},{path:"search",component:()=>pr((()=>i.import("./TabAssets-legacy-5UzeJ0BI.js")))}],meta:{requiresAuth:!0}},{path:"/test/",component:Im},{path:"/login",component:Rm}],Om=(t=>{const e=Object.assign({},t);delete e.tabsPrefix;const i=_d(e),n=((t,e)=>{let i={direction:void 0,action:void 0,delta:void 0};e.afterEach(((e,n,o)=>{if(o)return;const{direction:r,action:s,delta:l}=i;a=t.history.state.position;const c=t.history.state.replaced?"replace":void 0;h(e,s||c,r,l),i={direction:void 0,action:void 0,delta:void 0}}));const n=(()=>{const t=[],e={},i=e=>{const i=r(e.tab);let n;if(i){for(n=i[i.length-1];n&&n.id!==e.id;)i.pop(),n=i[i.length-1];i.pop(),i.push(e)}for(n=t[t.length-1];n&&n.id!==e.id;)t.pop(),n=t[t.length-1];t.pop(),t.push(e)},n=e=>{const i=r(e.tab);i&&(i[i.length-1]&&i[i.length-1].id===e.id&&i.pop(),i.push(e)),t.push(e)},o=i=>{if(i){const{position:n,tab:o}=i,r=t.findIndex((t=>t.position===n));if(-1===r)return;t.splice(r);const s=t=>{const i=e[t].findIndex((t=>t.position===n));-1!==i&&e[t].splice(i)},a=e[o];if(o&&a)s(o);else for(const t in e)s(t)}else{for(const t in e)e[t]=[];t.length=0}},r=t=>{let i;return t&&(i=e[t],i||(i=e[t]=[])),i},s=()=>t[t.length-1];return{current:(e,i)=>t[i-e]||s(),size:()=>t.length,last:s,add:t=>{"pop"===t.routerAction?i(t):n(t),"root"===t.routerDirection&&(o(),n(t))},canGoBack:(t=1,e,i)=>i-t>=e,update:i=>{const n=t.findIndex((t=>t.id===i.id));n>-1&&t.splice(n,1,i);const o=e[i.tab||""];if(o){const t=o.findIndex((t=>t.id===i.id));t>-1?o.splice(t,1,i):o.push(i)}else i.tab&&(e[i.tab]=[i])},getFirstRouteInfoForTab:t=>{const e=r(t);if(e)return e[0]},getCurrentRouteInfoForTab:t=>{const e=r(t);if(e)return e[e.length-1]},findLastLocation:(e,i=-1)=>{const n=r(e.tab);if(n){if(i<-1)return n[n.length-1+i];for(let t=n.length-2;t>=0;t--){const i=n[t];if(i&&i.pathname===e.pushedByRoute)return i}}if(i<-1)return t[t.length-1+i];for(let o=t.length-2;o>=0;o--){const i=t[o];if(i&&i.pathname===e.pushedByRoute)return i}},clearHistory:o}})();let o,r,s=t.history.state.position,a=t.history.state.position;const l=[];"undefined"!=typeof document&&document.addEventListener("ionBackButton",(e=>{e.detail.register(0,(e=>{t.history.go(-1),e()}))})),t.history.listen(((t,e,n)=>{i={delta:n.delta,action:"pop"===n.type&&n.delta>=1?"push":n.type,direction:""===n.direction?"forward":n.direction}}));const c=(t,i,n,o,r)=>{A(i,n,o,r),"push"===i?e.push(t):e.replace(t)},h=(t,e,i,c)=>{let h;if(r)if("replace"===r.routerAction)h=n.current(s,a);else if("pop"===r.routerAction)h=n.current(s,a+1),"replace"===e&&n.clearHistory();else{const t="root"===r.routerDirection?a:a-1;h=n.current(s,t)}else h=o;if(h||(h={pathname:"",search:""}),h.pathname+h.search!==t.fullPath){if(!r){if("replace"===e)r={routerAction:"replace",routerDirection:"none"};else if("pop"===e){const t=n.current(s,a-c);if(t&&t.pushedByRoute){const e=n.findLastLocation(t,c);r=Object.assign(Object.assign({},e),{routerAction:"pop",routerDirection:"back"})}else r={routerAction:"pop",routerDirection:"none"}}r||(r={routerAction:"push",routerDirection:i||"forward"})}let l;if(null==r?void 0:r.id)l=Object.assign(Object.assign({},r),{lastPathname:h.pathname});else{const e="push"===r.routerAction&&"forward"===r.routerDirection;if(l=Object.assign(Object.assign({id:Hg("routeInfo")},r),{lastPathname:h.pathname,pathname:t.path,search:t.fullPath&&t.fullPath.split("?")[1]||"",params:t.params&&t.params,prevRouteLastPathname:h.lastPathname}),e)l.pushedByRoute=""!==h.pathname?h.pathname:void 0;else if("pop"===l.routerAction){const t=n.findLastLocation(l);l.pushedByRoute=null==t?void 0:t.pushedByRoute}else if("push"===l.routerAction&&l.tab!==h.tab){const t=n.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=null==t?void 0:t.pushedByRoute}else if("replace"===l.routerAction){const t=n.current(s,a),e=null==t?void 0:t.pushedByRoute,i=void 0!==e&&e!==l.pathname?e:l.pushedByRoute;l.lastPathname=(null==t?void 0:t.pathname)||l.lastPathname,l.pushedByRoute=i,l.routerDirection=(null==t?void 0:t.routerDirection)||l.routerDirection,l.routerAnimation=(null==t?void 0:t.routerAnimation)||l.routerAnimation,l.prevRouteLastPathname=null==t?void 0:t.lastPathname}}l.position=a,l.delta=c;const A=n.size(),u=a-s;A>u||A===u&&A>0&&"replace"===e?"push"!==l.routerAction&&"replace"!==l.routerAction||void 0!==c||(n.clearHistory(l),n.add(l)):n.add(l),1===n.size()&&(s=l.position),o=l}r=void 0,l.forEach((t=>t(o)))},A=(t="push",e="forward",i,n)=>{r={routerAction:t,routerDirection:e,routerAnimation:i,tab:n}};return{handleNavigate:c,getLeavingRouteInfo:()=>n.current(s,a),handleNavigateBack:(t,i)=>{const o=n.current(s,a);if(o&&o.pushedByRoute){const s=n.findLastLocation(o);s?(r=Object.assign(Object.assign({},s),{routerAction:"pop",routerDirection:"back",routerAnimation:i||o.routerAnimation}),o.lastPathname===o.pushedByRoute||s.pathname===o.pushedByRoute&&!o.tab&&!s.tab?e.back():e.go(s.position-o.position)):c(t,"pop","back",i)}else c(t,"pop","back",i)},handleSetCurrentTab:t=>{const e=Object.assign({},n.current(s,a));e.tab!==t&&(e.tab=t,n.update(e));const i=n.findLastLocation(e);e.pushedByRoute!==e.lastPathname&&(null==i?void 0:i.tab)!==t&&(e.pushedByRoute=void 0,n.update(e))},getCurrentRouteInfo:()=>o,canGoBack:(t=1)=>n.canGoBack(t,s,a),navigate:t=>{const{routerAnimation:i,routerDirection:n,routerLink:o}=t;A("push",n,i),e.push(o)},resetTab:t=>{const i=n.getFirstRouteInfoForTab(t);i&&e.go(i.position-a)},changeTab:(t,i)=>{if(!i)return;const o=n.getCurrentRouteInfoForTab(t),[s]=i.split("?");o?(r=Object.assign(Object.assign({},r),{routerAction:"push",routerDirection:"none",tab:t}),o.pathname===s?e.push({path:o.pathname,query:rd(o.search)}):e.push({path:s,query:rd(o.search)})):c(s,"push","none",void 0,t)},registerHistoryChangeListener:t=>{l.push(t)},goBack:t=>{A("pop","back",t),e.back()},goForward:t=>{A("push","forward",t),e.forward()}}})(t,i),o=(t=>{const e={},i=(t,e)=>e.find((e=>{if(e.pathname===t)return e})),n=(n,o,r=!1)=>{const s=e=>{if(r&&!e.ionRoute||""===n)return!1;const i=t.resolve(n).matched.find((t=>t===e.matchedRoute));return i?(!i.path.includes(":")||n===e.pathname)&&e:void 0};if(o){const r=e[o];if(!r)return;const a=t?r.find(s):i(n,r);if(a)return a}else for(const t in e){const o=e[t],r=i(n,o);if(r)return r}};return{unmountLeavingViews:(t,i,n=1)=>{const o=e[t];if(!o)return;const r=o.findIndex((t=>t===i));for(let e=r+1;e<r-n;e++){const t=o[e];t.mount=!1,t.ionPageElement=void 0,t.ionRoute=!1,t.matchedRoute.instances={}}},mountIntermediaryViews:(t,i,n=1)=>{const o=e[t];if(!o)return;const r=o.findIndex((t=>t===i));for(let e=r+1;e<r+n;e++)o[e].mount=!0},clear:t=>{delete e[t]},findViewItemByRouteInfo:(t,e)=>n(t.pathname,e,!1),findLeavingViewItemByRouteInfo:(t,e,i=!0)=>n(t.lastPathname,e,i),findViewItemByPathname:(t,e)=>n(t,e,!1),createViewItem:(t,e,i,n,o)=>({id:Hg("viewItem"),pathname:n.pathname,outletId:t,matchedRoute:i,ionPageElement:o,vueComponent:e,vueComponentRef:xe(),ionRoute:!1,mount:!1,exact:n.pathname===i.path,params:n.params,vueComponentData:{}}),getChildrenToRender:t=>{if(e[t]){const i=e[t].filter((t=>t.mount));return i}return[]},add:t=>{const{outletId:i}=t;e[i]?e[i].push(t):e[i]=[t]},remove:(t,i)=>{if(!i)throw Error("outletId required");const n=e[i];n&&(e[i]=n.filter((e=>e.id!==t.id)))},registerIonPage:(t,e)=>{t.ionPageElement=e,t.ionRoute=!0,t.matchedRoute.instances={default:t.vueComponentRef.value}},getViewStack:t=>e[t],size:()=>Object.keys(e).length}})(i),r=i.install.bind(i);i.install=t=>{t.provide("navManager",n),t.provide("viewStacks",o),r(t)};const s=i.isReady.bind(i);return i.isReady=()=>s(),i})({history:(Um="/",Nu(Um)),routes:Nm});var Um;Om.beforeEach((async(t,e,i)=>{const n=t.fullPath,o=await xm();if(t.matched.some((t=>t.meta.requiresAuth))&&!o)i("/login");else{const t=history.state||{};history.replaceState({...t},"",n),i()}}));class Dm{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function Qm(t){t.stopPropagation()}const Hm="propertychange";class zm{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function jm(t,e){return t>e?1:t<e?-1:0}function Gm(t,e){return t<e?1:t>e?-1:0}function Vm(t,e,i){if(t[0]<=e)return 0;const n=t.length;if(e<=t[n-1])return n-1;if("function"==typeof i){for(let o=1;o<n;++o){const n=t[o];if(n===e)return o;if(n<e)return i(e,t[o-1],n)>0?o-1:o}return n-1}if(i>0){for(let i=1;i<n;++i)if(t[i]<e)return i-1;return n-1}if(i<0){for(let i=1;i<n;++i)if(t[i]<=e)return i;return n-1}for(let o=1;o<n;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return n-1}function Km(t,e,i){for(;e<i;){const n=t[e];t[e]=t[i],t[i]=n,++e,--i}}function qm(t,e){const i=Array.isArray(e)?e:[e],n=i.length;for(let o=0;o<n;o++)t[t.length]=i[o]}function Wm(t,e){const i=t.length;if(i!==e.length)return!1;for(let n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Xm(){return!0}function $m(){return!1}function Ym(){}function Zm(t){let e,i,n,o=!1;return function(){const r=Array.prototype.slice.call(arguments);return o&&this===n&&Wm(r,i)||(o=!0,n=this,i=r,e=t.apply(this,arguments)),e}}function Jm(t){return function(){let e;try{e=t()}catch(Gr){return Promise.reject(Gr)}return e instanceof Promise?e:Promise.resolve(e)}()}function tb(t){for(const e in t)delete t[e]}function eb(t){let e;for(e in t)return!1;return!e}class ib extends zm{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const i=this.listeners_||(this.listeners_={}),n=i[t]||(i[t]=[]);n.includes(e)||n.push(e)}dispatchEvent(t){const e="string"==typeof t,i=e?t:t.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const o=e?new Dm(t):t;o.target||(o.target=this.eventTarget_||this);const r=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let a;i in r||(r[i]=0,s[i]=0),++r[i];for(let l=0,c=n.length;l<c;++l)if(a="handleEvent"in n[l]?n[l].handleEvent(o):n[l].call(this,o),!1===a||o.propagationStopped){a=!1;break}if(0==--r[i]){let t=s[i];for(delete s[i];t--;)this.removeEventListener(i,Ym);delete r[i]}return a}disposeInternal(){this.listeners_&&tb(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const i=this.listeners_[t];if(!i)return;const n=i.indexOf(e);-1!==n&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[n]=Ym,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t]))}}const nb="change",ob="error",rb="contextmenu",sb="click",ab="dblclick",lb="keydown",cb="keypress",hb="load",Ab="touchmove",ub="wheel";function db(t,e,i,n,o){if(n&&n!==t&&(i=i.bind(n)),o){const n=i;i=function(){t.removeEventListener(e,i),n.apply(this,arguments)}}const r={target:t,type:e,listener:i};return t.addEventListener(e,i),r}function pb(t,e,i,n){return db(t,e,i,n,!0)}function gb(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),tb(t))}class fb extends ib{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(nb)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const i=t.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=db(this,t[o],e);return n}return db(this,t,e)}onceInternal(t,e){let i;if(Array.isArray(t)){const n=t.length;i=new Array(n);for(let o=0;o<n;++o)i[o]=pb(this,t[o],e)}else i=pb(this,t,e);return e.ol_key=i,i}unInternal(t,e){const i=e.ol_key;if(i)mb(i);else if(Array.isArray(t))for(let n=0,o=t.length;n<o;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)}}function mb(t){if(Array.isArray(t))for(let e=0,i=t.length;e<i;++e)gb(t[e]);else gb(t)}function bb(){throw new Error("Unimplemented abstract method.")}fb.prototype.on,fb.prototype.once,fb.prototype.un;let vb=0;function yb(t){return t.ol_uid||(t.ol_uid=String(++vb))}class wb extends Dm{constructor(t,e,i){super(t),this.key=e,this.oldValue=i}}class xb extends fb{constructor(t){super(),this.on,this.once,this.un,yb(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new wb(i,t,e)),i=Hm,this.hasListener(i)&&this.dispatchEvent(new wb(i,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,i){const n=this.values_||(this.values_={});if(i)n[t]=e;else{const i=n[t];n[t]=e,i!==e&&this.notify(t,i)}}setProperties(t,e){for(const i in t)this.set(i,t[i],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],eb(this.values_)&&(this.values_=null),e||this.notify(t,i)}}}function _b(t,e){if(!t)throw new Error(e)}class Cb extends xb{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new Cb(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(gb(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=db(t,nb,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;let e;if(Array.isArray(t))e=t;else{_b("function"==typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");e=[t]}return function(){return e}}(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const Bb=new Array(6);function Sb(t){return kb(t,1,0,0,1,0,0)}function Eb(t,e){const i=t[0],n=t[1],o=t[2],r=t[3],s=t[4],a=t[5],l=e[0],c=e[1],h=e[2],A=e[3],u=e[4],d=e[5];return t[0]=i*l+o*c,t[1]=n*l+r*c,t[2]=i*h+o*A,t[3]=n*h+r*A,t[4]=i*u+o*d+s,t[5]=n*u+r*d+a,t}function kb(t,e,i,n,o,r,s){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t[4]=r,t[5]=s,t}function Fb(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Tb(t,e){const i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function Lb(t,e,i){return Eb(t,kb(Bb,e,0,0,i,0,0))}function Ib(t,e,i){return Eb(t,kb(Bb,1,0,0,1,e,i))}function Mb(t,e,i,n,o,r,s,a){const l=Math.sin(r),c=Math.cos(r);return t[0]=n*c,t[1]=o*l,t[2]=-n*l,t[3]=o*c,t[4]=s*n*c-a*n*l+e,t[5]=s*o*l+a*o*c+i,t}function Pb(t,e){const i=(n=e)[0]*n[3]-n[1]*n[2];var n;_b(0!==i,"Transformation matrix cannot be inverted");const o=e[0],r=e[1],s=e[2],a=e[3],l=e[4],c=e[5];return t[0]=a/i,t[1]=-r/i,t[2]=-s/i,t[3]=o/i,t[4]=(s*c-a*l)/i,t[5]=-(o*c-r*l)/i,t}const Rb=[1e6,1e6,1e6,1e6,2,2];const Nb={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Ob(t){const e=Vb();for(let i=0,n=t.length;i<n;++i)Zb(e,t[i]);return e}function Ub(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Db(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Qb(t,e,i){let n,o;return n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,o=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0,n*n+o*o}function Hb(t,e){return jb(t,e[0],e[1])}function zb(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function jb(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function Gb(t,e){const i=t[0],n=t[1],o=t[2],r=t[3],s=e[0],a=e[1];let l=Nb.UNKNOWN;return s<i?l|=Nb.LEFT:s>o&&(l|=Nb.RIGHT),a<n?l|=Nb.BELOW:a>r&&(l|=Nb.ABOVE),l===Nb.UNKNOWN&&(l=Nb.INTERSECTING),l}function Vb(){return[1/0,1/0,-1/0,-1/0]}function Kb(t,e,i,n,o){return o?(o[0]=t,o[1]=e,o[2]=i,o[3]=n,o):[t,e,i,n]}function qb(t){return Kb(1/0,1/0,-1/0,-1/0,t)}function Wb(t,e){const i=t[0],n=t[1];return Kb(i,n,i,n,e)}function Xb(t,e,i,n,o){return tv(qb(o),t,e,i,n)}function $b(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Yb(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Zb(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Jb(t,e){for(let i=0,n=e.length;i<n;++i)Zb(t,e[i]);return t}function tv(t,e,i,n,o){for(;i<n;i+=o)iv(t,e[i],e[i+1]);return t}function ev(t,e){for(let i=0,n=e.length;i<n;++i)Jb(t,e[i]);return t}function iv(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)}function nv(t,e){let i;return i=e(rv(t)),i||(i=e(sv(t)),i||(i=e(pv(t)),i||(i=e(dv(t)),i||!1)))}function ov(t){let e=0;return mv(t)||(e=gv(t)*Av(t)),e}function rv(t){return[t[0],t[1]]}function sv(t){return[t[2],t[1]]}function av(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function lv(t,e){let i;if("bottom-left"===e)i=rv(t);else if("bottom-right"===e)i=sv(t);else if("top-left"===e)i=dv(t);else{if("top-right"!==e)throw new Error("Invalid corner");i=pv(t)}return i}function cv(t,e,i,n,o){const[r,s,a,l,c,h,A,u]=hv(t,e,i,n);return Kb(Math.min(r,a,c,A),Math.min(s,l,h,u),Math.max(r,a,c,A),Math.max(s,l,h,u),o)}function hv(t,e,i,n){const o=e*n[0]/2,r=e*n[1]/2,s=Math.cos(i),a=Math.sin(i),l=o*s,c=o*a,h=r*s,A=r*a,u=t[0],d=t[1];return[u-l+A,d-c-h,u-l-A,d-c+h,u+l-A,d+c+h,u+l+A,d+c-h,u-l+A,d-c-h]}function Av(t){return t[3]-t[1]}function uv(t,e,i){const n=i||[1/0,1/0,-1/0,-1/0];return fv(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):qb(n),n}function dv(t){return[t[0],t[3]]}function pv(t){return[t[2],t[3]]}function gv(t){return t[2]-t[0]}function fv(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function mv(t){return t[2]<t[0]||t[3]<t[1]}function bv(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function vv(t,e){const i=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=n,t[3]+=n}function yv(t,e,i){let n=!1;const o=Gb(t,e),r=Gb(t,i);if(o===Nb.INTERSECTING||r===Nb.INTERSECTING)n=!0;else{const s=t[0],a=t[1],l=t[2],c=t[3],h=e[0],A=e[1],u=i[0],d=i[1],p=(d-A)/(u-h);let g,f;r&Nb.ABOVE&&!(o&Nb.ABOVE)&&(g=u-(d-c)/p,n=g>=s&&g<=l),n||!(r&Nb.RIGHT)||o&Nb.RIGHT||(f=d-(u-l)*p,n=f>=a&&f<=c),n||!(r&Nb.BELOW)||o&Nb.BELOW||(g=u-(d-a)/p,n=g>=s&&g<=l),n||!(r&Nb.LEFT)||o&Nb.LEFT||(f=d-(u-s)*p,n=f>=a&&f<=c)}return n}function wv(t,e,i,n){if(mv(t))return qb(i);let o=[];if(n>1){const e=t[2]-t[0],i=t[3]-t[1];for(let r=0;r<n;++r)o.push(t[0]+e*r/n,t[1],t[2],t[1]+i*r/n,t[2]-e*r/n,t[3],t[0],t[3]-i*r/n)}else o=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(o,o,2);const r=[],s=[];for(let a=0,l=o.length;a<l;a+=2)r.push(o[a]),s.push(o[a+1]);return function(t,e,i){return Kb(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),i)}(r,s,i)}function xv(t,e){const i=e.getExtent(),n=av(t);if(e.canWrapX()&&(n[0]<i[0]||n[0]>=i[2])){const e=gv(i),o=Math.floor((n[0]-i[0])/e)*e;t[0]-=o,t[2]-=o}return t}function _v(t,e,i){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];xv(t,e);const o=gv(n);if(gv(t)>o&&!i)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+o,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-o,t[3]]]}return[t]}const Cv=Object.freeze(Object.defineProperty({__proto__:null,applyTransform:wv,approximatelyEquals:function(t,e,i){return Math.abs(t[0]-e[0])<i&&Math.abs(t[2]-e[2])<i&&Math.abs(t[1]-e[1])<i&&Math.abs(t[3]-e[3])<i},boundingExtent:Ob,buffer:Ub,clone:Db,closestSquaredDistanceXY:Qb,containsCoordinate:Hb,containsExtent:zb,containsXY:jb,coordinateRelationship:Gb,createEmpty:Vb,createOrUpdate:Kb,createOrUpdateEmpty:qb,createOrUpdateFromCoordinate:Wb,createOrUpdateFromCoordinates:function(t,e){return Jb(qb(e),t)},createOrUpdateFromFlatCoordinates:Xb,createOrUpdateFromRings:function(t,e){return ev(qb(e),t)},equals:$b,extend:Yb,extendCoordinate:Zb,extendCoordinates:Jb,extendFlatCoordinates:tv,extendRings:ev,extendXY:iv,forEachCorner:nv,getArea:ov,getBottomLeft:rv,getBottomRight:sv,getCenter:av,getCorner:lv,getEnlargedArea:function(t,e){const i=Math.min(t[0],e[0]),n=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-i)*(Math.max(t[3],e[3])-n)},getForViewAndSize:cv,getHeight:Av,getIntersection:uv,getIntersectionArea:function(t,e){return ov(uv(t,e))},getMargin:function(t){return gv(t)+Av(t)},getRotatedViewport:hv,getSize:function(t){return[t[2]-t[0],t[3]-t[1]]},getTopLeft:dv,getTopRight:pv,getWidth:gv,intersects:fv,intersectsSegment:yv,isEmpty:mv,returnOrUpdate:bv,scaleFromCenter:vv,wrapAndSliceX:_v,wrapX:xv},Symbol.toStringTag,{value:"Module"})),Bv={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};function Sv(t){return Bv[t]}const Ev={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};let kv=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Ev[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const Fv=6378137,Tv=Math.PI*Fv,Lv=[-Tv,-Tv,Tv,Tv],Iv=[-180,-85,180,85],Mv=Fv*Math.log(Math.tan(Math.PI/2));class Pv extends kv{constructor(t){super({code:t,units:"m",extent:Lv,global:!0,worldExtent:Iv,getPointResolution:function(t,e){return t/Math.cosh(e[1]/Fv)}})}}const Rv=[new Pv("EPSG:3857"),new Pv("EPSG:102100"),new Pv("EPSG:102113"),new Pv("EPSG:900913"),new Pv("http://www.opengis.net/def/crs/EPSG/0/3857"),new Pv("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Nv(t,e,i){const n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():new Array(n));for(let o=0;o<n;o+=i){e[o]=Tv*t[o]/180;let i=Fv*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));i>Mv?i=Mv:i<-Mv&&(i=-Mv),e[o+1]=i}return e}function Ov(t,e,i){const n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():new Array(n));for(let o=0;o<n;o+=i)e[o]=180*t[o]/Tv,e[o+1]=360*Math.atan(Math.exp(t[o+1]/Fv))/Math.PI-90;return e}const Uv=[-180,-90,180,90],Dv=6378137*Math.PI/180;class Qv extends kv{constructor(t,e){super({code:t,units:"degrees",extent:Uv,axisOrientation:e,global:!0,metersPerUnit:Dv,worldExtent:Uv})}}const Hv=[new Qv("CRS:84"),new Qv("EPSG:4326","neu"),new Qv("urn:ogc:def:crs:OGC:1.3:CRS84"),new Qv("urn:ogc:def:crs:OGC:2:84"),new Qv("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Qv("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Qv("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let zv={};let jv={};function Gv(t,e,i){const n=t.getCode(),o=e.getCode();n in jv||(jv[n]={}),jv[n][o]=i}function Vv(t,e){let i;return t in jv&&e in jv[t]&&(i=jv[t][e]),i}function Kv(t,e,i){return Math.min(Math.max(t,e),i)}function qv(t,e,i,n,o,r){const s=o-i,a=r-n;if(0!==s||0!==a){const l=((t-i)*s+(e-n)*a)/(s*s+a*a);l>1?(i=o,n=r):l>0&&(i+=s*l,n+=a*l)}return Wv(t,e,i,n)}function Wv(t,e,i,n){const o=i-t,r=n-e;return o*o+r*r}function Xv(t){return 180*t/Math.PI}function $v(t){return t*Math.PI/180}function Yv(t,e){const i=t%e;return i*e<0?i+e:i}function Zv(t,e,i){return t+i*(e-t)}function Jv(t,e){const i=Math.pow(10,e);return Math.round(t*i)/i}function ty(t,e){return Math.round(Jv(t,e))}function ey(t,e){return Math.floor(Jv(t,e))}function iy(t,e){return Math.ceil(Jv(t,e))}function ny(t,e,i){const n=void 0!==i?t.toFixed(i):""+t;let o=n.indexOf(".");return o=-1===o?n.length:o,o>e?n:new Array(1+e-o).join("0")+n}function oy(t,e){const i=(""+t).split("."),n=(""+e).split(".");for(let o=0;o<Math.max(i.length,n.length);o++){const t=parseInt(i[o]||"0",10),e=parseInt(n[o]||"0",10);if(t>e)return 1;if(e>t)return-1}return 0}function ry(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function sy(t,e){const i=e.getRadius(),n=e.getCenter(),o=n[0],r=n[1];let s=t[0]-o;const a=t[1]-r;0===s&&0===a&&(s=1);const l=Math.sqrt(s*s+a*a);return[o+i*s/l,r+i*a/l]}function ay(t,e){const i=t[0],n=t[1],o=e[0],r=e[1],s=o[0],a=o[1],l=r[0],c=r[1],h=l-s,A=c-a,u=0===h&&0===A?0:(h*(i-s)+A*(n-a))/(h*h+A*A||0);let d,p;return u<=0?(d=s,p=a):u>=1?(d=l,p=c):(d=s+u*h,p=a+u*A),[d,p]}function ly(t,e){let i=!0;for(let n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function cy(t,e){const i=Math.cos(e),n=Math.sin(e),o=t[0]*i-t[1]*n,r=t[1]*i+t[0]*n;return t[0]=o,t[1]=r,t}function hy(t,e){return t[0]*=e,t[1]*=e,t}function Ay(t,e){const i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function uy(t,e){return Math.sqrt(Ay(t,e))}function dy(t,e){if(e.canWrapX()){const i=gv(e.getExtent()),n=py(t,e,i);n&&(t[0]-=n*i)}return t}function py(t,e,i){const n=e.getExtent();let o=0;return e.canWrapX()&&(t[0]<n[0]||t[0]>n[2])&&(i=i||gv(n),o=Math.floor((t[0]-n[0])/i)),o}const gy=6371008.8;function fy(t,e,i){i=i||gy;const n=$v(t[1]),o=$v(e[1]),r=(o-n)/2,s=$v(e[0]-t[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(s)*Math.sin(s)*Math.cos(n)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function my(t,e,i,n){n=n||gy;const o=$v(t[1]),r=$v(t[0]),s=e/n,a=Math.asin(Math.sin(o)*Math.cos(s)+Math.cos(o)*Math.sin(s)*Math.cos(i));return[Xv(r+Math.atan2(Math.sin(i)*Math.sin(s)*Math.cos(o),Math.cos(s)-Math.sin(o)*Math.sin(a))),Xv(a)]}function by(...t){console.warn(...t)}function vy(...t){console.error(...t)}let yy=!0;function wy(t,e){if(void 0!==e)for(let i=0,n=t.length;i<n;++i)e[i]=t[i];else e=t.slice();return e}function xy(t,e){if(void 0!==e&&t!==e){for(let i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function _y(t){!function(t,e){zv[t]=e}(t.getCode(),t),Gv(t,t,wy)}function Cy(t){return"string"==typeof t?zv[e=t]||zv[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function By(t,e,i,n){let o;const r=(t=Cy(t)).getPointResolutionFunc();if(r){if(o=r(e,i),n&&n!==t.getUnits()){const e=t.getMetersPerUnit();e&&(o=o*e/Ev[n])}}else{const r=t.getUnits();if("degrees"==r&&!n||"degrees"==n)o=e;else{const s=Ly(t,Cy("EPSG:4326"));if(s===xy&&"degrees"!==r)o=e*t.getMetersPerUnit();else{let t=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];t=s(t,t,2);o=(fy(t.slice(0,2),t.slice(2,4))+fy(t.slice(4,6),t.slice(6,8)))/2}const a=n?Ev[n]:t.getMetersPerUnit();void 0!==a&&(o/=a)}}return o}function Sy(t){!function(t){t.forEach(_y)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Gv(e,t,wy)}))}))}function Ey(t,e){return t?"string"==typeof t?Cy(t):t:Cy(e)}function ky(t){return function(e,i,n){const o=e.length;n=void 0!==n?n:2,i=void 0!==i?i:new Array(o);for(let r=0;r<o;r+=n){const o=t(e.slice(r,r+n)),s=o.length;for(let t=0,a=n;t<a;++t)i[r+t]=t>=s?e[r+t]:o[t]}return i}}function Fy(t,e,i,n){const o=Cy(t),r=Cy(e);Gv(o,r,ky(i)),Gv(r,o,ky(n))}function Ty(t,e){if(t===e)return!0;const i=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return i;return Ly(t,e)===wy&&i}function Ly(t,e){let i=Vv(t.getCode(),e.getCode());return i||(i=xy),i}function Iy(t,e){return Ly(Cy(t),Cy(e))}function My(t,e,i){return Iy(e,i)(t,void 0,t.length)}function Py(t,e,i,n){return wv(t,Iy(e,i),void 0,n)}let Ry=null;function Ny(t,e){return t}function Oy(t,e){return yy&&!ly(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(yy=!1,by("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function Uy(t,e){return t}function Dy(t,e){return t}function Qy(t,e,i){return function(n){let o,r;if(t.canWrapX()){const e=t.getExtent(),s=gv(e);r=py(n=n.slice(0),t,s),r&&(n[0]=n[0]-r*s),n[0]=Kv(n[0],e[0],e[2]),n[1]=Kv(n[1],e[1],e[3]),o=i(n)}else o=i(n);return r&&e.canWrapX()&&(o[0]+=r*gv(e.getExtent())),o}}var Hy,zy,jy;function Gy(t,e,i,n,o,r){r=r||[];let s=0;for(let a=e;a<i;a+=n){const e=t[a],i=t[a+1];r[s++]=o[0]*e+o[2]*i+o[4],r[s++]=o[1]*e+o[3]*i+o[5]}return r&&r.length!=s&&(r.length=s),r}function Vy(t,e,i,n,o,r,s){s=s||[];const a=Math.cos(o),l=Math.sin(o),c=r[0],h=r[1];let A=0;for(let u=e;u<i;u+=n){const e=t[u]-c,i=t[u+1]-h;s[A++]=c+e*a-i*l,s[A++]=h+e*l+i*a;for(let o=u+2;o<u+n;++o)s[A++]=t[o]}return s&&s.length!=A&&(s.length=A),s}Sy(Rv),Sy(Hv),Hy=Rv,zy=Nv,jy=Ov,Hv.forEach((function(t){Hy.forEach((function(e){Gv(t,e,zy),Gv(e,t,jy)}))}));const Ky=[1,0,0,1,0,0];class qy extends xb{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Zm(((t,e,i)=>{if(!i)return this.getSimplifiedGeometry(e);const n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return bb()}closestPointXY(t,e,i,n){return bb()}containsXY(t,e){const i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return bb()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&qb(t),this.extentRevision_=this.getRevision()}return bv(this.extent_,t)}rotate(t,e){bb()}scale(t,e,i){bb()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return bb()}getType(){return bb()}applyTransform(t){bb()}intersectsExtent(t){return bb()}translate(t,e){bb()}transform(t,e){const i=Cy(t),n="tile-pixels"==i.getUnits()?function(t,n,o){const r=i.getExtent(),s=i.getWorldExtent(),a=Av(s)/Av(r);return Mb(Ky,s[0],s[3],a,-a,0,0,0),Gy(t,0,t.length,o,Ky,n),Iy(i,e)(t,n,o)}:Iy(i,e);return this.applyTransform(n),this}}class Wy extends qy{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Xb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return bb()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=$y(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){bb()}setLayout(t,e,i){let n;if(t)n=$y(t);else{for(let t=0;t<i;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}n=e.length,t=Xy(n)}this.layout=t,this.stride=n}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const i=this.getFlatCoordinates();if(i){const n=this.getStride();Vy(i,0,i.length,n,t,e,i),this.changed()}}scale(t,e,i){void 0===e&&(e=t),i||(i=av(this.getExtent()));const n=this.getFlatCoordinates();if(n){const o=this.getStride();!function(t,e,i,n,o,r,s,a){a=a||[];const l=s[0],c=s[1];let h=0;for(let A=e;A<i;A+=n){const e=t[A]-l,i=t[A+1]-c;a[h++]=l+o*e,a[h++]=c+r*i;for(let o=A+2;o<A+n;++o)a[h++]=t[o]}a&&a.length!=h&&(a.length=h)}(n,0,n.length,o,t,e,i,n),this.changed()}}translate(t,e){const i=this.getFlatCoordinates();if(i){const n=this.getStride();!function(t,e,i,n,o,r,s){s=s||[];let a=0;for(let l=e;l<i;l+=n){s[a++]=t[l]+o,s[a++]=t[l+1]+r;for(let e=l+2;e<l+n;++e)s[a++]=t[e]}s&&s.length!=a&&(s.length=a)}(i,0,i.length,n,t,e,i),this.changed()}}}function Xy(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}function $y(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Yy(t,e,i,n,o,r,s){const a=t[e],l=t[e+1],c=t[i]-a,h=t[i+1]-l;let A;if(0===c&&0===h)A=e;else{const u=((o-a)*c+(r-l)*h)/(c*c+h*h);if(u>1)A=i;else{if(u>0){for(let o=0;o<n;++o)s[o]=Zv(t[e+o],t[i+o],u);return void(s.length=n)}A=e}}for(let u=0;u<n;++u)s[u]=t[A+u];s.length=n}function Zy(t,e,i,n,o){let r=t[e],s=t[e+1];for(e+=n;e<i;e+=n){const i=t[e],n=t[e+1],a=Wv(r,s,i,n);a>o&&(o=a),r=i,s=n}return o}function Jy(t,e,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r];o=Zy(t,e,s,n,o),e=s}return o}function tw(t,e,i,n,o,r,s,a,l,c,h){if(e==i)return c;let A,u;if(0===o){if(u=Wv(s,a,t[e],t[e+1]),u<c){for(A=0;A<n;++A)l[A]=t[e+A];return l.length=n,u}return c}h=h||[NaN,NaN];let d=e+n;for(;d<i;)if(Yy(t,d-n,d,n,s,a,h),u=Wv(s,a,h[0],h[1]),u<c){for(c=u,A=0;A<n;++A)l[A]=h[A];l.length=n,d+=n}else d+=n*Math.max((Math.sqrt(u)-Math.sqrt(c))/o|0,1);if(r&&(Yy(t,i-n,e,n,s,a,h),u=Wv(s,a,h[0],h[1]),u<c)){for(c=u,A=0;A<n;++A)l[A]=h[A];l.length=n}return c}function ew(t,e,i,n,o,r,s,a,l,c,h){h=h||[NaN,NaN];for(let A=0,u=i.length;A<u;++A){const u=i[A];c=tw(t,e,u,n,o,r,s,a,l,c,h),e=u}return c}function iw(t,e,i,n){for(let o=0,r=i.length;o<r;++o)t[e++]=i[o];return e}function nw(t,e,i,n){for(let o=0,r=i.length;o<r;++o){const r=i[o];for(let i=0;i<n;++i)t[e++]=r[i]}return e}function ow(t,e,i,n,o){o=o||[];let r=0;for(let s=0,a=i.length;s<a;++s){const a=nw(t,e,i[s],n);o[r++]=a,e=a}return o.length=r,o}function rw(t,e,i,n,o){o=o||[];let r=0;for(let s=0,a=i.length;s<a;++s){const a=ow(t,e,i[s],n,o[r]);0===a.length&&(a[0]=e),o[r++]=a,e=a[a.length-1]}return o.length=r,o}function sw(t,e,i,n,o,r,s){const a=(i-e)/n;if(a<3){for(;e<i;e+=n)r[s++]=t[e],r[s++]=t[e+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[e,i-n];let h=0;for(;c.length>0;){const i=c.pop(),r=c.pop();let s=0;const a=t[r],A=t[r+1],u=t[i],d=t[i+1];for(let e=r+n;e<i;e+=n){const i=qv(t[e],t[e+1],a,A,u,d);i>s&&(h=e,s=i)}s>o&&(l[(h-e)/n]=1,r+n<h&&c.push(r,h),h+n<i&&c.push(h,i))}for(let A=0;A<a;++A)l[A]&&(r[s++]=t[e+A*n],r[s++]=t[e+A*n+1]);return s}function aw(t,e,i,n,o,r,s,a){for(let l=0,c=i.length;l<c;++l){const c=i[l];s=sw(t,e,c,n,o,r,s),a.push(s),e=c}return s}function lw(t,e){return e*Math.round(t/e)}function cw(t,e,i,n,o,r,s){if(e==i)return s;let a,l,c=lw(t[e],o),h=lw(t[e+1],o);e+=n,r[s++]=c,r[s++]=h;do{if(a=lw(t[e],o),l=lw(t[e+1],o),(e+=n)==i)return r[s++]=a,r[s++]=l,s}while(a==c&&l==h);for(;e<i;){const i=lw(t[e],o),A=lw(t[e+1],o);if(e+=n,i==a&&A==l)continue;const u=a-c,d=l-h,p=i-c,g=A-h;u*g==d*p&&(u<0&&p<u||u==p||u>0&&p>u)&&(d<0&&g<d||d==g||d>0&&g>d)?(a=i,l=A):(r[s++]=a,r[s++]=l,c=a,h=l,a=i,l=A)}return r[s++]=a,r[s++]=l,s}function hw(t,e,i,n,o,r,s,a){for(let l=0,c=i.length;l<c;++l){const c=i[l];s=cw(t,e,c,n,o,r,s),a.push(s),e=c}return s}function Aw(t,e,i,n,o){o=void 0!==o?o:[];let r=0;for(let s=e;s<i;s+=n)o[r++]=t.slice(s,s+n);return o.length=r,o}function uw(t,e,i,n,o){o=void 0!==o?o:[];let r=0;for(let s=0,a=i.length;s<a;++s){const a=i[s];o[r++]=Aw(t,e,a,n,o[r]),e=a}return o.length=r,o}function dw(t,e,i,n,o){o=void 0!==o?o:[];let r=0;for(let s=0,a=i.length;s<a;++s){const a=i[s];o[r++]=1===a.length&&a[0]===e?[]:uw(t,e,a,n,o[r]),e=a[a.length-1]}return o.length=r,o}function pw(t,e,i,n){let o=0,r=t[i-n],s=t[i-n+1];for(;e<i;e+=n){const i=t[e],n=t[e+1];o+=s*i-r*n,r=i,s=n}return o/2}function gw(t,e,i,n){let o=0;for(let r=0,s=i.length;r<s;++r){const s=i[r];o+=pw(t,e,s,n),e=s}return o}class fw extends Wy{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new fw(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,i,n){return n<Qb(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))}getArea(){return pw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Aw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=sw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new fw(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nw(this.flatCoordinates,0,t,this.stride),this.changed()}}let mw=class t extends Wy{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(t,e,i,n){const o=this.flatCoordinates,r=Wv(t,e,o[0],o[1]);if(r<n){const t=this.stride;for(let e=0;e<t;++e)i[e]=o[e];return i.length=t,r}return n}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Wb(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return jb(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=iw(this.flatCoordinates,0,t,this.stride),this.changed()}};function bw(t,e,i,n,o){return!nv(o,(function(o){return!vw(t,e,i,n,o[0],o[1])}))}function vw(t,e,i,n,o,r){let s=0,a=t[i-n],l=t[i-n+1];for(;e<i;e+=n){const i=t[e],n=t[e+1];l<=r?n>r&&(i-a)*(r-l)-(o-a)*(n-l)>0&&s++:n<=r&&(i-a)*(r-l)-(o-a)*(n-l)<0&&s--,a=i,l=n}return 0!==s}function yw(t,e,i,n,o,r){if(0===i.length)return!1;if(!vw(t,e,i[0],n,o,r))return!1;for(let s=1,a=i.length;s<a;++s)if(vw(t,i[s-1],i[s],n,o,r))return!1;return!0}function ww(t,e,i,n,o,r,s){let a,l,c,h,A,u,d;const p=o[r+1],g=[];for(let b=0,v=i.length;b<v;++b){const o=i[b];for(h=t[o-n],u=t[o-n+1],a=e;a<o;a+=n)A=t[a],d=t[a+1],(p<=u&&d<=p||u<=p&&p<=d)&&(c=(p-u)/(d-u)*(A-h)+h,g.push(c)),h=A,u=d}let f=NaN,m=-1/0;for(g.sort(jm),h=g[0],a=1,l=g.length;a<l;++a){A=g[a];const o=Math.abs(A-h);o>m&&(c=(h+A)/2,yw(t,e,i,n,c,p)&&(f=c,m=o)),h=A}return isNaN(f)&&(f=o[r]),s?(s.push(f,p,m),s):[f,p,m]}function xw(t,e,i,n,o){let r=[];for(let s=0,a=i.length;s<a;++s){const a=i[s];r=ww(t,e,a,n,o,2*s,r),e=a[a.length-1]}return r}function _w(t,e,i,n,o){let r;for(e+=n;e<i;e+=n)if(r=o(t.slice(e-n,e),t.slice(e,e+n)),r)return r;return!1}function Cw(t,e,i,n,o){const r=tv([1/0,1/0,-1/0,-1/0],t,e,i,n);return!!fv(o,r)&&(!!zb(o,r)||(r[0]>=o[0]&&r[2]<=o[2]||(r[1]>=o[1]&&r[3]<=o[3]||_w(t,e,i,n,(function(t,e){return yv(o,t,e)})))))}function Bw(t,e,i,n,o){return!!Cw(t,e,i,n,o)||(!!vw(t,e,i,n,o[0],o[1])||(!!vw(t,e,i,n,o[0],o[3])||(!!vw(t,e,i,n,o[2],o[1])||!!vw(t,e,i,n,o[2],o[3]))))}function Sw(t,e,i,n,o){if(!Bw(t,e,i[0],n,o))return!1;if(1===i.length)return!0;for(let r=1,s=i.length;r<s;++r)if(bw(t,i[r-1],i[r],n,o)&&!Cw(t,i[r-1],i[r],n,o))return!1;return!0}function Ew(t,e,i,n){for(;e<i-n;){for(let o=0;o<n;++o){const r=t[e+o];t[e+o]=t[i-n+o],t[i-n+o]=r}e+=n,i-=n}}function kw(t,e,i,n){let o=0,r=t[i-n],s=t[i-n+1];for(;e<i;e+=n){const i=t[e],n=t[e+1];o+=(i-r)*(n+s),r=i,s=n}return 0===o?void 0:o>0}function Fw(t,e,i,n,o){o=void 0!==o&&o;for(let r=0,s=i.length;r<s;++r){const s=i[r],a=kw(t,e,s,n);if(0===r){if(o&&a||!o&&!a)return!1}else if(o&&!a||!o&&a)return!1;e=s}return!0}function Tw(t,e,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r];if(!Fw(t,e,s,n,o))return!1;s.length&&(e=s[s.length-1])}return!0}function Lw(t,e,i,n,o){o=void 0!==o&&o;for(let r=0,s=i.length;r<s;++r){const s=i[r],a=kw(t,e,s,n);(0===r?o&&a||!o&&!a:o&&!a||!o&&a)&&Ew(t,e,s,n),e=s}return e}function Iw(t,e,i,n,o){for(let r=0,s=i.length;r<s;++r)e=Lw(t,e,i[r],n,o);return e}function Mw(t,e){const i=[];let n,o=0,r=0;for(let s=0,a=e.length;s<a;++s){const a=e[s],l=kw(t,o,a,2);if(void 0===n&&(n=l),l===n)i.push(e.slice(r,s+1));else{if(0===i.length)continue;i[i.length-1].push(e[r])}r=s+1,o=a}return i}class Pw extends Wy{constructor(t,e,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?qm(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Pw(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,n){return n<Qb(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jy(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ew(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))}containsXY(t,e){return yw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return gw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Lw(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,uw(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=av(this.getExtent());this.flatInteriorPoint_=ww(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new mw(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new fw(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[];let o=0;for(let r=0,s=i.length;r<s;++r){const s=i[r],a=new fw(e.slice(o,s),t);n.push(a),o=s}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Fw(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Lw(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=hw(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new Pw(e,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return Sw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=ow(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}function Rw(t){if(mv(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],i=t[1],n=t[2],o=t[3],r=[e,i,e,o,n,o,n,i,e,i];return new Pw(r,"XY",[r.length])}function Nw(t,e,i){e=e||32;const n=t.getStride(),o=t.getLayout(),r=t.getCenter(),s=n*(e+1),a=new Array(s);for(let h=0;h<s;h+=n){a[h]=0,a[h+1]=0;for(let t=2;t<n;t++)a[h+t]=r[t]}const l=[a.length],c=new Pw(a,o,l);return function(t,e,i,n){const o=t.getFlatCoordinates(),r=t.getStride(),s=o.length/r-1,a=0;for(let l=0;l<=s;++l){const t=l*r,n=a+2*Yv(l,s)*Math.PI/s;o[t]=e[0]+i*Math.cos(n),o[t+1]=e[1]+i*Math.sin(n)}t.changed()}(c,r,t.getRadius()),c}const Ow="accuracy",Uw="accuracyGeometry",Dw="altitude",Qw="altitudeAccuracy",Hw="heading",zw="position",jw="projection",Gw="speed",Vw="tracking",Kw="trackingOptions",qw="error";class Ww extends Dm{constructor(t){super(qw),this.code=t.code,this.message=t.message}}class Xw extends xb{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.position_=null,this.transform_=xy,this.watchId_=void 0,this.addChangeListener(jw,this.handleProjectionChanged_),this.addChangeListener(Vw,this.handleTrackingChanged_),void 0!==t.projection&&this.setProjection(t.projection),void 0!==t.trackingOptions&&this.setTrackingOptions(t.trackingOptions),this.setTracking(void 0!==t.tracking&&t.tracking)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const t=this.getProjection();t&&(this.transform_=Ly(Cy("EPSG:4326"),t),this.position_&&this.set(zw,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(t){const e=t.coords;this.set(Ow,e.accuracy),this.set(Dw,null===e.altitude?void 0:e.altitude),this.set(Qw,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(Hw,null===e.heading?void 0:$v(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];const i=this.transform_(this.position_);this.set(zw,i.slice()),this.set(Gw,null===e.speed?void 0:e.speed);const n=function(t,e,i,n){i=i||32;const o=[];for(let r=0;r<i;++r)qm(o,my(t,e,2*Math.PI*r/i,n));return o.push(o[0],o[1]),new Pw(o,"XY",[o.length])}(this.position_,e.accuracy);n.applyTransform(this.transform_),this.set(Uw,n),this.changed()}positionError_(t){this.dispatchEvent(new Ww(t))}getAccuracy(){return this.get(Ow)}getAccuracyGeometry(){return this.get(Uw)||null}getAltitude(){return this.get(Dw)}getAltitudeAccuracy(){return this.get(Qw)}getHeading(){return this.get(Hw)}getPosition(){return this.get(zw)}getProjection(){return this.get(jw)}getSpeed(){return this.get(Gw)}getTracking(){return this.get(Vw)}getTrackingOptions(){return this.get(Kw)}setProjection(t){this.set(jw,Cy(t))}setTracking(t){this.set(Vw,t)}setTrackingOptions(t){this.set(Kw,t)}}const $w="add",Yw="remove",Zw="length";class Jw extends Dm{constructor(t,e,i){super(t),this.element=e,this.index=i}}class tx extends xb{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let i=0,n=this.array_.length;i<n;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,i=t.length;e<i;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let i=0,n=e.length;i<n;++i)t(e[i],i,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(Zw)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Jw($w,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Jw(Yw,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Jw(Yw,i,t)),this.dispatchEvent(new Jw($w,e,t))}updateLength_(){this.set(Zw,this.array_.length)}assertUnique_(t,e){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new Error("Duplicate item added to a unique collection")}}const ex="opacity",ix="visible",nx="extent",ox="zIndex",rx="maxResolution",sx="minResolution",ax="maxZoom",lx="minZoom",cx="source",hx="map";class Ax extends xb{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[ex]=void 0!==t.opacity?t.opacity:1,_b("number"==typeof e[ex],"Layer opacity must be a number"),e[ix]=void 0===t.visible||t.visible,e[ox]=t.zIndex,e[rx]=void 0!==t.maxResolution?t.maxResolution:1/0,e[sx]=void 0!==t.minResolution?t.minResolution:0,e[lx]=void 0!==t.minZoom?t.minZoom:-1/0,e[ax]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},i=this.getZIndex();return e.opacity=Kv(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==i||e.managed?i:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return bb()}getLayerStatesArray(t){return bb()}getExtent(){return this.get(nx)}getMaxResolution(){return this.get(rx)}getMinResolution(){return this.get(sx)}getMinZoom(){return this.get(lx)}getMaxZoom(){return this.get(ax)}getOpacity(){return this.get(ex)}getSourceState(){return bb()}getVisible(){return this.get(ix)}getZIndex(){return this.get(ox)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(nx,t)}setMaxResolution(t){this.set(rx,t)}setMinResolution(t){this.set(sx,t)}setMaxZoom(t){this.set(ax,t)}setMinZoom(t){this.set(lx,t)}setOpacity(t){_b("number"==typeof t,"Layer opacity must be a number"),this.set(ex,t)}setVisible(t){this.set(ix,t)}setZIndex(t){this.set(ox,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const ux="prerender",dx="postrender",px="precompose",gx="postcompose",fx="rendercomplete",mx=0,bx=1,vx={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},yx=42,wx=256;function xx(t,e,i){return function(n,o,r,s,a){if(!n)return;if(!o&&!e)return n;const l=e?0:r[0]*o,c=e?0:r[1]*o,h=a?a[0]:0,A=a?a[1]:0;let u=t[0]+l/2+h,d=t[2]-l/2+h,p=t[1]+c/2+A,g=t[3]-c/2+A;u>d&&(u=(d+u)/2,d=u),p>g&&(p=(g+p)/2,g=p);let f=Kv(n[0],u,d),m=Kv(n[1],p,g);if(s&&i&&o){const t=30*o;f+=-t*Math.log(1+Math.max(0,u-n[0])/t)+t*Math.log(1+Math.max(0,n[0]-d)/t),m+=-t*Math.log(1+Math.max(0,p-n[1])/t)+t*Math.log(1+Math.max(0,n[1]-g)/t)}return[f,m]}}function _x(t){return t}function Cx(t,e,i,n){const o=gv(e)/i[0],r=Av(e)/i[1];return n?Math.min(t,Math.max(o,r)):Math.min(t,Math.min(o,r))}function Bx(t,e,i){let n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/t-1))/50+1),Kv(n,i/2,2*e)}function Sx(t,e,i,n,o){return i=void 0===i||i,function(r,s,a,l){if(void 0!==r){const s=n?Cx(t,n,a,o):t;return i&&l?Bx(r,s,e):Kv(r,e,s)}}}function Ex(t){if(void 0!==t)return 0}function kx(t){if(void 0!==t)return t}function Fx(t){return Math.pow(t,3)}function Tx(t){return 1-Fx(1-t)}function Lx(t){return 3*t*t-2*t*t*t}function Ix(t){return t}const Mx=Object.freeze(Object.defineProperty({__proto__:null,easeIn:Fx,easeOut:Tx,inAndOut:Lx,linear:Ix,upAndDown:function(t){return t<.5?Lx(2*t):1-Lx(2*(t-.5))}},Symbol.toStringTag,{value:"Module"}));class Px extends xb{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Ey(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&(yy=!1),t.center&&(t.center=Oy(t.center,this.projection_)),t.extent&&(t.extent=Dy(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const s in vx)delete e[s];this.setProperties(e,!0);const i=function(t){let e,i,n;const o=28,r=2;let s=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:o;const l=void 0!==t.zoomFactor?t.zoomFactor:r,c=void 0!==t.multiWorld&&t.multiWorld,h=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,A=void 0!==t.showFullExtent&&t.showFullExtent,u=Ey(t.projection,"EPSG:3857"),d=u.getExtent();let p=t.constrainOnlyCenter,g=t.extent;c||g||!u.isGlobal()||(p=!1,g=d);if(void 0!==t.resolutions){const o=t.resolutions;i=o[s],n=void 0!==o[a]?o[a]:o[o.length-1],e=t.constrainResolution?function(t,e,i,n){return e=void 0===e||e,function(o,r,s,a){if(void 0!==o){const l=t[0],c=t[t.length-1],h=i?Cx(l,i,s,n):l;if(a)return e?Bx(o,h,c):Kv(o,c,h);const A=Math.min(h,o),u=Math.floor(Vm(t,A,r));return t[u]>h&&u<t.length-1?t[u+1]:t[u]}}}(o,h,!p&&g,A):Sx(i,n,h,!p&&g,A)}else{const c=(d?Math.max(gv(d),Av(d)):360*Ev.degrees/u.getMetersPerUnit())/wx/Math.pow(r,0),f=c/Math.pow(r,o-0);i=t.maxResolution,void 0!==i?s=0:i=c/Math.pow(l,s),n=t.minResolution,void 0===n&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(l,a):c/Math.pow(l,a):f),a=s+Math.floor(Math.log(i/n)/Math.log(l)),n=i/Math.pow(l,a-s),e=t.constrainResolution?function(t,e,i,n,o,r){return n=void 0===n||n,i=void 0!==i?i:0,function(s,a,l,c){if(void 0!==s){const h=o?Cx(e,o,l,r):e;if(c)return n?Bx(s,h,i):Kv(s,i,h);const A=1e-9,u=Math.ceil(Math.log(e/h)/Math.log(t)-A),d=-a*(.5-A)+.5,p=Math.min(h,s),g=Math.floor(Math.log(e/p)/Math.log(t)+d),f=Math.max(u,g);return Kv(e/Math.pow(t,f),i,h)}}}(l,i,n,h,!p&&g,A):Sx(i,n,h,!p&&g,A)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:s,zoomFactor:l}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;const n=function(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return xx(t.extent,t.constrainOnlyCenter,e)}const e=Ey(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,xx(t,!1,!1)}return _x}(t),o=i.constraint,r=function(t){const e=void 0===t.enableRotation||t.enableRotation;if(e){const e=t.constrainRotation;return void 0===e||!0===e?function(t){const e=$v(5);return function(t,i){return i||void 0===t?t:Math.abs(t)<=e?0:t}}():!1===e?kx:"number"==typeof e?function(t){const e=2*Math.PI/t;return function(t,i){return i?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(e):kx}return Ex}(t);this.constraints_={center:n,resolution:o,rotation:r},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const i=this.getCenterInternal();if(i){const n=t||[0,0,0,0];e=e||[0,0,0,0];const o=this.getResolution(),r=o/2*(n[3]-e[3]+e[1]-n[1]),s=o/2*(n[0]-e[0]+e[2]-n[2]);this.setCenterInternal([i[0]+r,i[1]-s])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let i=0;i<e.length;++i){let t=arguments[i];t.center&&(t=Object.assign({},t),t.center=Oy(t.center,this.getProjection())),t.anchor&&(t=Object.assign({},t),t.anchor=Oy(t.anchor,this.getProjection())),e[i]=t}this.animateInternal.apply(this,e)}animateInternal(t){let e,i=arguments.length;i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i);let n=0;for(;n<i&&!this.isDef();++n){const t=arguments[n];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(n===i)return void(e&&Rx(e,!0));let o=Date.now(),r=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(;n<i;++n){const t=arguments[n],i={start:o,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||Lx,callback:e};if(t.center&&(i.sourceCenter=r,i.targetCenter=t.center.slice(),r=i.targetCenter),void 0!==t.zoom?(i.sourceResolution=s,i.targetResolution=this.getResolutionForZoom(t.zoom),s=i.targetResolution):t.resolution&&(i.sourceResolution=s,i.targetResolution=t.resolution,s=i.targetResolution),void 0!==t.rotation){i.sourceRotation=a;const e=Yv(t.rotation-a+Math.PI,2*Math.PI)-Math.PI;i.targetRotation=a+e,a=i.targetRotation}Nx(i)?i.complete=!0:o+=i.duration,l.push(i)}this.animations_.push(l),this.setHint(mx,1),this.updateAnimations_()}getAnimating(){return this.hints_[mx]>0}getInteracting(){return this.hints_[bx]>0}cancelAnimations(){let t;this.setHint(mx,-this.hints_[mx]);for(let e=0,i=this.animations_.length;e<i;++e){const i=this.animations_[e];if(i[0].callback&&Rx(i[0].callback,!1),!t)for(let e=0,n=i.length;e<n;++e){const n=i[e];if(!n.complete){t=n.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let i=this.animations_.length-1;i>=0;--i){const n=this.animations_[i];let o=!0;for(let i=0,r=n.length;i<r;++i){const r=n[i];if(r.complete)continue;const s=t-r.start;let a=r.duration>0?s/r.duration:1;a>=1?(r.complete=!0,a=1):o=!1;const l=r.easing(a);if(r.sourceCenter){const t=r.sourceCenter[0],e=r.sourceCenter[1],i=r.targetCenter[0],n=r.targetCenter[1];this.nextCenter_=r.targetCenter;const o=t+l*(i-t),s=e+l*(n-e);this.targetCenter_=[o,s]}if(r.sourceResolution&&r.targetResolution){const t=1===l?r.targetResolution:r.sourceResolution+l*(r.targetResolution-r.sourceResolution);if(r.anchor){const e=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(i,r.anchor)}this.nextResolution_=r.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==r.sourceRotation&&void 0!==r.targetRotation){const t=1===l?Yv(r.targetRotation+Math.PI,2*Math.PI)-Math.PI:r.sourceRotation+l*(r.targetRotation-r.sourceRotation);if(r.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,r.anchor)}this.nextRotation_=r.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!r.complete)break}if(o){this.animations_[i]=null,this.setHint(mx,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=n[0].callback;t&&Rx(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let i;const n=this.getCenterInternal();return void 0!==n&&(i=[n[0]-e[0],n[1]-e[1]],cy(i,t-this.getRotation()),ry(i,e)),i}calculateCenterZoom(t,e){let i;const n=this.getCenterInternal(),o=this.getResolution();if(void 0!==n&&void 0!==o){i=[e[0]-t*(e[0]-n[0])/o,e[1]-t*(e[1]-n[1])/o]}return i}getViewportSize_(t){const e=this.viewportSize_;if(t){const i=e[0],n=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(n*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?Ny(t,this.getProjection()):t}getCenterInternal(){return this.get(vx.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){return Uy(this.calculateExtentInternal(t),this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();_b(e,"The view center is not defined");const i=this.getResolution();_b(void 0!==i,"The view resolution is not defined");const n=this.getRotation();return _b(void 0!==n,"The view rotation is not defined"),cv(e,i,n,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(vx.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(Dy(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const i=gv(t)/e[0],n=Av(t)/e[1];return Math.max(i,n)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(e/i)/Math.log(t);return function(i){return e/Math.pow(t,i*n)}}getRotation(){return this.get(vx.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,o=Math.log(i/n)/e;return function(t){return Math.log(i/t)/e/o}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),i=this.getRotation();let n=this.getCenterInternal();const o=this.padding_;if(o){const t=this.getViewportSizeMinusPadding_();n=Ox(n,this.getViewportSize_(),[t[0]/2+o[3],t[1]/2+o[0]],e,i)}return{center:n.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,i,n=this.minZoom_||0;if(this.resolutions_){const o=Vm(this.resolutions_,t,1);n=o,e=this.resolutions_[o],i=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=Kv(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,Kv(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let i;if(_b(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){_b(!mv(t),"Cannot fit empty extent provided as `geometry`");i=Rw(Dy(t,this.getProjection()))}else if("Circle"===t.getType()){const e=Dy(t.getExtent(),this.getProjection());i=Rw(e),i.rotate(this.getRotation(),av(e))}else i=t;this.fitInternal(i,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),i=Math.cos(e),n=Math.sin(-e),o=t.getFlatCoordinates(),r=t.getStride();let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let h=0,A=o.length;h<A;h+=r){const t=o[h]*i-o[h+1]*n,e=o[h]*n+o[h+1]*i;s=Math.min(s,t),a=Math.min(a,e),l=Math.max(l,t),c=Math.max(c,e)}return[s,a,l,c]}fitInternal(t,e){let i=(e=e||{}).size;i||(i=this.getViewportSizeMinusPadding_());const n=void 0!==e.padding?e.padding:[0,0,0,0],o=void 0!==e.nearest&&e.nearest;let r;r=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const s=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(s,[i[0]-n[1]-n[3],i[1]-n[0]-n[2]]);a=isNaN(a)?r:Math.max(a,r),a=this.getConstrainedResolution(a,o?0:1);const l=this.getRotation(),c=Math.sin(l),h=Math.cos(l),A=av(s);A[0]+=(n[1]-n[3])/2*a,A[1]+=(n[0]-n[2])/2*a;const u=A[0]*h-A[1]*c,d=A[1]*h+A[0]*c,p=this.getConstrainedCenter([u,d],a),g=e.callback?e.callback:Ym;void 0!==e.duration?this.animateInternal({resolution:a,center:p,duration:e.duration,easing:e.easing},g):(this.targetResolution_=a,this.targetCenter_=p,this.applyTargetState_(!1,!0),Rx(g,!0))}centerOn(t,e,i){this.centerOnInternal(Oy(t,this.getProjection()),e,i)}centerOnInternal(t,e,i){this.setCenterInternal(Ox(t,e,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,i,n){let o;const r=this.padding_;if(r&&t){const s=this.getViewportSizeMinusPadding_(-i),a=Ox(t,n,[s[0]/2+r[3],s[1]/2+r[0]],e,i);o=[t[0]-a[0],t[1]-a[1]]}return o}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=Ny(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&Oy(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,n,i);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=Oy(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(n,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?Oy(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const i=this.getAnimating()||this.getInteracting()||e,n=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(n),r=this.constraints_.resolution(this.targetResolution_,0,o,i),s=this.constraints_.center(this.targetCenter_,r,o,i,this.calculateCenterShift(this.targetCenter_,r,n,o));this.get(vx.ROTATION)!==n&&this.set(vx.ROTATION,n),this.get(vx.RESOLUTION)!==r&&(this.set(vx.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),s&&this.get(vx.CENTER)&&ly(this.get(vx.CENTER),s)||this.set(vx.CENTER,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,i){t=void 0!==t?t:200;const n=e||0,o=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,n,r),a=this.constraints_.center(this.targetCenter_,s,r,!1,this.calculateCenterShift(this.targetCenter_,s,o,r));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=a,void this.applyTargetState_();i=i||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&ly(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:a,resolution:s,duration:t,easing:Tx,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(bx,1)}endInteraction(t,e,i){i=i&&Oy(i,this.getProjection()),this.endInteractionInternal(t,e,i)}endInteractionInternal(t,e,i){this.getInteracting()&&(this.setHint(bx,-1),this.resolveConstraints(t,e,i))}getConstrainedCenter(t,e){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)}getConstrainedZoom(t,e){const i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))}getConstrainedResolution(t,e){e=e||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,i)}}function Rx(t,e){setTimeout((function(){t(e)}),0)}function Nx(t){return!(t.sourceCenter&&t.targetCenter&&!ly(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function Ox(t,e,i,n,o){const r=Math.cos(-o);let s=Math.sin(-o),a=t[0]*r-t[1]*s,l=t[1]*r+t[0]*s;a+=(e[0]/2-i[0])*n,l+=(i[1]-e[1]/2)*n,s=-s;return[a*r-l*s,l*r+a*s]}class Ux extends Ax{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(cx,this.handleSourcePropertyChange_);const i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(cx)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(gb(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=db(t,nb,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const i=this.getMapInternal();let n;!t&&i&&(t=i.getView()),e=t instanceof Px?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&i&&(e.layerStatesArray=i.getLayerGroup().getLayerStatesArray()),n=e.layerStatesArray?e.layerStatesArray.find((t=>t.layer===this)):this.getLayerState();const o=this.getExtent();return Dx(n,e.viewState)&&(!o||fv(o,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];let e;const i=this.getSource();if(i&&(e=i.getAttributions()),!e)return[];let n=e(t instanceof Px?t.getViewStateAndExtent():t);return Array.isArray(n)||(n=[n]),n}render(t,e){const i=this.getRenderer();return i.prepareFrame(t)?(this.rendered=!0,i.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(hx,t)}getMapInternal(){return this.get(hx)}setMap(t){this.mapPrecomposeKey_&&(gb(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(gb(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=db(t,px,(function(t){const e=t.frameState.layerStatesArray,i=this.getLayerState(!1);_b(!e.some((function(t){return t.layer===i.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(i)}),this),this.mapRenderKey_=db(this,nb,t.render,t),this.changed())}setSource(t){this.set(cx,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Dx(t,e){if(!t.visible)return!1;const i=e.resolution;if(i<t.minResolution||i>=t.maxResolution)return!1;const n=e.zoom;return n>t.minZoom&&n<=t.maxZoom}function Qx(t,e,i,n,o){Hx(t,e,i||0,n||t.length-1,o||jx)}function Hx(t,e,i,n,o){for(;n>i;){if(n-i>600){var r=n-i+1,s=e-i+1,a=Math.log(r),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(r-l)/r)*(s-r/2<0?-1:1);Hx(t,e,Math.max(i,Math.floor(e-s*l/r+c)),Math.min(n,Math.floor(e+(r-s)*l/r+c)),o)}var h=t[e],A=i,u=n;for(zx(t,i,e),o(t[n],h)>0&&zx(t,i,n);A<u;){for(zx(t,A,u),A++,u--;o(t[A],h)<0;)A++;for(;o(t[u],h)>0;)u--}0===o(t[i],h)?zx(t,i,u):zx(t,++u,n),u<=e&&(i=u+1),e<=u&&(n=u-1)}}function zx(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function jx(t,e){return t<e?-1:t>e?1:0}let Gx=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const i=[];if(!i_(t,e))return i;const n=this.toBBox,o=[];for(;e;){for(let r=0;r<e.children.length;r++){const s=e.children[r],a=e.leaf?n(s):s;i_(t,a)&&(e.leaf?i.push(s):e_(t,a)?this._all(s,i):o.push(s))}e=o.pop()}return i}collides(t){let e=this.data;if(!i_(t,e))return!1;const i=[];for(;e;){for(let n=0;n<e.children.length;n++){const o=e.children[n],r=e.leaf?this.toBBox(o):o;if(i_(t,r)){if(e.leaf||e_(t,r))return!0;i.push(o)}}e=i.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=n_([]),this}remove(t,e){if(!t)return this;let i=this.data;const n=this.toBBox(t),o=[],r=[];let s,a,l;for(;i||o.length;){if(i||(i=o.pop(),a=o[o.length-1],s=r.pop(),l=!0),i.leaf){const n=Vx(t,i.children,e);if(-1!==n)return i.children.splice(n,1),o.push(i),this._condense(o),this}l||i.leaf||!e_(i,n)?a?(s++,i=a.children[s],l=!1):i=null:(o.push(i),r.push(s),s=0,a=i,i=i.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const i=[];for(;t;)t.leaf?e.push(...t.children):i.push(...t.children),t=i.pop();return e}_build(t,e,i,n){const o=i-e+1;let r,s=this._maxEntries;if(o<=s)return r=n_(t.slice(e,i+1)),Kx(r,this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),r=n_([]),r.leaf=!1,r.height=n;const a=Math.ceil(o/s),l=a*Math.ceil(Math.sqrt(s));o_(t,e,i,l,this.compareMinX);for(let c=e;c<=i;c+=l){const e=Math.min(c+l-1,i);o_(t,c,e,a,this.compareMinY);for(let i=c;i<=e;i+=a){const o=Math.min(i+a-1,e);r.children.push(this._build(t,i,o,n-1))}}return Kx(r,this.toBBox),r}_chooseSubtree(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){let i,n=1/0,o=1/0;for(let r=0;r<e.children.length;r++){const s=e.children[r],a=Yx(s),l=Jx(t,s)-a;l<o?(o=l,n=a<n?a:n,i=s):l===o&&a<n&&(n=a,i=s)}e=i||e.children[0]}return e}_insert(t,e,i){const n=i?t:this.toBBox(t),o=[],r=this._chooseSubtree(n,this.data,e,o);for(r.children.push(t),Wx(r,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)}_split(t,e){const i=t[e],n=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,n);const r=this._chooseSplitIndex(i,o,n),s=n_(i.children.splice(r,i.children.length-r));s.height=i.height,s.leaf=i.leaf,Kx(i,this.toBBox),Kx(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)}_splitRoot(t,e){this.data=n_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Kx(this.data,this.toBBox)}_chooseSplitIndex(t,e,i){let n,o=1/0,r=1/0;for(let s=e;s<=i-e;s++){const e=qx(t,0,s,this.toBBox),a=qx(t,s,i,this.toBBox),l=t_(e,a),c=Yx(e)+Yx(a);l<o?(o=l,n=s,r=c<r?c:r):l===o&&c<r&&(r=c,n=s)}return n||i-e}_chooseSplitAxis(t,e,i){const n=t.leaf?this.compareMinX:Xx,o=t.leaf?this.compareMinY:$x;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,o)&&t.children.sort(n)}_allDistMargin(t,e,i,n){t.children.sort(n);const o=this.toBBox,r=qx(t,0,e,o),s=qx(t,i-e,i,o);let a=Zx(r)+Zx(s);for(let l=e;l<i-e;l++){const e=t.children[l];Wx(r,t.leaf?o(e):e),a+=Zx(r)}for(let l=i-e-1;l>=e;l--){const e=t.children[l];Wx(s,t.leaf?o(e):e),a+=Zx(s)}return a}_adjustParentBBoxes(t,e,i){for(let n=i;n>=0;n--)Wx(e[n],t)}_condense(t){for(let e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():Kx(t[i],this.toBBox)}};function Vx(t,e,i){if(!i)return e.indexOf(t);for(let n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function Kx(t,e){qx(t,0,t.children.length,e,t)}function qx(t,e,i,n,o){o||(o=n_(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let r=e;r<i;r++){const e=t.children[r];Wx(o,t.leaf?n(e):e)}return o}function Wx(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Xx(t,e){return t.minX-e.minX}function $x(t,e){return t.minY-e.minY}function Yx(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Zx(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Jx(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function t_(t,e){const i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),o=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,o-i)*Math.max(0,r-n)}function e_(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function i_(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function n_(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function o_(t,e,i,n,o){const r=[e,i];for(;r.length;){if((i=r.pop())-(e=r.pop())<=n)continue;const s=e+Math.ceil((i-e)/n/2)*n;Qx(t,s,e,i,o),r.push(e,s,s,i)}}const r_={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function s_(t){return t[0]>0&&t[1]>0}function a_(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function l_(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}class c_{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=l_(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new c_({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return bb()}getImage(t){return bb()}getHitDetectionImage(){return bb()}getPixelRatio(t){return 1}getImageState(){return bb()}getImageSize(){return bb()}getOrigin(){return bb()}getSize(){return bb()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=l_(t)}listenImageChange(t){bb()}load(){bb()}unlistenImageChange(t){bb()}ready(){return Promise.resolve()}}const h_={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var A_={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};A_.max=A_.whitepoint[2].D65,A_.rgb=function(t,e){e=e||A_.whitepoint[2].E;var i,n,o,r=t[0]/e[0],s=t[1]/e[1],a=t[2]/e[2];return n=-.96924363628087*r+1.87596750150772*s+.041555057407175*a,o=.055630079696993*r+-.20397695888897*s+1.056971514242878*a,i=(i=3.240969941904521*r+-1.537383177570093*s+-.498610760293*a)>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*=12.92,[255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1)),255*(o=Math.min(Math.max(0,o),1))]},h_.xyz=function(t,e){var i=t[0]/255,n=t[1]/255,o=t[2]/255,r=.21263900587151*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.71516867876775*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.072192315360733*(o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92),s=.019330818715591*i+.11919477979462*n+.95053215224966*o;return[(.41239079926595*i+.35758433938387*n+.18048078840183*o)*(e=e||A_.whitepoint[2].E)[0],r*e[1],s*e[2]]};const u_={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,i){var n,o,r,s,a,l,c,h,A;if(r=t[0],s=t[1],a=t[2],0===r)return[0,0,0];return e=e||"D65",i=i||2,n=s/(13*r)+4*(c=A_.whitepoint[i][e][0])/(c+15*(h=A_.whitepoint[i][e][1])+3*(A=A_.whitepoint[i][e][2]))||0,o=a/(13*r)+9*h/(c+15*h+3*A)||0,[9*(l=r>8?h*Math.pow((r+16)/116,3):h*r*.0011070564598794539)*n/(4*o)||0,l,l*(12-3*n-20*o)/(4*o)||0]}};A_.luv=function(t,e,i){var n,o,r,s,a,l,c,h,A,u,d;e=e||"D65",i=i||2,u=4*(c=A_.whitepoint[i][e][0])/(c+15*(h=A_.whitepoint[i][e][1])+3*(A=A_.whitepoint[i][e][2])),d=9*h/(c+15*h+3*A),n=4*(s=t[0])/(s+15*(a=t[1])+3*(l=t[2]))||0,o=9*a/(s+15*a+3*l)||0;var p=a/h;return[r=p<=.008856451679035631?903.2962962962961*p:116*Math.pow(p,1/3)-16,13*r*(n-u),13*r*(o-d)]};var d_={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e,i=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[i,n*Math.cos(e),n*Math.sin(e)]},xyz:function(t){return u_.xyz(d_.luv(t))}};u_.lchuv=function(t){var e=t[0],i=t[1],n=t[2],o=Math.sqrt(i*i+n*n),r=360*Math.atan2(n,i)/2/Math.PI;return r<0&&(r+=360),[e,o,r]},A_.lchuv=function(t){return u_.lchuv(A_.luv(t))};const p_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var g_={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const f_={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,i,n,o,r,s=t[0]/360,a=t[1]/100,l=t[2]/100,c=0;if(0===a)return[r=255*l,r,r];for(e=2*l-(i=l<.5?l*(1+a):l+a-l*a),o=[0,0,0];c<3;)(n=s+1/3*-(c-1))<0?n++:n>1&&n--,r=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,o[c++]=255*r;return o}};function m_(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var i=function(t){var e,i,n=[],o=1;if("number"==typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if("number"==typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if(t=String(t).toLowerCase(),p_[t])n=p_[t].slice(),i="rgb";else if("transparent"===t)o=0,i="rgb",n=[0,0,0];else if("#"===t[0]){var r=t.slice(1),s=r.length;o=1,s<=4?(n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],4===s&&(o=parseInt(r[3]+r[3],16)/255)):(n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],8===s&&(o=parseInt(r[6]+r[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),i="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var a=e[1],l="cmyk"===(i=a.replace(/a$/,""))?4:"gray"===i?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===i&&(i=n.shift()),n=n.map((function(t,e){if("%"===t[t.length-1])return t=parseFloat(t)/100,3===e?t:"rgb"===i?255*t:"h"===i[0]?100*t:"l"!==i[0]||e?"lab"===i?125*t:"lch"===i?e<2?150*t:360*t:"o"!==i[0]||e?"oklab"===i?.4*t:"oklch"===i?e<2?.4*t:360*t:t:t:100*t;if("h"===i[e]||2===e&&"h"===i[i.length-1]){if(void 0!==g_[t])return g_[t];if(t.endsWith("deg"))return parseFloat(t);if(t.endsWith("turn"))return 360*parseFloat(t);if(t.endsWith("grad"))return 360*parseFloat(t)/400;if(t.endsWith("rad"))return 180*parseFloat(t)/Math.PI}return"none"===t?0:parseFloat(t)})),o=n.length>l?n.pop():1}else if(/[0-9](?:\s|\/|,)/.test(t)){var c;n=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),i=(null===(c=t.match(/([a-z])/gi))||void 0===c||null===(c=c.join(""))||void 0===c?void 0:c.toLowerCase())||"rgb"}return{space:i,values:n,alpha:o}}(t);if(!i.space)return[];const n="h"===i.space[0]?f_.min:h_.min,o="h"===i.space[0]?f_.max:h_.max;return(e=Array(3))[0]=Math.min(Math.max(i.values[0],n[0]),o[0]),e[1]=Math.min(Math.max(i.values[1],n[1]),o[1]),e[2]=Math.min(Math.max(i.values[2],n[2]),o[2]),"h"===i.space[0]&&(e=f_.rgb(e)),e.push(Math.min(Math.max(i.alpha,0),1)),e}function b_(t){return"string"==typeof t?t:E_(t)}h_.hsl=function(t){var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,s=Math.min(n,o,r),a=Math.max(n,o,r),l=a-s;return a===s?e=0:n===a?e=(o-r)/l:o===a?e=2+(r-n)/l:r===a&&(e=4+(n-o)/l),(e=Math.min(60*e,360))<0&&(e+=360),i=(s+a)/2,[e,100*(a===s?0:i<=.5?l/(a+s):l/(2-a-s)),100*i]};const v_=1024,y_={};let w_=0;function x_(t){if(4===t.length)return t;const e=t.slice();return e[3]=1,e}function __(t){const e=A_.lchuv(h_.xyz(t));return e[3]=t[3],e}function C_(t){if(y_.hasOwnProperty(t))return y_[t];if(w_>=v_){let t=0;for(const e in y_)3&t++||(delete y_[e],--w_)}const e=m_(t);if(4!==e.length)throw new Error('Failed to parse "'+t+'" as color');for(const i of e)if(isNaN(i))throw new Error('Failed to parse "'+t+'" as color');return S_(e),y_[t]=e,++w_,e}function B_(t){return Array.isArray(t)?t:C_(t)}function S_(t){return t[0]=Kv(t[0]+.5|0,0,255),t[1]=Kv(t[1]+.5|0,0,255),t[2]=Kv(t[2]+.5|0,0,255),t[3]=Kv(t[3],0,1),t}function E_(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let i=t[1];i!=(0|i)&&(i=i+.5|0);let n=t[2];n!=(0|n)&&(n=n+.5|0);return"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:Math.round(1e3*t[3])/1e3)+")"}const k_="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",F_=k_.includes("firefox"),T_=k_.includes("safari")&&!k_.includes("chrom")&&(k_.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(k_)),L_=k_.includes("webkit")&&!k_.includes("edge"),I_=k_.includes("macintosh"),M_="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,P_="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,R_="undefined"!=typeof Image&&Image.prototype.decode,N_="function"==typeof createImageBitmap,O_=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(vy){}return t}();function U_(t,e,i,n){let o;return o=i&&i.length?i.shift():P_?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(o.width=t),e&&(o.height=e),o.getContext("2d",n)}let D_;function Q_(){return D_||(D_=U_(1,1)),D_}function H_(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function z_(t){let e=t.offsetWidth;const i=getComputedStyle(t);return e+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10),e}function j_(t){let e=t.offsetHeight;const i=getComputedStyle(t);return e+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10),e}function G_(t,e){const i=e.parentNode;i&&i.replaceChild(t,e)}function V_(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function K_(t){for(;t.lastChild;)t.removeChild(t.lastChild)}class q_ extends ib{constructor(t,e,i,n){super(),this.extent=t,this.pixelRatio_=i,this.resolution=e,this.state="function"==typeof n?r_.IDLE:n,this.image_=null,this.loader="function"==typeof n?n:null}changed(){this.dispatchEvent(nb)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==r_.IDLE&&this.loader){this.state=r_.LOADING,this.changed();const t=this.getResolution(),e=Array.isArray(t)?t[0]:t;Jm((()=>this.loader(this.getExtent(),e,this.getPixelRatio()))).then((t=>{"image"in t&&(this.image_=t.image),"extent"in t&&(this.extent=t.extent),"resolution"in t&&(this.resolution=t.resolution),"pixelRatio"in t&&(this.pixelRatio_=t.pixelRatio),(t instanceof HTMLImageElement||t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)&&(this.image_=t),this.state=r_.LOADED})).catch((t=>{this.state=r_.ERROR,console.error(t)})).finally((()=>this.changed()))}}setImage(t){this.image_=t}setResolution(t){this.resolution=t}}function W_(t,e){return e&&(t.src=e),t.src&&R_?new Promise(((e,i)=>t.decode().then((()=>e(t))).catch((n=>t.complete&&t.width?e(t):i(n))))):function(t,e){return new Promise(((e,i)=>{function n(){r(),e(t)}function o(){r(),i(new Error("Image load error"))}function r(){t.removeEventListener("load",n),t.removeEventListener("error",o)}t.addEventListener("load",n),t.addEventListener("error",o)}))}(t)}function X_(t,e){return e&&(t.src=e),t.src&&R_&&N_?t.decode().then((()=>createImageBitmap(t))).catch((e=>{if(t.complete&&t.width)return t;throw e})):W_(t)}function $_(t,e,i){return e+":"+t+":"+(i?B_(i):"null")}const Y_=new class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const i=this.cache_[e];3&t++||i.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,i){const n=$_(t,e,i);return n in this.cache_?this.cache_[n]:null}getPattern(t,e,i){const n=$_(t,e,i);return n in this.patternCache_?this.patternCache_[n]:null}set(t,e,i,n,o){const r=$_(t,e,i),s=r in this.cache_;this.cache_[r]=n,o&&(n.getImageState()===r_.IDLE&&n.load(),n.getImageState()===r_.LOADING?n.ready().then((()=>{this.patternCache_[r]=Q_().createPattern(n.getImage(1),"repeat")})):this.patternCache_[r]=Q_().createPattern(n.getImage(1),"repeat")),s||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};let Z_=null;class J_ extends ib{constructor(t,e,i,n,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=void 0===n?r_.IDLE:n,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===r_.LOADED){Z_||(Z_=U_(1,1,void 0,{willReadFrequently:!0})),Z_.drawImage(this.image_,0,0);try{Z_.getImageData(0,0,1,1),this.tainted_=!1}catch(t){Z_=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(nb)}handleImageError_(){this.imageState_=r_.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=r_.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],i=U_(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===r_.IDLE){this.image_||this.initializeImage_(),this.imageState_=r_.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&W_(this.image_,this.src_).then((t=>{this.image_=t,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==r_.LOADED)return;const e=this.image_,i=document.createElement("canvas");i.width=Math.ceil(e.width*t),i.height=Math.ceil(e.height*t);const n=i.getContext("2d");n.scale(t,t),n.drawImage(e,0,0),n.globalCompositeOperation="multiply",n.fillStyle=b_(this.color_),n.fillRect(0,0,i.width/t,i.height/t),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),this.canvas_[t]=i}ready(){return this.ready_||(this.ready_=new Promise((t=>{this.imageState_===r_.LOADED||this.imageState_===r_.ERROR?t():this.addEventListener(nb,(function e(){this.imageState_!==r_.LOADED&&this.imageState_!==r_.ERROR||(this.removeEventListener(nb,e),t())}))}))),this.ready_}}function tC(t,e,i,n,o,r){let s=void 0===e?void 0:Y_.get(e,i,o);return s||(s=new J_(t,t&&"src"in t?t.src||void 0:e,i,n,o),Y_.set(e,i,o,s,r)),r&&s&&!Y_.getPattern(e,i,o)&&Y_.set(e,i,o,s,r),s}function eC(t){return t?Array.isArray(t)?E_(t):"object"==typeof t&&"src"in t?function(t){if(!t.offset||!t.size)return Y_.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,i=Y_.getPattern(e,void 0,t.color);if(i)return i;const n=Y_.get(t.src,"anonymous",null);if(n.getImageState()!==r_.LOADED)return null;const o=U_(t.size[0],t.size[1]);return o.drawImage(n.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),tC(o.canvas,e,void 0,r_.LOADED,t.color,!0),Y_.getPattern(e,void 0,t.color)}(t):t:null}const iC="ol-hidden",nC="ol-unselectable",oC="ol-unsupported",rC="ol-control",sC="ol-collapsed",aC=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),lC=["style","variant","weight","size","lineHeight","family"],cC=function(t){const e=t.match(aC);if(!e)return null;const i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let n=0,o=lC.length;n<o;++n){const t=e[n+1];void 0!==t&&(i[lC[n]]=t)}return i.families=i.family.split(/,\s?/),i},hC="10px sans-serif",AC="#000",uC="round",dC=[],pC="round",gC="#000",fC="center",mC="middle",bC=[0,0,0,0],vC=new xb;let yC,wC=null;const xC={},_C=function(){const t="32px ",e=["monospace","serif"],i=e.length,n="wmytzilWMYTZIL@#/&?$%10";let o,r;function s(o,s,a){let l=!0;for(let c=0;c<i;++c){const i=e[c];if(r=SC(o+" "+s+" "+t+i,n),a!=i){const e=SC(o+" "+s+" "+t+a+","+i,n);l=l&&e!=r}}return!!l}function a(){let t=!0;const e=vC.getKeys();for(let i=0,n=e.length;i<n;++i){const n=e[i];vC.get(n)<100&&(s.apply(this,n.split("\n"))?(tb(xC),wC=null,yC=void 0,vC.set(n,100)):(vC.set(n,vC.get(n)+1,!0),t=!1))}t&&(clearInterval(o),o=void 0)}return function(t){const e=cC(t);if(!e)return;const i=e.families;for(let n=0,r=i.length;n<r;++n){const t=i[n],r=e.style+"\n"+e.weight+"\n"+t;void 0===vC.get(r)&&(vC.set(r,100,!0),s(e.style,e.weight,t)||(vC.set(r,0,!0),void 0===o&&(o=setInterval(a,32))))}}}(),CC=function(){let t;return function(e){let i=xC[e];if(null==i){if(P_){const t=cC(e),n=BC(e,"g");i=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),i=t.offsetHeight,document.body.removeChild(t);xC[e]=i}return i}}();function BC(t,e){return wC||(wC=U_(1,1)),t!=yC&&(wC.font=t,yC=wC.font),wC.measureText(e)}function SC(t,e){return BC(t,e).width}function EC(t,e,i){if(e in i)return i[e];const n=e.split("\n").reduce(((e,i)=>Math.max(e,SC(t,i))),0);return i[e]=n,n}function kC(t,e,i,n,o,r,s,a,l,c,h){t.save(),1!==i&&(void 0===t.globalAlpha?t.globalAlpha=t=>t.globalAlpha*=i:t.globalAlpha*=i),e&&t.transform.apply(t,e),n.contextInstructions?(t.translate(l,c),t.scale(h[0],h[1]),function(t,e){const i=t.contextInstructions;for(let n=0,o=i.length;n<o;n+=2)Array.isArray(i[n+1])?e[i[n]].apply(e,i[n+1]):e[i[n]]=i[n+1]}(n,t)):h[0]<0||h[1]<0?(t.translate(l,c),t.scale(h[0],h[1]),t.drawImage(n,o,r,s,a,0,0,s,a)):t.drawImage(n,o,r,s,a,l,c,s*h[0],a*h[1]),t.restore()}class FC extends c_{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?r_.LOADING:r_.LOADED,this.imageState_===r_.LOADING&&this.ready().then((()=>this.imageState_=r_.LOADED)),this.render()}clone(){const t=this.getScale(),e=new FC({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-e[0]/i[0],t[1]/2+e[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let e=this.canvases_[t];if(!e){const i=this.renderOptions_,n=U_(i.size*t,i.size*t);this.draw_(i,n,t),e=n.canvas,this.canvases_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,i){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let n=this.radius_,o=void 0===this.radius2_?n:this.radius2_;if(n<o){const t=n;n=o,o=t}const r=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/r,a=o*Math.sin(s),l=n-Math.sqrt(o*o-a*a),c=Math.sqrt(a*a+l*l),h=c/a;if("miter"===t&&h<=i)return h*e;const A=e/2/h,u=e/2*(l/c),d=Math.sqrt((n+A)*(n+A)+u*u)-n;if(void 0===this.radius2_||"bevel"===t)return 2*d;const p=n*Math.sin(s),g=o-Math.sqrt(n*n-p*p),f=Math.sqrt(p*p+g*g)/p;if(f<=i){const t=f*e/2-o-n;return 2*Math.max(d,t)}return 2*d}createRenderOptions(){let t,e=uC,i=pC,n=0,o=null,r=0,s=0;var a,l,c,h,A,u;this.stroke_&&(t=eC(null!==(a=this.stroke_.getColor())&&void 0!==a?a:gC),s=null!==(l=this.stroke_.getWidth())&&void 0!==l?l:1,o=this.stroke_.getLineDash(),r=null!==(c=this.stroke_.getLineDashOffset())&&void 0!==c?c:0,i=null!==(h=this.stroke_.getLineJoin())&&void 0!==h?h:pC,e=null!==(A=this.stroke_.getLineCap())&&void 0!==A?A:uC,n=null!==(u=this.stroke_.getMiterLimit())&&void 0!==u?u:10);const d=this.calculateLineJoinSize_(i,s,n),p=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:s,size:Math.ceil(2*p+d),lineCap:e,lineDash:o,lineDashOffset:r,lineJoin:i,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=AC),e.fillStyle=eC(t),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let i=this.fill_.getColor(),n=0;"string"==typeof i&&(i=B_(i)),null===i?n=1:Array.isArray(i)&&(n=4===i.length?i[3]:1),0===n&&(e=U_(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{const n=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(e*=2);const o=this.angle_-Math.PI/2,r=2*Math.PI/e;for(let s=0;s<e;s++){const e=o+s*r,a=s%2==0?i:n;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=AC,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class TC extends FC{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new TC({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}class LC{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,void 0!==t.color&&this.setColor(t.color)}clone(){const t=this.getColor();return new LC({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(null!==t&&"object"==typeof t&&"src"in t){const e=tC(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then((()=>{this.patternImage_=null})),e.getImageState()===r_.IDLE&&e.load(),e.getImageState()===r_.LOADING&&(this.patternImage_=e)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class IC{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new IC({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class MC{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=OC,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){var t,e;let i=this.getGeometry();return i&&"object"==typeof i&&(i=i.clone()),new MC({geometry:null!==(t=i)&&void 0!==t?t:void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:null!==(e=this.getRenderer())&&void 0!==e?e:void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=OC,this.geometry_=t}setZIndex(t){this.zIndex_=t}}let PC=null;function RC(t,e){if(!PC){const t=new LC({color:"rgba(255,255,255,0.4)"}),e=new IC({color:"#3399CC",width:1.25});PC=[new MC({image:new TC({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return PC}function NC(){const t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new MC({fill:new LC({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new MC({stroke:new IC({color:e,width:5})}),new MC({stroke:new IC({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new MC({image:new TC({radius:6,fill:new LC({color:i}),stroke:new IC({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function OC(t){return t.getGeometry()}function UC(t,e,i,n){return void 0!==i&&void 0!==n?[i/t,n/e]:void 0!==i?i/t:void 0!==n?n/e:1}class DC extends c_{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,i=void 0!==t.rotation?t.rotation:0,n=void 0!==t.scale?t.scale:1,o=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:i,scale:n,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const r=void 0!==t.img?t.img:null;let s,a=t.src;if(_b(!(void 0!==a&&r),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!r||(a=r.src||yb(r)),_b(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),_b(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?s=r_.IDLE:void 0!==r&&(s="complete"in r?r.complete?r.src?r_.LOADED:r_.IDLE:r_.LOADING:r_.LOADED),this.color_=void 0!==t.color?B_(t.color):null,this.iconImage_=tC(r,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,void 0!==t.width||void 0!==t.height){let e,i;if(t.size)[e,i]=t.size;else{const n=this.getImage(1);if(n.width&&n.height)e=n.width,i=n.height;else if(n instanceof HTMLImageElement){this.initialOptions_=t;const e=()=>{if(this.unlistenImageChange(e),!this.initialOptions_)return;const i=this.iconImage_.getSize();this.setScale(UC(i[0],i[1],t.width,t.height))};return void this.listenImageChange(e)}}void 0!==e&&this.setScale(UC(e,i,t.width,t.height))}}clone(){let t,e,i;return this.initialOptions_?(e=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new DC({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:i,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]-e[0]/i[0],t[1]+e[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==r_.LOADED?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){const t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==r_.LOADED?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(nb,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(nb,t)}ready(){return this.iconImage_.ready()}}class QC{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=l_(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new LC({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new QC({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=l_(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}let HC=0;const zC=0,jC=1<<HC++,GC=1<<HC++,VC=1<<HC++,KC=1<<HC++,qC=1<<HC++,WC=1<<HC++,XC=Math.pow(2,6)-1,$C={[jC]:"boolean",[GC]:"number",[VC]:"string",[KC]:"color",[qC]:"number[]",[WC]:"size"},YC=Object.keys($C).map(Number).sort(jm);function ZC(t){const e=[];for(const n of YC)(t&(i=n))===i&&e.push($C[n]);var i;return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function JC(t,e){return!!(t&e)}function tB(t,e){return t===e}class eB{constructor(t,e){this.type=t,this.value=e}}class iB{constructor(t,e,...i){this.type=t,this.operator=e,this.args=i}}function nB(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function oB(t,e,i){switch(typeof t){case"boolean":return new eB(jC,t);case"number":return new eB(i===WC?WC:GC,t);case"string":{let e=VC;return function(t){try{return C_(t),!0}catch(pgt){return!1}}(t)&&(e|=KC),tB(e&i,zC)||(e&=i),new eB(e,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(0===t.length)throw new Error("Empty expression");if("string"==typeof t[0])return function(t,e,i){const n=t[0],o=sB[n];if(!o)throw new Error(`Unknown operator: ${n}`);return o(t,e,i)}(t,e,i);for(const o of t)if("number"!=typeof o)throw new Error("Expected an array of numbers");let n=qC;return 2===t.length?n|=WC:3!==t.length&&4!==t.length||(n|=KC),i&&(n&=i),new eB(n,t)}const rB={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},sB={[rB.Get]:uB((([t,e])=>void 0!==e?function(t){switch(t){case"string":return VC;case"color":return KC;case"number":return GC;case"boolean":return jC;case"number[]":return qC;default:throw new Error(`Unrecognized type hint: ${t}`)}}(e.value):XC),lB(1,2),(function(t,e){const i=oB(t[1],e);if(!(i instanceof eB))throw new Error("Expected a literal argument for get operation");if("string"!=typeof i.value)throw new Error("Expected a string argument for get operation");if(e.properties.add(i.value),3===t.length){return[i,oB(t[2],e)]}return[i]})),[rB.Var]:uB((([t])=>t.type),lB(1,1),(function(t,e,i,n){const o=t[1];if("string"!=typeof o)throw new Error("Expected a string argument for var operation");if(e.variables.add(o),!("variables"in e.style)||void 0===e.style.variables[o])return[new eB(XC,o)];const r=oB(e.style.variables[o],e);if(r.value=o,n&&!JC(n,r.type))throw new Error(`The variable ${o} has type ${ZC(r.type)} but the following type was expected: ${ZC(n)}`);return[r]})),[rB.Id]:uB(GC|VC,aB,(function(t,e){e.featureId=!0})),[rB.Concat]:uB(VC,lB(2,1/0),cB(XC)),[rB.GeometryType]:uB(VC,aB,(function(t,e){e.geometryType=!0})),[rB.Resolution]:uB(GC,aB),[rB.Zoom]:uB(GC,aB),[rB.Time]:uB(GC,aB),[rB.Any]:uB(jC,lB(2,1/0),cB(jC)),[rB.All]:uB(jC,lB(2,1/0),cB(jC)),[rB.Not]:uB(jC,lB(1,1),cB(jC)),[rB.Equal]:uB(jC,lB(2,2),cB(XC),hB),[rB.NotEqual]:uB(jC,lB(2,2),cB(XC),hB),[rB.GreaterThan]:uB(jC,lB(2,2),cB(XC),hB),[rB.GreaterThanOrEqualTo]:uB(jC,lB(2,2),cB(XC),hB),[rB.LessThan]:uB(jC,lB(2,2),cB(XC),hB),[rB.LessThanOrEqualTo]:uB(jC,lB(2,2),cB(XC),hB),[rB.Multiply]:uB((t=>{let e=GC|KC;for(let i=0;i<t.length;i++)e&=t[i].type;return e}),lB(2,1/0),cB(GC|KC),hB),[rB.Coalesce]:uB((t=>{let e=XC;for(let i=1;i<t.length;i+=2)e&=t[i].type;return e&=t[t.length-1].type,e}),lB(2,1/0),cB(XC),hB),[rB.Divide]:uB(GC,lB(2,2),cB(GC)),[rB.Add]:uB(GC,lB(2,1/0),cB(GC)),[rB.Subtract]:uB(GC,lB(2,2),cB(GC)),[rB.Clamp]:uB(GC,lB(3,3),cB(GC)),[rB.Mod]:uB(GC,lB(2,2),cB(GC)),[rB.Pow]:uB(GC,lB(2,2),cB(GC)),[rB.Abs]:uB(GC,lB(1,1),cB(GC)),[rB.Floor]:uB(GC,lB(1,1),cB(GC)),[rB.Ceil]:uB(GC,lB(1,1),cB(GC)),[rB.Round]:uB(GC,lB(1,1),cB(GC)),[rB.Sin]:uB(GC,lB(1,1),cB(GC)),[rB.Cos]:uB(GC,lB(1,1),cB(GC)),[rB.Atan]:uB(GC,lB(1,2),cB(GC)),[rB.Sqrt]:uB(GC,lB(1,1),cB(GC)),[rB.Match]:uB((t=>{let e=XC;for(let i=2;i<t.length;i+=2)e&=t[i].type;return e&=t[t.length-1].type,e}),lB(4,1/0),AB,(function(t,e,i,n){const o=t.length-1;let r=oB(t[1],e).type;const s=oB(t[t.length-1],e);let a=void 0!==n?n&s.type:s.type;const l=new Array(o-2);for(let h=0;h<o-2;h+=2){const i=oB(t[h+2],e),n=oB(t[h+3],e);r&=i.type,a&=n.type,l[h]=i,l[h+1]=n}const c=VC|GC|jC;if(!JC(c,r))throw new Error(`Expected an input of type ${ZC(c)} for the interpolate operation, got ${ZC(r)} instead`);if(r&=c,tB(a,zC))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let h=0;h<o-2;h+=2){const i=oB(t[h+2],e,r),n=oB(t[h+3],e,a);l[h]=i,l[h+1]=n}return[oB(t[1],e,r),...l,oB(t[t.length-1],e,a)]})),[rB.Between]:uB(jC,lB(3,3),cB(GC)),[rB.Interpolate]:uB((t=>{let e=KC|GC;for(let i=3;i<t.length;i+=2)e&=t[i].type;return e}),lB(6,1/0),AB,(function(t,e,i,n){const o=t[1];let r;switch(o[0]){case"linear":r=1;break;case"exponential":if(r=o[1],"number"!=typeof r)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(r)} instead`);break;default:r=null}if(!r)throw new Error(`Invalid interpolation type: ${JSON.stringify(o)}`);r=oB(r,e);let s=oB(t[2],e);if(!JC(GC,s.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${ZC(s.type)} instead`);s=oB(t[2],e,GC);const a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){let i=oB(t[l+3],e);if(!JC(GC,i.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${ZC(i.type)} at position ${l+2} instead`);let n=oB(t[l+4],e);if(!JC(GC|KC,n.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${ZC(n.type)} at position ${l+3} instead`);i=oB(t[l+3],e,GC),n=oB(t[l+4],e,GC|KC),a[l]=i,a[l+1]=n}return[r,s,...a]})),[rB.Case]:uB((t=>{let e=XC;for(let i=1;i<t.length;i+=2)e&=t[i].type;return e&=t[t.length-1].type,e}),lB(3,1/0),(function(t,e){const i=t[0],n=t.length-1;if(n%2==0)throw new Error(`An odd amount of arguments was expected for operation ${i}, got ${JSON.stringify(n)} instead`)}),(function(t,e,i,n){const o=oB(t[t.length-1],e,n);let r=void 0!==n?n&o.type:o.type;const s=new Array(t.length-1);for(let a=0;a<s.length-1;a+=2){const i=oB(t[a+1],e),o=oB(t[a+2],e,n);if(!JC(jC,i.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${ZC(i.type)} at position ${a} instead`);r&=o.type,s[a]=i,s[a+1]=o}if(tB(r,zC))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let a=0;a<s.length-1;a+=2)s[a+1]=oB(t[a+2],e,r);return s[s.length-1]=oB(t[t.length-1],e,r),s})),[rB.In]:uB(jC,lB(2,2),(function(t,e){let i=t[2];if(!Array.isArray(i))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"==typeof i[0]){if("literal"!==i[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(i[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');i=i[1]}let n=VC|GC;const o=new Array(i.length);for(let r=0;r<o.length;r++){const t=oB(i[r],e);n&=t.type,o[r]=t}if(tB(n,zC))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[oB(t[1],e,n),...o]})),[rB.Number]:uB(GC,lB(1,1/0),cB(XC)),[rB.String]:uB(VC,lB(1,1/0),cB(XC)),[rB.Array]:uB((t=>2===t.length?qC|WC:3===t.length||4===t.length?qC|KC:qC),lB(1,1/0),cB(GC)),[rB.Color]:uB(KC,lB(1,4),cB(GC)),[rB.Band]:uB(GC,lB(1,3),cB(GC)),[rB.Palette]:uB(KC,lB(2,2),(function(t,e){const i=oB(t[1],e,GC);if(i.type!==GC)throw new Error(`The first argument of palette must be an number, got ${ZC(i.type)} instead`);const n=t[2];if(!Array.isArray(n))throw new Error("The second argument of palette must be an array");const o=new Array(n.length);for(let r=0;r<o.length;r++){const t=oB(n[r],e,KC);if(!(t instanceof eB))throw new Error(`The palette color at index ${r} must be a literal value`);if(!JC(t.type,KC))throw new Error(`The palette color at index ${r} should be of type color, got ${ZC(t.type)} instead`);o[r]=t}return[i,...o]})),[rB.ToString]:uB(VC,lB(1,1),cB(jC|GC|VC|KC))};function aB(t,e){const i=t[0];if(1!==t.length)throw new Error(`Expected no arguments for ${i} operation`);return[]}function lB(t,e){return function(i,n){const o=i[0],r=i.length-1;if(t===e){if(r!==t){throw new Error(`Expected ${t} argument${1===t?"":"s"} for ${o}, got ${r}`)}}else if(r<t||r>e){throw new Error(`Expected ${e===1/0?`${t} or more`:`${t} to ${e}`} arguments for ${o}, got ${r}`)}}}function cB(t){return function(e,i){const n=e[0],o=e.length-1,r=new Array(o);for(let s=0;s<o;++s){const o=oB(e[s+1],i);if(!JC(t,o.type)){const e=ZC(t),i=ZC(o.type);throw new Error(`Unexpected type for argument ${s} of ${n} operation, got ${e} but expected ${i}`)}o.type&=t,r[s]=o}return r}}function hB(t,e,i){const n=t[0],o=t.length-1;let r=XC;for(let a=0;a<i.length;++a)r&=i[a].type;if(r===zC)throw new Error(`No common type could be found for arguments of ${n} operation`);const s=new Array(o);for(let a=0;a<o;++a)s[a]=oB(t[a+1],e,r);return s}function AB(t,e){const i=t[0],n=t.length-1;if(n%2==1)throw new Error(`An even amount of arguments was expected for operation ${i}, got ${JSON.stringify(n)} instead`)}function uB(t,...e){return function(i,n,o){const r=i[0];let s=[];for(let t=0;t<e.length;t++)s=e[t](i,n,s,o)||s;let a="function"==typeof t?t(s):t;if(void 0!==o){if(!JC(a,o))throw new Error(`The following expression was expected to return ${ZC(o)}, but returns ${ZC(a)} instead: ${JSON.stringify(i)}`);a&=o}if(a===zC)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(i)}`);return new iB(a,r,...s)}}function dB(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return dB(t.getGeometries()[0]);default:return""}}function pB(t,e,i){const n=oB(t,i);if(!JC(e,n.type)){const t=ZC(e),i=ZC(n.type);throw new Error(`Expected expression to be of type ${t}, got ${i}`)}return gB(n)}function gB(t,e){if(t instanceof eB){if(t.type===KC&&"string"==typeof t.value){const e=C_(t.value);return function(){return e}}return function(){return t.value}}const i=t.operator;switch(i){case rB.Number:case rB.String:case rB.Coalesce:return function(t,e){const i=t.operator,n=t.args.length,o=new Array(n);for(let r=0;r<n;++r)o[r]=gB(t.args[r]);switch(i){case rB.Coalesce:return t=>{for(let e=0;e<n;++e){const i=o[e](t);if(null!=i)return i}throw new Error("Expected one of the values to be non-null")};case rB.Number:case rB.String:return t=>{for(let e=0;e<n;++e){const n=o[e](t);if(typeof n===i)return n}throw new Error(`Expected one of the values to be a ${i}`)};default:throw new Error(`Unsupported assertion operator ${i}`)}}(t);case rB.Get:case rB.Var:return function(t,e){const i=t.args[0],n=i.value;switch(t.operator){case rB.Get:return t=>t.properties[n];case rB.Var:return t=>t.variables[n];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}(t);case rB.Id:return t=>t.featureId;case rB.GeometryType:return t=>t.geometryType;case rB.Concat:{const e=t.args.map((t=>gB(t)));return t=>"".concat(...e.map((e=>e(t).toString())))}case rB.Resolution:return t=>t.resolution;case rB.Any:case rB.All:case rB.Between:case rB.In:case rB.Not:return function(t,e){const i=t.operator,n=t.args.length,o=new Array(n);for(let r=0;r<n;++r)o[r]=gB(t.args[r]);switch(i){case rB.Any:return t=>{for(let e=0;e<n;++e)if(o[e](t))return!0;return!1};case rB.All:return t=>{for(let e=0;e<n;++e)if(!o[e](t))return!1;return!0};case rB.Between:return t=>{const e=o[0](t),i=o[1](t),n=o[2](t);return e>=i&&e<=n};case rB.In:return t=>{const e=o[0](t);for(let i=1;i<n;++i)if(e===o[i](t))return!0;return!1};case rB.Not:return t=>!o[0](t);default:throw new Error(`Unsupported logical operator ${i}`)}}(t);case rB.Equal:case rB.NotEqual:case rB.LessThan:case rB.LessThanOrEqualTo:case rB.GreaterThan:case rB.GreaterThanOrEqualTo:return function(t,e){const i=t.operator,n=gB(t.args[0]),o=gB(t.args[1]);switch(i){case rB.Equal:return t=>n(t)===o(t);case rB.NotEqual:return t=>n(t)!==o(t);case rB.LessThan:return t=>n(t)<o(t);case rB.LessThanOrEqualTo:return t=>n(t)<=o(t);case rB.GreaterThan:return t=>n(t)>o(t);case rB.GreaterThanOrEqualTo:return t=>n(t)>=o(t);default:throw new Error(`Unsupported comparison operator ${i}`)}}(t);case rB.Multiply:case rB.Divide:case rB.Add:case rB.Subtract:case rB.Clamp:case rB.Mod:case rB.Pow:case rB.Abs:case rB.Floor:case rB.Ceil:case rB.Round:case rB.Sin:case rB.Cos:case rB.Atan:case rB.Sqrt:return function(t,e){const i=t.operator,n=t.args.length,o=new Array(n);for(let r=0;r<n;++r)o[r]=gB(t.args[r]);switch(i){case rB.Multiply:return t=>{let e=1;for(let i=0;i<n;++i)e*=o[i](t);return e};case rB.Divide:return t=>o[0](t)/o[1](t);case rB.Add:return t=>{let e=0;for(let i=0;i<n;++i)e+=o[i](t);return e};case rB.Subtract:return t=>o[0](t)-o[1](t);case rB.Clamp:return t=>{const e=o[0](t),i=o[1](t);if(e<i)return i;const n=o[2](t);return e>n?n:e};case rB.Mod:return t=>o[0](t)%o[1](t);case rB.Pow:return t=>Math.pow(o[0](t),o[1](t));case rB.Abs:return t=>Math.abs(o[0](t));case rB.Floor:return t=>Math.floor(o[0](t));case rB.Ceil:return t=>Math.ceil(o[0](t));case rB.Round:return t=>Math.round(o[0](t));case rB.Sin:return t=>Math.sin(o[0](t));case rB.Cos:return t=>Math.cos(o[0](t));case rB.Atan:return 2===n?t=>Math.atan2(o[0](t),o[1](t)):t=>Math.atan(o[0](t));case rB.Sqrt:return t=>Math.sqrt(o[0](t));default:throw new Error(`Unsupported numeric operator ${i}`)}}(t);case rB.Case:return function(t,e){const i=t.args.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=gB(t.args[o]);return t=>{for(let e=0;e<i-1;e+=2){if(n[e](t))return n[e+1](t)}return n[i-1](t)}}(t);case rB.Match:return function(t,e){const i=t.args.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=gB(t.args[o]);return t=>{const e=n[0](t);for(let o=1;o<i;o+=2)if(e===n[o](t))return n[o+1](t);return n[i-1](t)}}(t);case rB.Interpolate:return function(t,e){const i=t.args.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=gB(t.args[o]);return t=>{const e=n[0](t),o=n[1](t);let r,s;for(let a=2;a<i;a+=2){const i=n[a](t);let l=n[a+1](t);const c=Array.isArray(l);if(c&&(l=x_(l)),i>=o)return 2===a?l:c?mB(e,o,r,s,i,l):fB(e,o,r,s,i,l);r=i,s=l}return s}}(t);case rB.ToString:return function(t,e){const i=t.operator,n=t.args.length,o=new Array(n);for(let r=0;r<n;++r)o[r]=gB(t.args[r]);if(i===rB.ToString)return e=>{const i=o[0](e);return t.args[0].type===KC?E_(i):i.toString()};throw new Error(`Unsupported convert operator ${i}`)}(t);default:throw new Error(`Unsupported operator ${i}`)}}function fB(t,e,i,n,o,r){const s=o-i;if(0===s)return n;const a=e-i;return n+(1===t?a/s:(Math.pow(t,a)-1)/(Math.pow(t,s)-1))*(r-n)}function mB(t,e,i,n,o,r){if(0===o-i)return n;const s=__(n),a=__(r);let l=a[2]-s[2];l>180?l-=360:l<-180&&(l+=360);return S_(function(t){const e=A_.rgb(d_.xyz(t));return e[3]=t[3],e}([fB(t,e,i,s[0],o,a[0]),fB(t,e,i,s[1],o,a[1]),s[2]+fB(t,e,i,0,o,l),fB(t,e,i,n[3],o,r[3])]))}function bB(t){return!0}function vB(t){const e=nB(),i=function(t,e){const i=t.length,n=new Array(i);for(let o=0;o<i;++o){const i=t[o],r="filter"in i?pB(i.filter,jC,e):bB;let s;if(Array.isArray(i.style)){const t=i.style.length;s=new Array(t);for(let n=0;n<t;++n)s[n]=wB(i.style[n],e)}else s=[wB(i.style,e)];n[o]={filter:r,styles:s}}return function(e){const o=[];let r=!1;for(let s=0;s<i;++s){if((0,n[s].filter)(e)&&(!t[s].else||!r)){r=!0;for(const t of n[s].styles){const i=t(e);i&&o.push(i)}}}return o}}(t,e),n={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(t,o){if(n.properties=t.getPropertiesInternal(),n.resolution=o,e.featureId){const e=t.getId();n.featureId=void 0!==e?e:null}return e.geometryType&&(n.geometryType=dB(t.getGeometry())),i(n)}}function yB(t){const e=nB(),i=t.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=wB(t[s],e);const o={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},r=new Array(i);return function(t,s){if(o.properties=t.getPropertiesInternal(),o.resolution=s,e.featureId){const e=t.getId();o.featureId=void 0!==e?e:null}let a=0;for(let e=0;e<i;++e){const t=n[e](o);t&&(r[a]=t,a+=1)}return r.length=a,r}}function wB(t,e){const i=xB(t,"",e),n=_B(t,"",e),o=function(t,e){const i="text-",n=BB(t,i+"value",e);if(!n)return null;const o=xB(t,i,e),r=xB(t,i+"background-",e),s=_B(t,i,e),a=_B(t,i+"background-",e),l=BB(t,i+"font",e),c=CB(t,i+"max-angle",e),h=CB(t,i+"offset-x",e),A=CB(t,i+"offset-y",e),u=SB(t,i+"overflow",e),d=BB(t,i+"placement",e),p=CB(t,i+"repeat",e),g=LB(t,i+"scale",e),f=SB(t,i+"rotate-with-view",e),m=CB(t,i+"rotation",e),b=BB(t,i+"align",e),v=BB(t,i+"justify",e),y=BB(t,i+"baseline",e),w=kB(t,i+"padding",e),x=RB(t,i+"declutter-mode"),_=new QC({declutterMode:x});return function(t){if(_.setText(n(t)),o&&_.setFill(o(t)),r&&_.setBackgroundFill(r(t)),s&&_.setStroke(s(t)),a&&_.setBackgroundStroke(a(t)),l&&_.setFont(l(t)),c&&_.setMaxAngle(c(t)),h&&_.setOffsetX(h(t)),A&&_.setOffsetY(A(t)),u&&_.setOverflow(u(t)),d){const e=d(t);if("point"!==e&&"line"!==e)throw new Error("Expected point or line for text-placement");_.setPlacement(e)}if(p&&_.setRepeat(p(t)),g&&_.setScale(g(t)),f&&_.setRotateWithView(f(t)),m&&_.setRotation(m(t)),b){const e=b(t);if("left"!==e&&"center"!==e&&"right"!==e&&"end"!==e&&"start"!==e)throw new Error("Expected left, right, center, start, or end for text-align");_.setTextAlign(e)}if(v){const e=v(t);if("left"!==e&&"right"!==e&&"center"!==e)throw new Error("Expected left, right, or center for text-justify");_.setJustify(e)}if(y){const e=y(t);if("bottom"!==e&&"top"!==e&&"middle"!==e&&"alphabetic"!==e&&"hanging"!==e)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");_.setTextBaseline(e)}return w&&_.setPadding(w(t)),_}}(t,e),r=function(t,e){if("icon-src"in t)return function(t,e){const i="icon-",n=i+"src",o=OB(t[n],n),r=FB(t,i+"anchor",e),s=LB(t,i+"scale",e),a=CB(t,i+"opacity",e),l=FB(t,i+"displacement",e),c=CB(t,i+"rotation",e),h=SB(t,i+"rotate-with-view",e),A=MB(t,i+"anchor-origin"),u=PB(t,i+"anchor-x-units"),d=PB(t,i+"anchor-y-units"),p=function(t,e){const i=t[e];if(void 0===i)return;return DB(i,e)}(t,i+"color"),g=function(t,e){const i=t[e];if(void 0===i)return;if("string"!=typeof i)throw new Error(`Expected a string for ${e}`);return i}(t,i+"cross-origin"),f=function(t,e){const i=t[e];if(void 0===i)return;return NB(i,e)}(t,i+"offset"),m=MB(t,i+"offset-origin"),b=IB(t,i+"width"),v=IB(t,i+"height"),y=function(t,e){const i=t[e];if(void 0===i)return;if("number"==typeof i)return l_(i);if(!Array.isArray(i))throw new Error(`Expected a number or size array for ${e}`);if(2!==i.length||"number"!=typeof i[0]||"number"!=typeof i[1])throw new Error(`Expected a number or size array for ${e}`);return i}(t,i+"size"),w=RB(t,i+"declutter-mode"),x=new DC({src:o,anchorOrigin:A,anchorXUnits:u,anchorYUnits:d,color:p,crossOrigin:g,offset:f,offsetOrigin:m,height:v,width:b,size:y,declutterMode:w});return function(t){return a&&x.setOpacity(a(t)),l&&x.setDisplacement(l(t)),c&&x.setRotation(c(t)),h&&x.setRotateWithView(h(t)),s&&x.setScale(s(t)),r&&x.setAnchor(r(t)),x}}(t,e);if("shape-points"in t)return function(t,e){const i="shape-",n=i+"points",o=i+"radius",r=UB(t[n],n),s=UB(t[o],o),a=xB(t,i,e),l=_B(t,i,e),c=LB(t,i+"scale",e),h=FB(t,i+"displacement",e),A=CB(t,i+"rotation",e),u=SB(t,i+"rotate-with-view",e),d=IB(t,i+"radius2"),p=IB(t,i+"angle"),g=RB(t,i+"declutter-mode"),f=new FC({points:r,radius:s,radius2:d,angle:p,declutterMode:g});return function(t){return a&&f.setFill(a(t)),l&&f.setStroke(l(t)),h&&f.setDisplacement(h(t)),A&&f.setRotation(A(t)),u&&f.setRotateWithView(u(t)),c&&f.setScale(c(t)),f}}(t,e);if("circle-radius"in t)return function(t,e){const i="circle-",n=xB(t,i,e),o=_B(t,i,e),r=CB(t,i+"radius",e),s=LB(t,i+"scale",e),a=FB(t,i+"displacement",e),l=CB(t,i+"rotation",e),c=SB(t,i+"rotate-with-view",e),h=RB(t,i+"declutter-mode"),A=new TC({radius:5,declutterMode:h});return function(t){return r&&A.setRadius(r(t)),n&&A.setFill(n(t)),o&&A.setStroke(o(t)),a&&A.setDisplacement(a(t)),l&&A.setRotation(l(t)),c&&A.setRotateWithView(c(t)),s&&A.setScale(s(t)),A}}(t,e);return null}(t,e),s=CB(t,"z-index",e);if(!(i||n||o||r||eb(t)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new MC;return function(t){let e=!0;if(i){const n=i(t);n&&(e=!1),a.setFill(n)}if(n){const i=n(t);i&&(e=!1),a.setStroke(i)}if(o){const i=o(t);i&&(e=!1),a.setText(i)}if(r){const i=r(t);i&&(e=!1),a.setImage(i)}return s&&a.setZIndex(s(t)),e?null:a}}function xB(t,e,i){let n;if(n=e+"fill-pattern-src"in t?function(t,e,i){const n=BB(t,e+"pattern-src",i),o=TB(t,e+"pattern-offset",i),r=TB(t,e+"pattern-size",i),s=EB(t,e+"color",i);return function(t){return{src:n(t),offset:o&&o(t),size:r&&r(t),color:s&&s(t)}}}(t,e+"fill-",i):EB(t,e+"fill-color",i),!n)return null;const o=new LC;return function(t){const e=n(t);return"none"===e?null:(o.setColor(e),o)}}function _B(t,e,i){const n=CB(t,e+"stroke-width",i),o=EB(t,e+"stroke-color",i);if(!n&&!o)return null;const r=BB(t,e+"stroke-line-cap",i),s=BB(t,e+"stroke-line-join",i),a=kB(t,e+"stroke-line-dash",i),l=CB(t,e+"stroke-line-dash-offset",i),c=CB(t,e+"stroke-miter-limit",i),h=new IC;return function(t){if(o){const e=o(t);if("none"===e)return null;h.setColor(e)}if(n&&h.setWidth(n(t)),r){const e=r(t);if("butt"!==e&&"round"!==e&&"square"!==e)throw new Error("Expected butt, round, or square line cap");h.setLineCap(e)}if(s){const e=s(t);if("bevel"!==e&&"round"!==e&&"miter"!==e)throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(e)}return a&&h.setLineDash(a(t)),l&&h.setLineDashOffset(l(t)),c&&h.setMiterLimit(c(t)),h}}function CB(t,e,i){if(!(e in t))return;const n=pB(t[e],GC,i);return function(t){return UB(n(t),e)}}function BB(t,e,i){if(!(e in t))return null;const n=pB(t[e],VC,i);return function(t){return OB(n(t),e)}}function SB(t,e,i){if(!(e in t))return null;const n=pB(t[e],jC,i);return function(t){const i=n(t);if("boolean"!=typeof i)throw new Error(`Expected a boolean for ${e}`);return i}}function EB(t,e,i){if(!(e in t))return null;const n=pB(t[e],KC|VC,i);return function(t){return DB(n(t),e)}}function kB(t,e,i){if(!(e in t))return null;const n=pB(t[e],qC,i);return function(t){return NB(n(t),e)}}function FB(t,e,i){if(!(e in t))return null;const n=pB(t[e],qC,i);return function(t){const i=NB(n(t),e);if(2!==i.length)throw new Error(`Expected two numbers for ${e}`);return i}}function TB(t,e,i){if(!(e in t))return null;const n=pB(t[e],qC,i);return function(t){return QB(n(t),e)}}function LB(t,e,i){if(!(e in t))return null;const n=pB(t[e],qC|GC,i);return function(t){return function(t,e){if("number"==typeof t)return t;return QB(t,e)}(n(t),e)}}function IB(t,e){const i=t[e];if(void 0!==i){if("number"!=typeof i)throw new Error(`Expected a number for ${e}`);return i}}function MB(t,e){const i=t[e];if(void 0!==i){if("bottom-left"!==i&&"bottom-right"!==i&&"top-left"!==i&&"top-right"!==i)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return i}}function PB(t,e){const i=t[e];if(void 0!==i){if("pixels"!==i&&"fraction"!==i)throw new Error(`Expected pixels or fraction for ${e}`);return i}}function RB(t,e){const i=t[e];if(void 0!==i){if("string"!=typeof i)throw new Error(`Expected a string for ${e}`);if("declutter"!==i&&"obstacle"!==i&&"none"!==i)throw new Error(`Expected declutter, obstacle, or none for ${e}`);return i}}function NB(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const i=t.length;for(let n=0;n<i;++n)if("number"!=typeof t[n])throw new Error(`Expected an array of numbers for ${e}`);return t}function OB(t,e){if("string"!=typeof t)throw new Error(`Expected a string for ${e}`);return t}function UB(t,e){if("number"!=typeof t)throw new Error(`Expected a number for ${e}`);return t}function DB(t,e){if("string"==typeof t)return t;const i=NB(t,e),n=i.length;if(n<3||n>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return i}function QB(t,e){const i=NB(t,e);if(2!==i.length)throw new Error(`Expected an array of two numbers for ${e}`);return i}const HB="renderOrder";class zB extends Ux{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(HB)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const i=this.getDeclutter();i in t.declutter==!1&&(t.declutter[i]=new Gx(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(HB,t)}setStyle(t){this.style_=void 0===t?RC:t;const e=function(t){if(void 0===t)return RC;if(!t)return null;if("function"==typeof t)return t;if(t instanceof MC)return t;if(!Array.isArray(t))return yB([t]);if(0===t.length)return[];const e=t.length,i=t[0];if(i instanceof MC){const i=new Array(e);for(let n=0;n<e;++n){const e=t[n];if(!(e instanceof MC))throw new Error("Expected a list of style instances");i[n]=e}return i}if("style"in i){const i=new Array(e);for(let n=0;n<e;++n){const e=t[n];if(!("style"in e))throw new Error("Expected a list of rules with a style property");i[n]=e}return vB(i)}const n=t;return yB(n)}(t);this.styleFunction_=null===t?void 0:function(t){let e;if("function"==typeof t)e=t;else{let i;Array.isArray(t)?i=t:(_b("function"==typeof t.getZIndex,"Expected an `Style` or an array of `Style`"),i=[t]),e=function(){return i}}return e}(e),this.changed()}}class jB extends zm{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){bb()}calculateMatrices2D(t){const e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;Mb(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Pb(n,i)}forEachFeatureAtCoordinate(t,e,i,n,o,r,s,a){let l;const c=e.viewState;function h(t,e,i,n){return o.call(r,e,t?i:null,n)}const A=c.projection,u=dy(t.slice(),A),d=[[0,0]];if(A.canWrapX()&&n){const t=gv(A.getExtent());d.push([-t,0],[t,0])}const p=e.layerStatesArray,g=p.length,f=[],m=[];for(let v=0;v<d.length;v++)for(let n=g-1;n>=0;--n){const o=p[n],r=o.layer;if(r.hasRenderer()&&Dx(o,c)&&s.call(a,r)){const n=r.getRenderer(),s=r.getSource();if(n&&s){const r=s.getWrapX()?u:t,a=h.bind(null,o.managed);m[0]=r[0]+d[v][0],m[1]=r[1]+d[v][1],l=n.forEachFeatureAtCoordinate(m,e,i,a,f)}if(l)return l}}if(0===f.length)return;const b=1/f.length;return f.forEach(((t,e)=>t.distanceSq+=e*b)),f.sort(((t,e)=>t.distanceSq-e.distanceSq)),f.some((t=>l=t.callback(t.feature,t.layer,t.geometry))),l}hasFeatureAtCoordinate(t,e,i,n,o,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,n,Xm,this,o,r)}getMap(){return this.map_}renderFrame(t){bb()}scheduleExpireIconCache(t){Y_.canExpireCache()&&t.postRenderFunctions.push(GB)}}function GB(t,e){Y_.expire()}class VB extends Dm{constructor(t,e,i,n){super(t),this.inversePixelTransform=e,this.frameState=i,this.context=n}}class KB extends jB{constructor(t){super(t),this.fontChangeListenerKey_=db(vC,Hm,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=nC+" ol-layers";const i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const i=this.getMap();if(i.hasListener(t)){const n=new VB(t,void 0,e);i.dispatchEvent(n)}}disposeInternal(){gb(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(px,t);const e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex}));e.some((t=>t.layer instanceof zB&&t.layer.getDeclutter()))&&(t.declutter={});const i=t.viewState;this.children_.length=0;const n=[];let o=null;for(let r=0,s=e.length;r<s;++r){const s=e[r];t.layerIndex=r;const a=s.layer,l=a.getSourceState();if(!Dx(s,i)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(t,o);c&&(c!==o&&(this.children_.push(c),o=c),n.push(s))}this.declutter(t,n),function(t,e){const i=t.childNodes;for(let n=0;;++n){const o=i[n],r=e[n];if(!o&&!r)break;o!==r&&(o?r?t.insertBefore(r,o):(t.removeChild(o),--n):t.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent(gx,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){if(t.declutter){for(let i=e.length-1;i>=0;--i){const n=e[i],o=n.layer;o.getDeclutter()&&o.renderDeclutter(t,n)}e.forEach((e=>e.layer.renderDeferred(t)))}}}class qB extends Dm{constructor(t,e){super(t),this.layer=e}}const WB="layers";class XB extends Ax{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let i=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(WB,this.handleLayersChanged_),i?Array.isArray(i)?i=new tx(i.slice(),{unique:!0}):_b("function"==typeof i.getArray,"Expected `layers` to be an array or a `Collection`"):i=new tx(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(gb),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(db(t,$w,this.handleLayersAdd_,this),db(t,Yw,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(gb);tb(this.listenerKeys_);const e=t.getArray();for(let i=0,n=e.length;i<n;i++){const t=e[i];this.registerLayerListeners_(t),this.dispatchEvent(new qB("addlayer",t))}this.changed()}registerLayerListeners_(t){const e=[db(t,Hm,this.handleLayerChange_,this),db(t,nb,this.handleLayerChange_,this)];t instanceof XB&&e.push(db(t,"addlayer",this.handleLayerGroupAdd_,this),db(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[yb(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new qB("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new qB("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new qB("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,i=yb(e);this.listenerKeys_[i].forEach(gb),delete this.listenerKeys_[i],this.dispatchEvent(new qB("removelayer",e)),this.changed()}getLayers(){return this.get(WB)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,i=t.length;e<i;++e)this.dispatchEvent(new qB("removelayer",t[e]))}this.set(WB,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const n=this.getLayerState();let o=n.zIndex;t||void 0!==n.zIndex||(o=0);for(let r=i,s=e.length;r<s;r++){const t=e[r];t.opacity*=n.opacity,t.visible=t.visible&&n.visible,t.maxResolution=Math.min(t.maxResolution,n.maxResolution),t.minResolution=Math.max(t.minResolution,n.minResolution),t.minZoom=Math.max(t.minZoom,n.minZoom),t.maxZoom=Math.min(t.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==t.extent?t.extent=uv(t.extent,n.extent):t.extent=n.extent),void 0===t.zIndex&&(t.zIndex=o)}return e}getSourceState(){return"ready"}}class $B extends Dm{constructor(t,e,i){super(t),this.map=e,this.frameState=void 0!==i?i:null}}class YB extends $B{constructor(t,e,i,n,o,r){super(t,e,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==n&&n,this.activePointers=r}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const ZB={SINGLECLICK:"singleclick",CLICK:sb,DBLCLICK:ab,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},JB="pointermove",tS="pointerdown",eS="pointerup",iS="pointerout";class nS extends ib{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=db(i,tS,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=db(i,JB,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ab,this.boundHandleTouchMove_,!!O_&&{passive:!1})}emulateClick_(t){let e=new YB(ZB.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new YB(ZB.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new YB(ZB.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,i=e.pointerId;if(e.type==ZB.POINTERUP||e.type==ZB.POINTERCANCEL){delete this.trackedTouches_[i];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=ZB.POINTERDOWN&&e.type!=ZB.POINTERMOVE||(this.trackedTouches_[i]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new YB(ZB.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(gb),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new YB(ZB.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push(db(t,ZB.POINTERMOVE,this.handlePointerMove_,this),db(t,ZB.POINTERUP,this.handlePointerUp_,this),db(this.element_,ZB.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push(db(this.element_.getRootNode(),ZB.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new YB(ZB.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new YB(ZB.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(gb(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ab,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(gb(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(gb),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const oS="postrender",rS="movestart",sS="moveend",aS="loadstart",lS="loadend",cS="layergroup",hS="size",AS="target",uS="view",dS=1/0;class pS{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,tb(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const n=this.keyFunction_(i);return delete this.queuedElements_[n],i}enqueue(t){_b(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=dS&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,i=this.priorities_,n=e.length,o=e[t],r=i[t],s=t;for(;t<n>>1;){const o=this.getLeftChildIndex_(t),r=this.getRightChildIndex_(t),s=r<n&&i[r]<i[o]?r:o;e[t]=e[s],i[t]=i[s],t=s}e[t]=o,i[t]=r,this.siftDown_(s,t)}siftDown_(t,e){const i=this.elements_,n=this.priorities_,o=i[e],r=n[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(n[t]>r))break;i[e]=i[t],n[e]=n[t],e=t}i[e]=o,n[e]=r}reprioritize(){const t=this.priorityFunction_,e=this.elements_,i=this.priorities_;let n=0;const o=e.length;let r,s,a;for(s=0;s<o;++s)r=e[s],a=t(r),a==dS?delete this.queuedElements_[this.keyFunction_(r)]:(i[n]=a,e[n++]=r);e.length=n,i.length=n,this.heapify_()}}const gS=0,fS=1,mS=2,bS=3,vS=4;class yS extends pS{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);if(e){t[0].addEventListener(nb,this.boundHandleTileChange_)}return e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,i=e.getState();if(i===mS||i===bS||i===vS){i!==bS&&e.removeEventListener(nb,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let i,n,o,r=0;for(;this.tilesLoading_<t&&r<e&&this.getCount()>0;)n=this.dequeue()[0],o=n.getKey(),i=n.getState(),i!==gS||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,n.load())}}let wS=class extends xb{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){V_(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&V_(this.element);for(let e=0,i=this.listenerKeys.length;e<i;++e)gb(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=t,t){(this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ym&&this.listenerKeys.push(db(t,oS,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}};class xS extends wS{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);const e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.expandClassName?t.expandClassName:e+"-expand",o=void 0!==t.collapseLabel?t.collapseLabel:"",r=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=r):this.collapseLabel_=o;const s=void 0!==t.label?t.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=n):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(sb,this.handleClick_.bind(this),!1);const l=e+" "+nC+" "+rC+(this.collapsed_&&this.collapsible_?" "+sC:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=Array.from(new Set(this.getMap().getAllLayers().flatMap((e=>e.getAttributions(t))))),i=!this.getMap().getAllLayers().some((t=>t.getSource()&&!1===t.getSource().getAttributionsCollapsible()));return this.overrideCollapsible_||this.setCollapsible(i),e}async updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=await Promise.all(this.collectSourceAttributions_(t).map((t=>Jm((()=>t))))),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Wm(e,this.renderedAttributions_)){K_(this.ulElement_);for(let t=0,i=e.length;t<i;++t){const i=document.createElement("li");i.innerHTML=e[t],this.ulElement_.appendChild(i)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(sC),this.collapsed_?G_(this.collapseLabel_,this.label_):G_(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}let _S=class extends wS{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"",n=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(n));const o=t.tipLabel?t.tipLabel:"Reset rotation",r=document.createElement("button");r.className=e+"-reset",r.setAttribute("type","button"),r.title=o,r.appendChild(this.label_),r.addEventListener(sb,this.handleClick_.bind(this),!1);const s=e+" "+nC+" "+rC,a=this.element;a.className=s,a.appendChild(r),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(iC)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:Tx}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const i=e.viewState.rotation;if(i!=this.rotation_){const t="rotate("+i+"rad)";if(this.autoHide_){const t=this.element.classList.contains(iC);t||0!==i?t&&0!==i&&this.element.classList.remove(iC):this.element.classList.add(iC)}this.label_.style.transform=t}this.rotation_=i}};class CS extends wS{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",o=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",r=void 0!==t.zoomInLabel?t.zoomInLabel:"+",s=void 0!==t.zoomOutLabel?t.zoomOutLabel:"",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",l=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=n,c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof r?document.createTextNode(r):r),c.addEventListener(sb,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=o,h.setAttribute("type","button"),h.title=l,h.appendChild("string"==typeof s?document.createTextNode(s):s),h.addEventListener(sb,this.handleClick_.bind(this,-i),!1);const A=e+" "+nC+" "+rC,u=this.element;u.className=A,u.appendChild(c),u.appendChild(h),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const i=e.getZoom();if(void 0!==i){const n=e.getConstrainedZoom(i+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:n,duration:this.duration_,easing:Tx})):e.setZoom(n)}}}const BS="active";class SS extends xb{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(BS)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(BS,t)}setMap(t){this.map_=t}}function ES(t,e,i,n){const o=t.getZoom();if(void 0===o)return;const r=t.getConstrainedZoom(o+e),s=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:i,duration:void 0!==n?n:250,easing:Tx})}class kS extends SS{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==ZB.DBLCLICK){const i=t.originalEvent,n=t.map,o=t.coordinate,r=i.shiftKey?-this.delta_:this.delta_;ES(n.getView(),r,o,this.duration_),i.preventDefault(),e=!0}return!e}}class FS extends SS{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ZB.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==ZB.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==ZB.POINTERDOWN){const i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==ZB.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function TS(t){const e=t.length;let i=0,n=0;for(let o=0;o<e;o++)i+=t[o].clientX,n+=t[o].clientY;return{clientX:i/e,clientY:n/e}}function LS(t){const e=arguments;return function(t){let i=!0;for(let n=0,o=e.length;n<o&&(i=i&&e[n](t),i);++n);return i}}const IS=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},MS=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},PS=function(t){const e=t.map.getTargetElement(),i=t.map.getOwnerDocument().activeElement;return e.contains(i)},RS=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||PS(t)},NS=Xm,OS=function(t){const e=t.originalEvent;return 0==e.button&&!(L_&&I_&&e.ctrlKey)},US=$m,DS=function(t){return t.type==ZB.SINGLECLICK},QS=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},HS=function(t){const e=t.originalEvent;return I_?e.metaKey:e.ctrlKey},zS=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},jS=function(t){const e=t.originalEvent,i=e.target.tagName;return"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i&&!e.target.isContentEditable},GS=function(t){const e=t.originalEvent;return _b(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},VS=function(t){const e=t.originalEvent;return _b(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button},KS=Object.freeze(Object.defineProperty({__proto__:null,all:LS,altKeyOnly:IS,altShiftKeysOnly:MS,always:NS,click:function(t){return t.type==ZB.CLICK},doubleClick:function(t){return t.type==ZB.DBLCLICK},focus:PS,focusWithTabindex:RS,mouseActionButton:OS,mouseOnly:GS,never:US,noModifierKeys:QS,penOnly:function(t){const e=t.originalEvent;return _b(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"pen"===e.pointerType},platformModifierKey:HS,platformModifierKeyOnly:function(t){const e=t.originalEvent;return!e.altKey&&(I_?e.metaKey:e.ctrlKey)&&!e.shiftKey},pointerMove:function(t){return"pointermove"==t.type},primaryAction:VS,shiftKeyOnly:zS,singleClick:DS,targetNotEditable:jS,touchOnly:function(t){const e=t.originalEvent;return _b(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"touch"===e.pointerType}},Symbol.toStringTag,{value:"Module"}));class qS extends FS{constructor(t){super({stopDown:$m}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:LS(QS,VS);this.condition_=t.onFocusOnly?LS(RS,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const i=this.targetPointers,n=e.getEventPixel(TS(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){const e=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map.getView();hy(e,i.getResolution()),cy(e,i.getRotation()),i.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),o=i.getCenterInternal(),r=e.getPixelFromCoordinateInternal(o),s=e.getCoordinateFromPixelInternal([r[0]-t*Math.cos(n),r[1]-t*Math.sin(n)]);i.animateInternal({center:i.getConstrainedCenter(s),duration:500,easing:Tx})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class WS extends FS{constructor(t){t=t||{},super({stopDown:$m}),this.condition_=t.condition?t.condition:MS,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!GS(t))return;const e=t.map,i=e.getView();if(i.getConstraints().rotation===Ex)return;const n=e.getSize(),o=t.pixel,r=Math.atan2(n[1]/2-o[1],o[0]-n[0]/2);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;i.adjustRotationInternal(-t)}this.lastAngle_=r}handleUpEvent(t){if(!GS(t))return!0;return t.map.getView().endInteraction(this.duration_),!1}handleDownEvent(t){if(!GS(t))return!1;if(OS(t)&&this.condition_(t)){return t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}}class XS extends zm{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(t[0],e[0])+i,n.top=Math.min(t[1],e[1])+i,n.width=Math.abs(e[0]-t[0])+i,n.height=Math.abs(e[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new Pw([i])}getGeometry(){return this.geometry_}}const $S="boxstart",YS="boxdrag",ZS="boxend",JS="boxcancel";class tE extends Dm{constructor(t,e,i){super(t),this.coordinate=e,this.mapBrowserEvent=i}}class eE extends FS{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new XS(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:OS,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,i){const n=i[0]-e[0],o=i[1]-e[1];return n*n+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new tE(YS,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new tE(e?ZS:JS,t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new tE($S,t.coordinate,t)),!0)}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new tE(JS,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}}class iE extends eE{constructor(t){super({condition:(t=t||{}).condition?t.condition:zS,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let i=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(i),n=e.getResolutionForExtentInternal(t),o=e.getResolution()/n;i=i.clone(),i.scale(o*o)}e.fitInternal(i,{duration:this.duration_,easing:Tx})}}const nE="ArrowLeft",oE="ArrowUp",rE="ArrowRight",sE="ArrowDown";class aE extends SS{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return QS(t)&&jS(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==lb){const i=t.originalEvent,n=i.key;if(this.condition_(t)&&(n==sE||n==nE||n==rE||n==oE)){const o=t.map.getView(),r=o.getResolution()*this.pixelDelta_;let s=0,a=0;n==sE?a=-r:n==nE?s=-r:n==rE?s=r:a=r;const l=[s,a];cy(l,o.getRotation()),function(t,e,i){const n=t.getCenterInternal();if(n){const o=[n[0]+e[0],n[1]+e[1]];t.animateInternal({duration:void 0!==i?i:250,easing:Ix,center:t.getConstrainedCenter(o)})}}(o,l,this.duration_),i.preventDefault(),e=!0}}return!e}}class lE extends SS{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!HS(t)&&jS(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==lb||t.type==cb){const i=t.originalEvent,n=i.key;if(this.condition_(t)&&("+"===n||"-"===n)){const o=t.map,r="+"===n?this.delta_:-this.delta_;ES(o.getView(),r,void 0,this.duration_),i.preventDefault(),e=!0}}return!e}}class cE{constructor(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let i=e-3;for(;i>0&&this.points_[i+2]>t;)i-=3;const n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;const o=this.points_[e]-this.points_[i],r=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class hE extends SS{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:NS;this.condition_=t.onFocusOnly?LS(RS,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==ub)return!0;const e=t.map,i=t.originalEvent;let n;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==ub&&(n=i.deltaY,F_&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=M_),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;const o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel");const r=e.getView();if("trackpad"===this.mode_&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=n;const s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),s),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let i=-Kv(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),ES(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class AE extends FS{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=$m),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const i=this.targetPointers[0],n=this.targetPointers[1],o=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){const t=o-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=o;const r=t.map,s=r.getView();s.getConstraints().rotation!==Ex&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel(TS(this.targetPointers))),this.rotating_&&(r.render(),s.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){return t.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}class uE extends FS{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=$m),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const i=this.targetPointers[0],n=this.targetPointers[1],o=i.clientX-n.clientX,r=i.clientY-n.clientY,s=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;const a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(TS(this.targetPointers))),a.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}function dE(t){t instanceof Ux?t.setMapInternal(null):t instanceof XB&&t.getLayers().forEach(dE)}function pE(t,e){if(t instanceof Ux)t.setMapInternal(e);else if(t instanceof XB){const i=t.getLayers().getArray();for(let t=0,n=i.length;t<n;++t)pE(i[t],e)}}let gE=class extends xb{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const i={},n=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new XB({layers:t.layers});let o,r,s;i[cS]=n,i[AS]=t.target,i[uS]=t.view instanceof Px?t.view:new Px,void 0!==t.controls&&(Array.isArray(t.controls)?o=new tx(t.controls.slice()):(_b("function"==typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),o=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new tx(t.interactions.slice()):(_b("function"==typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),r=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?s=new tx(t.overlays.slice()):(_b("function"==typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=t.overlays):s=new tx;return{controls:o,interactions:r,keyboardEventTarget:e,overlays:s,values:i}}(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:M_,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||function(t){t=t||{};const e=new tx;return(void 0===t.zoom||t.zoom)&&e.push(new CS(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new _S(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new xS(t.attributionOptions)),e}(),this.interactions=e.interactions||function(t){t=t||{};const e=new tx,i=new cE(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new WS),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new kS({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new qS({onFocusOnly:t.onFocusOnly,kinetic:i})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new AE),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new uE({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new aE),e.push(new lE({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new hE({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new iE({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new yS(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(cS,this.handleLayerGroupChanged_),this.addChangeListener(uS,this.handleViewChanged_),this.addChangeListener(hS,this.handleSizeChanged_),this.addChangeListener(AS,this.handleTargetChanged_),this.setProperties(e.values);const i=this;!t.view||t.view instanceof Px||t.view.then((function(t){i.setView(new Px(t))})),this.controls.addEventListener($w,(t=>{t.element.setMap(this)})),this.controls.addEventListener(Yw,(t=>{t.element.setMap(null)})),this.interactions.addEventListener($w,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(Yw,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener($w,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(Yw,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){pE(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,i){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(t),o=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,r=void 0!==i.layerFilter?i.layerFilter:Xm,s=!1!==i.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,o,s,e,null,r,null)}getFeaturesAtPixel(t,e){const i=[];return this.forEachFeatureAtPixel(t,(function(t){i.push(t)}),e),i}getAllLayers(){const t=[];return function e(i){i.forEach((function(i){i instanceof XB?e(i.getLayers()):t.push(i)}))}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Xm,o=void 0!==e.hitTolerance?e.hitTolerance:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,r,n,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),i=this.getSize(),n=e.width/i[0],o=e.height/i[1],r="changedTouches"in t?t.changedTouches[0]:t;return[(r.clientX-e.left)/n,(r.clientY-e.top)/o]}getTarget(){return this.get(AS)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Ny(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?Tb(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(cS)}setLayers(t){const e=this.getLayerGroup();if(t instanceof tx)return void e.setLayers(t);const i=e.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const i=t[e];if(!i.visible)continue;const n=i.layer.getRenderer();if(n&&!n.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(t){const e=Oy(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?Tb(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(hS)}getView(){return this.get(uS)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,i,n){return function(t,e,i,n,o){if(!t||!(i in t.wantedTiles))return dS;if(!t.wantedTiles[i][e.getKey()])return dS;const r=t.viewState.center,s=n[0]-r[0],a=n[1]-r[1];return 65536*Math.log(o)+Math.sqrt(s*s+a*a)/o}(this.frameState_,t,e,i,n)}handleBrowserEvent(t,e){e=e||t.type;const i=new YB(e,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,i=e.type;if(i===tS||i===ub||i===lb){const t=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():t,n=e.target;if(this.overlayContainerStopEvent_.contains(n)||!(i===t?t.documentElement:i).contains(n))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let i=e.length-1;i>=0;i--){const n=e[i];if(n.getMap()!==this||!n.getActive()||!this.getTargetElement())continue;if(!n.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let i=this.maxTilesLoading_,n=i;if(t){const e=t.viewHints;if(e[mx]||e[bx]){const e=Date.now()-t.time>8;i=e?0:8,n=e?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(fx)&&this.renderer_.dispatchRenderEvent(fx,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new $B(lS,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new $B(aS,this,t))));const i=this.postRenderFunctions_;for(let n=0,o=i.length;n<o;++n)i[n](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)gb(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(rb,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ub,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,V_(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const t=this.getTarget(),e="string"==typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new KB(this)),this.mapBrowserEventHandler_=new nS(this,this.moveTolerance_);for(const e in ZB)this.mapBrowserEventHandler_.addEventListener(ZB[e],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(rb,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ub,this.boundHandleBrowserEvent_,!!O_&&{passive:!1});const t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[db(t,lb,this.handleBrowserEvent,this),db(t,cb,this.handleBrowserEvent,this)];const i=e.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(gb(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(gb(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=db(t,Hm,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=db(t,nb,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(gb),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new qB("addlayer",t)),this.layerGroupPropertyListenerKeys_=[db(t,Hm,this.render,this),db(t,nb,this.render,this),db(t,"addlayer",this.handleLayerAdd_,this),db(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){dE(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),i=this.getView(),n=this.frameState_;let o=null;if(void 0!==e&&s_(e)&&i&&i.isDef()){const n=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),r=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:cv(r.center,r.resolution,r.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:n,wantedTiles:{},mapId:yb(this),renderTargets:{}},r.nextCenter&&r.nextResolution){const t=isNaN(r.nextRotation)?r.rotation:r.nextRotation;o.nextExtent=cv(r.nextCenter,r.nextResolution,t,e)}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),n){(!this.previousExtent_||!mv(this.previousExtent_)&&!$b(o.extent,this.previousExtent_))&&(this.dispatchEvent(new $B(rS,this,n)),this.previousExtent_=qb(this.previousExtent_))}this.previousExtent_&&!o.viewHints[mx]&&!o.viewHints[bx]&&!$b(o.extent,this.previousExtent_)&&(this.dispatchEvent(new $B(sS,this,o)),Db(o.extent,this.previousExtent_))}this.dispatchEvent(new $B(oS,this,o)),this.renderComplete_=this.hasListener(aS)||this.hasListener(lS)||this.hasListener(fx)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new qB("removelayer",e)),this.set(cS,t)}setSize(t){this.set(hS,t)}setTarget(t){this.set(AS,t)}setView(t){if(!t||t instanceof Px)return void this.set(uS,t);this.set(uS,new Px);const e=this;t.then((function(t){e.setView(new Px(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const i=getComputedStyle(t),n=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);isNaN(n)||isNaN(o)||(e=[n,o],!s_(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&by("No map visible because the map container's width or height are 0."))}const i=this.getSize();!e||i&&Wm(e,i)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}};const fE="element",mE="map",bE="offset",vE="position",yE="positioning";class wE extends xb{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===t.autoPan?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(fE,this.handleElementChanged),this.addChangeListener(mE,this.handleMapChanged),this.addChangeListener(bE,this.handleOffsetChanged),this.addChangeListener(vE,this.handlePositionChanged),this.addChangeListener(yE,this.handlePositioningChanged),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),void 0!==t.position&&this.setPosition(t.position)}getElement(){return this.get(fE)}getId(){return this.id}getMap(){return this.get(mE)||null}getOffset(){return this.get(bE)}getPosition(){return this.get(vE)}getPositioning(){return this.get(yE)}handleElementChanged(){K_(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(V_(this.element),gb(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=db(t,oS,this.render,this),this.updatePixelPosition();const e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(fE,t)}setMap(t){this.set(mE,t)}setOffset(t){this.set(bE,t)}setPosition(t){this.set(vE,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const e=this.getMap();if(!e||!e.getTargetElement()||!this.get(vE))return;const i=this.getRect(e.getTargetElement(),e.getSize()),n=this.getElement(),o=this.getRect(n,[z_(n),j_(n)]),r=void 0===(t=t||{}).margin?20:t.margin;if(!zb(i,o)){const n=o[0]-i[0],s=i[2]-o[2],a=o[1]-i[1],l=i[3]-o[3],c=[0,0];if(n<0?c[0]=n-r:s<0&&(c[0]=Math.abs(s)+r),a<0?c[1]=a-r:l<0&&(c[1]=Math.abs(l)+r),0!==c[0]||0!==c[1]){const i=e.getView().getCenterInternal(),n=e.getPixelFromCoordinateInternal(i);if(!n)return;const o=[n[0]+c[0],n[1]+c[1]],r=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(o),duration:r.duration,easing:r.easing})}}}getRect(t,e){const i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+e[0],o+e[1]]}setPositioning(t){this.set(yE,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e)return void this.setVisible(!1);const i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}updateRenderedPosition(t,e){const i=this.element.style,n=this.getOffset(),o=this.getPositioning();this.setVisible(!0);let r="0%",s="0%";"bottom-right"==o||"center-right"==o||"top-right"==o?r="-100%":"bottom-center"!=o&&"center-center"!=o&&"top-center"!=o||(r="-50%"),"bottom-left"==o||"bottom-center"==o||"bottom-right"==o?s="-100%":"center-left"!=o&&"center-center"!=o&&"center-right"!=o||(s="-50%");const a=`translate(${r}, ${s}) translate(${Math.round(t[0]+n[0])+"px"}, ${Math.round(t[1]+n[1])+"px"})`;this.rendered.transform_!=a&&(this.rendered.transform_=a,i.transform=a)}getOptions(){return this.options}}class xE{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const i=this.entries_[t];return _b(void 0!==i,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){const e=this.entries_[t];return _b(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var e;return null===(e=this.entries_[t])||void 0===e?void 0:e.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){_b(!(t in this.entries_),"Tried to set a value for a key that is used already");const i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}}class _E extends ib{constructor(t,e,i){super(),i=i||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(nb)}release(){this.state===bS&&this.setState(vS)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let t=this.interimTile;if(!t)return this;do{if(t.getState()==mS)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){let t=this.interimTile;if(!t)return;let e=this;do{if(t.getState()==mS){t.interimTile=null;break}t.getState()==fS?e=t:t.getState()==gS?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==bS&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){bb()}getAlpha(t,e){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;const n=e-i+1e3/60;return n>=this.transition_?1:Fx(n/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}class CE extends _E{constructor(t,e,i,n,o,r){super(t,e,r),this.crossOrigin_=n,this.src_=i,this.key=i,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=mS,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=bS,this.unlistenImage_(),this.image_=function(){const t=U_(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=mS:this.state=vS,this.unlistenImage_(),this.changed()}load(){this.state==bS&&(this.state=gS,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==gS&&(this.state=fS,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(t,e,i){const n=t;let o=!0,r=!1,s=!1;const a=[pb(n,hb,(function(){s=!0,r||e()}))];return n.src&&R_?(r=!0,n.decode().then((function(){o&&e()})).catch((function(t){o&&(s?e():i())}))):a.push(pb(n,ob,i)),function(){o=!1,a.forEach(gb)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}class BE{constructor(t,e,i,n,o,r){this.sourceProj_=t,this.targetProj_=e;let s={};const a=Iy(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=n,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&gv(n)>=gv(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?gv(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?gv(this.targetProj_.getExtent()):null;const l=dv(i),c=pv(i),h=sv(i),A=rv(i),u=this.transformInv_(l),d=this.transformInv_(c),p=this.transformInv_(h),g=this.transformInv_(A),f=10+(r?Math.max(0,Math.ceil(Math.log2(ov(i)/(r*r*256*256)))):0);if(this.addQuad_(l,c,h,A,u,d,p,g,f),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,i,n){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const i=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];i[0][0]-t>this.sourceWorldWidth_/2&&(i[0][0]-=this.sourceWorldWidth_),i[1][0]-t>this.sourceWorldWidth_/2&&(i[1][0]-=this.sourceWorldWidth_),i[2][0]-t>this.sourceWorldWidth_/2&&(i[2][0]-=this.sourceWorldWidth_);const n=Math.min(i[0][0],i[1][0],i[2][0]);Math.max(i[0][0],i[1][0],i[2][0])-n<this.sourceWorldWidth_/2&&(e.source=i)}}))}s={}}addTriangle_(t,e,i,n,o,r){this.triangles_.push({source:[n,o,r],target:[t,e,i]})}addQuad_(t,e,i,n,o,r,s,a,l){const c=Ob([o,r,s,a]),h=this.sourceWorldWidth_?gv(c)/this.sourceWorldWidth_:null,A=this.sourceWorldWidth_,u=this.sourceProj_.canWrapX()&&h>.5&&h<1;let d=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){d=gv(Ob([t,e,i,n]))/this.targetWorldWidth_>.25||d}!u&&this.sourceProj_.isGlobal()&&h&&(d=h>.25||d)}if(!d&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!fv(c,this.maxSourceExtent_))return;let p=0;if(!(d||isFinite(o[0])&&isFinite(o[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)d=!0;else if(p=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(l>0){if(!d){const e=[(t[0]+i[0])/2,(t[1]+i[1])/2],n=this.transformInv_(e);let r;if(u){r=(Yv(o[0],A)+Yv(s[0],A))/2-Yv(n[0],A)}else r=(o[0]+s[0])/2-n[0];const a=(o[1]+s[1])/2-n[1];d=r*r+a*a>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){const c=[(e[0]+i[0])/2,(e[1]+i[1])/2],h=this.transformInv_(c),A=[(n[0]+t[0])/2,(n[1]+t[1])/2],u=this.transformInv_(A);this.addQuad_(t,e,c,A,o,r,h,u,l-1),this.addQuad_(A,c,i,n,u,h,s,a,l-1)}else{const c=[(t[0]+e[0])/2,(t[1]+e[1])/2],h=this.transformInv_(c),A=[(i[0]+n[0])/2,(i[1]+n[1])/2],u=this.transformInv_(A);this.addQuad_(t,c,A,n,o,h,u,a,l-1),this.addQuad_(c,e,i,A,h,r,s,u,l-1)}return}}if(u){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&p||this.addTriangle_(t,i,n,o,s,a),14&p||this.addTriangle_(t,i,e,o,s,r),p&&(13&p||this.addTriangle_(e,n,t,r,a,o),7&p||this.addTriangle_(e,n,i,r,a,s))}calculateSourceExtent(){const t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,i,n){const o=e.source;Zb(t,o[0]),Zb(t,o[1]),Zb(t,o[2])})),t}getTriangles(){return this.triangles_}}let SE;const EE=[];function kE(t,e,i,n,o){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(n,o),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,n)+1,Math.max(i,o)),t.restore()}function FE(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function TE(t,e,i,n){const o=My(i,e,t);let r=By(e,n,i);const s=e.getMetersPerUnit();void 0!==s&&(r*=s);const a=t.getMetersPerUnit();void 0!==a&&(r/=a);const l=t.getExtent();if(!l||Hb(l,o)){const e=By(t,r,o)/r;isFinite(e)&&e>0&&(r/=e)}return r}function LE(t,e,i,n){const o=av(i);let r=TE(t,e,o,n);return(!isFinite(r)||r<=0)&&nv(i,(function(i){return r=TE(t,e,i,n),isFinite(r)&&r>0})),r}function IE(t,e,i,n,o,r,s,a,l,c,h,A,u,d){const p=U_(Math.round(i*t),Math.round(i*e),EE);if(A||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function g(t){return Math.round(t*i)/i}p.scale(i,i),p.globalCompositeOperation="lighter";const f=[1/0,1/0,-1/0,-1/0];let m;l.forEach((function(t,e,i){Yb(f,t.extent)}));const b=i/n,v=(A?1:1+Math.pow(2,-24))/b;if(!u||1!==l.length||0!==c){if(m=U_(Math.round(gv(f)*b),Math.round(Av(f)*b),EE),A||(m.imageSmoothingEnabled=!1),o&&d){const t=(o[0]-f[0])*b,e=-(o[3]-f[3])*b,i=gv(o)*b,n=Av(o)*b;m.rect(t,e,i,n),m.clip()}l.forEach((function(t,e,i){if(t.image.width>0&&t.image.height>0){if(t.clipExtent){m.save();const e=(t.clipExtent[0]-f[0])*b,i=-(t.clipExtent[3]-f[3])*b,n=gv(t.clipExtent)*b,o=Av(t.clipExtent)*b;m.rect(A?e:Math.round(e),A?i:Math.round(i),A?n:Math.round(e+n)-Math.round(e),A?o:Math.round(i+o)-Math.round(i)),m.clip()}const e=(t.extent[0]-f[0])*b,i=-(t.extent[3]-f[3])*b,n=gv(t.extent)*b,o=Av(t.extent)*b;m.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,A?e:Math.round(e),A?i:Math.round(i),A?n:Math.round(e+n)-Math.round(e),A?o:Math.round(i+o)-Math.round(i)),t.clipExtent&&m.restore()}}))}const y=dv(s);return a.getTriangles().forEach((function(t,e,i){const n=t.source,o=t.target;let s=n[0][0],a=n[0][1],c=n[1][0],h=n[1][1],u=n[2][0],d=n[2][1];const b=g((o[0][0]-y[0])/r),w=g(-(o[0][1]-y[1])/r),x=g((o[1][0]-y[0])/r),_=g(-(o[1][1]-y[1])/r),C=g((o[2][0]-y[0])/r),B=g(-(o[2][1]-y[1])/r),S=s,E=a;s=0,a=0,c-=S,h-=E,u-=S,d-=E;const k=function(t){const e=t.length;for(let n=0;n<e;n++){let i=n,o=Math.abs(t[n][n]);for(let s=n+1;s<e;s++){const e=Math.abs(t[s][n]);e>o&&(o=e,i=s)}if(0===o)return null;const r=t[i];t[i]=t[n],t[n]=r;for(let s=n+1;s<e;s++){const i=-t[s][n]/t[n][n];for(let o=n;o<e+1;o++)n==o?t[s][o]=0:t[s][o]+=i*t[n][o]}}const i=new Array(e);for(let n=e-1;n>=0;n--){i[n]=t[n][e]/t[n][n];for(let o=n-1;o>=0;o--)t[o][e]-=t[o][n]*i[n]}return i}([[c,h,0,0,x-b],[u,d,0,0,C-b],[0,0,c,h,_-w],[0,0,u,d,B-w]]);if(!k)return;if(p.save(),p.beginPath(),function(){if(void 0===SE){const t=U_(6,6,EE);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",kE(t,4,5,4,0),kE(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;SE=FE(e,0)||FE(e,4)||FE(e,8),H_(t),EE.push(t.canvas)}return SE}()||!A){p.moveTo(x,_);const t=4,e=b-x,i=w-_;for(let n=0;n<t;n++)p.lineTo(x+g((n+1)*e/t),_+g(n*i/(t-1))),n!=t-1&&p.lineTo(x+g((n+1)*e/t),_+g((n+1)*i/(t-1)));p.lineTo(C,B)}else p.moveTo(x,_),p.lineTo(b,w),p.lineTo(C,B);let F;if(p.clip(),p.transform(k[0],k[2],k[1],k[3],b,w),p.translate(f[0]-S,f[3]-E),m)F=m.canvas,p.scale(v,-v);else{const t=l[0],e=t.extent;F=t.image,p.scale(gv(e)/F.width,-Av(e)/F.height)}p.drawImage(F,0,0),p.restore()})),m&&(H_(m),EE.push(m.canvas)),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach((function(t,e,i){const n=t.target,o=(n[0][0]-y[0])/r,s=-(n[0][1]-y[1])/r,a=(n[1][0]-y[0])/r,l=-(n[1][1]-y[1])/r,c=(n[2][0]-y[0])/r,h=-(n[2][1]-y[1])/r;p.beginPath(),p.moveTo(a,l),p.lineTo(o,s),p.lineTo(c,h),p.closePath(),p.stroke()})),p.restore()),p.canvas}class ME extends _E{constructor(t,e,i,n,o,r,s,a,l,c,h,A){super(o,gS,A),this.renderEdges_=void 0!==h&&h,this.pixelRatio_=s,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=n,this.wrappedTileCoord_=r||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const u=n.getTileCoordExtent(this.wrappedTileCoord_),d=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const g=d?uv(u,d):u;if(0===ov(g))return void(this.state=vS);const f=t.getExtent();f&&(p=p?uv(p,f):f);const m=n.getResolution(this.wrappedTileCoord_[0]),b=LE(t,i,g,m);if(!isFinite(b)||b<=0)return void(this.state=vS);const v=void 0!==c?c:.5;if(this.triangulation_=new BE(t,i,g,p,b*v,m),0===this.triangulation_.getTriangles().length)return void(this.state=vS);this.sourceZ_=e.getZForResolution(b);let y=this.triangulation_.calculateSourceExtent();if(p&&(t.canWrapX()?(y[1]=Kv(y[1],p[1],p[3]),y[3]=Kv(y[3],p[1],p[3])):y=uv(y,p)),ov(y)){let i=0,n=0;t.canWrapX()&&(i=gv(f),n=Math.floor((y[0]-f[0])/i));_v(y.slice(),t,!0).forEach((t=>{const o=e.getTileRangeForExtentAndZ(t,this.sourceZ_);for(let e=o.minX;e<=o.maxX;e++)for(let t=o.minY;t<=o.maxY;t++){const o=l(this.sourceZ_,e,t,s);if(o){const t=n*i;this.sourceTiles_.push({tile:o,offset:t})}}++n})),0===this.sourceTiles_.length&&(this.state=vS)}else this.state=vS}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{const i=e.tile;if(i&&i.getState()==mS){var n;const o=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);o[0]+=e.offset,o[2]+=e.offset;const r=null===(n=this.clipExtent_)||void 0===n?void 0:n.slice();r&&(r[0]+=e.offset,r[2]+=e.offset),t.push({extent:o,clipExtent:r,image:i.getImage()})}})),this.sourceTiles_.length=0,0===t.length)this.state=bS;else{const e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),n="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],r=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=IE(n,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),r,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=mS}this.changed()}load(){if(this.state==gS){this.state=fS,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((({tile:e})=>{const i=e.getState();if(i==gS||i==fS){t++;const i=db(e,nb,(function(n){const o=e.getState();o!=mS&&o!=bS&&o!=vS||(gb(i),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(i)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function({tile:t},e,i){t.getState()==gS&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(gb),this.sourcesListenerKeys_=null}release(){this.canvas_&&(H_(this.canvas_.getContext("2d")),EE.push(this.canvas_),this.canvas_=null),super.release()}}function PE(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]}function RE(t,e,i){return t+"/"+e+"/"+i}function NE(t){return RE(t[0],t[1],t[2])}function OE(t){return t.split("/").map(Number)}function UE(t){return(t[1]<<t[0])+t[2]}class DE extends xE{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}}pruneExceptNewestZ(){if(0===this.getCount())return;const t=OE(this.peekFirstKey())[0];this.forEach((e=>{e.tileCoord[0]!==t&&(this.remove(NE(e.tileCoord)),e.release())}))}}const QE="tileloadstart",HE="tileloadend",zE="tileloaderror";class jE extends xb{constructor(t){super(),this.projection=Cy(t.projection),this.attributions_=GE(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,i){e.viewResolver=t,e.viewRejector=i}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=GE(t),this.changed()}setState(t){this.state_=t,this.changed()}}function GE(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}class VE{constructor(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function KE(t,e,i,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=n,o):new VE(t,e,i,n)}const qE=[0,0,0];class WE{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,_b(function(t,e,i){const n=e||jm;return t.every((function(e,i){if(0===i)return!0;const o=n(t[i-1],e);return!(o>0||0===o)}))}(this.resolutions_,((t,e)=>e-t)),"`resolutions` must be sorted in descending order"),!t.origins)for(let n=0,o=this.resolutions_.length-1;n<o;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,_b(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=dv(i)),_b(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,_b(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:wx,_b(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(((t,e)=>{const n=new VE(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(i){const t=this.getTileRangeForExtentAndZ(i,e);n.minX=Math.max(t.minX,n.minX),n.maxX=Math.min(t.maxX,n.maxX),n.minY=Math.max(t.minY,n.minY),n.maxY=Math.min(t.maxY,n.maxY)}return n})):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,e,i){const n=this.getTileRangeForExtentAndZ(t,e);for(let o=n.minX,r=n.maxX;o<=r;++o)for(let t=n.minY,s=n.maxY;t<=s;++t)i([e,o,t])}forEachTileCoordParentTileRange(t,e,i,n){let o,r,s,a=null,l=t[0]-1;for(2===this.zoomFactor_?(r=t[1],s=t[2]):a=this.getTileCoordExtent(t,n);l>=this.minZoom;){if(void 0!==r&&void 0!==s?(r=Math.floor(r/2),s=Math.floor(s/2),o=KE(r,r,s,s,i)):o=this.getTileRangeForExtentAndZ(a,l,i),e(l,o))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const i=2*t[1],n=2*t[2];return KE(i,i+1,n,n+1,e)}const n=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,i){if(e>this.maxZoom||e<this.minZoom)return null;const n=t[0],o=t[1],r=t[2];if(e===n)return KE(o,r,o,r,i);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-n),s=Math.floor(o*t),a=Math.floor(r*t);if(e<n)return KE(s,s,a,a,i);return KE(s,Math.floor(t*(o+1))-1,a,Math.floor(t*(r+1))-1,i)}const s=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e,i)}getTileRangeForExtentAndZ(t,e,i){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,qE);const n=qE[1],o=qE[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,qE);return KE(n,qE[1],o,qE[2],i)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=l_(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]-(t[2]+.5)*n[1]*i]}getTileCoordExtent(t,e){const i=this.getOrigin(t[0]),n=this.getResolution(t[0]),o=l_(this.getTileSize(t[0]),this.tmpSize_),r=i[0]+t[1]*o[0]*n,s=i[1]-(t[2]+1)*o[1]*n;return Kb(r,s,r+o[0]*n,s+o[1]*n,e)}getTileCoordForCoordAndResolution(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)}getTileCoordForXYAndResolution_(t,e,i,n,o){const r=this.getZForResolution(i),s=i/this.getResolution(r),a=this.getOrigin(r),l=l_(this.getTileSize(r),this.tmpSize_);let c=s*(t-a[0])/i/l[0],h=s*(a[1]-e)/i/l[1];return n?(c=iy(c,5)-1,h=iy(h,5)-1):(c=ey(c,5),h=ey(h,5)),PE(r,c,h,o)}getTileCoordForXYAndZ_(t,e,i,n,o){const r=this.getOrigin(i),s=this.getResolution(i),a=l_(this.getTileSize(i),this.tmpSize_);let l=(t-r[0])/s/a[0],c=(r[1]-e)/s/a[1];return n?(l=iy(l,5)-1,c=iy(c,5)-1):(l=ey(l,5),c=ey(c,5)),PE(i,l,c,o)}getTileCoordForCoordAndZ(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){return Kv(Vm(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return Bw(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,i=new Array(e);for(let n=this.minZoom;n<e;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i}}class XE extends WE{constructor(t){super({extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes}),this.matrixIds_=t.matrixIds}getMatrixId(t){return this.matrixIds_[t]}getMatrixIds(){return this.matrixIds_}}function $E(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,i,n){const o=JE(t);return function(t,e,i,n){n=void 0!==n?n:"top-left";const o=ZE(t,e,i);return new WE({extent:t,origin:lv(t,n),resolutions:o,tileSize:i})}(o,e,i,n)}(t),t.setDefaultTileGrid(e)),e}function YE(t){const e=t||{},i=e.extent||Cy("EPSG:3857").getExtent(),n={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:ZE(i,e.maxZoom,e.tileSize,e.maxResolution)};return new WE(n)}function ZE(t,e,i,n){e=void 0!==e?e:yx,i=l_(void 0!==i?i:wx);const o=Av(t),r=gv(t);n=n>0?n:Math.max(r/i[0],o/i[1]);const s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=n/Math.pow(2,l);return a}function JE(t){let e=(t=Cy(t)).getExtent();if(!e){const i=180*Ev.degrees/t.getMetersPerUnit();e=Kb(-i,-i,i,i)}return e}class tk extends jE{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=[256,256];this.tileGrid&&l_(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tileCache=new DE(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const i=this.getTileCacheForProjection(t);i&&i.expireCache(e)}forEachLoadedTile(t,e,i,n){const o=this.getTileCacheForProjection(t);if(!o)return!1;let r,s,a,l=!0;for(let c=i.minX;c<=i.maxX;++c)for(let t=i.minY;t<=i.maxY;++t)s=RE(e,c,t),a=!1,o.containsKey(s)&&(r=o.get(s),a=r.getState()===mS,a&&(a=!1!==n(r))),a||(l=!1);return l}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,i,n,o){return bb()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:$E(t)}getTileCacheForProjection(t){const e=this.getProjection();return _b(null===e||Ty(e,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,i){const n=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),r=l_(n.getTileSize(t),this.tmpSize);return 1==o?r:a_(r,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const i=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=function(t,e,i){const n=e[0],o=t.getTileCoordCenter(e),r=JE(i);if(!Hb(r,o)){const e=gv(r),i=Math.ceil((r[0]-o[0])/e);return o[0]+=e*i,t.getTileCoordForCoordAndZ(o,n)}return e}(i,t,e)),function(t,e){const i=t[0],n=t[1],o=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;const r=e.getFullTileRange(i);return!r||r.containsXY(n,o)}(t,i)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)}useTile(t,e,i,n){}}class ek extends Dm{constructor(t,e){super(t),this.tile=e}}function ik(t,e){const i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(s,a,l){if(s)return t.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(o,s[2].toString()).replace(r,(function(){const t=s[0],i=e.getFullTileRange(t);if(!i)throw new Error("The {-y} placeholder requires a tile grid with extent");return(i.getHeight()-s[2]-1).toString()}))}}function nk(t,e){const i=t.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=ik(t[o],e);return ok(n)}function ok(t){return 1===t.length?t[0]:function(e,i,n){if(!e)return;const o=Yv(UE(e),t.length);return t[o](e,i,n)}}function rk(t){const e=[];let i=/\{([a-z])-([a-z])\}/.exec(t);if(i){const n=i[1].charCodeAt(0),o=i[2].charCodeAt(0);let r;for(r=n;r<=o;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t),i){const n=parseInt(i[2],10);for(let o=parseInt(i[1],10);o<=n;o++)e.push(t.replace(i[0],o.toString()));return e}return e.push(t),e}class sk extends tk{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===sk.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=yb(e),n=e.getState();let o;n==fS?(this.tileLoadingKeys_[i]=!0,o=QE):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=n==bS?zE:n==mS?HE:void 0),null!=o&&this.dispatchEvent(new ek(o,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=rk(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(nk(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}useTile(t,e,i){const n=RE(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}class ak extends sk{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:lk,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:CE,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(const n in this.tileCacheForProjection){const t=this.tileCacheForProjection[n];t.expireCache(t==i?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!Ty(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return!(this.getProjection()&&t&&!Ty(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||Ty(e,t)))return this.tileGrid;const i=yb(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=$E(t)),this.tileGridForProjection[i]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||Ty(e,t))return this.tileCache;const i=yb(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new DE(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(t,e,i,n,o,r){const s=[t,e,i],a=this.getTileCoordForTileUrlFunction(s,o),l=a?this.tileUrlFunction(a,n,o):void 0,c=new this.tileClass(s,void 0!==l?gS:vS,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=r,c.addEventListener(nb,this.handleTileChange.bind(this)),c}getTile(t,e,i,n,o){const r=this.getProjection();if(!r||!o||Ty(r,o))return this.getTileInternal(t,e,i,n,r||o);const s=this.getTileCacheForProjection(o),a=[t,e,i];let l;const c=NE(a);s.containsKey(c)&&(l=s.get(c));const h=this.getKey();if(l&&l.key==h)return l;const A=this.getTileGridForProjection(r),u=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(a,o),p=new ME(r,A,o,u,a,d,this.getTilePixelRatio(n),this.getGutter(),((t,e,i,n)=>this.getTileInternal(t,e,i,n,r)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=h,l?(p.interimTile=l,p.refreshInterimChain(),s.replace(c,p)):s.set(c,p),p}getTileInternal(t,e,i,n,o){let r=null;const s=RE(t,e,i),a=this.getKey();if(this.tileCache.containsKey(s)){if(r=this.tileCache.get(s),r.key!=a){const l=r;r=this.createTile_(t,e,i,n,o,a),l.getState()==gS?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(s,r)}}else r=this.createTile_(t,e,i,n,o,a),this.tileCache.set(s,r);return r}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,e){const i=Cy(t);if(i){const t=yb(i);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function lk(t,e){t.getImage().src=e}class ck extends ak{constructor(t){const e=void 0!==t.hidpi&&t.hidpi;super({cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:t.interpolate,opaque:!0,projection:Cy("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.hidpi_=e,this.culture_=void 0!==t.culture?t.culture:"en-us",this.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,this.apiKey_=t.key,this.imagerySet_=t.imagerySet,this.placeholderTiles_=t.placeholderTiles;const i="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;fetch(i).then((t=>t.json())).then((t=>this.handleImageryMetadataResponse(t)))}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)return void this.setState("error");const e=t.resourceSets[0].resources[0],i=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,n=JE(this.getProjection()),o=this.hidpi_?2:1,r=e.imageWidth==e.imageHeight?e.imageWidth/o:[e.imageWidth/o,e.imageHeight/o],s=YE({extent:n,minZoom:e.zoomMin,maxZoom:i,tileSize:r});this.tileGrid=s;const a=this.culture_,l=this.hidpi_,c=this.placeholderTiles_;if(this.tileUrlFunction=ok(e.imageUrlSubdomains.map((function(t){const i=[0,0,0],n=e.imageUrl.replace("{subdomain}",t).replace("{culture}",a);return function(t,e,o){if(!t)return;PE(t[0],t[1],t[2],i);const r=new URL(n.replace("{quadkey}",function(t){const e=t[0],i=new Array(e);let n,o,r=1<<e-1;for(n=0;n<e;++n)o=48,t[1]&r&&(o+=1),t[2]&r&&(o+=2),i[n]=String.fromCharCode(o),r>>=1;return i.join("")}(i))),s=r.searchParams;return l&&(s.set("dpi","d1"),s.set("device","mobile")),!0===c?s.delete("n"):!1===c&&s.set("n","z"),r.toString()}}))),e.imageryProviders){const t=Ly(Cy("EPSG:4326"),this.getProjection());this.setAttributions((i=>{const n=[],o=i.viewState,r=this.getTileGrid(),s=r.getZForResolution(o.resolution,this.zDirection),a=r.getTileCoordForCoordAndZ(o.center,s)[0];return e.imageryProviders.map((function(e){let o=!1;const r=e.coverageAreas;for(let n=0,s=r.length;n<s;++n){const e=r[n];if(a>=e.zoomMin&&a<=e.zoomMax){const n=e.bbox;if(fv(wv([n[1],n[0],n[3],n[2]],t),i.extent)){o=!0;break}}}o&&n.push(e.attribution)})),n.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),n}))}this.setState("ready")}}class hk extends ak{constructor(t){const e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:YE({extent:JE(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}}class Ak{constructor(t){this.rbush_=new Gx(t),this.items_={}}insert(t,e){const i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[yb(e)]=i}load(t,e){const i=new Array(e.length);for(let n=0,o=e.length;n<o;n++){const o=t[n],r=e[n],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:r};i[n]=s,this.items_[yb(r)]=s}this.rbush_.load(i)}remove(t){const e=yb(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)}update(t,e){const i=this.items_[yb(e)];$b([i.minX,i.minY,i.maxX,i.maxY],t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let i;for(let n=0,o=t.length;n<o;n++)if(i=e(t[n]),i)return i;return i}isEmpty(){return eb(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return Kb(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}class uk extends Wy{constructor(t,e,i){super(),void 0!==i&&void 0===e?this.setFlatCoordinates(i,t):(e=e||0,this.setCenterAndRadius(t,e,i))}clone(){const t=new uk(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,n){const o=this.flatCoordinates,r=t-o[0],s=e-o[1],a=r*r+s*s;if(a<n){if(0===a)for(let t=0;t<this.stride;++t)i[t]=o[t];else{const t=this.getRadius()/Math.sqrt(a);i[0]=o[0]+t*r,i[1]=o[1]+t*s;for(let e=2;e<this.stride;++e)i[e]=o[e]}return i.length=this.stride,a}return n}containsXY(t,e){const i=this.flatCoordinates,n=t-i[0],o=e-i[1];return n*n+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const e=this.flatCoordinates,i=e[this.stride]-e[0];return Kb(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){if(fv(t,this.getExtent())){const e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||(t[1]<=e[1]&&t[3]>=e[1]||nv(t,this.intersectsCoordinate.bind(this)))}return!1}setCenter(t){const e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],n=t.slice();n[e]=n[0]+i;for(let o=1;o<e;++o)n[e+o]=t[o];this.setFlatCoordinates(this.layout,n),this.changed()}setCenterAndRadius(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);const n=this.flatCoordinates;let o=iw(n,0,t,this.stride);n[o++]=n[0]+e;for(let r=1,s=this.stride;r<s;++r)n[o++]=n[r];n.length=o,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){const i=this.getCenter(),n=this.getStride();this.setCenter(Vy(i,0,i.length,n,t,e,i)),this.changed()}}uk.prototype.transform;class dk extends qy{constructor(t){super(),this.geometries_=t,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(gb),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const t=this.geometries_;for(let e=0,i=t.length;e<i;++e)this.changeEventsKeys_.push(db(t[e],nb,this.changed,this))}clone(){const t=new dk(pk(this.geometries_));return t.applyProperties(this),t}closestPointXY(t,e,i,n){if(n<Qb(this.getExtent(),t,e))return n;const o=this.geometries_;for(let r=0,s=o.length;r<s;++r)n=o[r].closestPointXY(t,e,i,n);return n}containsXY(t,e){const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)if(i[n].containsXY(t,e))return!0;return!1}computeExtent(t){qb(t);const e=this.geometries_;for(let i=0,n=e.length;i<n;++i)Yb(t,e[i].getExtent());return t}getGeometries(){return pk(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let i=0,n=e.length;i<n;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],i=this.geometries_;let n=!1;for(let o=0,r=i.length;o<r;++o){const r=i[o],s=r.getSimplifiedGeometry(t);e.push(s),s!==r&&(n=!0)}if(n){return new dk(e)}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let i=0,n=e.length;i<n;++i)if(e[i].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)i[n].rotate(t,e);this.changed()}scale(t,e,i){i||(i=av(this.getExtent()));const n=this.geometries_;for(let o=0,r=n.length;o<r;++o)n[o].scale(t,e,i);this.changed()}setGeometries(t){this.setGeometriesArray(pk(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let i=0,n=e.length;i<n;++i)e[i].applyTransform(t);this.changed()}translate(t,e){const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)i[n].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function pk(t){return t.map((t=>t.clone()))}const gk=dk;function fk(t,e,i,n,o,r,s){let a,l;const c=(i-e)/n;if(1===c)a=e;else if(2===c)a=e,l=o;else if(0!==c){let r=t[e],s=t[e+1],c=0;const h=[0];for(let o=e+n;o<i;o+=n){const e=t[o],i=t[o+1];c+=Math.sqrt((e-r)*(e-r)+(i-s)*(i-s)),h.push(c),r=e,s=i}const A=o*c,u=function(t,e,i){let n,o;i=i||jm;let r=0,s=t.length,a=!1;for(;r<s;)n=r+(s-r>>1),o=+i(t[n],e),o<0?r=n+1:(s=n,a=!o);return a?r:~r}(h,A);u<0?(l=(A-h[-u-2])/(h[-u-1]-h[-u-2]),a=e+(-u-2)*n):a=e+u*n}s=s>1?s:2,r=r||new Array(s);for(let h=0;h<s;++h)r[h]=void 0===a?NaN:void 0===l?t[a+h]:Zv(t[a+h],t[a+n+h],l);return r}function mk(t,e,i,n,o,r){if(i==e)return null;let s;if(o<t[e+n-1])return r?(s=t.slice(e,e+n),s[n-1]=o,s):null;if(t[i-1]<o)return r?(s=t.slice(i-n,i),s[n-1]=o,s):null;if(o==t[e+n-1])return t.slice(e,e+n);let a=e/n,l=i/n;for(;a<l;){const e=a+l>>1;o<t[(e+1)*n-1]?l=e:a=e+1}const c=t[a*n-1];if(o==c)return t.slice((a-1)*n,(a-1)*n+n);const h=(o-c)/(t[(a+1)*n-1]-c);s=[];for(let A=0;A<n-1;++A)s.push(Zv(t[(a-1)*n+A],t[a*n+A],h));return s.push(o),s}function bk(t,e,i,n){let o=t[e],r=t[e+1],s=0;for(let a=e+n;a<i;a+=n){const e=t[a],i=t[a+1];s+=Math.sqrt((e-o)*(e-o)+(i-r)*(i-r)),o=e,r=i}return s}class vk extends Wy{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){qm(this.flatCoordinates,t),this.changed()}clone(){const t=new vk(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,n){return n<Qb(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,n))}forEachSegment(t){return _w(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,mk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return Aw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return fk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return bk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){var t;this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,null!==(t=this.flatMidpoint_)&&void 0!==t?t:void 0),this.flatMidpointRevision_=this.getRevision());return this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=sw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new vk(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return Cw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nw(this.flatCoordinates,0,t,this.stride),this.changed()}}class yk extends Wy{constructor(t,e,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&i)this.setFlatCoordinates(e,t),this.ends_=i;else{const e=t,i=[],n=[];for(let t=0,r=e.length;t<r;++t){qm(i,e[t].getFlatCoordinates()),n.push(i.length)}const o=0===e.length?this.getLayout():e[0].getLayout();this.setFlatCoordinates(o,i),this.ends_=n}}appendLineString(t){qm(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new yk(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,n){return n<Qb(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jy(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ew(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,n))}getCoordinateAtM(t,e,i){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,i=void 0!==i&&i,function(t,e,i,n,o,r,s){if(s)return mk(t,e,i[i.length-1],n,o,r);let a;if(o<t[n-1])return r?(a=t.slice(0,n),a[n-1]=o,a):null;if(t[t.length-1]<o)return r?(a=t.slice(t.length-n),a[n-1]=o,a):null;for(let l=0,c=i.length;l<c;++l){const r=i[l];if(e!=r){if(o<t[e+n-1])return null;if(o<=t[r-1])return mk(t,e,r,n,o,!1);e=r}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,e,i))}getCoordinates(){return uw(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new vk(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,i=this.layout,n=[];let o=0;for(let r=0,s=e.length;r<s;++r){const s=e[r],a=new vk(t.slice(o,s),i);n.push(a),o=s}return n}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let i=0;const n=this.ends_,o=this.stride;for(let r=0,s=n.length;r<s;++r){const s=n[r];qm(t,fk(e,i,s,o,.5)),i=s}return t}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=aw(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i),new yk(e,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(t){return function(t,e,i,n,o){for(let r=0,s=i.length;r<s;++r){if(Cw(t,e,i[r],n,o))return!0;e=i[r]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=ow(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}class wk extends Wy{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){qm(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new wk(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,n){if(n<Qb(this.getExtent(),t,e))return n;const o=this.flatCoordinates,r=this.stride;for(let s=0,a=o.length;s<a;s+=r){const a=Wv(t,e,o[s],o[s+1]);if(a<n){n=a;for(let t=0;t<r;++t)i[t]=o[s+t];i.length=r}}return n}getCoordinates(){return Aw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new mw(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,i=this.stride,n=[];for(let o=0,r=t.length;o<r;o+=i){const r=new mw(t.slice(o,o+i),e);n.push(r)}return n}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,i=this.stride;for(let n=0,o=e.length;n<o;n+=i){if(jb(t,e[n],e[n+1]))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nw(this.flatCoordinates,0,t,this.stride),this.changed()}}function xk(t,e,i,n){const o=[];let r=[1/0,1/0,-1/0,-1/0];for(let s=0,a=i.length;s<a;++s){const a=i[s];r=Xb(t,e,a[0],n),o.push((r[0]+r[2])/2,(r[1]+r[3])/2),e=a[a.length-1]}return o}class _k extends Wy{constructor(t,e,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){const n=t,o=[],r=[];for(let t=0,e=n.length;t<e;++t){const e=n[t],i=o.length,s=e.getEnds();for(let t=0,n=s.length;t<n;++t)s[t]+=i;qm(o,e.getFlatCoordinates()),r.push(s)}e=0===n.length?this.getLayout():n[0].getLayout(),t=o,i=r}void 0!==e&&i?(this.setFlatCoordinates(e,t),this.endss_=i):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const i=this.flatCoordinates.length;qm(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,n=e.length;t<n;++t)e[t]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let n=0;n<t;++n)e[n]=this.endss_[n].slice();const i=new _k(this.flatCoordinates.slice(),this.layout,e);return i.applyProperties(this),i}closestPointXY(t,e,i,n){return n<Qb(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r];o=Jy(t,e,s,n,o),e=s[s.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,i,n,o,r,s,a,l,c,h){h=h||[NaN,NaN];for(let A=0,u=i.length;A<u;++A){const u=i[A];c=ew(t,e,u,n,o,r,s,a,l,c,h),e=u[u.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,n))}containsXY(t,e){return function(t,e,i,n,o,r){if(0===i.length)return!1;for(let s=0,a=i.length;s<a;++s){const a=i[s];if(yw(t,e,a,n,o,r))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return function(t,e,i,n){let o=0;for(let r=0,s=i.length;r<s;++r){const s=i[r];o+=gw(t,e,s,n),e=s[s.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Iw(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,dw(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=xk(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=xw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new wk(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Tw(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Iw(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=function(t,e,i,n,o,r,s,a){for(let l=0,c=i.length;l<c;++l){const c=i[l],h=[];s=hw(t,e,c,n,o,r,s,h),a.push(h),e=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new _k(e,"XY",i)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const i=this.endss_[t-1];e=i[i.length-1]}const i=this.endss_[t].slice(),n=i[i.length-1];if(0!==e)for(let o=0,r=i.length;o<r;++o)i[o]-=e;return new Pw(this.flatCoordinates.slice(e,n),this.layout,i)}getPolygons(){const t=this.layout,e=this.flatCoordinates,i=this.endss_,n=[];let o=0;for(let r=0,s=i.length;r<s;++r){const s=i[r].slice(),a=s[s.length-1];if(0!==o)for(let t=0,e=s.length;t<e;++t)s[t]-=o;const l=new Pw(e.slice(o,a),t,s);n.push(l),o=a}return n}getType(){return"MultiPolygon"}intersectsExtent(t){return function(t,e,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r];if(Sw(t,e,s,n,o))return!0;e=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=rw(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{const t=i[i.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}const Ck=Object.freeze(Object.defineProperty({__proto__:null,Circle:uk,Geometry:qy,GeometryCollection:gk,LineString:vk,LinearRing:fw,MultiLineString:yk,MultiPoint:wk,MultiPolygon:_k,Point:mw,Polygon:Pw,SimpleGeometry:Wy},Symbol.toStringTag,{value:"Module"})),Bk=[1,0,0,1,0,0];class Sk{constructor(t,e,i,n,o,r){this.styleFunction,this.extent_,this.id_=r,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=n,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?Wb(this.flatCoordinates_):Xb(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=av(this.getExtent());this.flatInteriorPoints_=ww(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=Mw(this.flatCoordinates_,this.ends_),e=xk(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=xw(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=fk(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const i=this.ends_;for(let n=0,o=i.length;n<o;++n){const o=i[n],r=fk(t,e,o,2,.5);qm(this.flatMidpoints_,r),e=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=Cy(t)).getExtent(),i=t.getWorldExtent();if(e&&i){const t=Av(i)/Av(e);Mb(Bk,i[0],i[3],t,-t,0,0,0),Gy(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Bk,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new Sk(this.type_,this.flatCoordinates_.slice(),null===(t=this.ends_)||void 0===t?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Zm(((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const i=this.simplifiedGeometry_.getFlatCoordinates();let n;switch(this.type_){case"LineString":i.length=sw(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,i,0),n=[i.length];break;case"MultiLineString":n=[],i.length=aw(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,i,0,n);break;case"Polygon":n=[],i.length=hw(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),i,0,n)}return n&&(this.simplifiedGeometry_=new Sk(this.type_,i,n,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_})),this}}Sk.prototype.getFlatCoordinates=Sk.prototype.getOrientedFlatCoordinates;const Ek="addfeature",kk="changefeature",Fk="clear",Tk="removefeature",Lk="featuresloadstart",Ik="featuresloadend",Mk="featuresloaderror";function Pk(t,e){return[[-1/0,-1/0,1/0,1/0]]}const Rk=Object.freeze(Object.defineProperty({__proto__:null,all:Pk,bbox:function(t,e){return[t]},tile:function(t){return function(e,i,n){const o=t.getZForResolution(function(t,e){return t}(i)),r=t.getTileRangeForExtentAndZ(Dy(e),o),s=[],a=[o,0,0];for(a[1]=r.minX;a[1]<=r.maxX;++a[1])for(a[2]=r.minY;a[2]<=r.maxY;++a[2])s.push(Uy(t.getTileCoordExtent(a)));return s}}},Symbol.toStringTag,{value:"Module"}));let Nk=!1;function Ok(t,e,i,n,o,r,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(i,n,o):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=Nk,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();try{let n;"text"==t||"json"==t?n=a.responseText:"xml"==t?n=a.responseXML||a.responseText:"arraybuffer"==t&&(n=a.response),n?r(e.readFeatures(n,{extent:i,featureProjection:o}),e.readProjection(n)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function Uk(t,e){return function(i,n,o,r,s){const a=this;Ok(t,e,i,n,o,(function(t,e){a.addFeatures(t),void 0!==r&&r(t)}),s||Ym)}}class Dk extends Dm{constructor(t,e,i){super(t),this.feature=e,this.features=i}}class Qk extends jE{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=Ym,this.format_=t.format,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&(_b(this.format_,"`format` must be set when `url` is set"),this.loader_=Uk(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:Pk;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let i,n;this.featuresRtree_=e?new Ak:null,this.loadedExtentsRtree_=new Ak,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?n=t.features:t.features&&(i=t.features,n=i.getArray()),e||void 0!==i||(i=new tx(n)),void 0!==n&&this.addFeaturesInternal(n),void 0!==i&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=yb(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const i=t.getGeometry();if(i){const e=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Dk(Ek,t))}setupChangeEvents_(t,e){e instanceof Sk||(this.featureChangeKeys_[t]=[db(e,nb,this.handleFeatureChange_,this),db(e,Hm,this.handleFeatureChange_,this)])}addToIndex_(t,e){let i=!0;if(void 0!==e.getId()){const t=String(e.getId());if(t in this.idIndex_)if(e instanceof Sk){const n=this.idIndex_[t];n instanceof Sk?Array.isArray(n)?n.push(e):this.idIndex_[t]=[n,e]:i=!1}else i=!1;else this.idIndex_[t]=e}return i&&(_b(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],i=[],n=[];for(let o=0,r=t.length;o<r;o++){const e=t[o],n=yb(e);this.addToIndex_(n,e)&&i.push(e)}for(let o=0,r=i.length;o<r;o++){const t=i[o],r=yb(t);this.setupChangeEvents_(r,t);const s=t.getGeometry();if(s){const i=s.getExtent();e.push(i),n.push(t)}else this.nullGeometryFeatures_[r]=t}if(this.featuresRtree_&&this.featuresRtree_.load(e,n),this.hasListener(Ek))for(let o=0,r=i.length;o<r;o++)this.dispatchEvent(new Dk(Ek,i[o]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(Ek,(function(i){e||(e=!0,t.push(i.feature),e=!1)})),this.addEventListener(Tk,(function(i){e||(e=!0,t.remove(i.feature),e=!1)})),t.addEventListener($w,(t=>{e||(e=!0,this.addFeature(t.element),e=!1)})),t.addEventListener(Yw,(t=>{e||(e=!0,this.removeFeature(t.element),e=!1)})),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(gb)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const t=t=>{this.removeFeatureInternal(t)};this.featuresRtree_.forEach(t);for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new Dk(Fk);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,(function(i){const n=i.getGeometry();if(n instanceof Sk||n.intersectsCoordinate(t))return e(i)}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(i){const n=i.getGeometry();if(n instanceof Sk||n.intersectsExtent(t)){const t=e(i);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),eb(this.nullGeometryFeatures_)||qm(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const i=_v(t,e);return[].concat(...i.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const i=t[0],n=t[1];let o=null;const r=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||Xm,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),l=s;if(s=e instanceof Sk?0:e.closestPointXY(i,n,r,s),s<l){o=t;const e=Math.sqrt(s);a[0]=i-e,a[1]=n-e,a[2]=i+e,a[3]=n+e}}})),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,i=yb(e),n=e.getGeometry();if(n){const t=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);const o=e.getId();if(void 0!==o){const t=o.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new Dk(kk,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:yb(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&eb(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,i){const n=this.loadedExtentsRtree_,o=this.strategy_(t,e,i);for(let r=0,s=o.length;r<s;++r){const t=o[r];n.forEachInExtent(t,(function(e){return zb(e.extent,t)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new Dk(Lk)),this.loader_.call(this,t,e,i,(t=>{--this.loadingExtentsCount_,this.dispatchEvent(new Dk(Ik,void 0,t))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Dk(Mk))})),n.insert(t,{extent:t.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let i;e.forEachInExtent(t,(function(e){if($b(e.extent,t))return i=e,!0})),i&&e.remove(i)}removeFeatures(t){const e=[];for(let i=0,n=t.length;i<n;++i){const n=t[i],o=this.removeFeatureInternal(n);o&&e.push(o)}e.length>0&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=yb(t);if(!(e in this.uidIndex_))return;e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);const i=this.featureChangeKeys_[e];null==i||i.forEach(gb),delete this.featureChangeKeys_[e];const n=t.getId();if(void 0!==n){const e=n.toString(),i=this.idIndex_[e];i===t?delete this.idIndex_[e]:Array.isArray(i)&&(i.splice(i.indexOf(t),1),1===i.length&&(this.idIndex_[e]=i[0]))}return delete this.uidIndex_[e],this.hasListener(Tk)&&this.dispatchEvent(new Dk(Tk,t)),t}removeFromIdIndex_(t){let e=!1;for(const i in this.idIndex_){const n=this.idIndex_[i];if(t instanceof Sk&&Array.isArray(n)&&n.includes(t))n.splice(n.indexOf(t),1);else if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}}return e}setLoader(t){this.loader_=t}setUrl(t){_b(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(Uk(t,this.format_))}}class Hk extends Qk{constructor(t){super({attributions:(t=t||{}).attributions,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.minDistance=t.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=t.geometryFunction||function(t){const e=t.getGeometry();return _b(!e||"Point"===e.getType(),"The default `geometryFunction` can only handle `Point` or null geometries"),e},this.createCustomCluster_=t.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(t.source||null)}clear(t){this.features.length=0,super.clear(t)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(t,e,i){var n;null===(n=this.source)||void 0===n||n.loadFeatures(t,e,i),e!==this.resolution&&(this.resolution=e,this.refresh())}setDistance(t){this.updateDistance(t,this.minDistance)}setMinDistance(t){this.updateDistance(this.distance,t)}getMinDistance(){return this.minDistance}setSource(t){this.source&&this.source.removeEventListener(nb,this.boundRefresh_),this.source=t,t&&t.addEventListener(nb,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(t,e){const i=0===t?0:Math.min(e,t)/t,n=t!==this.distance||this.interpolationRatio!==i;this.distance=t,this.minDistance=e,this.interpolationRatio=i,n&&this.refresh()}cluster(){if(void 0===this.resolution||!this.source)return;const t=[1/0,1/0,-1/0,-1/0],e=this.distance*this.resolution,i=this.source.getFeatures(),n={};for(let o=0,r=i.length;o<r;o++){const r=i[o];if(!(yb(r)in n)){const i=this.geometryFunction(r);if(i){Wb(i.getCoordinates(),t),Ub(t,e,t);const o=this.source.getFeaturesInExtent(t).filter((function(t){const e=yb(t);return!(e in n)&&(n[e]=!0,!0)}));this.features.push(this.createCluster(o,t))}}}}createCluster(t,e){const i=[0,0];for(let s=t.length-1;s>=0;--s){const e=this.geometryFunction(t[s]);e?ry(i,e.getCoordinates()):t.splice(s,1)}hy(i,1/t.length);const n=av(e),o=this.interpolationRatio,r=new mw([i[0]*(1-o)+n[0]*o,i[1]*(1-o)+n[1]*o]);return this.createCustomCluster_?this.createCustomCluster_(r,t):new Cb({geometry:r,features:t})}}function zk(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function jk(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}let Gk=null;const Vk=[256,256];class Kk extends _E{constructor(t){const e=gS;super(t.tileCoord,e,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null}getSize(){if(this.size_)return this.size_;const t=zk(this.data_);return t?[t.width,t.height]:Vk}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==gS&&this.state!==bS)return;this.state=fS,this.changed();const t=this;this.loader_().then((function(e){t.data_=e,t.state=mS,t.changed()})).catch((function(e){t.error_=e,t.state=bS,t.changed()}))}}class qk extends Kk{constructor(t){super({tileCoord:t.tileCoord,loader:()=>Promise.resolve(new Uint8Array(4)),interpolate:t.interpolate,transition:t.transition}),this.pixelRatio_=t.pixelRatio,this.gutter_=t.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=t.sourceTileGrid,this.targetTileGrid_=t.targetTileGrid,this.wrappedTileCoord_=t.wrappedTileCoord||t.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const e=t.sourceProj,i=e.getExtent(),n=t.sourceTileGrid.getExtent();this.clipExtent_=e.canWrapX()?n?uv(i,n):i:n;const o=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),r=this.targetTileGrid_.getExtent();let s=this.sourceTileGrid_.getExtent();const a=r?uv(o,r):o;if(0===ov(a))return void(this.state=vS);i&&(s=s?uv(s,i):i);const l=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),c=t.targetProj,h=LE(e,c,a,l);if(!isFinite(h)||h<=0)return void(this.state=vS);const A=void 0!==t.errorThreshold?t.errorThreshold:.5;if(this.triangulation_=new BE(e,c,a,s,h*A,l),0===this.triangulation_.getTriangles().length)return void(this.state=vS);this.sourceZ_=this.sourceTileGrid_.getZForResolution(h);let u=this.triangulation_.calculateSourceExtent();if(s&&(e.canWrapX()?(u[1]=Kv(u[1],s[1],s[3]),u[3]=Kv(u[3],s[1],s[3])):u=uv(u,s)),ov(u)){let n=0,o=0;e.canWrapX()&&(n=gv(i),o=Math.floor((u[0]-i[0])/n));_v(u.slice(),e,!0).forEach((e=>{const i=this.sourceTileGrid_.getTileRangeForExtentAndZ(e,this.sourceZ_),r=t.getTileFunction;for(let t=i.minX;t<=i.maxX;t++)for(let e=i.minY;e<=i.maxY;e++){const i=r(this.sourceZ_,t,e,this.pixelRatio_);if(i){const t=o*n;this.sourceTiles_.push({tile:i,offset:t})}}++o})),0===this.sourceTiles_.length&&(this.state=vS)}else this.state=vS}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{var i;const n=e.tile;if(!n||n.getState()!==mS)return;const o=n.getSize(),r=this.gutter_;let s;const a=jk(n.getData());s=a||function(t){Gk||(Gk=U_(t.width,t.height,void 0,{willReadFrequently:!0}));const e=Gk.canvas,i=t.width;e.width!==i&&(e.width=i);const n=t.height;return e.height!==n&&(e.height=n),Gk.clearRect(0,0,i,n),Gk.drawImage(t,0,0),Gk.getImageData(0,0,i,n).data}(zk(n.getData()));const l=[o[0]+2*r,o[1]+2*r],c=s instanceof Float32Array,h=l[0]*l[1],A=c?Float32Array:Uint8Array,u=new A(s.buffer),d=A.BYTES_PER_ELEMENT,p=d*u.length/h,g=u.byteLength/l[1],f=Math.floor(g/d/l[0]),m=h*f;let b=u;if(u.length!==m){b=new A(m);let t=0,e=0;const i=l[0]*f;for(let n=0;n<l[1];++n){for(let n=0;n<i;++n)b[t++]=u[e+n];e+=g/d}}const v=this.sourceTileGrid_.getTileCoordExtent(n.tileCoord);v[0]+=e.offset,v[2]+=e.offset;const y=null===(i=this.clipExtent_)||void 0===i?void 0:i.slice();y&&(y[0]+=e.offset,y[2]+=e.offset),t.push({extent:v,clipExtent:y,data:new Uint8Array(b.buffer),dataType:A,bytesPerPixel:p,pixelSize:l})})),this.sourceTiles_.length=0,0===t.length)this.state=bS;else{const e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),n="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],r=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let l,c;const h=t[0].bytesPerPixel;for(let A=Math.ceil(h/3)-1;A>=0;--A){const e=[];for(let n=0,o=t.length;n<o;++n){const i=t[n],o=i.data,r=i.pixelSize,s=r[0],a=r[1],l=U_(s,a,EE),c=l.createImageData(s,a),u=c.data;let d=3*A;for(let t=0,e=u.length;t<e;t+=4)u[t]=o[d],u[t+1]=o[d+1],u[t+2]=o[d+2],u[t+3]=255,d+=h;l.putImageData(c,0,0),e.push({extent:i.extent,clipExtent:i.clipExtent,image:l.canvas})}const i=IE(n,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),r,a,this.triangulation_,e,this.gutter_,!1,!1,!1);for(let t=0,n=e.length;t<n;++t){const i=e[t].image.getContext("2d");H_(i),EE.push(i.canvas)}const u=i.getContext("2d"),d=u.getImageData(0,0,i.width,i.height);H_(u),EE.push(i),l||(c=new Uint8Array(h*d.width*d.height),l=new t[0].dataType(c.buffer));const p=d.data;let g=3*A;for(let t=0,n=p.length;t<n;t+=4)255===p[t+3]?(c[g]=p[t],c[g+1]=p[t+1],c[g+2]=p[t+2]):(c[g]=0,c[g+1]=0,c[g+2]=0),g+=h}this.reprojData_=l,this.reprojSize_=[Math.round(n*this.pixelRatio_),Math.round(o*this.pixelRatio_)],this.state=mS}this.changed()}load(){if(this.state!==gS&&this.state!==bS)return;this.state=fS,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((({tile:e})=>{const i=e.getState();if(i!==gS&&i!==fS)return;t++;const n=db(e,nb,(function(){const i=e.getState();i!=mS&&i!=bS&&i!=vS||(gb(n),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function({tile:t}){t.getState()==gS&&t.load()}))}unlistenSources_(){this.sourcesListenerKeys_.forEach(gb),this.sourcesListenerKeys_=null}}class Wk extends tk{constructor(t){const e=void 0===t.projection?"EPSG:3857":t.projection;let i=t.tileGrid;void 0===i&&e&&(i=YE({extent:JE(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize})),super({cacheSize:.1,attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:e,tileGrid:i,opaque:t.opaque,state:t.state,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.tileSize_=t.tileSize?l_(t.tileSize):null,this.tileSizes_=null,this.tileLoadingKeys_={},this.loader_=t.loader,this.handleTileChange_=this.handleTileChange_.bind(this),this.bandCount=void 0===t.bandCount?4:t.bandCount,this.tileGridForProjection_={},this.tileCacheForProjection_={}}setTileSizes(t){this.tileSizes_=t}getTileSize(t){if(this.tileSizes_)return this.tileSizes_[t];if(this.tileSize_)return this.tileSize_;const e=this.getTileGrid();return e?l_(e.getTileSize(t)):[256,256]}getGutterForProjection(t){const e=this.getProjection();return!e||Ty(e,t)?this.gutter_:0}setLoader(t){this.loader_=t}getReprojTile_(t,e,i,n,o){const r=this.getTileCacheForProjection(n),s=RE(t,e,i);if(r.containsKey(s)){const t=r.get(s);if(t&&t.key==this.getKey())return t}const a=this.getTileGrid(),l=Math.max.apply(null,a.getResolutions().map(((t,e)=>{const i=l_(a.getTileSize(e)),n=this.getTileSize(e);return Math.max(n[0]/i[0],n[1]/i[1])}))),c=this.getTileGridForProjection(o),h=this.getTileGridForProjection(n),A=[t,e,i],u=this.getTileCoordForTileUrlFunction(A,n),d=Object.assign({sourceProj:o,sourceTileGrid:c,targetProj:n,targetTileGrid:h,tileCoord:A,wrappedTileCoord:u,pixelRatio:l,gutter:this.getGutterForProjection(o),getTileFunction:(t,e,i,n)=>this.getTile(t,e,i,n,o)},this.tileOptions),p=new qk(d);return p.key=this.getKey(),p}getTile(t,e,i,n,o){const r=this.getProjection();if(r&&o&&!Ty(r,o))return this.getReprojTile_(t,e,i,o,r);const s=this.getTileSize(t),a=RE(t,e,i);if(this.tileCache.containsKey(a))return this.tileCache.get(a);const l=this.loader_;const c=Object.assign({tileCoord:[t,e,i],loader:function(){return Jm((function(){return l(t,e,i)}))},size:s},this.tileOptions),h=new Kk(c);return h.key=this.getKey(),h.addEventListener(nb,this.handleTileChange_),this.tileCache.set(a,h),h}handleTileChange_(t){const e=t.target,i=yb(e),n=e.getState();let o;n==fS?(this.tileLoadingKeys_[i]=!0,o=QE):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=n==bS?zE:n==mS?HE:void 0),o&&this.dispatchEvent(new ek(o,e))}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||Ty(e,t)))return this.tileGrid;const i=yb(t);return i in this.tileGridForProjection_||(this.tileGridForProjection_[i]=$E(t)),this.tileGridForProjection_[i]}setTileGridForProjection(t,e){const i=Cy(t);if(i){const t=yb(i);t in this.tileGridForProjection_||(this.tileGridForProjection_[t]=e)}}getTileCacheForProjection(t){const e=this.getProjection();if(!e||Ty(e,t))return this.tileCache;const i=yb(t);return i in this.tileCacheForProjection_||(this.tileCacheForProjection_[i]=new DE(.1)),this.tileCacheForProjection_[i]}expireCache(t,e){const i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(const n in this.tileCacheForProjection_){const t=this.tileCacheForProjection_[n];t.expireCache(t==i?e:{})}}clear(){super.clear();for(const t in this.tileCacheForProjection_)this.tileCacheForProjection_[t].clear()}}function Xk(t){return(e,...i)=>Yk(t,e,i)}function $k(t,e){return Xk(eF(t,e).get)}const{apply:Yk,construct:Zk,defineProperty:Jk,get:tF,getOwnPropertyDescriptor:eF,getPrototypeOf:iF,has:nF,ownKeys:oF,set:rF,setPrototypeOf:sF}=Reflect,{iterator:aF,species:lF,toStringTag:cF,for:hF}=Symbol,AF=Object,{create:uF,defineProperty:dF,freeze:pF,is:gF}=AF,fF=Array.prototype[aF],mF=Xk(fF),bF=ArrayBuffer;$k(bF.prototype,"byteLength");const vF="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:null;vF&&$k(vF.prototype,"byteLength");const yF=iF(Uint8Array);yF.from;const wF=yF.prototype;wF[aF],Xk(wF.keys),Xk(wF.values),Xk(wF.entries),Xk(wF.set),Xk(wF.reverse),Xk(wF.fill),Xk(wF.copyWithin),Xk(wF.sort),Xk(wF.slice),Xk(wF.subarray),$k(wF,"buffer"),$k(wF,"byteOffset"),$k(wF,"length"),$k(wF,cF);const xF=Uint8Array,_F=Uint16Array,CF=Uint32Array,BF=Float32Array,SF=iF([][aF]()),EF=Xk(SF.next),kF=Xk(function*(){}().next),FF=iF(SF),TF=Xk(DataView.prototype.getUint16),LF=WeakMap,IF=LF.prototype,MF=Xk(IF.get),PF=Xk(IF.set),RF=new LF,NF=uF(null,{next:{value:function(){const t=MF(RF,this);return EF(t)}},[aF]:{value:function(){return this}}});const OF=new LF,UF=uF(FF,{next:{value:function(){const t=MF(OF,this);return kF(t)},writable:!0,configurable:!0}});for(const t of oF(SF))"next"!==t&&dF(UF,t,eF(SF,t));const DF=new bF(4),QF=new BF(DF),HF=new CF(DF),zF=new _F(512),jF=new xF(512);for(let t=0;t<256;++t){const e=t-127;e<-24?(zF[t]=0,zF[256|t]=32768,jF[t]=24,jF[256|t]=24):e<-14?(zF[t]=1024>>-e-14,zF[256|t]=1024>>-e-14|32768,jF[t]=-e-1,jF[256|t]=-e-1):e<=15?(zF[t]=e+15<<10,zF[256|t]=e+15<<10|32768,jF[t]=13,jF[256|t]=13):e<128?(zF[t]=31744,zF[256|t]=64512,jF[t]=24,jF[256|t]=24):(zF[t]=31744,zF[256|t]=64512,jF[t]=13,jF[256|t]=13)}const GF=new CF(2048);for(let t=1;t<1024;++t){let e=t<<13,i=0;for(;!(8388608&e);)e<<=1,i-=8388608;e&=-8388609,i+=947912704,GF[t]=e|i}for(let t=1024;t<2048;++t)GF[t]=939524096+(t-1024<<13);const VF=new CF(64);for(let t=1;t<31;++t)VF[t]=t<<23;VF[31]=1199570944,VF[32]=2147483648;for(let t=33;t<63;++t)VF[t]=2147483648+(t-32<<23);VF[63]=3347054592;const KF=new _F(64);for(let t=1;t<64;++t)32!==t&&(KF[t]=1024);function qF(t,e,...i){return function(t){const e=t>>10;return HF[0]=GF[KF[e]+(1023&t)]+VF[e],QF[0]}(TF(t,e,...function(t){if(t[aF]===fF&&SF.next===EF)return t;const e=uF(NF);return PF(RF,e,mF(t)),e}(i)))}function WF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XF={exports:{}};function $F(t,e,i){const n=i&&i.debug||!1;n&&console.log("[xml-utils] getting "+e+" in "+t);const o="object"==typeof t?t.outer:t,r=o.slice(0,o.indexOf(">")+1),s=['"',"'"];for(let a=0;a<s.length;a++){const t=s[a],i=e+"\\="+t+"([^"+t+"]*)"+t;n&&console.log("[xml-utils] pattern:",i);const o=new RegExp(i).exec(r);if(n&&console.log("[xml-utils] match:",o),o)return o[1]}}XF.exports=$F,XF.exports.default=$F;const YF=WF(XF.exports);var ZF={exports:{}},JF={exports:{}},tT={exports:{}};function eT(t,e,i){const n=new RegExp(e).exec(t.slice(i));return n?i+n.index:-1}tT.exports=eT,tT.exports.default=eT;var iT=tT.exports,nT={exports:{}};function oT(t,e,i){const n=new RegExp(e).exec(t.slice(i));return n?i+n.index+n[0].length-1:-1}nT.exports=oT,nT.exports.default=oT;var rT=nT.exports,sT={exports:{}};function aT(t,e){const i=new RegExp(e,"g"),n=t.match(i);return n?n.length:0}sT.exports=aT,sT.exports.default=aT;var lT=sT.exports;const cT=iT,hT=rT,AT=lT;function uT(t,e,i){const n=i&&i.debug||!1,o=!(i&&!1===typeof i.nested),r=i&&i.startIndex||0;n&&console.log("[xml-utils] starting findTagByName with",e," and ",i);const s=cT(t,`<${e}[ \n>/]`,r);if(n&&console.log("[xml-utils] start:",s),-1===s)return;const a=t.slice(s+e.length);let l=hT(a,"^[^<]*[ /]>",0);const c=-1!==l&&"/"===a[l-1];if(n&&console.log("[xml-utils] selfClosing:",c),!1===c)if(o){let t=0,i=1,n=0;for(;-1!==(l=hT(a,"[ /]"+e+">",t));){const o=a.substring(t,l+1);if(i+=AT(o,"<"+e+"[ \n\t>]"),n+=AT(o,"</"+e+">"),n>=i)break;t=l}}else l=hT(a,"[ /]"+e+">",0);const h=s+e.length+l+1;if(n&&console.log("[xml-utils] end:",h),-1===h)return;const A=t.slice(s,h);let u;return u=c?null:A.slice(A.indexOf(">")+1,A.lastIndexOf("<")),{inner:u,outer:A,start:s,end:h}}JF.exports=uT,JF.exports.default=uT;const dT=JF.exports;function pT(t,e,i){const n=[],o=i&&i.debug||!1,r=!i||"boolean"!=typeof i.nested||i.nested;let s,a=i&&i.startIndex||0;for(;s=dT(t,e,{debug:o,startIndex:a});)a=r?s.start+1+e.length:s.end,n.push(s);return o&&console.log("findTagsByName found",n.length,"tags"),n}ZF.exports=pT,ZF.exports.default=pT;const gT=WF(ZF.exports),fT={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},mT={};for(const t in fT)fT.hasOwnProperty(t)&&(mT[fT[t]]=parseInt(t,10));const bT=[mT.BitsPerSample,mT.ExtraSamples,mT.SampleFormat,mT.StripByteCounts,mT.StripOffsets,mT.StripRowCounts,mT.TileByteCounts,mT.TileOffsets,mT.SubIFDs],vT={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},yT={};for(const t in vT)vT.hasOwnProperty(t)&&(yT[vT[t]]=parseInt(t,10));const wT={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},xT=0,_T=(e("al",{Version:0,AddCompression:1}),e("am",{None:0,Deflate:1,Zstandard:2}),{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"});const CT=new Map;function BT(t,e){Array.isArray(t)||(t=[t]),t.forEach((t=>CT.set(t,e)))}async function ST(t){const e=CT.get(t.Compression);if(!e)throw new Error(`Unknown compression method identifier: ${t.Compression}`);return new(await e())(t)}function ET(t,e,i,n=1){return new(Object.getPrototypeOf(t).constructor)(e*i*n)}function kT(t,e,i){return(1-i)*t+i*e}function FT(t,e,i,n,o,r="nearest"){switch(r.toLowerCase()){case"nearest":return function(t,e,i,n,o){const r=e/n,s=i/o;return t.map((t=>{const a=ET(t,n,o);for(let l=0;l<o;++l){const o=Math.min(Math.round(s*l),i-1);for(let i=0;i<n;++i){const s=Math.min(Math.round(r*i),e-1),c=t[o*e+s];a[l*n+i]=c}}return a}))}(t,e,i,n,o);case"bilinear":case"linear":return function(t,e,i,n,o){const r=e/n,s=i/o;return t.map((t=>{const a=ET(t,n,o);for(let l=0;l<o;++l){const o=s*l,c=Math.floor(o),h=Math.min(Math.ceil(o),i-1);for(let i=0;i<n;++i){const s=r*i,A=s%1,u=Math.floor(s),d=Math.min(Math.ceil(s),e-1),p=t[c*e+u],g=t[c*e+d],f=t[h*e+u],m=t[h*e+d],b=kT(kT(p,g,A),kT(f,m,A),o%1);a[l*n+i]=b}}return a}))}(t,e,i,n,o);default:throw new Error(`Unsupported resampling method: '${r}'`)}}function TT(t,e,i,n,o,r,s="nearest"){switch(s.toLowerCase()){case"nearest":return function(t,e,i,n,o,r){const s=e/n,a=i/o,l=ET(t,n,o,r);for(let c=0;c<o;++c){const o=Math.min(Math.round(a*c),i-1);for(let i=0;i<n;++i){const a=Math.min(Math.round(s*i),e-1);for(let s=0;s<r;++s){const h=t[o*e*r+a*r+s];l[c*n*r+i*r+s]=h}}}return l}(t,e,i,n,o,r);case"bilinear":case"linear":return function(t,e,i,n,o,r){const s=e/n,a=i/o,l=ET(t,n,o,r);for(let c=0;c<o;++c){const o=a*c,h=Math.floor(o),A=Math.min(Math.ceil(o),i-1);for(let i=0;i<n;++i){const a=s*i,u=a%1,d=Math.floor(a),p=Math.min(Math.ceil(a),e-1);for(let s=0;s<r;++s){const a=t[h*e*r+d*r+s],g=t[h*e*r+p*r+s],f=t[A*e*r+d*r+s],m=t[A*e*r+p*r+s],b=kT(kT(a,g,u),kT(f,m,u),o%1);l[c*n*r+i*r+s]=b}}}return l}(t,e,i,n,o,r);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function LT(t,e,i){let n=0;for(let o=e;o<i;++o)n+=t[o];return n}function IT(t,e,i){switch(t){case 1:if(e<=8)return new Uint8Array(i);if(e<=16)return new Uint16Array(i);if(e<=32)return new Uint32Array(i);break;case 2:if(8===e)return new Int8Array(i);if(16===e)return new Int16Array(i);if(32===e)return new Int32Array(i);break;case 3:switch(e){case 16:case 32:return new Float32Array(i);case 64:return new Float64Array(i)}}throw Error("Unsupported data format/bitsPerSample")}BT([void 0,1],(()=>pr((()=>i.import("./raw-legacy-BDrjqlUA.js"))).then((t=>t.default)))),BT(5,(()=>pr((()=>i.import("./lzw-legacy-BJTdzC9p.js"))).then((t=>t.default)))),BT(6,(()=>{throw new Error("old style JPEG compression is not supported.")})),BT(7,(()=>pr((()=>i.import("./jpeg-legacy-BNM-uGir.js"))).then((t=>t.default)))),BT([8,32946],(()=>pr((()=>i.import("./deflate-legacy-DnI0qCGa.js"))).then((t=>t.default)))),BT(32773,(()=>pr((()=>i.import("./packbits-legacy-JasmFbKs.js"))).then((t=>t.default)))),BT(34887,(()=>pr((()=>i.import("./lerc-legacy-sFHVw0SQ.js"))).then((async t=>(await t.zstd.init(),t))).then((t=>t.default)))),BT(50001,(()=>pr((()=>i.import("./webimage-legacy-C7-2GbH4.js"))).then((t=>t.default))));class MT{constructor(t,e,i,n,o,r){this.fileDirectory=t,this.geoKeys=e,this.dataView=i,this.littleEndian=n,this.tiles=o?{}:null,this.isTiled=!t.StripOffsets;const s=t.PlanarConfiguration;if(this.planarConfiguration=void 0===s?1:s,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");this.source=r}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return void 0!==this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:void 0!==this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(t){return this.isTiled||(t+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-t*this.getTileHeight()}getBytesPerPixel(){let t=0;for(let e=0;e<this.fileDirectory.BitsPerSample.length;++e)t+=this.getSampleByteSize(e);return t}getSampleByteSize(t){if(t>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${t} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[t]/8)}getReaderForSample(t){const e=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1,i=this.fileDirectory.BitsPerSample[t];switch(e){case 1:if(i<=8)return DataView.prototype.getUint8;if(i<=16)return DataView.prototype.getUint16;if(i<=32)return DataView.prototype.getUint32;break;case 2:if(i<=8)return DataView.prototype.getInt8;if(i<=16)return DataView.prototype.getInt16;if(i<=32)return DataView.prototype.getInt32;break;case 3:switch(i){case 16:return function(t,e){return qF(this,t,e)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(t=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1}getBitsPerSample(t=0){return this.fileDirectory.BitsPerSample[t]}getArrayForSample(t,e){return IT(this.getSampleFormat(t),this.getBitsPerSample(t),e)}async getTileOrStrip(t,e,i,n,o){const r=Math.ceil(this.getWidth()/this.getTileWidth()),s=Math.ceil(this.getHeight()/this.getTileHeight());let a;const{tiles:l}=this;let c,h;1===this.planarConfiguration?a=e*r+t:2===this.planarConfiguration&&(a=i*r*s+e*r+t),this.isTiled?(c=this.fileDirectory.TileOffsets[a],h=this.fileDirectory.TileByteCounts[a]):(c=this.fileDirectory.StripOffsets[a],h=this.fileDirectory.StripByteCounts[a]);const A=(await this.source.fetch([{offset:c,length:h}],o))[0];let u;return null!==l&&l[a]?u=l[a]:(u=(async()=>{let t=await n.decode(this.fileDirectory,A);const i=this.getSampleFormat(),o=this.getBitsPerSample();return function(t,e){return(1!==t&&2!==t||!(e<=32)||e%8!=0)&&(3!==t||16!==e&&32!==e&&64!==e)}(i,o)&&(t=function(t,e,i,n,o,r,s){const a=new DataView(t),l=2===i?1:n,c=IT(e,o,2===i?s*r:s*r*n),h=parseInt("1".repeat(o),2);if(1===e){let t;t=1===i?n*o:o;let e=r*t;7&e&&(e=e+7&-8);for(let i=0;i<s;++i){const t=i*e;for(let e=0;e<r;++e){const n=t+e*l*o;for(let t=0;t<l;++t){const s=n+t*o,A=(i*r+e)*l+t,u=Math.floor(s/8),d=s%8;if(d+o<=8)c[A]=a.getUint8(u)>>8-o-d&h;else if(d+o<=16)c[A]=a.getUint16(u)>>16-o-d&h;else if(d+o<=24){const t=a.getUint16(u)<<8|a.getUint8(u+2);c[A]=t>>24-o-d&h}else c[A]=a.getUint32(u)>>32-o-d&h}}}}return c.buffer}(t,i,this.planarConfiguration,this.getSamplesPerPixel(),o,this.getTileWidth(),this.getBlockHeight(e))),t})(),null!==l&&(l[a]=u)),{x:t,y:e,sample:i,data:await u}}async _readRaster(t,e,i,n,o,r,s,a,l){const c=this.getTileWidth(),h=this.getTileHeight(),A=this.getWidth(),u=this.getHeight(),d=Math.max(Math.floor(t[0]/c),0),p=Math.min(Math.ceil(t[2]/c),Math.ceil(A/c)),g=Math.max(Math.floor(t[1]/h),0),f=Math.min(Math.ceil(t[3]/h),Math.ceil(u/h)),m=t[2]-t[0];let b=this.getBytesPerPixel();const v=[],y=[];for(let _=0;_<e.length;++_)1===this.planarConfiguration?v.push(LT(this.fileDirectory.BitsPerSample,0,e[_])/8):v.push(0),y.push(this.getReaderForSample(e[_]));const w=[],{littleEndian:x}=this;for(let _=g;_<f;++_)for(let r=d;r<p;++r){let s;1===this.planarConfiguration&&(s=this.getTileOrStrip(r,_,0,o,l));for(let a=0;a<e.length;++a){const d=a,p=e[a];2===this.planarConfiguration&&(b=this.getSampleByteSize(p),s=this.getTileOrStrip(r,_,p,o,l));const g=s.then((o=>{const r=o.data,s=new DataView(r),a=this.getBlockHeight(o.y),l=o.y*h,p=o.x*c,g=l+a,f=(o.x+1)*c,w=y[d],_=Math.min(a,a-(g-t[3]),u-l),C=Math.min(c,c-(f-t[2]),A-p);for(let h=Math.max(0,t[1]-l);h<_;++h)for(let o=Math.max(0,t[0]-p);o<C;++o){const r=(h*c+o)*b,a=w.call(s,r+v[d],x);let A;n?(A=(h+l-t[1])*m*e.length+(o+p-t[0])*e.length+d,i[A]=a):(A=(h+l-t[1])*m+o+p-t[0],i[d][A]=a)}}));w.push(g)}}if(await Promise.all(w),r&&t[2]-t[0]!==r||s&&t[3]-t[1]!==s){let o;return o=n?TT(i,t[2]-t[0],t[3]-t[1],r,s,e.length,a):FT(i,t[2]-t[0],t[3]-t[1],r,s,a),o.width=r,o.height=s,o}return i.width=r||t[2]-t[0],i.height=s||t[3]-t[1],i}async readRasters({window:t,samples:e=[],interleave:i,pool:n=null,width:o,height:r,resampleMethod:s,fillValue:a,signal:l}={}){const c=t||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const h=(c[2]-c[0])*(c[3]-c[1]),A=this.getSamplesPerPixel();if(e&&e.length){for(let p=0;p<e.length;++p)if(e[p]>=A)return Promise.reject(new RangeError(`Invalid sample index '${e[p]}'.`))}else for(let p=0;p<A;++p)e.push(p);let u;if(i){u=IT(this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,Math.max.apply(null,this.fileDirectory.BitsPerSample),h*e.length),a&&u.fill(a)}else{u=[];for(let t=0;t<e.length;++t){const i=this.getArrayForSample(e[t],h);Array.isArray(a)&&t<a.length?i.fill(a[t]):a&&!Array.isArray(a)&&i.fill(a),u.push(i)}}const d=n||await ST(this.fileDirectory);return await this._readRaster(c,e,u,i,d,o,r,s,l)}async readRGB({window:t,interleave:e=!0,pool:i=null,width:n,height:o,resampleMethod:r,enableAlpha:s=!1,signal:a}={}){const l=t||[0,0,this.getWidth(),this.getHeight()];if(l[0]>l[2]||l[1]>l[3])throw new Error("Invalid subsets");const c=this.fileDirectory.PhotometricInterpretation;if(c===wT.RGB){let l=[0,1,2];if(this.fileDirectory.ExtraSamples!==xT&&s){l=[];for(let t=0;t<this.fileDirectory.BitsPerSample.length;t+=1)l.push(t)}return this.readRasters({window:t,interleave:e,samples:l,pool:i,width:n,height:o,resampleMethod:r,signal:a})}let h;switch(c){case wT.WhiteIsZero:case wT.BlackIsZero:case wT.Palette:h=[0];break;case wT.CMYK:h=[0,1,2,3];break;case wT.YCbCr:case wT.CIELab:h=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const A={window:l,interleave:!0,samples:h,pool:i,width:n,height:o,resampleMethod:r,signal:a},{fileDirectory:u}=this,d=await this.readRasters(A),p=2**this.fileDirectory.BitsPerSample[0];let g;switch(c){case wT.WhiteIsZero:g=function(t,e){const{width:i,height:n}=t,o=new Uint8Array(i*n*3);let r;for(let s=0,a=0;s<t.length;++s,a+=3)r=256-t[s]/e*256,o[a]=r,o[a+1]=r,o[a+2]=r;return o}(d,p);break;case wT.BlackIsZero:g=function(t,e){const{width:i,height:n}=t,o=new Uint8Array(i*n*3);let r;for(let s=0,a=0;s<t.length;++s,a+=3)r=t[s]/e*256,o[a]=r,o[a+1]=r,o[a+2]=r;return o}(d,p);break;case wT.Palette:g=function(t,e){const{width:i,height:n}=t,o=new Uint8Array(i*n*3),r=e.length/3,s=e.length/3*2;for(let a=0,l=0;a<t.length;++a,l+=3){const i=t[a];o[l]=e[i]/65536*256,o[l+1]=e[i+r]/65536*256,o[l+2]=e[i+s]/65536*256}return o}(d,u.ColorMap);break;case wT.CMYK:g=function(t){const{width:e,height:i}=t,n=new Uint8Array(e*i*3);for(let o=0,r=0;o<t.length;o+=4,r+=3){const e=t[o],i=t[o+1],s=t[o+2],a=t[o+3];n[r]=(255-e)/256*255*((255-a)/256),n[r+1]=(255-i)/256*255*((255-a)/256),n[r+2]=(255-s)/256*255*((255-a)/256)}return n}(d);break;case wT.YCbCr:g=function(t){const{width:e,height:i}=t,n=new Uint8ClampedArray(e*i*3);for(let o=0,r=0;o<t.length;o+=3,r+=3){const e=t[o],i=t[o+1],s=t[o+2];n[r]=e+1.402*(s-128),n[r+1]=e-.34414*(i-128)-.71414*(s-128),n[r+2]=e+1.772*(i-128)}return n}(d);break;case wT.CIELab:g=function(t){const{width:e,height:i}=t,n=new Uint8Array(e*i*3);for(let o=0,r=0;o<t.length;o+=3,r+=3){let e,i,s,a=(t[o+0]+16)/116,l=(t[o+1]<<24>>24)/500+a,c=a-(t[o+2]<<24>>24)/200;l=.95047*(l*l*l>.008856?l*l*l:(l-16/116)/7.787),a=1*(a*a*a>.008856?a*a*a:(a-16/116)/7.787),c=1.08883*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),e=3.2406*l+-1.5372*a+-.4986*c,i=-.9689*l+1.8758*a+.0415*c,s=.0557*l+-.204*a+1.057*c,e=e>.0031308?1.055*e**(1/2.4)-.055:12.92*e,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,n[r]=255*Math.max(0,Math.min(1,e)),n[r+1]=255*Math.max(0,Math.min(1,i)),n[r+2]=255*Math.max(0,Math.min(1,s))}return n}(d);break;default:throw new Error("Unsupported photometric interpretation.")}if(!e){const t=new Uint8Array(g.length/3),e=new Uint8Array(g.length/3),i=new Uint8Array(g.length/3);for(let n=0,o=0;n<g.length;n+=3,++o)t[o]=g[n],e[o]=g[n+1],i[o]=g[n+2];g=[t,e,i]}return g.width=d.width,g.height=d.height,g}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const t=[];for(let e=0;e<this.fileDirectory.ModelTiepoint.length;e+=6)t.push({i:this.fileDirectory.ModelTiepoint[e],j:this.fileDirectory.ModelTiepoint[e+1],k:this.fileDirectory.ModelTiepoint[e+2],x:this.fileDirectory.ModelTiepoint[e+3],y:this.fileDirectory.ModelTiepoint[e+4],z:this.fileDirectory.ModelTiepoint[e+5]});return t}getGDALMetadata(t=null){const e={};if(!this.fileDirectory.GDAL_METADATA)return null;const i=this.fileDirectory.GDAL_METADATA;let n=gT(i,"Item");n=null===t?n.filter((t=>void 0===YF(t,"sample"))):n.filter((e=>Number(YF(e,"sample"))===t));for(let o=0;o<n.length;++o){const t=n[o];e[YF(t,"name")]=t.inner}return e}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const t=this.fileDirectory.GDAL_NODATA;return Number(t.substring(0,t.length-1))}getOrigin(){const t=this.fileDirectory.ModelTiepoint,e=this.fileDirectory.ModelTransformation;if(t&&6===t.length)return[t[3],t[4],t[5]];if(e)return[e[3],e[7],e[11]];throw new Error("The image does not have an affine transformation.")}getResolution(t=null){const e=this.fileDirectory.ModelPixelScale,i=this.fileDirectory.ModelTransformation;if(e)return[e[0],-e[1],e[2]];if(i)return 0===i[1]&&0===i[4]?[i[0],-i[5],i[10]]:[Math.sqrt(i[0]*i[0]+i[4]*i[4]),-Math.sqrt(i[1]*i[1]+i[5]*i[5]),i[10]];if(t){const[e,i,n]=t.getResolution();return[e*t.getWidth()/this.getWidth(),i*t.getHeight()/this.getHeight(),n*t.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(t=!1){const e=this.getHeight(),i=this.getWidth();if(this.fileDirectory.ModelTransformation&&!t){const[t,n,o,r,s,a,l,c]=this.fileDirectory.ModelTransformation,h=[[0,0],[0,e],[i,0],[i,e]].map((([e,i])=>[r+t*e+n*i,c+s*e+a*i])),A=h.map((t=>t[0])),u=h.map((t=>t[1]));return[Math.min(...A),Math.min(...u),Math.max(...A),Math.max(...u)]}{const t=this.getOrigin(),n=this.getResolution(),o=t[0],r=t[1],s=o+n[0]*i,a=r+n[1]*e;return[Math.min(o,s),Math.min(r,a),Math.max(o,s),Math.max(r,a)]}}}class PT{constructor(t){this._dataView=new DataView(t)}get buffer(){return this._dataView.buffer}getUint64(t,e){const i=this.getUint32(t,e),n=this.getUint32(t+4,e);let o;if(e){if(o=i+2**32*n,!Number.isSafeInteger(o))throw new Error(`${o} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return o}if(o=2**32*i+n,!Number.isSafeInteger(o))throw new Error(`${o} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return o}getInt64(t,e){let i=0;const n=(128&this._dataView.getUint8(t+(e?7:0)))>0;let o=!0;for(let r=0;r<8;r++){let s=this._dataView.getUint8(t+(e?r:7-r));n&&(o?0!==s&&(s=255&~(s-1),o=!1):s=255&~s),i+=s*256**r}return n&&(i=-i),i}getUint8(t,e){return this._dataView.getUint8(t,e)}getInt8(t,e){return this._dataView.getInt8(t,e)}getUint16(t,e){return this._dataView.getUint16(t,e)}getInt16(t,e){return this._dataView.getInt16(t,e)}getUint32(t,e){return this._dataView.getUint32(t,e)}getInt32(t,e){return this._dataView.getInt32(t,e)}getFloat16(t,e){return qF(this._dataView,t,e)}getFloat32(t,e){return this._dataView.getFloat32(t,e)}getFloat64(t,e){return this._dataView.getFloat64(t,e)}}class RT{constructor(t,e,i,n){this._dataView=new DataView(t),this._sliceOffset=e,this._littleEndian=i,this._bigTiff=n}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(t,e){return this.sliceOffset<=t&&this.sliceTop>=t+e}readUint8(t){return this._dataView.getUint8(t-this._sliceOffset,this._littleEndian)}readInt8(t){return this._dataView.getInt8(t-this._sliceOffset,this._littleEndian)}readUint16(t){return this._dataView.getUint16(t-this._sliceOffset,this._littleEndian)}readInt16(t){return this._dataView.getInt16(t-this._sliceOffset,this._littleEndian)}readUint32(t){return this._dataView.getUint32(t-this._sliceOffset,this._littleEndian)}readInt32(t){return this._dataView.getInt32(t-this._sliceOffset,this._littleEndian)}readFloat32(t){return this._dataView.getFloat32(t-this._sliceOffset,this._littleEndian)}readFloat64(t){return this._dataView.getFloat64(t-this._sliceOffset,this._littleEndian)}readUint64(t){const e=this.readUint32(t),i=this.readUint32(t+4);let n;if(this._littleEndian){if(n=e+2**32*i,!Number.isSafeInteger(n))throw new Error(`${n} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return n}if(n=2**32*e+i,!Number.isSafeInteger(n))throw new Error(`${n} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return n}readInt64(t){let e=0;const i=(128&this._dataView.getUint8(t+(this._littleEndian?7:0)))>0;let n=!0;for(let o=0;o<8;o++){let r=this._dataView.getUint8(t+(this._littleEndian?o:7-o));i&&(n?0!==r&&(r=255&~(r-1),n=!1):r=255&~r),e+=r*256**o}return i&&(e=-e),e}readOffset(t){return this._bigTiff?this.readUint64(t):this.readUint32(t)}}const NT="undefined"!=typeof navigator&&navigator.hardwareConcurrency||2;class OT{constructor(t=NT,e){this.workers=null,this._awaitingDecoder=null,this.size=t,this.messageId=0,t&&(this._awaitingDecoder=e?Promise.resolve(e):new Promise((t=>{pr((()=>i.import("./decoder-legacy-CBOdBBhG.js"))).then((e=>{t(e.create)}))})),this._awaitingDecoder.then((e=>{this._awaitingDecoder=null,this.workers=[];for(let i=0;i<t;i++)this.workers.push({worker:e(),idle:!0})})))}async decode(t,e){return this._awaitingDecoder&&await this._awaitingDecoder,0===this.size?ST(t).then((i=>i.decode(t,e))):new Promise((i=>{const n=this.workers.find((t=>t.idle))||this.workers[Math.floor(Math.random()*this.size)];n.idle=!1;const o=this.messageId++,r=t=>{t.data.id===o&&(n.idle=!0,i(t.data.decoded),n.worker.removeEventListener("message",r))};n.worker.addEventListener("message",r),n.worker.postMessage({fileDirectory:t,buffer:e,id:o},[e])}))}destroy(){this.workers&&(this.workers.forEach((t=>{t.worker.terminate()})),this.workers=null)}}const UT="\r\n\r\n";function DT(t){if(void 0!==Object.fromEntries)return Object.fromEntries(t);const e={};for(const[i,n]of t)e[i.toLowerCase()]=n;return e}function QT(t){return DT(t.split("\r\n").map((t=>{const e=t.split(":").map((t=>t.trim()));return e[0]=e[0].toLowerCase(),e})))}function HT(t){let e,i,n;return t&&([,e,i,n]=t.match(/bytes (\d+)-(\d+)\/(\d+)/),e=parseInt(e,10),i=parseInt(i,10),n=parseInt(n,10)),{start:e,end:i,total:n}}class zT{async fetch(t,e=void 0){return Promise.all(t.map((t=>this.fetchSlice(t,e))))}async fetchSlice(t){throw new Error(`fetching of slice ${t} not possible, not implemented`)}get fileSize(){return null}async close(){}}class jT extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof t.maxAge&&0===t.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if("function"==typeof this.onEviction)for(const[e,i]of t)this.onEviction(e,i.value)}_deleteIfExpired(t,e){return"number"==typeof e.expiry&&e.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(t,e.value),this.delete(t))}_getOrDeleteIfExpired(t,e){if(!1===this._deleteIfExpired(t,e))return e.value}_getItemValue(t,e){return e.expiry?this._getOrDeleteIfExpired(t,e):e.value}_peek(t,e){const i=e.get(t);return this._getItemValue(t,i)}_set(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,e){this.oldCache.delete(t),this._set(t,e)}*_entriesAscending(){for(const t of this.oldCache){const[e,i]=t;if(!this.cache.has(e)){!1===this._deleteIfExpired(e,i)&&(yield t)}}for(const t of this.cache){const[e,i]=t;!1===this._deleteIfExpired(e,i)&&(yield t)}}get(t){if(this.cache.has(t)){const e=this.cache.get(t);return this._getItemValue(t,e)}if(this.oldCache.has(t)){const e=this.oldCache.get(t);if(!1===this._deleteIfExpired(t,e))return this._moveToRecent(t,e),e.value}}set(t,e,{maxAge:i=this.maxAge}={}){const n="number"==typeof i&&i!==Number.POSITIVE_INFINITY?Date.now()+i:void 0;return this.cache.has(t)?this.cache.set(t,{value:e,expiry:n}):this._set(t,{value:e,expiry:n}),this}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):!!this.oldCache.has(t)&&!this._deleteIfExpired(t,this.oldCache.get(t))}peek(t){return this.cache.has(t)?this._peek(t,this.cache):this.oldCache.has(t)?this._peek(t,this.oldCache):void 0}delete(t){const e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");const e=[...this._entriesAscending()],i=e.length-t;i<0?(this.cache=new Map(e),this.oldCache=new Map,this._size=e.length):(i>0&&this._emitEvictions(e.slice(0,i)),this.oldCache=new Map(e.slice(i)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache){const[e,i]=t;!1===this._deleteIfExpired(e,i)&&(yield[e,i.value])}for(const t of this.oldCache){const[e,i]=t;if(!this.cache.has(e)){!1===this._deleteIfExpired(e,i)&&(yield[e,i.value])}}}*entriesDescending(){let t=[...this.cache];for(let e=t.length-1;e>=0;--e){const i=t[e],[n,o]=i;!1===this._deleteIfExpired(n,o)&&(yield[n,o.value])}t=[...this.oldCache];for(let e=t.length-1;e>=0;--e){const i=t[e],[n,o]=i;if(!this.cache.has(n)){!1===this._deleteIfExpired(n,o)&&(yield[n,o.value])}}}*entriesAscending(){for(const[t,e]of this._entriesAscending())yield[t,e.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(const e of this.oldCache.keys())this.cache.has(e)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,e=this){for(const[i,n]of this.entriesAscending())t.call(e,n,i,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}class GT extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,GT),this.name="AbortError"}}class VT extends Error{constructor(t,e){super(e),this.errors=t,this.message=e,this.name="AggregateError"}}const KT=VT;class qT{constructor(t,e,i=null){this.offset=t,this.length=e,this.data=i}get top(){return this.offset+this.length}}class WT{constructor(t,e,i){this.offset=t,this.length=e,this.blockIds=i}}class XT extends zT{constructor(t,{blockSize:e=65536,cacheSize:i=100}={}){super(),this.source=t,this.blockSize=e,this.blockCache=new jT({maxSize:i,onEviction:(t,e)=>{this.evictedBlocks.set(t,e)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(t,e){const i=[],n=[],o=[];this.evictedBlocks.clear();for(const{offset:A,length:u}of t){let t=A+u;const{fileSize:e}=this;null!==e&&(t=Math.min(t,e));for(let r=Math.floor(A/this.blockSize)*this.blockSize;r<t;r+=this.blockSize){const t=Math.floor(r/this.blockSize);this.blockCache.has(t)||this.blockRequests.has(t)||(this.blockIdsToFetch.add(t),n.push(t)),this.blockRequests.has(t)&&i.push(this.blockRequests.get(t)),o.push(t)}}await async function(t){return new Promise((e=>setTimeout(e,t)))}(),this.fetchBlocks(e);const r=[];for(const A of n)this.blockRequests.has(A)&&r.push(this.blockRequests.get(A));await Promise.allSettled(i),await Promise.allSettled(r);const s=[],a=o.filter((t=>this.abortedBlockIds.has(t)||!this.blockCache.has(t)));if(a.forEach((t=>this.blockIdsToFetch.add(t))),a.length>0&&e&&!e.aborted){this.fetchBlocks(null);for(const t of a){const e=this.blockRequests.get(t);if(!e)throw new Error(`Block ${t} is not in the block requests`);s.push(e)}await Promise.allSettled(s)}if(e&&e.aborted)throw new GT("Request was aborted");const l=o.map((t=>this.blockCache.get(t)||this.evictedBlocks.get(t))),c=l.filter((t=>!t));if(c.length)throw new KT(c,"Request failed");const h=new Map(function(t,e){const i=Array.isArray(t)?t:Array.from(t),n=Array.isArray(e)?e:Array.from(e);return i.map(((t,e)=>[t,n[e]]))}(o,l));return this.readSliceData(t,h)}fetchBlocks(t){if(this.blockIdsToFetch.size>0){const e=this.groupBlocks(this.blockIdsToFetch),i=this.source.fetch(e,t);for(let n=0;n<e.length;++n){const o=e[n];for(const e of o.blockIds)this.blockRequests.set(e,(async()=>{try{const t=(await i)[n],o=e*this.blockSize,r=o-t.offset,s=Math.min(r+this.blockSize,t.data.byteLength),a=t.data.slice(r,s),l=new qT(o,a.byteLength,a,e);this.blockCache.set(e,l),this.abortedBlockIds.delete(e)}catch(Gr){if("AbortError"!==Gr.name)throw Gr;Gr.signal=t,this.blockCache.delete(e),this.abortedBlockIds.add(e)}finally{this.blockRequests.delete(e)}})())}this.blockIdsToFetch.clear()}}groupBlocks(t){const e=Array.from(t).sort(((t,e)=>t-e));if(0===e.length)return[];let i=[],n=null;const o=[];for(const r of e)null===n||n+1===r?(i.push(r),n=r):(o.push(new WT(i[0]*this.blockSize,i.length*this.blockSize,i)),i=[r],n=r);return o.push(new WT(i[0]*this.blockSize,i.length*this.blockSize,i)),o}readSliceData(t,e){return t.map((t=>{let i=t.offset+t.length;null!==this.fileSize&&(i=Math.min(this.fileSize,i));const n=Math.floor(t.offset/this.blockSize),o=Math.floor(i/this.blockSize),r=new ArrayBuffer(t.length),s=new Uint8Array(r);for(let a=n;a<=o;++a){const n=e.get(a),o=n.offset-t.offset;let r,l=0,c=0;o<0?l=-o:o>0&&(c=o),r=n.top-i<0?n.length-l:i-n.offset-l;const h=new Uint8Array(n.data,l,r);s.set(h,c)}return r}))}}class $T{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(t){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class YT{constructor(t){this.url=t}async request({headers:t,signal:e}={}){throw new Error("request is not implemented")}}class ZT extends $T{constructor(t){super(),this.response=t}get status(){return this.response.status}getHeader(t){return this.response.headers.get(t)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class JT extends YT{constructor(t,e){super(t),this.credentials=e}async request({headers:t,signal:e}={}){const i=await fetch(this.url,{headers:t,credentials:this.credentials,signal:e});return new ZT(i)}}class tL extends $T{constructor(t,e){super(),this.xhr=t,this.data=e}get status(){return this.xhr.status}getHeader(t){return this.xhr.getResponseHeader(t)}async getData(){return this.data}}class eL extends YT{constructRequest(t,e){return new Promise(((i,n)=>{const o=new XMLHttpRequest;o.open("GET",this.url),o.responseType="arraybuffer";for(const[e,r]of Object.entries(t))o.setRequestHeader(e,r);o.onload=()=>{const t=o.response;i(new tL(o,t))},o.onerror=n,o.onabort=()=>n(new GT("Request aborted")),o.send(),e&&(e.aborted&&o.abort(),e.addEventListener("abort",(()=>o.abort())))}))}async request({headers:t,signal:e}={}){return await this.constructRequest(t,e)}}const iL={};class nL extends $T{constructor(t,e){super(),this.response=t,this.dataPromise=e}get status(){return this.response.statusCode}getHeader(t){return this.response.headers[t]}async getData(){return await this.dataPromise}}class oL extends YT{constructor(t){super(t),this.parsedUrl=iL.parse(this.url),this.httpApi=(this.parsedUrl.protocol,iL)}constructRequest(t,e){return new Promise(((i,n)=>{const o=this.httpApi.get({...this.parsedUrl,headers:t},(t=>{const e=new Promise((e=>{const i=[];t.on("data",(t=>{i.push(t)})),t.on("end",(()=>{const t=Buffer.concat(i).buffer;e(t)})),t.on("error",n)}));i(new nL(t,e))}));o.on("error",n),e&&(e.aborted&&o.destroy(new GT("Request aborted")),e.addEventListener("abort",(()=>o.destroy(new GT("Request aborted")))))}))}async request({headers:t,signal:e}={}){return await this.constructRequest(t,e)}}class rL extends zT{constructor(t,e,i,n){super(),this.client=t,this.headers=e,this.maxRanges=i,this.allowFullFile=n,this._fileSize=null}async fetch(t,e){return this.maxRanges>=t.length?this.fetchSlices(t,e):(this.maxRanges>0&&t.length,Promise.all(t.map((t=>this.fetchSlice(t,e)))))}async fetchSlices(t,e){const i=await this.client.request({headers:{...this.headers,Range:`bytes=${t.map((({offset:t,length:e})=>`${t}-${t+e}`)).join(",")}`},signal:e});if(i.ok){if(206===i.status){const{type:n,params:o}=function(t){const[e,...i]=t.split(";").map((t=>t.trim()));return{type:e,params:DT(i.map((t=>t.split("="))))}}(i.getHeader("content-type"));if("multipart/byteranges"===n){const t=function(t,e){let i=null;const n=new TextDecoder("ascii"),o=[],r=`--${e}`,s=`${r}--`;for(let a=0;a<10;++a)n.decode(new Uint8Array(t,a,r.length))===r&&(i=a);if(null===i)throw new Error("Could not find initial boundary");for(;i<t.byteLength;){const e=n.decode(new Uint8Array(t,i,Math.min(r.length+1024,t.byteLength-i)));if(0===e.length||e.startsWith(s))break;if(!e.startsWith(r))throw new Error("Part does not start with boundary");const a=e.substr(r.length+2);if(0===a.length)break;const l=a.indexOf(UT),c=QT(a.substr(0,l)),{start:h,end:A,total:u}=HT(c["content-range"]),d=i+r.length+l+4,p=parseInt(A,10)+1-parseInt(h,10);o.push({headers:c,data:t.slice(d,d+p),offset:h,length:p,fileSize:u}),i=d+p+4}return o}(await i.getData(),o.boundary);return this._fileSize=t[0].fileSize||null,t}const r=await i.getData(),{start:s,end:a,total:l}=HT(i.getHeader("content-range"));this._fileSize=l||null;const c=[{data:r,offset:s,length:a-s}];if(t.length>1){const i=await Promise.all(t.slice(1).map((t=>this.fetchSlice(t,e))));return c.concat(i)}return c}{if(!this.allowFullFile)throw new Error("Server responded with full file");const t=await i.getData();return this._fileSize=t.byteLength,[{data:t,offset:0,length:t.byteLength}]}}throw new Error("Error fetching data.")}async fetchSlice(t,e){const{offset:i,length:n}=t,o=await this.client.request({headers:{...this.headers,Range:`bytes=${i}-${i+n}`},signal:e});if(o.ok){if(206===o.status){const t=await o.getData(),{total:e}=HT(o.getHeader("content-range"));return this._fileSize=e||null,{data:t,offset:i,length:n}}{if(!this.allowFullFile)throw new Error("Server responded with full file");const t=await o.getData();return this._fileSize=t.byteLength,{data:t,offset:0,length:t.byteLength}}}throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function sL(t,{blockSize:e,cacheSize:i}){return null===e?t:new XT(t,{blockSize:e,cacheSize:i})}function aL(t,{forceXHR:e=!1,...i}={}){return"function"!=typeof fetch||e?"undefined"!=typeof XMLHttpRequest?function(t,{headers:e={},maxRanges:i=0,allowFullFile:n=!1,...o}={}){const r=new eL(t);return sL(new rL(r,e,i,n),o)}(t,i):function(t,{headers:e={},maxRanges:i=0,allowFullFile:n=!1,...o}={}){const r=new oL(t);return sL(new rL(r,e,i,n),o)}(t,i):function(t,{headers:e={},credentials:i,maxRanges:n=0,allowFullFile:o=!1,...r}={}){const s=new JT(t,i);return sL(new rL(s,e,n,o),r)}(t,i)}class lL extends zT{constructor(t){super(),this.file=t}async fetchSlice(t,e){return new Promise(((i,n)=>{const o=this.file.slice(t.offset,t.offset+t.length),r=new FileReader;r.onload=t=>i(t.target.result),r.onerror=n,r.onabort=n,r.readAsArrayBuffer(o),e&&e.addEventListener("abort",(()=>r.abort()))}))}}function cL(t){switch(t){case yT.BYTE:case yT.ASCII:case yT.SBYTE:case yT.UNDEFINED:return 1;case yT.SHORT:case yT.SSHORT:return 2;case yT.LONG:case yT.SLONG:case yT.FLOAT:case yT.IFD:return 4;case yT.RATIONAL:case yT.SRATIONAL:case yT.DOUBLE:case yT.LONG8:case yT.SLONG8:case yT.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${t}`)}}function hL(t,e,i,n){let o=null,r=null;const s=cL(e);switch(e){case yT.BYTE:case yT.ASCII:case yT.UNDEFINED:o=new Uint8Array(i),r=t.readUint8;break;case yT.SBYTE:o=new Int8Array(i),r=t.readInt8;break;case yT.SHORT:o=new Uint16Array(i),r=t.readUint16;break;case yT.SSHORT:o=new Int16Array(i),r=t.readInt16;break;case yT.LONG:case yT.IFD:o=new Uint32Array(i),r=t.readUint32;break;case yT.SLONG:o=new Int32Array(i),r=t.readInt32;break;case yT.LONG8:case yT.IFD8:o=new Array(i),r=t.readUint64;break;case yT.SLONG8:o=new Array(i),r=t.readInt64;break;case yT.RATIONAL:o=new Uint32Array(2*i),r=t.readUint32;break;case yT.SRATIONAL:o=new Int32Array(2*i),r=t.readInt32;break;case yT.FLOAT:o=new Float32Array(i),r=t.readFloat32;break;case yT.DOUBLE:o=new Float64Array(i),r=t.readFloat64;break;default:throw new RangeError(`Invalid field type: ${e}`)}if(e!==yT.RATIONAL&&e!==yT.SRATIONAL)for(let a=0;a<i;++a)o[a]=r.call(t,n+a*s);else for(let a=0;a<i;a+=2)o[a]=r.call(t,n+a*s),o[a+1]=r.call(t,n+(a*s+4));return e===yT.ASCII?new TextDecoder("utf-8").decode(o):o}class AL{constructor(t,e,i){this.fileDirectory=t,this.geoKeyDirectory=e,this.nextIFDByteOffset=i}}class uL extends Error{constructor(t){super(`No image at index ${t}`),this.index=t}}class dL{async readRasters(t={}){const{window:e,width:i,height:n}=t;let{resX:o,resY:r,bbox:s}=t;const a=await this.getImage();let l=a;const c=await this.getImageCount(),h=a.getBoundingBox();if(e&&s)throw new Error('Both "bbox" and "window" passed.');if(i||n){if(e){const[t,i]=a.getOrigin(),[n,o]=a.getResolution();s=[t+e[0]*n,i+e[1]*o,t+e[2]*n,i+e[3]*o]}const t=s||h;if(i){if(o)throw new Error("Both width and resX passed");o=(t[2]-t[0])/i}if(n){if(r)throw new Error("Both width and resY passed");r=(t[3]-t[1])/n}}if(o||r){const t=[];for(let e=0;e<c;++e){const i=await this.getImage(e),{SubfileType:n,NewSubfileType:o}=i.fileDirectory;(0===e||2===n||1&o)&&t.push(i)}t.sort(((t,e)=>t.getWidth()-e.getWidth()));for(let e=0;e<t.length;++e){const i=t[e],n=(h[2]-h[0])/i.getWidth(),s=(h[3]-h[1])/i.getHeight();if(l=i,o&&o>n||r&&r>s)break}}let A=e;if(s){const[t,e]=a.getOrigin(),[i,n]=l.getResolution(a);A=[Math.round((s[0]-t)/i),Math.round((s[1]-e)/n),Math.round((s[2]-t)/i),Math.round((s[3]-e)/n)],A=[Math.min(A[0],A[2]),Math.min(A[1],A[3]),Math.max(A[0],A[2]),Math.max(A[1],A[3])]}return l.readRasters({...t,window:A})}}class pL extends dL{constructor(t,e,i,n,o={}){super(),this.source=t,this.littleEndian=e,this.bigTiff=i,this.firstIFDOffset=n,this.cache=o.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(t,e){const i=this.bigTiff?4048:1024;return new RT((await this.source.fetch([{offset:t,length:void 0!==e?e:i}]))[0],t,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(t){const e=this.bigTiff?20:12,i=this.bigTiff?8:2;let n=await this.getSlice(t);const o=this.bigTiff?n.readUint64(t):n.readUint16(t),r=o*e+(this.bigTiff?16:6);n.covers(t,r)||(n=await this.getSlice(t,r));const s={};let a=t+(this.bigTiff?8:2);for(let h=0;h<o;a+=e,++h){const t=n.readUint16(a),e=n.readUint16(a+2),i=this.bigTiff?n.readUint64(a+4):n.readUint32(a+4);let o,r;const l=cL(e),c=a+(this.bigTiff?12:8);if(l*i<=(this.bigTiff?8:4))o=hL(n,e,i,c);else{const t=n.readOffset(c),r=cL(e)*i;if(n.covers(t,r))o=hL(n,e,i,t);else{o=hL(await this.getSlice(t,r),e,i,t)}}r=1===i&&-1===bT.indexOf(t)&&e!==yT.RATIONAL&&e!==yT.SRATIONAL?o[0]:o,s[fT[t]]=r}const l=function(t){const e=t.GeoKeyDirectory;if(!e)return null;const i={};for(let n=4;n<=4*e[3];n+=4){const o=_T[e[n]],r=e[n+1]?fT[e[n+1]]:null,s=e[n+2],a=e[n+3];let l=null;if(r){if(l=t[r],null==l)throw new Error(`Could not get value of geoKey '${o}'.`);"string"==typeof l?l=l.substring(a,a+s-1):l.subarray&&(l=l.subarray(a,a+s),1===s&&(l=l[0]))}else l=a;i[o]=l}return i}(s),c=n.readOffset(t+i+e*o);return new AL(s,l,c)}async requestIFD(t){if(this.ifdRequests[t])return this.ifdRequests[t];if(0===t)return this.ifdRequests[t]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[t];if(!this.ifdRequests[t-1])try{this.ifdRequests[t-1]=this.requestIFD(t-1)}catch(e){if(e instanceof uL)throw new uL(t);throw e}return this.ifdRequests[t]=(async()=>{const e=await this.ifdRequests[t-1];if(0===e.nextIFDByteOffset)throw new uL(t);return this.parseFileDirectoryAt(e.nextIFDByteOffset)})(),this.ifdRequests[t]}async getImage(t=0){const e=await this.requestIFD(t);return new MT(e.fileDirectory,e.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let t=0,e=!0;for(;e;)try{await this.requestIFD(t),++t}catch(i){if(!(i instanceof uL))throw i;e=!1}return t}async getGhostValues(){const t=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const e="GDAL_STRUCTURAL_METADATA_SIZE=";let i=await this.getSlice(t,130);if(e===hL(i,yT.ASCII,30,t)){const e=hL(i,yT.ASCII,130,t).split("\n")[0],n=Number(e.split("=")[1].split(" ")[0])+e.length;n>130&&(i=await this.getSlice(t,n));const o=hL(i,yT.ASCII,n,t);this.ghostValues={},o.split("\n").filter((t=>t.length>0)).map((t=>t.split("="))).forEach((([t,e])=>{this.ghostValues[t]=e}))}return this.ghostValues}static async fromSource(t,e,i){const n=(await t.fetch([{offset:0,length:1024}],i))[0],o=new PT(n),r=o.getUint16(0,0);let s;if(18761===r)s=!0;else{if(19789!==r)throw new TypeError("Invalid byte order value.");s=!1}const a=o.getUint16(2,s);let l;if(42===a)l=!1;else{if(43!==a)throw new TypeError("Invalid magic number.");l=!0;if(8!==o.getUint16(4,s))throw new Error("Unsupported offset byte-size.")}const c=l?o.getUint64(8,s):o.getUint32(4,s);return new pL(t,s,l,c,e)}close(){return"function"==typeof this.source.close&&this.source.close()}}class gL extends dL{constructor(t,e){super(),this.mainFile=t,this.overviewFiles=e,this.imageFiles=[t].concat(e),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const t=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map((t=>t.parseFileDirectoryAt(t.firstIFDOffset))));return this.fileDirectoriesPerFile=await Promise.all(t),this.fileDirectoriesPerFile}async getImage(t=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let e=0,i=0;for(let n=0;n<this.imageFiles.length;n++){const o=this.imageFiles[n];for(let r=0;r<this.imageCounts[n];r++){if(t===e){const t=await o.requestIFD(i);return new MT(t.fileDirectory,t.geoKeyDirectory,o.dataView,o.littleEndian,o.cache,o.source)}e++,i++}i=0}throw new RangeError("Invalid image index")}async getImageCount(){if(null!==this.imageCount)return this.imageCount;const t=[this.mainFile.getImageCount()].concat(this.overviewFiles.map((t=>t.getImageCount())));return this.imageCounts=await Promise.all(t),this.imageCount=this.imageCounts.reduce(((t,e)=>t+e),0),this.imageCount}}async function fL(t,e){return pL.fromSource(new lL(t),e)}function mL(t){return!(4&~(t.fileDirectory.NewSubfileType||0))}function bL(t,e){if(!t)return!1;if(!0===t)return!0;if(3!==e.getSamplesPerPixel())return!1;const i=e.fileDirectory.PhotometricInterpretation;return i===wT.CMYK||i===wT.YCbCr||i===wT.CIELab||i===wT.ICCLab}const vL="STATISTICS_MAXIMUM",yL="STATISTICS_MINIMUM";let wL;function xL(t){try{return t.getBoundingBox()}catch(pgt){return[0,0,t.getWidth(),t.getHeight()]}}function _L(t){try{return t.getOrigin().slice(0,2)}catch(pgt){return[0,t.getHeight()]}}function CL(t,e){try{return t.getResolution(e)}catch(pgt){return[e.getWidth()/t.getWidth(),e.getHeight()/t.getHeight()]}}function BL(t){const e=t.geoKeys;if(!e)return null;if(e.ProjectedCSTypeGeoKey&&32767!==e.ProjectedCSTypeGeoKey){const t="EPSG:"+e.ProjectedCSTypeGeoKey;let i=Cy(t);if(!i){const n=Sv(e.ProjLinearUnitsGeoKey);n&&(i=new kv({code:t,units:n}))}return i}if(e.GeographicTypeGeoKey&&32767!==e.GeographicTypeGeoKey){const t="EPSG:"+e.GeographicTypeGeoKey;let i=Cy(t);if(!i){const n=Sv(e.GeogAngularUnitsGeoKey);n&&(i=new kv({code:t,units:n}))}return i}return null}function SL(t){return t.getImageCount().then((function(e){const i=new Array(e);for(let n=0;n<e;++n)i[n]=t.getImage(n);return Promise.all(i)}))}function EL(t,e){let i;return i=t.blob?fL(t.blob):t.overviews?async function(t,e=[],i={},n){const o=await pL.fromSource(aL(t,i),n),r=await Promise.all(e.map((t=>pL.fromSource(aL(t,i)))));return new gL(o,r)}(t.url,t.overviews,e):async function(t,e={},i){return pL.fromSource(aL(t,e),i)}(t.url,e),i.then(SL)}function kL(t,e,i,n,o){if(Array.isArray(t)){const r=t.length;if(!Array.isArray(e)||r!=e.length){const t=new Error(n);throw o(t),t}for(let s=0;s<r;++s)kL(t[s],e[s],i,n,o)}else if(Math.abs(t-e)>i*t)throw new Error(n)}function FL(t){return t instanceof Int8Array?127:t instanceof Uint8Array||t instanceof Uint8ClampedArray?255:t instanceof Int16Array?32767:t instanceof Uint16Array?65535:t instanceof Int32Array?2147483647:t instanceof Uint32Array?4294967295:t instanceof Float32Array?34e37:255}class TL extends Wk{constructor(t){super({state:"loading",tileGrid:null,projection:t.projection||null,opaque:t.opaque,transition:t.transition,interpolate:!1!==t.interpolate,wrapX:t.wrapX}),this.sourceInfo_=t.sources;const e=this.sourceInfo_.length;this.sourceOptions_=t.sourceOptions,this.sourceImagery_=new Array(e),this.sourceMasks_=new Array(e),this.resolutionFactors_=new Array(e),this.samplesPerPixel_,this.nodataValues_,this.metadata_,this.normalize_=!1!==t.normalize,this.addAlpha_=!1,this.error_=null,this.convertToRGB_=t.convertToRGB||!1,this.setKey(this.sourceInfo_.map((t=>t.url)).join(","));const i=this,n=new Array(e);for(let o=0;o<e;++o)n[o]=EL(this.sourceInfo_[o],this.sourceOptions_);Promise.all(n).then((function(t){i.configure_(t)})).catch((function(t){vy(t),i.error_=t,i.setState("error")}))}getError(){return this.error_}determineProjection(t){const e=t[0];for(let i=e.length-1;i>=0;--i){const t=BL(e[i]);if(t){this.projection=t;break}}}configure_(t){let e,i,n,o,r;const s=new Array(t.length),a=new Array(t.length),l=new Array(t.length);let c=0;const h=t.length;for(let d=0;d<h;++d){const h=[],A=[];t[d].forEach((t=>{mL(t)?A.push(t):h.push(t)}));const u=h.length;if(A.length>0&&A.length!==u)throw new Error(`Expected one mask per image found ${A.length} masks and ${u} images`);let p,g;const f=new Array(u),m=new Array(u),b=new Array(u);a[d]=new Array(u),l[d]=new Array(u);for(let t=0;t<u;++t){const e=h[t],i=e.getGDALNoData();l[d][t]=e.getGDALMetadata(0),a[d][t]=i;const n=this.sourceInfo_[d].bands;s[d]=n?n.length:e.getSamplesPerPixel();const o=u-(t+1);p||(p=xL(e)),g||(g=_L(e));const r=CL(e,h[0]);b[o]=r[0];const c=[e.getTileWidth(),e.getTileHeight()];c[0]!==c[1]&&c[1]<256&&(c[0]=256,c[1]=256),f[o]=c;const A=r[0]/Math.abs(r[1]);m[o]=[c[0],c[1]/A]}if(e?uv(e,p,e):e=p,i){kL(i,g,0,`Origin mismatch for source ${d}, got [${g}] but expected [${i}]`,this.viewRejector)}else i=g;if(r){r.length-c>b.length&&(c=r.length-b.length);const t=r[r.length-1]/b[b.length-1];this.resolutionFactors_[d]=t;const e=b.map((e=>e*t)),i=`Resolution mismatch for source ${d}, got [${e}] but expected [${r}]`;kL(r.slice(c,r.length),e,.02,i,this.viewRejector)}else r=b,this.resolutionFactors_[d]=1;n?kL(n.slice(c,n.length),m,.01,`Tile size mismatch for source ${d}`,this.viewRejector):n=m,o?kL(o.slice(c,o.length),f,0,`Tile size mismatch for source ${d}`,this.viewRejector):o=f,this.sourceImagery_[d]=h.reverse(),this.sourceMasks_[d]=A.reverse()}for(let d=0,p=this.sourceImagery_.length;d<p;++d){const t=this.sourceImagery_[d];for(;t.length<r.length;)t.unshift(void 0)}this.getProjection()||this.determineProjection(t),this.samplesPerPixel_=s,this.nodataValues_=a,this.metadata_=l;t:for(let d=0;d<h;++d){if(void 0!==this.sourceInfo_[d].nodata){this.addAlpha_=!0;break}if(this.sourceMasks_[d].length){this.addAlpha_=!0;break}const t=a[d],e=this.sourceInfo_[d].bands;if(e){for(let i=0;i<e.length;++i)if(null!==t[e[i]-1]){this.addAlpha_=!0;break t}}else for(let i=0;i<t.length;++i)if(null!==t[i]){this.addAlpha_=!0;break t}}let A=this.addAlpha_?1:0;for(let d=0;d<h;++d)A+=s[d];this.bandCount=A;const u=new WE({extent:e,minZoom:c,origin:i,resolutions:r,tileSizes:n});this.tileGrid=u,this.setTileSizes(o),this.setLoader(this.loadTile_.bind(this)),this.setState("ready");2===r.length?r=[r[0],r[1],r[1]/2]:1===r.length&&(r=[2*r[0],r[0],r[0]/2]),this.viewResolver({showFullExtent:!0,projection:this.projection,resolutions:r,center:Ny(av(e),this.projection),extent:Uy(e,this.projection),zoom:1})}loadTile_(t,e,i){const n=this.getTileSize(t),o=this.sourceImagery_.length,r=new Array(2*o),s=this.nodataValues_,a=this.sourceInfo_,l=(wL||(wL=new OT),wL);for(let c=0;c<o;++c){const h=a[c],A=this.resolutionFactors_[c],u=[Math.round(e*(n[0]*A)),Math.round(i*(n[1]*A)),Math.round((e+1)*(n[0]*A)),Math.round((i+1)*(n[1]*A))],d=this.sourceImagery_[c][t];let p,g;h.bands&&(p=h.bands.map((function(t){return t-1}))),g="nodata"in h&&null!==h.nodata?h.nodata:p?p.map((function(t){return s[c][t]})):s[c];const f={window:u,width:n[0],height:n[1],samples:p,fillValue:g,pool:l,interleave:!1};bL(this.convertToRGB_,d)?r[c]=d.readRGB(f):r[c]=d.readRasters(f);const m=o+c,b=this.sourceMasks_[c][t];b?r[m]=b.readRasters({window:u,width:n[0],height:n[1],samples:[0],pool:l,interleave:!1}):r[m]=Promise.resolve(null)}return Promise.all(r).then(this.composeTile_.bind(this,n)).catch((function(t){throw vy(t),t}))}composeTile_(t,e){const i=this.metadata_,n=this.sourceInfo_,o=this.sourceImagery_.length,r=this.bandCount,s=this.samplesPerPixel_,a=this.nodataValues_,l=this.normalize_,c=this.addAlpha_,h=t[0]*t[1],A=h*r;let u;u=l?new Uint8Array(A):new Float32Array(A);let d=0;for(let g=0;g<h;++g){let t=c;for(let r=0;r<o;++r){const h=n[r];let A,f,m=h.min,b=h.max;if(l){const t=i[r][0];void 0===m&&(m=t&&yL in t?parseFloat(t[yL]):(p=e[r][0])instanceof Int8Array?-128:p instanceof Int16Array?-32768:p instanceof Int32Array?-2147483648:p instanceof Float32Array?12e-39:0),void 0===b&&(b=t&&vL in t?parseFloat(t[vL]):FL(e[r][0])),A=255/(b-m),f=-m*A}for(let i=0;i<s[r];++i){const n=e[r][i][g];let o;if(o=l?Kv(A*n+f,0,255):n,c){let e=h.nodata;if(void 0===e){let t;t=h.bands?h.bands[i]-1:i,e=a[r][t]}const s=isNaN(e);(!s&&n!==e||s&&!isNaN(n))&&(t=!1,u[d]=o)}else u[d]=o;d++}if(!t){const i=e[o+r];i&&!i[0][g]&&(t=!0)}}c&&(t||(u[d]=255),d++)}var p;return u}}TL.prototype.getView;const LL="version1",IL="version2",ML="version3",PL={};PL[LL]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},PL[IL]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},PL[ML]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},PL.none={none:{supports:[],formats:[],qualities:[]}};const RL=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,NL=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,OL=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;const UL={};UL[LL]=function(t){let e=t.getComplianceLevelSupportedFeatures();return void 0===e&&(e=PL[LL].level0),{url:void 0===t.imageInfo["@id"]?void 0:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:[...e.formats,void 0===t.imageInfo.formats?[]:t.imageInfo.formats],qualities:[...e.qualities,void 0===t.imageInfo.qualities?[]:t.imageInfo.qualities],resolutions:t.imageInfo.scale_factors,tileSize:void 0!==t.imageInfo.tile_width?void 0!==t.imageInfo.tile_height?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:null!=t.imageInfo.tile_height?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}},UL[IL]=function(t){const e=t.getComplianceLevelSupportedFeatures(),i=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,n=i&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],o=i&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],r=i&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return void 0===t.height?t.width:t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:[...e.supports,...n],formats:[...e.formats,...o],qualities:[...e.qualities,...r]}},UL[ML]=function(t){const e=t.getComplianceLevelSupportedFeatures(),i=void 0===t.imageInfo.extraFormats?e.formats:[...e.formats,...t.imageInfo.extraFormats],n=void 0!==t.imageInfo.preferredFormats&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter((function(t){return["jpg","png","gif"].includes(t)})).reduce((function(t,e){return void 0===t&&i.includes(e)?e:t}),void 0):void 0;return{url:t.imageInfo.id,sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:void 0===t.imageInfo.extraFeatures?e.supports:[...e.supports,...t.imageInfo.extraFeatures],formats:i,qualities:void 0===t.imageInfo.extraQualities?e.qualities:[...e.qualities,...t.imageInfo.extraQualities],preferredFormat:n}};const DL=class{constructor(t){this.setImageInfo(t)}setImageInfo(t){this.imageInfo="string"==typeof t?JSON.parse(t):t}getImageApiVersion(){if(void 0===this.imageInfo)return;let t=this.imageInfo["@context"]||"ol-no-context";"string"==typeof t&&(t=[t]);for(let e=0;e<t.length;e++)switch(t[e]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return LL;case"http://iiif.io/api/image/2/context.json":return IL;case"http://iiif.io/api/image/3/context.json":return ML;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(LL)&&this.imageInfo.identifier)return LL}_b(!1,"Cannot determine IIIF Image API version from provided image information JSON")}getComplianceLevelEntryFromProfile(t){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===t&&(t=this.getImageApiVersion()),t){case LL:if(RL.test(this.imageInfo.profile))return this.imageInfo.profile;break;case ML:if(OL.test(this.imageInfo.profile))return this.imageInfo.profile;break;case IL:if("string"==typeof this.imageInfo.profile&&NL.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&NL.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}}getComplianceLevelFromProfile(t){const e=this.getComplianceLevelEntryFromProfile(t);if(void 0===e)return;const i=e.match(/level[0-2](?:\.json)?$/g);return Array.isArray(i)?i[0].replace(".json",""):void 0}getComplianceLevelSupportedFeatures(){if(void 0===this.imageInfo)return;const t=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(t);return void 0===e?PL.none.none:PL[t][e]}getTileSourceOptions(t){const e=t||{},i=this.getImageApiVersion();if(void 0===i)return;const n=void 0===i?void 0:UL[i](this);return void 0!==n?{url:n.url,version:i,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:void 0!==e.format&&n.formats.includes(e.format)?e.format:void 0!==n.preferredFormat?n.preferredFormat:"jpg",supports:n.supports,quality:e.quality&&n.qualities.includes(e.quality)?e.quality:n.qualities.includes("native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort((function(t,e){return e-t})):void 0,tileSize:n.tileSize}:void 0}};function QL(t){return Array.isArray(t)?Math.min(...t):t}class HL extends q_{constructor(t,e,i,n,o,r,s){let a=t.getExtent();a&&t.canWrapX()&&(a=a.slice(),a[0]=-1/0,a[2]=1/0);let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);const c=l?uv(i,l):i,h=TE(t,e,av(c),n),A=new BE(t,e,c,a,.5*h,n),u=A.calculateSourceExtent(),d=mv(u)?null:r(u,h,o),p=d?r_.IDLE:r_.EMPTY,g=d?d.getPixelRatio():1;super(i,n,g,p),this.targetProj_=e,this.maxSourceExtent_=a,this.triangulation_=A,this.targetResolution_=n,this.targetExtent_=i,this.sourceImage_=d,this.sourcePixelRatio_=g,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==r_.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const t=this.sourceImage_.getState();if(t==r_.LOADED){const t=gv(this.targetExtent_)/this.targetResolution_,e=Av(this.targetExtent_)/this.targetResolution_;this.canvas_=IE(t,e,this.sourcePixelRatio_,QL(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=t,this.changed()}load(){if(this.state==r_.IDLE){this.state=r_.LOADING,this.changed();const t=this.sourceImage_.getState();t==r_.LOADED||t==r_.ERROR?this.reproject_():(this.sourceListenerKey_=db(this.sourceImage_,nb,(function(t){const e=this.sourceImage_.getState();e!=r_.LOADED&&e!=r_.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}}unlistenSource_(){gb(this.sourceListenerKey_),this.sourceListenerKey_=null}}const zL=4,jL="imageloadstart",GL="imageloadend",VL="imageloaderror";class KL extends Dm{constructor(t,e){super(t),this.image=e}}class qL extends jE{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.on,this.once,this.un,this.loader=t.loader||null,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!t.loader&&0===t.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){const e=this.getResolutions();if(e){t=e[Vm(e,t,0)]}return t}getImage(t,e,i,n){const o=this.getProjection();if(!o||!n||Ty(o,n))return o&&(n=o),this.getImageInternal(t,e,i,n);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Ty(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==e&&$b(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new HL(o,n,t,e,i,((t,e,i)=>this.getImageInternal(t,e,i,o)),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,i,n){if(this.loader){const o=XL(t,e,i,1),r=this.findNearestResolution(e);if(this.image&&(this.static_||this.wantedProjection_===n&&(this.wantedExtent_&&zb(this.wantedExtent_,o)||zb(this.image.getExtent(),o))&&(this.wantedResolution_&&QL(this.wantedResolution_)===r||QL(this.image.getResolution())===r)))return this.image;this.wantedProjection_=n,this.wantedExtent_=o,this.wantedResolution_=r,this.image=new q_(o,r,i,this.loader),this.image.addEventListener(nb,this.handleImageChange.bind(this))}return this.image}handleImageChange(t){const e=t.target;let i;switch(e.getState()){case r_.LOADING:this.loading=!0,i=jL;break;case r_.LOADED:this.loading=!1,i=GL;break;case r_.ERROR:this.loading=!1,i=VL;break;default:return}this.hasListener(i)&&this.dispatchEvent(new KL(i,e))}}function WL(t,e){t.getImage().src=e}function XL(t,e,i,n){const o=e/i,r=av(t),s=iy(gv(t)/o,zL),a=iy(Av(t)/o,zL);return cv(r,o,0,[s+2*iy((n-1)*s/2,zL),a+2*iy((n-1)*a/2,zL)])}function $L(t,e){const i=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))}));const n=i.join("&");return t=t.replace(/[?&]$/,""),(t+=t.includes("?")?"&":"?")+n}class YL extends q_{constructor(t,e,i,n,o){super(t,e,i,void 0!==o?r_.IDLE:r_.LOADED),this.loader_=void 0!==o?o:null,this.canvas_=n,this.error_=null}getError(){return this.error_}handleLoad_(t){t?(this.error_=t,this.state=r_.ERROR):this.state=r_.LOADED,this.changed()}load(){this.state==r_.IDLE&&(this.state=r_.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}class ZL extends qL{constructor(t){const e=void 0!==t.crossOrigin?t.crossOrigin:null,i=void 0!==t.imageLoadFunction?t.imageLoadFunction:WL;super({attributions:t.attributions,interpolate:t.interpolate,projection:Cy(t.projection)}),this.url_=t.url,this.imageExtent_=t.imageExtent,this.image=null,this.image=new q_(this.imageExtent_,void 0,1,function(t){const e=t.load||X_,i=t.imageExtent,n=new Image;return null!==t.crossOrigin&&(n.crossOrigin=t.crossOrigin),()=>e(n,t.url).then((t=>{const e=gv(i)/t.width,n=Av(i)/t.height;return{image:t,extent:i,resolution:e!==n?[e,n]:n,pixelRatio:1}}))}({url:t.url,imageExtent:t.imageExtent,crossOrigin:e,load:(t,e)=>(this.image.setImage(t),i(this.image,e),X_(t))})),this.image.addEventListener(nb,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(t,e,i,n){return fv(t,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}const JL="1.3.0",tI=[101,101];function eI(t,e,i,n,o){o.WIDTH=i[0],o.HEIGHT=i[1];const r=n.getAxisOrientation();let s;const a=oy(o.VERSION,"1.3")>=0;return o[a?"CRS":"SRS"]=n.getCode(),s=a&&"ne"==r.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,o.BBOX=s.join(","),$L(t,o)}function iI(t,e,i,n,o,r,s){r=Object.assign({REQUEST:"GetMap"},r);const a=e/i,l=[ty(gv(t)/a,zL),ty(Av(t)/a,zL)];if(1!=i)switch(s){case"geoserver":const t=90*i+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+t:r.FORMAT_OPTIONS="dpi:"+t;break;case"mapserver":r.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":r.DPI=90*i;break;default:throw new Error("Unknown `serverType` configured")}return eI(o,t,l,n,r)}function nI(t,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:JL,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},t)}class oI extends qL{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:WL,this.params_=Object.assign({},t.params),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(t,e,i,n){const o=Cy(i),r=this.getProjection();r&&r!==o&&(e=TE(r,o,t,e),t=My(t,o,r));return function(t,e,i){if(void 0===t.url)return;const n=Cy(t.projection||"EPSG:3857"),o=cv(e,i,0,tI),r={QUERY_LAYERS:t.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(r,nI(t.params,"GetFeatureInfo"),t.params);const s=ey((e[0]-o[0])/i,zL),a=ey((o[3]-e[1])/i,zL),l=oy(r.VERSION,"1.3")>=0;return r[l?"I":"X"]=s,r[l?"J":"Y"]=a,eI(t.url,o,tI,n,r)}({url:this.url_,params:{...this.params_,...n},projection:r||o},t,e)}getLegendUrl(t,e){return function(t,e){if(void 0===t.url)return;const i={SERVICE:"WMS",VERSION:JL,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t.params||void 0===t.params.LAYER){const e=t.params.LAYERS;if(Array.isArray(e)&&1!==e.length)return;i.LAYER=e}if(void 0!==e){const n=Cy(t.projection||"EPSG:3857").getMetersPerUnit()||1,o=28e-5;i.SCALE=e*n/o}return Object.assign(i,t.params),$L(t.url,i)}({url:this.url_,params:{...this.params_,...e}},t)}getParams(){return this.params_}getImageInternal(t,e,i,n){return void 0===this.url_?null:(this.loader&&this.loaderProjection_===n||(this.loaderProjection_=n,this.loader=function(t){const e=void 0===t.hidpi||t.hidpi,i=Cy(t.projection||"EPSG:3857"),n=t.ratio||1.5,o=t.load||X_;return(r,s,a)=>{r=XL(r,s,a,n),1==a||e&&void 0!==t.serverType||(a=1);const l=iI(r,s,a,i,t.url,nI(t.params,"GetMap"),t.serverType),c=new Image;return null!==t.crossOrigin&&(c.crossOrigin=t.crossOrigin),o(c,l).then((t=>({image:t,extent:r,pixelRatio:a})))}}({crossOrigin:this.crossOrigin_,params:this.params_,projection:n,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(t,e)=>(this.image.setImage(t),this.imageLoadFunction_(this.image,e),X_(t))})),super.getImageInternal(t,e,i,n))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(t){this.imageLoadFunction_=t,this.changed()}setUrl(t){t!=this.url_&&(this.url_=t,this.loader=null,this.changed())}updateParams(t){Object.assign(this.params_,t),this.changed()}changed(){this.image=null,super.changed()}}let rI=class extends _E{constructor(t,e,i,n,o,r){super(t,e,r),this.extent=null,this.format_=n,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=o,this.url_=i,this.key=i}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==gS&&(this.setState(fS),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(t,e){this.setFeatures(t)}onError(){this.setState(bS)}setFeatures(t){this.features_=t,this.setState(mS)}setLoader(t){this.loader_=t}};const sI=[];class aI extends _E{constructor(t,e,i,n){super(t,e,{transition:0}),this.context_={},this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=n.bind(void 0,this),this.wrappedTileCoord=i}getContext(t){const e=yb(t);return e in this.context_||(this.context_[e]=U_(1,1,sI)),this.context_[e]}hasContext(t){return yb(t)in this.context_}getImage(t){return this.hasContext(t)?this.getContext(t).canvas:null}getReplayState(t){const e=yb(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[e]}load(){this.getSourceTiles()}release(){for(const t in this.context_){const e=this.context_[t];H_(e),sI.push(e.canvas),delete this.context_[t]}super.release()}}class lI extends sk{constructor(t){const e=t.projection||"EPSG:3857",i=t.extent||JE(e),n=t.tileGrid||YE({extent:i,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:e,state:t.state,tileGrid:n,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:cI,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection}),this.format_=t.format?t.format:null,this.sourceTileCache=new DE(this.tileCache.highWaterMark),this.overlaps_=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:rI,this.tileGrids_={}}getFeaturesInExtent(t){const e=[],i=this.tileCache;if(0===i.getCount())return e;const n=OE(i.peekFirstKey())[0],o=this.tileGrid;return i.forEach((function(i){if(i.tileCoord[0]!==n||i.getState()!==mS)return;const r=i.getSourceTiles();for(let n=0,s=r.length;n<s;++n){const i=r[n],s=i.tileCoord;if(fv(t,o.getTileCoordExtent(s))){const n=i.getFeatures();if(n)for(let i=0,o=n.length;i<o;++i){const o=n[i],r=o.getGeometry();fv(t,r.getExtent())&&e.push(o)}}}})),e}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(t,e){const i=this.getTileCacheForProjection(t),n=Object.keys(e).reduce(((t,e)=>{const n=function(t){const[e,i,n]=t.substring(t.lastIndexOf("/")+1,t.length).split(",").map(Number);return RE(e,i,n)}(e),o=i.peek(n);if(o){const e=o.sourceTiles;for(let i=0,n=e.length;i<n;++i)t[e[i].getKey()]=!0}return t}),{});super.expireCache(t,e),this.sourceTileCache.expireCache(n)}getSourceTiles(t,e,i){if(i.getState()===gS){i.setState(fS);const n=i.wrappedTileCoord,o=this.getTileGridForProjection(e),r=o.getTileCoordExtent(n),s=n[0],a=o.getResolution(s);Ub(r,-a,r);const l=this.tileGrid,c=l.getExtent();c&&uv(r,c,r);const h=l.getZForResolution(a,this.zDirection);l.forEachTileCoord(r,h,(n=>{const o=this.tileUrlFunction(n,t,e),r=this.sourceTileCache.containsKey(o)?this.sourceTileCache.get(o):new this.tileClass(n,o?gS:vS,o,this.format_,this.tileLoadFunction);i.sourceTiles.push(r);const s=r.getState();if(s<mS){const t=e=>{this.handleTileChange(e);const n=r.getState();if(n===mS||n===bS){const e=r.getKey();e in i.errorTileKeys?r.getState()===mS&&delete i.errorTileKeys[e]:i.loadingSourceTiles--,n===bS?i.errorTileKeys[e]=!0:r.removeEventListener(nb,t),0===i.loadingSourceTiles&&i.setState(eb(i.errorTileKeys)?mS:bS)}};r.addEventListener(nb,t),i.loadingSourceTiles++}s===gS&&(r.extent=l.getTileCoordExtent(n),r.projection=e,r.resolution=l.getResolution(n[0]),this.sourceTileCache.set(o,r),r.load())})),i.loadingSourceTiles||i.setState(i.sourceTiles.some((t=>t.getState()===bS))?bS:mS)}return i.sourceTiles}getTile(t,e,i,n,o){const r=RE(t,e,i),s=this.getKey();let a;if(this.tileCache.containsKey(r)&&(a=this.tileCache.get(r),a.key===s))return a;const l=[t,e,i];let c=this.getTileCoordForTileUrlFunction(l,o);const h=this.getTileGrid().getExtent(),A=this.getTileGridForProjection(o);if(c&&h){const e=A.getTileCoordExtent(c);Ub(e,-A.getResolution(t),e),fv(h,e)||(c=null)}let u=!0;if(null!==c){const e=this.tileGrid,i=A.getResolution(t),r=e.getZForResolution(i,1),s=A.getTileCoordExtent(c);Ub(s,-i,s),e.forEachTileCoord(s,r,(t=>{u=u&&!this.tileUrlFunction(t,n,o)}))}const d=new aI(l,u?vS:gS,c,this.getSourceTiles.bind(this,n,o));return d.key=s,a?(d.interimTile=a,d.refreshInterimChain(),this.tileCache.replace(r,d)):this.tileCache.set(r,d),d}getTileGridForProjection(t){const e=t.getCode();let i=this.tileGrids_[e];if(!i){const t=this.tileGrid,n=t.getResolutions().slice(),o=n.map((function(e,i){return t.getOrigin(i)})),r=n.map((function(e,i){return t.getTileSize(i)})),s=yx+1;for(let e=n.length;e<s;++e)n.push(n[e-1]/2),o.push(o[e-1]),r.push(r[e-1]);i=new WE({extent:t.getExtent(),origins:o,resolutions:n,tileSizes:r}),this.tileGrids_[e]=i}return i}getTilePixelRatio(t){return t}getTilePixelSize(t,e,i){const n=l_(this.getTileGridForProjection(i).getTileSize(t),this.tmpSize);return[Math.round(n[0]*e),Math.round(n[1]*e)]}updateCacheSize(t,e){super.updateCacheSize(2*t,e),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(e).highWaterMark}}function cI(t,e){t.setLoader((function(i,n,o){Ok(e,t.getFormat(),i,n,o,t.onLoad.bind(t),t.onError.bind(t))}))}const hI='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class AI extends hk{constructor(t){let e;e=void 0!==(t=t||{}).attributions?t.attributions:[hI];const i=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",n=void 0!==t.url?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:e,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:i,interpolate:t.interpolate,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,opaque:void 0===t.opaque||t.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:n,wrapX:t.wrapX,zDirection:t.zDirection})}}class uI extends Ux{constructor(t){super(t=t||{})}}class dI extends fb{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t}getFeatures(t){return bb()}getData(t){return null}prepareFrame(t){return bb()}renderFrame(t,e){return bb()}loadedTileCallback(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i}createLoadedTileFinder(t,e,i){return(n,o)=>{const r=this.loadedTileCallback.bind(this,i,n);return t.forEachLoadedTile(e,n,o,r)}}forEachFeatureAtCoordinate(t,e,i,n,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;e.getState()!==r_.LOADED&&e.getState()!==r_.ERROR||this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=r_.LOADED&&e!=r_.ERROR&&t.addEventListener(nb,this.boundHandleImageChange_),e==r_.IDLE&&(t.load(),e=t.getState()),e==r_.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class pI{constructor(){t(this,"pushMethodArgs_",((...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this))),this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Q_(),{get:(t,e)=>{if("function"==typeof Q_()[e])return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e),this.pushMethodArgs_},set:(t,e,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e,i),!0)})}pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach((e=>{for(let i=0,n=e.length;i<n;++i){const n=e[i];if("function"==typeof n){n(t);continue}const o=e[++i];if("function"==typeof t[n])t[n](...o);else{if("function"==typeof o){t[n]=o(t);continue}t[n]=o}}}))}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const gI=[];let fI=null;class mI extends dI{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,i){let n;fI||(fI=U_(1,1,void 0,{willReadFrequently:!0})),fI.clearRect(0,0,1,1);try{fI.drawImage(t,e,i,1,1,0,0,1,1),n=fI.getImageData(0,0,1,1).data}catch(Gr){return fI=null,null}return n}getBackground(t){let e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,i){const n=this.getLayer().getClassName();let o,r;if(t&&t.className===n&&(!i||t&&t.style.backgroundColor&&Wm(B_(t.style.backgroundColor),B_(i)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(r=e.getContext("2d"))}if(r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=n;let t=o.style;t.position="absolute",t.width="100%",t.height="100%",r=U_();const e=r.canvas;o.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=o,this.context=r}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)}clipUnrotated(t,e,i){const n=dv(i),o=pv(i),r=sv(i),s=rv(i);Tb(e.coordinateToPixelTransform,n),Tb(e.coordinateToPixelTransform,o),Tb(e.coordinateToPixelTransform,r),Tb(e.coordinateToPixelTransform,s);const a=this.inversePixelTransform;Tb(a,n),Tb(a,o),Tb(a,r),Tb(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()}prepareContainer(t,e){const i=t.extent,n=t.viewState.resolution,o=t.viewState.rotation,r=t.pixelRatio,s=Math.round(gv(i)/n*r),a=Math.round(Av(i)/n*r);Mb(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/r,1/r,o,-s/2,-a/2),Pb(this.inversePixelTransform,this.pixelTransform);const l=function(t){const e="matrix("+t.map(((t,e)=>Math.round(t*Rb[e])/Rb[e])).join(", ")+")";return e}(this.pixelTransform);if(this.useContainer(e,l,this.getBackground(t)),!this.containerReused){const t=this.context.canvas;t.width!=s||t.height!=a?(t.width=s,t.height=a):this.context.clearRect(0,0,s,a),l!==t.style.transform&&(t.style.transform=l)}}dispatchRenderEvent_(t,e,i){const n=this.getLayer();if(n.hasListener(t)){const o=new VB(t,this.inversePixelTransform,i,e);n.dispatchEvent(o)}}preRender(t,e){this.frameState=e,e.declutter||this.dispatchRenderEvent_(ux,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_(dx,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new pI),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(ux,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(dx,this.context,t))}getRenderTransform(t,e,i,n,o,r,s){const a=o/2,l=r/2,c=n/e,h=-c,A=-t[0]+s,u=-t[1];return Mb(this.tempTransform,a,l,c,h,-i,A,u)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class bI extends mI{constructor(t){super(t),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(t){const e=t.layerStatesArray[t.layerIndex],i=t.pixelRatio,n=t.viewState,o=n.resolution,r=this.getLayer().getSource(),s=t.viewHints;let a=t.extent;if(void 0!==e.extent&&(a=uv(a,Dy(e.extent,n.projection))),!s[mx]&&!s[bx]&&!mv(a))if(r){const t=n.projection,e=r.getImage(a,o,i,t);e&&(this.loadImage(e)?this.image_=e:e.getState()===r_.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(t){const e=this.frameState;if(!e)return null;const i=this.getLayer(),n=Tb(e.pixelToCoordinateTransform,t.slice()),o=i.getExtent();if(o&&!Hb(o,n))return null;const r=this.image_.getExtent(),s=this.image_.getImage(),a=gv(r),l=Math.floor(s.width*((n[0]-r[0])/a));if(l<0||l>=s.width)return null;const c=Av(r),h=Math.floor(s.height*((r[3]-n[1])/c));return h<0||h>=s.height?null:this.getImageData(s,l,h)}renderFrame(t,e){const i=this.image_,n=i.getExtent(),o=i.getResolution(),[r,s]=Array.isArray(o)?o:[o,o],a=i.getPixelRatio(),l=t.layerStatesArray[t.layerIndex],c=t.pixelRatio,h=t.viewState,A=h.center,u=h.resolution,d=c*r/(u*a),p=c*s/(u*a);this.prepareContainer(t,e);const g=this.context.canvas.width,f=this.context.canvas.height,m=this.getRenderContext(t);let b=!1,v=!0;if(l.extent){const e=Dy(l.extent,h.projection);v=fv(e,t.extent),b=v&&!zb(e,t.extent),b&&this.clipUnrotated(m,t,e)}const y=i.getImage(),w=Mb(this.tempTransform,g/2,f/2,d,p,0,a*(n[0]-A[0])/r,a*(A[1]-n[3])/s);this.renderedResolution=s*c/a;const x=y.width*w[0],_=y.height*w[3];if(this.getLayer().getSource().getInterpolate()||(m.imageSmoothingEnabled=!1),this.preRender(m,t),v&&x>=.5&&_>=.5){const t=w[4],e=w[5],i=l.opacity;1!==i&&(m.save(),m.globalAlpha=i),m.drawImage(y,0,0,+y.width,+y.height,t,e,x,_),1!==i&&m.restore()}return this.postRender(this.context,t),b&&m.restore(),m.imageSmoothingEnabled=!0,this.container}}class vI extends uI{constructor(t){super(t)}createRenderer(){return new bI(this)}getData(t){return super.getData(t)}}const yI="preload",wI="useInterimTilesOnError";class xI extends Ux{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getPreload(){return this.get(yI)}setPreload(t){this.set(yI,t)}getUseInterimTilesOnError(){return this.get(wI)}setUseInterimTilesOnError(t){this.set(wI,t)}getData(t){return super.getData(t)}}class _I extends mI{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new VE(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),i=t.getState(),n=e.getUseInterimTilesOnError();return i==mS||i==vS||i==bS&&!n}getTile(t,e,i,n){const o=n.pixelRatio,r=n.viewState.projection,s=this.getLayer();let a=s.getSource().getTile(t,e,i,o,r);return a.getState()==bS&&s.getUseInterimTilesOnError()&&s.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(a)||(a=a.getInterimTile()),a}getData(t){const e=this.frameState;if(!e)return null;const i=this.getLayer(),n=Tb(e.pixelToCoordinateTransform,t.slice()),o=i.getExtent();if(o&&!Hb(o,n))return null;const r=e.pixelRatio,s=e.viewState.projection,a=e.viewState,l=i.getRenderSource(),c=l.getTileGridForProjection(a.projection),h=l.getTilePixelRatio(e.pixelRatio);for(let A=c.getZForResolution(a.resolution);A>=c.getMinZoom();--A){const t=c.getTileCoordForCoordAndZ(n,A),e=l.getTile(A,t[1],t[2],r,s);if(!(e instanceof CE||e instanceof ME)||e instanceof ME&&e.getState()===vS)return null;if(e.getState()!==mS)continue;const i=c.getOrigin(A),o=l_(c.getTileSize(A)),u=c.getResolution(A),d=Math.floor(h*((n[0]-i[0])/u-t[1]*o[0])),p=Math.floor(h*((i[1]-n[1])/u-t[2]*o[1])),g=Math.round(h*l.getGutterForProjection(a.projection));return this.getImageData(e.getImage(),d+g,p+g)}return null}loadedTileCallback(t,e,i){return!!this.isDrawableTile(i)&&super.loadedTileCallback(t,e,i)}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,e){const i=t.layerStatesArray[t.layerIndex],n=t.viewState,o=n.projection,r=n.resolution,s=n.center,a=n.rotation,l=t.pixelRatio,c=this.getLayer(),h=c.getSource(),A=h.getRevision(),u=h.getTileGridForProjection(o),d=u.getZForResolution(r,h.zDirection),p=u.getResolution(d);let g=t.extent;const f=t.viewState.resolution,m=h.getTilePixelRatio(l);this.prepareContainer(t,e);const b=this.context.canvas.width,v=this.context.canvas.height,y=i.extent&&Dy(i.extent);y&&(g=uv(g,Dy(i.extent)));const w=p*b/2/m,x=p*v/2/m,_=[s[0]-w,s[1]-x,s[0]+w,s[1]+x],C=u.getTileRangeForExtentAndZ(g,d),B={};B[d]={};const S=this.createLoadedTileFinder(h,o,B),E=this.tmpExtent,k=this.tmpTileRange_;this.newTiles_=!1;const F=a?hv(n.center,f,a,t.size):void 0;for(let N=C.minX;N<=C.maxX;++N)for(let e=C.minY;e<=C.maxY;++e){if(a&&!u.tileCoordIntersectsViewport([d,N,e],F))continue;const n=this.getTile(d,N,e,t);if(this.isDrawableTile(n)){const e=yb(this);if(n.getState()==mS){B[d][n.tileCoord.toString()]=n;let t=n.inTransition(e);t&&1!==i.opacity&&(n.endTransition(e),t=!1),this.newTiles_||!t&&this.renderedTiles.includes(n)||(this.newTiles_=!0)}if(1===n.getAlpha(e,t.time))continue}const o=u.getTileCoordChildTileRange(n.tileCoord,k,E);let r=!1;o&&(r=S(d+1,o)),r||u.forEachTileCoordParentTileRange(n.tileCoord,S,k,E)}const T=p/r*l/m,L=this.getRenderContext(t);Mb(this.tempTransform,b/2,v/2,T,T,0,-b/2,-v/2),y&&this.clipUnrotated(L,t,y),h.getInterpolate()||(L.imageSmoothingEnabled=!1),this.preRender(L,t),this.renderedTiles.length=0;let I,M,P,R=Object.keys(B).map(Number);R.sort(jm),1!==i.opacity||this.containerReused&&!h.getOpaque(t.viewState.projection)?(I=[],M=[]):R=R.reverse();for(let N=R.length-1;N>=0;--N){const e=R[N],i=h.getTilePixelSize(e,l,o),n=u.getResolution(e)/p,r=i[0]*n*T,s=i[1]*n*T,a=u.getTileCoordForCoordAndZ(dv(_),e),c=u.getTileCoordExtent(a),A=Tb(this.tempTransform,[m*(c[0]-_[0])/p,m*(_[3]-c[3])/p]),g=m*h.getGutterForProjection(o),f=B[e];for(const o in f){const i=f[o],n=i.tileCoord,l=a[1]-n[1],c=Math.round(A[0]-(l-1)*r),u=a[2]-n[2],p=Math.round(A[1]-(u-1)*s),m=Math.round(A[0]-l*r),b=Math.round(A[1]-u*s),v=c-m,y=p-b,w=d===e,x=w&&1!==i.getAlpha(yb(this),t.time);let _=!1;if(!x)if(I){P=[m,b,m+v,b,m+v,b+y,m,b+y];for(let t=0,i=I.length;t<i;++t)if(d!==e&&e<M[t]){const e=I[t];fv([m,b,m+v,b+y],[e[0],e[3],e[4],e[7]])&&(_||(L.save(),_=!0),L.beginPath(),L.moveTo(P[0],P[1]),L.lineTo(P[2],P[3]),L.lineTo(P[4],P[5]),L.lineTo(P[6],P[7]),L.moveTo(e[6],e[7]),L.lineTo(e[4],e[5]),L.lineTo(e[2],e[3]),L.lineTo(e[0],e[1]),L.clip())}I.push(P),M.push(e)}else L.clearRect(m,b,v,y);this.drawTileImage(i,t,m,b,v,y,g,w),I&&!x?(_&&L.restore(),this.renderedTiles.unshift(i)):this.renderedTiles.push(i),this.updateUsedTiles(t.usedTiles,h,i)}}return this.renderedRevision=A,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!$b(this.renderedExtent_,_),this.renderedExtent_=_,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(t,h,u,l,o,g,d,c.getPreload()),this.scheduleExpireCache(t,h),this.postRender(this.context,t),i.extent&&L.restore(),L.imageSmoothingEnabled=!0,this.container}drawTileImage(t,e,i,n,o,r,s,a){const l=this.getTileImage(t);if(!l)return;const c=this.getRenderContext(e),h=yb(this),A=e.layerStatesArray[e.layerIndex],u=A.opacity*(a?t.getAlpha(h,e.time):1),d=u!==c.globalAlpha;d&&(c.save(),c.globalAlpha=u),c.drawImage(l,s,s,l.width-2*s,l.height-2*s,i,n,o,r),d&&c.restore(),u!==A.opacity?e.animate=!0:a&&t.endTransition(h)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const i=function(t,e,i){const n=yb(t);n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(i)}}updateUsedTiles(t,e,i){const n=yb(e);n in t||(t[n]={}),t[n][i.getKey()]=!0}manageTilePyramid(t,e,i,n,o,r,s,a,l){const c=yb(e);c in t.wantedTiles||(t.wantedTiles[c]={});const h=t.wantedTiles[c],A=t.tileQueue,u=i.getMinZoom(),d=t.viewState.rotation,p=d?hv(t.viewState.center,t.viewState.resolution,d,t.size):void 0;let g,f,m,b,v,y,w=0;for(y=u;y<=s;++y)for(f=i.getTileRangeForExtentAndZ(r,y,f),m=i.getResolution(y),b=f.minX;b<=f.maxX;++b)for(v=f.minY;v<=f.maxY;++v)d&&!i.tileCoordIntersectsViewport([y,b,v],p)||(s-y<=a?(++w,g=e.getTile(y,b,v,n,o),g.getState()==gS&&(h[g.getKey()]=!0,A.isKeyQueued(g.getKey())||A.enqueue([g,c,i.getTileCoordCenter(g.tileCoord),m])),void 0!==l&&l(g)):e.useTile(y,b,v,o));e.updateCacheSize(w,o)}}class CI extends xI{constructor(t){super(t)}createRenderer(){return new _I(this)}}const BI={stamen_terrain:{extension:"png",opaque:!0},stamen_terrain_background:{extension:"png",opaque:!0},stamen_terrain_labels:{extension:"png",opaque:!1},stamen_terrain_lines:{extension:"png",opaque:!1},stamen_toner_background:{extension:"png",opaque:!0},stamen_toner:{extension:"png",opaque:!0},stamen_toner_labels:{extension:"png",opaque:!1},stamen_toner_lines:{extension:"png",opaque:!1},stamen_toner_lite:{extension:"png",opaque:!0},stamen_watercolor:{extension:"jpg",opaque:!0},alidade_smooth:{extension:"png",opaque:!0},alidade_smooth_dark:{extension:"png",opaque:!0},alidade_satellite:{extension:"png",opaque:!0},outdoors:{extension:"png",opaque:!0},osm_bright:{extension:"png",opaque:!0}},SI={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}};class EI extends hk{constructor(t){const e=t.layer.indexOf("-"),i=-1==e?t.layer:t.layer.slice(0,e),n=SI[i]||{minZoom:0,maxZoom:20,retina:!0},o=BI[t.layer],r=t.apiKey?"?api_key="+t.apiKey:"",s=n.retina&&t.retina?"@2x":"",a=void 0!==t.url?t.url:"https://tiles.stadiamaps.com/tiles/"+t.layer+"/{z}/{x}/{y}"+s+"."+o.extension+r,l=['&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>','&copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a>',hI];t.layer.startsWith("stamen_")&&l.splice(1,0,'&copy; <a href="https://stamen.com/" target="_blank">Stamen Design</a>'),super({attributions:l,cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:t.interpolate,maxZoom:void 0!==t.maxZoom?t.maxZoom:n.maxZoom,minZoom:void 0!==t.minZoom?t.minZoom:n.minZoom,opaque:o.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:a,tilePixelRatio:s?2:1,wrapX:t.wrapX,zDirection:t.zDirection})}}class kI extends ak{constructor(t){super({attributions:(t=t||{}).attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.params_=Object.assign({},t.params),this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=[1/0,1/0,-1/0,-1/0],this.setKey(this.getKeyForParams_())}getKeyForParams_(){let t=0;const e=[];for(const i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")}getParams(){return this.params_}getRequestUrl_(t,e,i,n,o,r){const s=this.urls;if(!s)return;let a;if(1==s.length)a=s[0];else{a=s[Yv(UE(t),s.length)]}return function(t,e,i,n,o,r){const s=o.getCode().split(/:(?=\d+$)/).pop(),a=i/n,l=[ty(gv(e)/a,zL),ty(Av(e)/a,zL)];return r.SIZE=l[0]+","+l[1],r.BBOX=e.join(","),r.BBOXSR=s,r.IMAGESR=s,r.DPI=Math.round(r.DPI?r.DPI*n:90*n),$L(t.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),r)}(a,i,(this.tileGrid||this.getTileGridForProjection(o)).getResolution(t[0]),n,o,r)}getTilePixelRatio(t){return this.hidpi_?t:1}updateParams(t){Object.assign(this.params_,t),this.setKey(this.getKeyForParams_())}tileUrlFunction(t,e,i){let n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(i)),n.getResolutions().length<=t[0])return;1==e||this.hidpi_||(e=1);const o=n.getTileCoordExtent(t,this.tmpExtent_);let r=l_(n.getTileSize(t[0]),this.tmpSize);1!=e&&(r=a_(r,e,this.tmpSize));const s={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object.assign(s,this.params_),this.getRequestUrl_(t,r,o,e,i,s)}}class FI extends hk{constructor(t){super({opaque:!1,projection:(t=t||{}).projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX,zDirection:t.zDirection,url:t.template||"z:{z} x:{x} y:{y}",tileLoadFunction:(t,e)=>{const i=t.getTileCoord()[0],n=l_(this.tileGrid.getTileSize(i)),o=U_(n[0],n[1]);o.strokeStyle="grey",o.strokeRect(.5,.5,n[0]+.5,n[1]+.5),o.fillStyle="grey",o.strokeStyle="white",o.textAlign="center",o.textBaseline="middle",o.font="24px sans-serif",o.lineWidth=4,o.strokeText(e,n[0]/2,n[1]/2,n[0]),o.fillText(e,n[0]/2,n[1]/2,n[0]),t.setImage(o.canvas)}})}}class TI extends ak{constructor(t){if(super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:Cy("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.tileJSON_=null,this.tileSize_=t.tileSize,t.url)if(t.jsonp)!function(t,e,i,n){const o=document.createElement("script"),r="olc_"+yb(e);function s(){delete window[r],o.parentNode.removeChild(o)}o.async=!0,o.src=t+(t.includes("?")?"&":"?")+"callback="+r;const a=setTimeout((function(){s(),i&&i()}),1e4);window[r]=function(t){clearTimeout(a),s(),e(t)},document.head.appendChild(o)}(t.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",t.url),e.send()}else{if(!t.tileJSON)throw new Error("Either `url` or `tileJSON` options must be provided");this.handleTileJSONResponse(t.tileJSON)}}onXHRLoad_(t){const e=t.target;if(!e.status||e.status>=200&&e.status<300){let t;try{t=JSON.parse(e.responseText)}catch(Gr){return void this.handleTileJSONError()}this.handleTileJSONResponse(t)}else this.handleTileJSONError()}onXHRError_(t){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(t){const e=Cy("EPSG:4326"),i=this.getProjection();let n;if(void 0!==t.bounds){const o=Ly(e,i);n=wv(t.bounds,o)}const o=JE(i),r=t.minzoom||0,s=YE({extent:o,maxZoom:t.maxzoom||22,minZoom:r,tileSize:this.tileSize_});if(this.tileGrid=s,this.tileUrlFunction=nk(t.tiles,s),t.attribution&&!this.getAttributions()){const e=void 0!==n?n:o;this.setAttributions((function(i){return fv(e,i.extent)?[t.attribution]:null}))}this.tileJSON_=t,this.setState("ready")}handleTileJSONError(){this.setState("error")}}class LI extends ak{constructor(t){t=t||{};const e=Object.assign({},t.params),i=!("TRANSPARENT"in e)||e.TRANSPARENT;super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:!i,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.params_=e,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=[1/0,1/0,-1/0,-1/0],this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,e,i,n){const o=Cy(i),r=this.getProjection()||o;let s=this.getTileGrid();s||(s=this.getTileGridForProjection(r));const a=My(t,o,r),l=TE(r,o,t,e),c=s.getZForResolution(l,this.zDirection),h=s.getResolution(c),A=s.getTileCoordForCoordAndZ(a,c);if(s.getResolutions().length<=A[0])return;let u=s.getTileCoordExtent(A,this.tmpExtent_);const d=this.gutter_;0!==d&&(u=Ub(u,h*d,u));const p={QUERY_LAYERS:this.params_.LAYERS};Object.assign(p,nI(this.params_,"GetFeatureInfo"),n);const g=Math.floor((a[0]-u[0])/h),f=Math.floor((u[3]-a[1])/h);return p[this.v13_?"I":"X"]=g,p[this.v13_?"J":"Y"]=f,this.getRequestUrl_(A,u,1,r||o,p)}getLegendUrl(t,e){if(void 0===this.urls[0])return;const i={SERVICE:"WMS",VERSION:JL,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){const t=this.params_.LAYERS;if(!(!Array.isArray(t)||1===t.length))return;i.LAYER=t}if(void 0!==t){const e=this.getProjection()?this.getProjection().getMetersPerUnit():1,n=28e-5;i.SCALE=t*e/n}return Object.assign(i,e),$L(this.urls[0],i)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,e,i,n,o){const r=this.urls;if(!r)return;let s;if(1==r.length)s=r[0];else{s=r[Yv(UE(t),r.length)]}return iI(e,(this.tileGrid||this.getTileGridForProjection(n)).getResolution(t[0]),i,n,s,o,this.serverType_)}getTilePixelRatio(t){return this.hidpi_&&void 0!==this.serverType_?t:1}getKeyForParams_(){let t=0;const e=[];for(const i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")}updateParams(t){Object.assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const t=this.params_.VERSION||JL;this.v13_=oy(t,"1.3")>=0}tileUrlFunction(t,e,i){let n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(i)),n.getResolutions().length<=t[0])return;1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);const o=n.getResolution(t[0]);let r=n.getTileCoordExtent(t,this.tmpExtent_);const s=this.gutter_;0!==s&&(r=Ub(r,o*s,r));const a=Object.assign({},nI(this.params_,"GetMap"));return this.getRequestUrl_(t,r,e,i,a)}}class II extends ak{constructor(t){const e=void 0!==t.requestEncoding?t.requestEncoding:"KVP",i=t.tileGrid;let n=t.urls;void 0===n&&void 0!==t.url&&(n=rk(t.url)),super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:n,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.version_=void 0!==t.version?t.version:"1.0.0",this.format_=void 0!==t.format?t.format:"image/jpeg",this.dimensions_=void 0!==t.dimensions?t.dimensions:{},this.layer_=t.layer,this.matrixSet_=t.matrixSet,this.style_=t.style,this.requestEncoding_=e,this.setKey(this.getKeyForDimensions_()),n&&n.length>0&&(this.tileUrlFunction=ok(n.map(this.createFromWMTSTemplate.bind(this))))}setUrls(t){this.urls=t;const e=t.join("\n");this.setTileUrlFunction(ok(t.map(this.createFromWMTSTemplate.bind(this))),e)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const t=this.urls?this.urls.slice(0):[];for(const e in this.dimensions_)t.push(e+"-"+this.dimensions_[e]);return t.join("/")}updateDimensions(t){Object.assign(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(t){const e=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==e&&Object.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t="KVP"==e?$L(t,i):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in i?i[e.toLowerCase()]:t}));const n=this.tileGrid,o=this.dimensions_;return function(i,r,s){if(!i)return;const a={TileMatrix:n.getMatrixId(i[0]),TileCol:i[1],TileRow:i[2]};Object.assign(a,o);let l=t;return l="KVP"==e?$L(l,a):l.replace(/\{(\w+?)\}/g,(function(t,e){return a[e]})),l}}}const MI=0,PI=1,RI=2,NI=3,OI=4,UI=5,DI=6,QI=7,HI=8,zI=9,jI=10,GI=11,VI=12,KI=[HI],qI=[VI],WI=[PI],XI=[NI];class $I{drawCustom(t,e,i,n,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,i){}drawFeature(t,e,i){}drawGeometryCollection(t,e,i){}drawLineString(t,e,i){}drawMultiLineString(t,e,i){}drawMultiPoint(t,e,i){}drawMultiPolygon(t,e,i){}drawPoint(t,e,i){}drawPolygon(t,e,i){}drawText(t,e,i){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}class YI extends $I{constructor(t,e,i,n){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,o=this.coordinates;let r=o.length;for(let s=0,a=t.length;s<a;s+=e)n[0]=t[s],n[1]=t[s+1],Hb(i,n)&&(o[r++]=n[0],o[r++]=n[1]);return r}appendFlatLineCoordinates(t,e,i,n,o,r){const s=this.coordinates;let a=s.length;const l=this.getBufferedMaxExtent();r&&(e+=n);let c=t[e],h=t[e+1];const A=this.tmpCoordinate_;let u,d,p,g=!0;for(u=e+n;u<i;u+=n)A[0]=t[u],A[1]=t[u+1],p=Gb(l,A),p!==d?(g&&(s[a++]=c,s[a++]=h,g=!1),s[a++]=A[0],s[a++]=A[1]):p===Nb.INTERSECTING?(s[a++]=A[0],s[a++]=A[1],g=!1):g=!0,c=A[0],h=A[1],d=p;return(o&&g||u===e+n)&&(s[a++]=c,s[a++]=h),a}drawCustomCoordinates_(t,e,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r],a=this.appendFlatLineCoordinates(t,e,s,n,!1,!1);o.push(a),e=s}return e}drawCustom(t,e,i,n,o){this.beginGeometry(t,e,o);const r=t.getType(),s=t.getStride(),a=this.coordinates.length;let l,c,h,A,u;switch(r){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),A=[];const e=t.getEndss();u=0;for(let t=0,i=e.length;t<i;++t){const i=[];u=this.drawCustomCoordinates_(l,u,e[t],s,i),A.push(i)}this.instructions.push([OI,a,A,t,i,dw,o]),this.hitDetectionInstructions.push([OI,a,A,t,n||i,dw,o]);break;case"Polygon":case"MultiLineString":h=[],l="Polygon"==r?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),u=this.drawCustomCoordinates_(l,0,t.getEnds(),s,h),this.instructions.push([OI,a,h,t,i,uw,o]),this.hitDetectionInstructions.push([OI,a,h,t,n||i,uw,o]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([OI,a,c,t,i,Aw,o]),this.hitDetectionInstructions.push([OI,a,c,t,n||i,Aw,o]);break;case"MultiPoint":l=t.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,s),c>a&&(this.instructions.push([OI,a,c,t,i,Aw,o]),this.hitDetectionInstructions.push([OI,a,c,t,n||i,Aw,o]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([OI,a,c,t,i,void 0,o]),this.hitDetectionInstructions.push([OI,a,c,t,n||i,void 0,o])}this.endGeometry(e)}beginGeometry(t,e,i){this.beginGeometryInstruction1_=[MI,e,0,t,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[MI,e,0,t,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const i=t.length;let n,o,r=-1;for(e=0;e<i;++e)n=t[e],o=n[0],o==QI?r=e:o==MI&&(n[2]=e,Km(this.hitDetectionInstructions,r,e),r=-1)}setFillStrokeStyle(t,e){const i=this.state;if(t){const e=t.getColor();i.fillPatternScale=e&&"object"==typeof e&&"src"in e?this.pixelRatio:1,i.fillStyle=eC(e||AC)}else i.fillStyle=void 0;if(e){const t=e.getColor();i.strokeStyle=eC(t||gC);const n=e.getLineCap();i.lineCap=void 0!==n?n:uC;const o=e.getLineDash();i.lineDash=o?o.slice():dC;const r=e.getLineDashOffset();i.lineDashOffset=r||0;const s=e.getLineJoin();i.lineJoin=void 0!==s?s:pC;const a=e.getWidth();i.lineWidth=void 0!==a?a:1;const l=e.getMiterLimit();i.miterLimit=void 0!==l?l:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(t){const e=t.fillStyle,i=[jI,e];return"string"!=typeof e&&i.push(t.fillPatternScale),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[GI,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,e){const i=t.strokeStyle,n=t.lineCap,o=t.lineDash,r=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||o!=t.currentLineDash&&!Wm(t.currentLineDash,o)||t.currentLineDashOffset!=r||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=o,t.currentLineDashOffset=r,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[QI,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Db(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Ub(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class ZI extends YI{constructor(t,e,i,n){super(t,e,i,n)}drawFlatCoordinatess_(t,e,i,n){const o=this.state,r=void 0!==o.fillStyle,s=void 0!==o.strokeStyle,a=i.length;this.instructions.push(WI),this.hitDetectionInstructions.push(WI);for(let l=0;l<a;++l){const o=i[l],r=this.coordinates.length,a=this.appendFlatLineCoordinates(t,e,o,n,!0,!s),c=[zI,r,a];this.instructions.push(c),this.hitDetectionInstructions.push(c),s&&(this.instructions.push(XI),this.hitDetectionInstructions.push(XI)),e=o}return r&&(this.instructions.push(KI),this.hitDetectionInstructions.push(KI)),s&&(this.instructions.push(qI),this.hitDetectionInstructions.push(qI)),e}drawCircle(t,e,i){const n=this.state,o=n.fillStyle,r=n.strokeStyle;if(void 0===o&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,i),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([jI,AC]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([GI,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,dC,0]);const s=t.getFlatCoordinates(),a=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);const c=[RI,l];this.instructions.push(WI,c),this.hitDetectionInstructions.push(WI,c),void 0!==n.fillStyle&&(this.instructions.push(KI),this.hitDetectionInstructions.push(KI)),void 0!==n.strokeStyle&&(this.instructions.push(qI),this.hitDetectionInstructions.push(qI)),this.endGeometry(e)}drawPolygon(t,e,i){const n=this.state,o=n.fillStyle,r=n.strokeStyle;if(void 0===o&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,i),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([jI,AC]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([GI,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,dC,0]);const s=t.getEnds(),a=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(a,0,s,l),this.endGeometry(e)}drawMultiPolygon(t,e,i){const n=this.state,o=n.fillStyle,r=n.strokeStyle;if(void 0===o&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,i),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([jI,AC]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([GI,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,dC,0]);const s=t.getEndss(),a=t.getOrientedFlatCoordinates(),l=t.getStride();let c=0;for(let h=0,A=s.length;h<A;++h)c=this.drawFlatCoordinatess_(a,c,s[h],l);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let i=0,n=e.length;i<n;++i)e[i]=lw(e[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}}function JI(t,e,i,n,o){const r=[];let s=i,a=0,l=e.slice(i,2);for(;a<t&&s+o<n;){const[i,n]=l.slice(-2),c=e[s+o],h=e[s+o+1],A=Math.sqrt((c-i)*(c-i)+(h-n)*(h-n));if(a+=A,a>=t){const e=(t-a+A)/A,u=Zv(i,c,e),d=Zv(n,h,e);l.push(u,d),r.push(l),l=[u,d],a==t&&(s+=o),a=0}else if(a<t)l.push(e[s+o],e[s+o+1]),s+=o;else{const t=A-a,e=Zv(i,c,t/A),u=Zv(n,h,t/A);l.push(e,u),r.push(l),l=[e,u],a=0,s+=o}}return a>0&&r.push(l),r}function tM(t,e,i,n,o){let r,s,a,l,c,h,A,u,d,p,g=i,f=i,m=0,b=0,v=i;for(s=i;s<n;s+=o){const i=e[s],n=e[s+1];void 0!==c&&(d=i-c,p=n-h,l=Math.sqrt(d*d+p*p),void 0!==A&&(b+=a,r=Math.acos((A*d+u*p)/(a*l)),r>t&&(b>m&&(m=b,g=v,f=s),b=0,v=s-o)),a=l,A=d,u=p),c=i,h=n}return b+=l,b>m?[v,s]:[g,f]}const eM={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const iM={Circle:ZI,Default:YI,Image:class extends YI{constructor(t,e,i,n){super(t,e,i,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,i){if(!this.image_||this.maxExtent&&!Hb(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,i);const n=t.getFlatCoordinates(),o=t.getStride(),r=this.coordinates.length,s=this.appendFlatPointCoordinates(n,o);this.instructions.push([DI,r,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([DI,r,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,i){if(!this.image_)return;this.beginGeometry(t,e,i);const n=t.getFlatCoordinates(),o=[];for(let a=0,l=n.length;a<l;a+=t.getStride())this.maxExtent&&!Hb(this.maxExtent,n.slice(a,a+2))||o.push(n[a],n[a+1]);const r=this.coordinates.length,s=this.appendFlatPointCoordinates(o,2);this.instructions.push([DI,r,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([DI,r,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const i=t.getAnchor(),n=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},LineString:class extends YI{constructor(t,e,i,n){super(t,e,i,n)}drawFlatCoordinates_(t,e,i,n){const o=this.coordinates.length,r=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),s=[zI,o,r];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i}drawLineString(t,e,i){const n=this.state,o=n.strokeStyle,r=n.lineWidth;if(void 0===o||void 0===r)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e,i),this.hitDetectionInstructions.push([GI,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,dC,0],WI);const s=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(qI),this.endGeometry(e)}drawMultiLineString(t,e,i){const n=this.state,o=n.strokeStyle,r=n.lineWidth;if(void 0===o||void 0===r)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e,i),this.hitDetectionInstructions.push([GI,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,dC,0],WI);const s=t.getEnds(),a=t.getFlatCoordinates(),l=t.getStride();let c=0;for(let h=0,A=s.length;h<A;++h)c=this.drawFlatCoordinates_(a,c,s[h],l);this.hitDetectionInstructions.push(qI),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(qI),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(qI),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(WI)}},Polygon:ZI,Text:class extends YI{constructor(t,e,i,n){super(t,e,i,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[AC]={fillStyle:AC},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,i){const n=this.textFillState_,o=this.textStrokeState_,r=this.textState_;if(""===this.text_||!r||!n&&!o)return;const s=this.coordinates;let a=s.length;const l=t.getType();let c=null,h=t.getStride();if("line"!==r.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let n=r.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=t.getFlatCoordinates();break;case"LineString":c=t.getFlatMidpoint();break;case"Circle":c=t.getCenter();break;case"MultiLineString":c=t.getFlatMidpoints(),h=2;break;case"Polygon":c=t.getFlatInteriorPoint(),r.overflow||n.push(c[2]/this.resolution),h=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();c=[];for(let t=0,i=e.length;t<i;t+=3)r.overflow||n.push(e[t+2]/this.resolution),c.push(e[t],e[t+1]);if(0===c.length)return;h=2}const o=this.appendFlatPointCoordinates(c,h);if(o===a)return;if(n&&(o-a)/2!=c.length/h){let t=a/2;n=n.filter(((e,i)=>{const n=s[2*(t+i)]===c[i*h]&&s[2*(t+i)+1]===c[i*h+1];return n||--t,n}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&this.updateFillStyle(this.state,this.createFill),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e,i);let A=r.padding;if(A!=bC&&(r.scale[0]<0||r.scale[1]<0)){let t=r.padding[0],e=r.padding[1],i=r.padding[2],n=r.padding[3];r.scale[0]<0&&(e=-e,n=-n),r.scale[1]<0&&(t=-t,i=-i),A=[t,e,i,n]}const u=this.pixelRatio;this.instructions.push([DI,a,o,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,A==bC?bC:A.map((function(t){return t*u})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,n]);const d=1/u,p=this.state.fillStyle;r.backgroundFill&&(this.state.fillStyle=AC,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([DI,a,o,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[d,d],NaN,this.declutterMode_,this.declutterImageWithText_,A,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?AC:this.fillKey_,this.textOffsetX_,this.textOffsetY_,n]),r.backgroundFill&&(this.state.fillStyle=p,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(e)}else{if(!fv(this.maxExtent,t.getExtent()))return;let n;if(c=t.getFlatCoordinates(),"LineString"==l)n=[c.length];else if("MultiLineString"==l)n=t.getEnds();else if("Polygon"==l)n=t.getEnds().slice(0,1);else if("MultiPolygon"==l){const e=t.getEndss();n=[];for(let t=0,i=e.length;t<i;++t)n.push(e[t][0])}this.beginGeometry(t,e,i);const o=r.repeat,A=o?void 0:r.textAlign;let u=0;for(let t=0,e=n.length;t<e;++t){let e;e=o?JI(o*this.resolution,c,u,n[t],h):[c.slice(u,n[t])];for(let i=0,o=e.length;i<o;++i){const o=e[i];let l=0,c=o.length;if(null==A){const t=tM(r.maxAngle,o,0,o.length,2);l=t[0],c=t[1]}for(let t=l;t<c;t+=h)s.push(o[t],o[t+1]);const d=s.length;u=n[t],this.drawChars_(a,d),a=d}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||fC,justify:e.justify,textBaseline:e.textBaseline||mC,scale:e.scale});const r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))}drawChars_(t,e){const i=this.textStrokeState_,n=this.textState_,o=this.strokeKey_,r=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=eM[n.textBaseline],c=this.textOffsetY_*a,h=this.text_,A=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([UI,t,e,l,n.overflow,s,n.maxAngle,a,c,o,A*a,h,r,1,this.declutterMode_]),this.hitDetectionInstructions.push([UI,t,e,l,n.overflow,s?AC:s,n.maxAngle,a,c,o,A*a,h,r,1/a,this.declutterMode_])}setTextStyle(t,e){let i,n,o;if(t){const e=t.getFill();e?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=eC(e.getColor()||AC)):(n=null,this.textFillState_=n);const r=t.getStroke();if(r){o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const t=r.getLineDash(),e=r.getLineDashOffset(),i=r.getWidth(),n=r.getMiterLimit();o.lineCap=r.getLineCap()||uC,o.lineDash=t?t.slice():dC,o.lineDashOffset=void 0===e?0:e,o.lineJoin=r.getLineJoin()||pC,o.lineWidth=void 0===i?1:i,o.miterLimit=void 0===n?10:n,o.strokeStyle=eC(r.getColor()||gC)}else o=null,this.textStrokeState_=o;i=this.textState_;const s=t.getFont()||hC;_C(s);const a=t.getScaleArray();i.overflow=t.getOverflow(),i.font=s,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||mC,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||bC,i.scale=void 0===a?[1,1]:a;const l=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),A=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===c?0:c,this.textRotateWithView_=void 0!==h&&h,this.textRotation_=void 0===A?0:A,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:yb(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n&&n.fillStyle?"string"==typeof n.fillStyle?n.fillStyle:"|"+yb(n.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}};class nM{constructor(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const i=this.buildersByZIndex_[e];for(const n in i){const o=i[n].finish();t[e][n]=o}}return t}getBuilder(t,e){const i=void 0!==t?t.toString():"0";let n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);let o=n[e];if(void 0===o){o=new(0,iM[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=o}return o}}function oM(t,e,i,n,o,r,s,a,l,c,h,A){let u=t[e],d=t[e+1],p=0,g=0,f=0,m=0;function b(){p=u,g=d,u=t[e+=n],d=t[e+1],m+=f,f=Math.sqrt((u-p)*(u-p)+(d-g)*(d-g))}do{b()}while(e<i-n&&m+f<r);let v=0===f?0:(r-m)/f;const y=Zv(p,u,v),w=Zv(g,d,v),x=e-n,_=m,C=r+a*l(c,o,h);for(;e<i-n&&m+f<C;)b();v=0===f?0:(C-m)/f;const B=Zv(p,u,v),S=Zv(g,d,v);let E;if(A){const t=[y,w,B,S];Vy(t,0,4,2,A,t,t),E=t[0]>t[2]}else E=y>B;const k=Math.PI,F=[],T=x+n===e;let L;if(f=0,m=_,u=t[e=x],d=t[e+1],T){b(),L=Math.atan2(d-g,u-p),E&&(L+=L>0?-k:k);const t=(B+y)/2,e=(S+w)/2;return F[0]=[t,e,(C-r)/2,L,o],F}for(let I=0,M=(o=o.replace(/\n/g," ")).length;I<M;){b();let t=Math.atan2(d-g,u-p);if(E&&(t+=t>0?-k:k),void 0!==L){let e=t-L;if(e+=e>k?-2*k:e<-k?2*k:0,Math.abs(e)>s)return null}L=t;const A=I;let y=0;for(;I<M;++I){const t=a*l(c,o[E?M-I-1:I],h);if(e+n<i&&m+f<r+y+t/2)break;y+=t}if(I===A)continue;const w=E?o.substring(M-A,M-I):o.substring(A,I);v=0===f?0:(r+y/2-m)/f;const x=Zv(p,u,v),_=Zv(g,d,v);F.push([x,_,y/2,t,w]),r+=y}return F}const rM=[1/0,1/0,-1/0,-1/0],sM=[],aM=[],lM=[],cM=[];function hM(t){return t[3].declutterBox}const AM=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function uM(t,e){return"start"===e?e=AM.test(t)?"right":"left":"end"===e&&(e=AM.test(t)?"left":"right"),eM[e]}function dM(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}class pM{constructor(t,e,i,n,o){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new pI:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,i,n){const o=t+e+i+n;if(this.labels_[o])return this.labels_[o];const r=n?this.strokeStates[n]:null,s=i?this.fillStates[i]:null,a=this.textStates[e],l=this.pixelRatio,c=[a.scale[0]*l,a.scale[1]*l],h=Array.isArray(t),A=a.justify?eM[a.justify]:uM(Array.isArray(t)?t[0]:t,a.textAlign||fC),u=n&&r.lineWidth?r.lineWidth:0,d=h?t:t.split("\n").reduce(dM,[]),{width:p,height:g,widths:f,heights:m,lineWidths:b}=function(t,e){const i=[],n=[],o=[];let r=0,s=0,a=0,l=0;for(let c=0,h=e.length;c<=h;c+=2){const A=e[c];if("\n"===A||c===h){r=Math.max(r,s),o.push(s),s=0,a+=l,l=0;continue}const u=e[c+1]||t.font,d=SC(u,A);i.push(d),s+=d;const p=CC(u);n.push(p),l=Math.max(l,p)}return{width:r,height:a,widths:i,heights:n,lineWidths:o}}(a,d),v=p+u,y=[],w=(v+2)*c[0],x=(g+u)*c[1],_={width:w<0?Math.floor(w):Math.ceil(w),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:y};1==c[0]&&1==c[1]||y.push("scale",c),n&&(y.push("strokeStyle",r.strokeStyle),y.push("lineWidth",u),y.push("lineCap",r.lineCap),y.push("lineJoin",r.lineJoin),y.push("miterLimit",r.miterLimit),y.push("setLineDash",[r.lineDash]),y.push("lineDashOffset",r.lineDashOffset)),i&&y.push("fillStyle",s.fillStyle),y.push("textBaseline","middle"),y.push("textAlign","center");const C=.5-A;let B=A*v+C*u;const S=[],E=[];let k,F=0,T=0,L=0,I=0;for(let M=0,P=d.length;M<P;M+=2){const t=d[M];if("\n"===t){T+=F,F=0,B=A*v+C*u,++I;continue}const e=d[M+1]||a.font;e!==k&&(n&&S.push("font",e),i&&E.push("font",e),k=e),F=Math.max(F,m[L]);const o=[t,B+C*f[L]+A*(f[L]-b[I]),.5*(u+F)+T];B+=f[L],n&&S.push("strokeText",o),i&&E.push("fillText",o),++L}return Array.prototype.push.apply(y,S),Array.prototype.push.apply(y,E),this.labels_[o]=_,_}replayTextBackground_(t,e,i,n,o,r,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,o),t.lineTo.apply(t,e),r&&(this.alignAndScaleFill_=r[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())}calculateImageOrLabelDimensions_(t,e,i,n,o,r,s,a,l,c,h,A,u,d,p,g){let f=i-(s*=A[0]),m=n-(a*=A[1]);const b=o+l>t?t-l:o,v=r+c>e?e-c:r,y=d[3]+b*A[0]+d[1],w=d[0]+v*A[1]+d[2],x=f-d[3],_=m-d[0];let C;return(p||0!==h)&&(sM[0]=x,cM[0]=x,sM[1]=_,aM[1]=_,aM[0]=x+y,lM[0]=aM[0],lM[1]=_+w,cM[1]=lM[1]),0!==h?(C=Mb([1,0,0,1,0,0],i,n,1,1,h,-i,-n),Tb(C,sM),Tb(C,aM),Tb(C,lM),Tb(C,cM),Kb(Math.min(sM[0],aM[0],lM[0],cM[0]),Math.min(sM[1],aM[1],lM[1],cM[1]),Math.max(sM[0],aM[0],lM[0],cM[0]),Math.max(sM[1],aM[1],lM[1],cM[1]),rM)):Kb(Math.min(x,x+y),Math.min(_,_+w),Math.max(x,x+y),Math.max(_,_+w),rM),u&&(f=Math.round(f),m=Math.round(m)),{drawImageX:f,drawImageY:m,drawImageW:b,drawImageH:v,originX:l,originY:c,declutterBox:{minX:rM[0],minY:rM[1],maxX:rM[2],maxY:rM[3],value:g},canvasTransform:C,scale:A}}replayImageOrLabel_(t,e,i,n,o,r,s){const a=!(!r&&!s),l=n.declutterBox,c=s?s[2]*n.scale[0]/2:0;return l.minX-c<=e[0]&&l.maxX+c>=0&&l.minY-c<=e[1]&&l.maxY+c>=0&&(a&&this.replayTextBackground_(t,sM,aM,lM,cM,r,s),kC(t,n.canvasTransform,o,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const i=Tb(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(i[0]%n,i[1]%n),1!==e&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,i,n){const o=this.textStates[e],r=this.createLabel(t,e,n,i),s=this.strokeStates[i],a=this.pixelRatio,l=uM(Array.isArray(t)?t[0]:t,o.textAlign||fC),c=eM[o.textBaseline||mC],h=s&&s.lineWidth?s.lineWidth:0;return{label:r,anchorX:l*(r.width/a-2*o.scale[0])+2*(.5-l)*h,anchorY:c*r.height/a+2*(.5-c)*h}}execute_(t,e,i,n,o,r,s,a){const l=this.zIndexContext_;let c;this.pixelCoordinates_&&Wm(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=Gy(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Fb(this.renderedTransform_,i));let h=0;const A=n.length;let u,d,p,g,f,m,b,v,y,w,x,_,C,B=0,S=0,E=0,k=null,F=null;const T=this.coordinateCache_,L=this.viewRotation_,I=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,M={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:L},P=this.instructions!=n||this.overlaps?0:200;let R,N,O,U;for(;h<A;){const i=n[h];switch(i[0]){case MI:R=i[1],U=i[3],R.getGeometry()?void 0===s||fv(s,U.getExtent())?++h:h=i[2]+1:h=i[2],l&&(l.zIndex=i[4]);break;case PI:S>P&&(this.fill_(t),S=0),E>P&&(t.stroke(),E=0),S||E||(t.beginPath(),f=NaN,m=NaN),++h;break;case RI:B=i[1];const n=c[B],A=c[B+1],D=c[B+2]-n,Q=c[B+3]-A,H=Math.sqrt(D*D+Q*Q);t.moveTo(n+H,A),t.arc(n,A,H,0,2*Math.PI,!0),++h;break;case NI:t.closePath(),++h;break;case OI:B=i[1],u=i[2];const z=i[3],j=i[4],G=i[5];M.geometry=z,M.feature=R,h in T||(T[h]=[]);const V=T[h];G?G(c,B,u,2,V):(V[0]=c[B],V[1]=c[B+1],V.length=2),l&&(l.zIndex=i[6]),j(V,M),++h;break;case DI:B=i[1],u=i[2],y=i[3],d=i[4],p=i[5];let K=i[6];const q=i[7],W=i[8],X=i[9],$=i[10];let Y=i[11];const Z=i[12];let J=i[13];g=i[14]||"declutter";const tt=i[15];if(!y&&i.length>=20){w=i[19],x=i[20],_=i[21],C=i[22];const t=this.drawLabelWithPointPlacement_(w,x,_,C);y=t.label,i[3]=y;const e=i[23];d=(t.anchorX-e)*this.pixelRatio,i[4]=d;const n=i[24];p=(t.anchorY-n)*this.pixelRatio,i[5]=p,K=y.height,i[6]=K,J=y.width,i[13]=J}let et,it,nt,ot;i.length>25&&(et=i[25]),i.length>17?(it=i[16],nt=i[17],ot=i[18]):(it=bC,nt=!1,ot=!1),$&&I?Y+=L:$||I||(Y-=L);let rt=0;for(;B<u;B+=2){if(et&&et[rt++]<J/this.pixelRatio)continue;const i=this.calculateImageOrLabelDimensions_(y.width,y.height,c[B],c[B+1],J,K,d,p,W,X,Y,Z,o,it,nt||ot,R),n=[t,e,y,i,q,nt?k:null,ot?F:null];if(a){let t,e,o,r,s;if(tt){const i=u-B;if(!tt[i]){tt[i]={args:n,declutterMode:g};continue}const r=tt[i];t=r.args,e=r.declutterMode,delete tt[i],o=hM(t)}if(!t||"declutter"===e&&a.collides(o)||(r=!0),"declutter"===g&&a.collides(i.declutterBox)||(s=!0),"declutter"===e&&"declutter"===g){const t=r&&s;r=t,s=t}r&&("none"!==e&&a.insert(o),this.replayImageOrLabel_.apply(this,t)),s&&("none"!==g&&a.insert(i.declutterBox),this.replayImageOrLabel_.apply(this,n))}else this.replayImageOrLabel_.apply(this,n)}++h;break;case UI:const st=i[1],at=i[2],lt=i[3],ct=i[4];C=i[5];const ht=i[6],At=i[7],ut=i[8];_=i[9];const dt=i[10];w=i[11],x=i[12];const pt=[i[13],i[13]];g=i[14]||"declutter";const gt=this.textStates[x],ft=gt.font,mt=[gt.scale[0]*At,gt.scale[1]*At];let bt;ft in this.widths_?bt=this.widths_[ft]:(bt={},this.widths_[ft]=bt);const vt=bk(c,st,at,2),yt=Math.abs(mt[0])*EC(ft,w,bt);if(ct||yt<=vt){const i=oM(c,st,at,2,w,(vt-yt)*uM(w,this.textStates[x].textAlign),ht,Math.abs(mt[0]),EC,ft,bt,I?0:this.viewRotation_);t:if(i){const n=[];let o,r,s,l,c;if(_)for(o=0,r=i.length;o<r;++o){c=i[o],s=c[4],l=this.createLabel(s,x,"",_),d=c[2]+(mt[0]<0?-dt:dt),p=lt*l.height+2*(.5-lt)*dt*mt[1]/mt[0]-ut;const r=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,d,p,0,0,c[3],pt,!1,bC,!1,R);if(a&&"declutter"===g&&a.collides(r.declutterBox))break t;n.push([t,e,l,r,1,null,null])}if(C)for(o=0,r=i.length;o<r;++o){c=i[o],s=c[4],l=this.createLabel(s,x,C,""),d=c[2],p=lt*l.height-ut;const r=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,d,p,0,0,c[3],pt,!1,bC,!1,R);if(a&&"declutter"===g&&a.collides(r.declutterBox))break t;n.push([t,e,l,r,1,null,null])}a&&"none"!==g&&a.load(n.map(hM));for(let t=0,e=n.length;t<e;++t)this.replayImageOrLabel_.apply(this,n[t])}}++h;break;case QI:if(void 0!==r){R=i[1];const t=r(R,U,g);if(t)return t}++h;break;case HI:P?S++:this.fill_(t),++h;break;case zI:for(B=i[1],u=i[2],N=c[B],O=c[B+1],t.moveTo(N,O),f=N+.5|0,m=O+.5|0,B+=2;B<u;B+=2)N=c[B],O=c[B+1],b=N+.5|0,v=O+.5|0,B!=u-2&&b===f&&v===m||(t.lineTo(N,O),f=b,m=v);++h;break;case jI:k=i,this.alignAndScaleFill_=i[2],S&&(this.fill_(t),S=0,E&&(t.stroke(),E=0)),t.fillStyle=i[1],++h;break;case GI:F=i,E&&(t.stroke(),E=0),this.setStrokeStyle_(t,i),++h;break;case VI:P?E++:t.stroke(),++h;break;default:++h}}S&&this.fill_(t),E&&t.stroke()}execute(t,e,i,n,o,r){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,o,void 0,void 0,r)}executeHitDetection(t,e,i,n,o){return this.viewRotation_=i,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,n,o)}}const gM=["Polygon","Circle","LineString","Image","Text","Default"],fM=["Image","Text"],mM=gM.filter((t=>!fM.includes(t)));class bM{constructor(t,e,i,n,o,r,s){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,s)}clip(t,e){const i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t,e){for(const i in t){let n=this.executorsByZIndex_[i];void 0===n&&(n={},this.executorsByZIndex_[i]=n);const o=t[i];for(const t in o){const i=o[t];n[t]=new pM(this.resolution_,this.pixelRatio_,this.overlaps_,i,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const i=this.executorsByZIndex_[e];for(let e=0,n=t.length;e<n;++e)if(t[e]in i)return!0}return!1}forEachFeatureAtCoordinate(t,e,i,n,o,r){const s=2*(n=Math.round(n))+1,a=Mb(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=U_(s,s,void 0,{willReadFrequently:!0}));const c=this.hitDetectionContext_;let h;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(h=[1/0,1/0,-1/0,-1/0],Zb(h,t),Ub(h,e*(this.renderBuffer_+n),h));const A=function(t){if(void 0!==vM[t])return vM[t];const e=2*t+1,i=t*t,n=new Array(i+1);for(let r=0;r<=t;++r)for(let o=0;o<=t;++o){const s=r*r+o*o;if(s>i)break;let a=n[s];a||(a=[],n[s]=a),a.push(4*((t+r)*e+(t+o))+3),r>0&&a.push(4*((t-r)*e+(t+o))+3),o>0&&(a.push(4*((t+r)*e+(t-o))+3),r>0&&a.push(4*((t-r)*e+(t-o))+3))}const o=[];for(let r=0,s=n.length;r<s;++r)n[r]&&o.push(...n[r]);return vM[t]=o,o}(n);let u;function d(t,e,i){const a=c.getImageData(0,0,s,s).data;for(let l=0,h=A.length;l<h;l++)if(a[A[l]]>0){if(!r||"none"===i||"Image"!==u&&"Text"!==u||r.includes(t)){const i=(A[l]-3)/4,r=n-i%s,a=n-(i/s|0),c=o(t,e,r*r+a*a);if(c)return c}c.clearRect(0,0,s,s);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);let g,f,m,b,v;for(p.sort(jm),g=p.length-1;g>=0;--g){const t=p[g].toString();for(m=this.executorsByZIndex_[t],f=gM.length-1;f>=0;--f)if(u=gM[f],b=m[u],void 0!==b&&(v=b.executeHitDetection(c,a,i,d,h),v))return v}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const i=e[0],n=e[1],o=e[2],r=e[3],s=[i,n,i,r,o,r,o,n];return Gy(s,0,8,2,t,s),s}isEmpty(){return eb(this.executorsByZIndex_)}execute(t,e,i,n,o,r,s){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(jm),r=r||gM;const l=gM.length;let c,h,A,u,d;for(s&&a.reverse(),c=0,h=a.length;c<h;++c){const h=a[c].toString();for(d=this.executorsByZIndex_[h],A=0,u=r.length;A<u;++A){const h=r[A],u=d[h];if(void 0!==u){const r=null===s?void 0:u.getZIndexContext(),d=r?r.getContext():t,p=this.maxExtent_&&"Image"!==h&&"Text"!==h;if(p&&(d.save(),this.clip(d,i)),r&&"Text"!==h&&"Image"!==h?r.pushFunction((t=>u.execute(t,e,i,n,o,s))):u.execute(d,e,i,n,o,s),p&&d.restore(),r){r.offset();const t=a[c]*l+A;this.deferredZIndexContexts_[t]||(this.deferredZIndexContexts_[t]=[]),this.deferredZIndexContexts_[t].push(r)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,e=Object.keys(t).map(Number).sort(jm);for(let i=0,n=e.length;i<n;++i)t[e[i]].forEach((t=>{t.draw(this.renderedContext_),t.clear()})),t[e[i]].length=0}}const vM={};class yM extends $I{constructor(t,e,i,n,o,r,s){super(),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=n,this.transformRotation_=n?Jv(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=r,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(t,e,i,n){if(!this.image_)return;const o=Gy(t,e,i,n,this.transform_,this.pixelCoordinates_),r=this.context_,s=this.tmpLocalTransform_,a=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let c=0,h=o.length;c<h;c+=2){const t=o[c]-this.imageAnchorX_,e=o[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const i=t+this.imageAnchorX_,n=e+this.imageAnchorY_;Mb(s,i,n,1,1,l,-i,-n),r.save(),r.transform.apply(r,s),r.translate(i,n),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.restore()}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=a)}drawText_(t,e,i,n){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=Gy(t,e,i,n,this.transform_,this.pixelCoordinates_),r=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=n){const t=o[e]+this.textOffsetX_,i=o[e+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(r.save(),r.translate(t-this.textOffsetX_,i-this.textOffsetY_),r.rotate(s),r.translate(this.textOffsetX_,this.textOffsetY_),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.restore()):(this.textStrokeState_&&r.strokeText(this.text_,t,i),this.textFillState_&&r.fillText(this.text_,t,i))}}moveToLineTo_(t,e,i,n,o){const r=this.context_,s=Gy(t,e,i,n,this.transform_,this.pixelCoordinates_);r.moveTo(s[0],s[1]);let a=s.length;o&&(a-=2);for(let l=2;l<a;l+=2)r.lineTo(s[l],s[l+1]);return o&&r.closePath(),i}drawRings_(t,e,i,n){for(let o=0,r=i.length;o<r;++o)e=this.moveToLineTo_(t,e,i[o],n,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fv(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=function(t,e,i){const n=t.getFlatCoordinates();if(!n)return null;const o=t.getStride();return Gy(n,0,n.length,o,e,i)}(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],o=Math.sqrt(i*i+n*n),r=this.context_;r.beginPath(),r.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const i=e.getGeometryFunction()(t);i&&(this.setStyle(e),this.drawGeometry(i))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fv(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(fv(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();let n=0;const o=t.getEnds(),r=t.getStride();e.beginPath();for(let t=0,s=o.length;t<s;++t)n=this.moveToLineTo_(i,n,o[t],r,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fv(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fv(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getOrientedFlatCoordinates();let n=0;const o=t.getEndss(),r=t.getStride();e.beginPath();for(let t=0,s=o.length;t<s;++t){const e=o[t];n=this.drawRings_(i,n,e,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),Wm(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:fC;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:eC(e||AC)}}else this.fillState_=null;if(e){const t=e.getColor(),i=e.getLineCap(),n=e.getLineDash(),o=e.getLineDashOffset(),r=e.getLineJoin(),s=e.getWidth(),a=e.getMiterLimit(),l=n||dC;this.strokeState_={lineCap:void 0!==i?i:uC,lineDash:1===this.pixelRatio_?l:l.map((t=>t*this.pixelRatio_)),lineDashOffset:(o||0)*this.pixelRatio_,lineJoin:void 0!==r?r:pC,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:eC(t||gC)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const i=t.getPixelRatio(this.pixelRatio_),n=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*i,this.imageAnchorY_=n[1]*i,this.imageHeight_=e[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const r=t.getScaleArray();this.imageScale_=[r[0]*this.pixelRatio_/i,r[1]*this.pixelRatio_/i],this.imageWidth_=e[0]*i}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:eC(t||AC)}}else this.textFillState_=null;const i=t.getStroke();if(i){const t=i.getColor(),e=i.getLineCap(),n=i.getLineDash(),o=i.getLineDashOffset(),r=i.getLineJoin(),s=i.getWidth(),a=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:uC,lineDash:n||dC,lineDashOffset:o||0,lineJoin:void 0!==r?r:pC,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:eC(t||gC)}}else this.textStrokeState_=null;const n=t.getFont(),o=t.getOffsetX(),r=t.getOffsetY(),s=t.getRotateWithView(),a=t.getRotation(),l=t.getScaleArray(),c=t.getText(),h=t.getTextAlign(),A=t.getTextBaseline();this.textState_={font:void 0!==n?n:hC,textAlign:void 0!==h?h:fC,textBaseline:void 0!==A?A:mC},this.text_=void 0!==c?Array.isArray(c)?c.reduce(((t,e,i)=>t+(i%2?" ":e)),""):c:"",this.textOffsetX_=void 0!==o?this.pixelRatio_*o:0,this.textOffsetY_=void 0!==r?this.pixelRatio_*r:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}}const wM=.5;function xM(t,e,i,n,o,r,s,a,l){const c=l?Uy(o):o,h=U_(t[0]*wM,t[1]*wM);h.imageSmoothingEnabled=!1;const A=h.canvas,u=new yM(h,wM,o,null,s,a,l?Ly(Ry,l):null),d=i.length,p=Math.floor(16777215/d),g={};for(let m=1;m<=d;++m){const t=i[m-1],e=t.getStyleFunction()||n;if(!e)continue;let o=e(t,r);if(!o)continue;Array.isArray(o)||(o=[o]);const s=(m*p).toString(16).padStart(7,"#00000");for(let i=0,n=o.length;i<n;++i){const e=o[i],n=e.getGeometryFunction()(t);if(!n||!fv(c,n.getExtent()))continue;const r=e.clone(),a=r.getFill();a&&a.setColor(s);const l=r.getStroke();l&&(l.setColor(s),l.setLineDash(null)),r.setText(void 0);const h=e.getImage();if(h){const t=h.getImageSize();if(!t)continue;const e=U_(t[0],t[1],void 0,{alpha:!1}),i=e.canvas;e.fillStyle=s,e.fillRect(0,0,i.width,i.height),r.setImage(new DC({img:i,anchor:h.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:h.getOrigin(),opacity:1,size:h.getSize(),scale:h.getScale(),rotation:h.getRotation(),rotateWithView:h.getRotateWithView()}))}const A=r.getZIndex()||0;let u=g[A];u||(u={},g[A]=u,u.Polygon=[],u.Circle=[],u.LineString=[],u.Point=[]);const d=n.getType();if("GeometryCollection"===d){const t=n.getGeometriesArrayRecursive();for(let e=0,i=t.length;e<i;++e){const i=t[e];u[i.getType().replace("Multi","")].push(i,r)}}else u[d.replace("Multi","")].push(n,r)}}const f=Object.keys(g).map(Number).sort(jm);for(let m=0,b=f.length;m<b;++m){const t=g[f[m]];for(const i in t){const n=t[i];for(let t=0,i=n.length;t<i;t+=2){u.setStyle(n[t+1]);for(let i=0,o=e.length;i<o;++i)u.setTransform(e[i]),u.drawGeometry(n[t])}}}return h.getImageData(0,0,A.width,A.height)}function _M(t,e,i){const n=[];if(i){const o=Math.floor(Math.round(t[0])*wM),r=Math.floor(Math.round(t[1])*wM),s=4*(Kv(o,0,i.width-1)+Kv(r,0,i.height-1)*i.width),a=i.data[s],l=i.data[s+1],c=i.data[s+2]+256*(l+256*a),h=Math.floor(16777215/e.length);c&&c%h==0&&n.push(e[c/h-1])}return n}const CM=.5,BM={Point:function(t,e,i,n,o,r){const s=i.getImage(),a=i.getText(),l=a&&a.getText(),c=r&&s&&l?{}:void 0;if(s){if(s.getImageState()!=r_.LOADED)return;const r=t.getBuilder(i.getZIndex(),"Image");r.setImageStyle(s,c),r.drawPoint(e,n,o)}if(l){const r=t.getBuilder(i.getZIndex(),"Text");r.setTextStyle(a,c),r.drawText(e,n,o)}},LineString:function(t,e,i,n,o){const r=i.getStroke();if(r){const s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,r),s.drawLineString(e,n,o)}const s=i.getText();if(s&&s.getText()){const r=t.getBuilder(i.getZIndex(),"Text");r.setTextStyle(s),r.drawText(e,n,o)}},Polygon:function(t,e,i,n,o){const r=i.getFill(),s=i.getStroke();if(r||s){const a=t.getBuilder(i.getZIndex(),"Polygon");a.setFillStrokeStyle(r,s),a.drawPolygon(e,n,o)}const a=i.getText();if(a&&a.getText()){const r=t.getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,n,o)}},MultiPoint:function(t,e,i,n,o,r){const s=i.getImage(),a=s&&0!==s.getOpacity(),l=i.getText(),c=l&&l.getText(),h=r&&a&&c?{}:void 0;if(a){if(s.getImageState()!=r_.LOADED)return;const r=t.getBuilder(i.getZIndex(),"Image");r.setImageStyle(s,h),r.drawMultiPoint(e,n,o)}if(c){const r=t.getBuilder(i.getZIndex(),"Text");r.setTextStyle(l,h),r.drawText(e,n,o)}},MultiLineString:function(t,e,i,n,o){const r=i.getStroke();if(r){const s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,r),s.drawMultiLineString(e,n,o)}const s=i.getText();if(s&&s.getText()){const r=t.getBuilder(i.getZIndex(),"Text");r.setTextStyle(s),r.drawText(e,n,o)}},MultiPolygon:function(t,e,i,n,o){const r=i.getFill(),s=i.getStroke();if(s||r){const a=t.getBuilder(i.getZIndex(),"Polygon");a.setFillStrokeStyle(r,s),a.drawMultiPolygon(e,n,o)}const a=i.getText();if(a&&a.getText()){const r=t.getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,n,o)}},GeometryCollection:function(t,e,i,n,o,r){const s=e.getGeometriesArray();let a,l;for(a=0,l=s.length;a<l;++a){(0,BM[s[a].getType()])(t,s[a],i,n,o,r)}},Circle:function(t,e,i,n,o){const r=i.getFill(),s=i.getStroke();if(r||s){const a=t.getBuilder(i.getZIndex(),"Circle");a.setFillStrokeStyle(r,s),a.drawCircle(e,n,o)}const a=i.getText();if(a&&a.getText()){const o=t.getBuilder(i.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,n)}}};function SM(t,e){return parseInt(yb(t),10)-parseInt(yb(e),10)}function EM(t,e){const i=kM(t,e);return i*i}function kM(t,e){return CM*t/e}function FM(t,e,i,n,o,r,s,a){const l=[],c=i.getImage();if(c){let t=!0;const e=c.getImageState();e==r_.LOADED||e==r_.ERROR?t=!1:e==r_.IDLE&&c.load(),t&&l.push(c.ready())}const h=i.getFill();h&&h.loading()&&l.push(h.ready());const A=l.length>0;return A&&Promise.all(l).then((()=>o(null))),function(t,e,i,n,o,r,s){const a=i.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(n,o),c=i.getRenderer();if(c)TM(t,l,i,e,s);else{(0,BM[l.getType()])(t,l,i,e,s,r)}}(t,e,i,n,r,s,a),A}function TM(t,e,i,n,o){if("GeometryCollection"==e.getType()){const r=e.getGeometries();for(let e=0,s=r.length;e<s;++e)TM(t,r[e],i,n,o);return}t.getBuilder(i.getZIndex(),"Default").drawCustom(e,n,i.getRenderer(),i.getHitDetectionRenderer(),o)}class LM extends mI{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,e,i){const n=e.extent,o=e.viewState,r=o.center,s=o.resolution,a=o.projection,l=o.rotation,c=a.getExtent(),h=this.getLayer().getSource(),A=this.getLayer().getDeclutter(),u=e.pixelRatio,d=e.viewHints,p=!(d[mx]||d[bx]),g=this.context,f=Math.round(gv(n)/s*u),m=Math.round(Av(n)/s*u),b=h.getWrapX()&&a.canWrapX(),v=b?gv(c):null,y=b?Math.ceil((n[2]-c[2])/v)+1:1;let w=b?Math.floor((n[0]-c[0])/v):0;do{let n=this.getRenderTransform(r,s,0,u,f,m,w*v);e.declutter&&(n=n.slice(0)),t.execute(g,[g.canvas.width,g.canvas.height],n,l,p,void 0===i?gM:i?fM:mM,i?A&&e.declutter[A]:void 0)}while(++w<y)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=U_(this.context.canvas.width,this.context.canvas.height,gI))}resetDrawContext_(){if(1!==this.opacity_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,H_(this.context),gI.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,e){const i=t.layerStatesArray[t.layerIndex];this.opacity_=i.opacity;const n=t.viewState;this.prepareContainer(t,e);const o=this.context,r=this.replayGroup_;let s=r&&!r.isEmpty();if(!s){if(!(this.getLayer().hasListener(ux)||this.getLayer().hasListener(dx)))return null}if(this.setDrawContext_(),this.preRender(o,t),n.projection,this.clipped_=!1,s&&i.extent&&this.clipping){const e=Dy(i.extent);s=fv(e,t.extent),this.clipped_=s&&!zb(e,t.extent),this.clipped_&&this.clipUnrotated(o,t,e)}return s&&this.renderWorlds(r,t,!this.getLayer().getDeclutter()&&void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==n.rotation&&(this.renderedRotation_=n.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise((e=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=this.frameState.size.slice(),e=this.renderedCenter_,i=this.renderedResolution_,n=this.renderedRotation_,o=this.renderedProjection_,r=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=t[0]*wM,c=t[1]*wM;a.push(this.getRenderTransform(e,i,n,wM,l,c,0).slice());const h=s.getSource(),A=o.getExtent();if(h.getWrapX()&&o.canWrapX()&&!zb(A,r)){let t=r[0];const o=gv(A);let s,h=0;for(;t<A[0];)--h,s=o*h,a.push(this.getRenderTransform(e,i,n,wM,l,c,s).slice()),t+=o;for(h=0,t=r[2];t>A[2];)++h,s=o*h,a.push(this.getRenderTransform(e,i,n,wM,l,c,s).slice()),t-=o}this.hitDetectionImageData_=xM(t,a,this.renderedFeatures_,s.getStyleFunction(),r,i,n,EM(i,this.renderedPixelRatio_),null)}e(_M(t,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(t,e,i,n,o){if(!this.replayGroup_)return;const r=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),l={},c=function(t,e,i){const r=yb(t),s=l[r];if(s){if(!0!==s&&i<s.distanceSq){if(0===i)return l[r]=!0,o.splice(o.lastIndexOf(s),1),n(t,a,e);s.geometry=e,s.distanceSq=i}}else{if(0===i)return l[r]=!0,n(t,a,e);o.push(l[r]={feature:t,layer:a,geometry:e,distanceSq:i,callback:n})}};let h;const A=[this.replayGroup_],u=this.getLayer().getDeclutter();return A.some((n=>h=n.forEachFeatureAtCoordinate(t,r,s,i,c,u&&e.declutter[u]?e.declutter[u].all().map((t=>t.value)):null))),h}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),i=e.getSource();if(!i)return!1;const n=t.viewHints[mx],o=t.viewHints[bx],r=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(this.ready&&!r&&n||!s&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=t.extent,l=t.viewState,c=l.projection,h=l.resolution,A=t.pixelRatio,u=e.getRevision(),d=e.getRenderBuffer();let p=e.getRenderOrder();void 0===p&&(p=SM);const g=l.center.slice(),f=Ub(a,d*h),m=f.slice(),b=[f.slice()],v=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!zb(v,t.extent)){const t=gv(v),e=Math.max(gv(f)/2,t);f[0]=v[0]-e,f[2]=v[2]+e,dy(g,c);const i=xv(b[0],c);i[0]<v[0]&&i[2]<v[2]?b.push([i[0]+t,i[1],i[2]+t,i[3]]):i[0]>v[0]&&i[2]>v[2]&&b.push([i[0]-t,i[1],i[2]-t,i[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==u&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!t.declutter&&zb(this.wrappedRenderedExtent_,f))return Wm(this.renderedExtent_,m)||(this.hitDetectionImageData_=null,this.renderedExtent_=m),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const y=new nM(kM(h,A),f,h,A);for(let k=0,F=b.length;k<F;++k)i.loadFeatures(b[k],h,c);const w=EM(h,A);let x=!0;const _=(t,i)=>{let n;const o=t.getStyleFunction()||e.getStyleFunction();if(o&&(n=o(t,h)),n){const e=this.renderFeature(t,w,n,y,undefined,this.getLayer().getDeclutter(),i);x=x&&!e}},C=Uy(f),B=i.getFeaturesInExtent(C);p&&B.sort(p);for(let k=0,F=B.length;k<F;++k)_(B[k],k);this.renderedFeatures_=B,this.ready=x;const S=y.finish(),E=new bM(f,h,A,i.getOverlaps(),S,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=h,this.renderedRevision_=u,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=m,this.wrappedRenderedExtent_=f,this.renderedCenter_=g,this.renderedProjection_=c,this.renderedPixelRatio_=A,this.replayGroup_=E,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,i,n,o,r,s){if(!i)return!1;let a=!1;if(Array.isArray(i))for(let l=0,c=i.length;l<c;++l)a=FM(n,t,i[l],e,this.boundHandleStyleImageChange_,o,r,s)||a;else a=FM(n,t,i,e,this.boundHandleStyleImageChange_,o,r,s);return a}}class IM extends zB{constructor(t){super(t)}createRenderer(){return new LM(this)}}function MM(t){const e=t.frameState,i=Eb(t.inversePixelTransform.slice(),e.coordinateToPixelTransform);return new yM(t.context,e.pixelRatio,e.extent,i,e.viewState.rotation)}var PM="9.2.4".split(".");PM=100*parseInt(PM[0])+parseInt(PM[1]);var RM=function(t,e){var i=t.frameState.pixelRatio;if(PM>605&&PM<700&&1!==i&&e.getImage()instanceof DC){var n=(e=e.clone()).getImage();n.setScale(n.getScale()*i);var o=n.getAnchor();if(o&&n.setDisplacement){var r=n.getDisplacement();r&&(r[0]-=o[0]/i,r[1]+=o[1]/i,n.setAnchor([0,0]))}else o&&(o[0]/=i,o[1]/=i)}return e},NM=class extends IM{constructor(t){var e=t||{};super(e),this.oldcluster=new Qk,this.clusters=[],this.animation={start:!1},this.set("animationDuration","number"==typeof e.animationDuration?e.animationDuration:700),this.set("animationMethod",e.animationMethod||Tx),this.on(["precompose","prerender"],this.animate.bind(this)),this.on(["postcompose","postrender"],this.postanimate.bind(this))}setSource(t){this._saveClusterFn||(this._saveClusterFn=this.saveCluster.bind(this)),this.getSource()&&this.getSource().un("change",this._saveClusterFn),IM.prototype.setSource.call(this,t),this.getSource()&&this.getSource().on("change",this._saveClusterFn)}saveCluster(){if(this.oldcluster){if(this.oldcluster.clear(),!this.get("animationDuration"))return;var t=this.getSource().getFeatures();t.length&&t[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=t.slice(0),this.sourceChanged=!0)}}getClusterForFeature(t,e){for(var i,n=0;i=e[n];n++){var o=i.get("features");if(o&&o.length)for(var r,s=0;r=o[s];s++)if(t===r)return i}return!1}stopAnimation(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]}animate(t){var e=this.get("animationDuration");if(e){var i,n,o=t.frameState.viewState.resolution,r=this.animation,s=t.frameState.time;if(r.resolution!=o&&this.sourceChanged){var a=t.frameState.extent;for(r.resolution<o?(a=Ub(a,100*o),r.cA=this.oldcluster.getFeaturesInExtent(a),r.cB=this.getSource().getFeaturesInExtent(a),r.revers=!1):(a=Ub(a,100*o),r.cA=this.getSource().getFeaturesInExtent(a),r.cB=this.oldcluster.getFeaturesInExtent(a),r.revers=!0),r.clusters=[],i=0;n=r.cA[i];i++){var l=n.get("features");if(l&&l.length){var c=this.getClusterForFeature(l[0],r.cB);c&&r.clusters.push({f:n,pt:c.getGeometry().getCoordinates()})}}if(r.resolution=o,this.sourceChanged=!1,!r.clusters.length||r.clusters.length>1e3)return void this.stopAnimation();s=r.start=(new Date).getTime()}if(r.start){var h=t.vectorContext||MM(t),A=(s-r.start)/e;A>1&&(this.stopAnimation(),A=1),A=this.get("animationMethod")(A);var u=this.getStyle(),d="function"==typeof u?u:u.length?function(){return u}:function(){return[u]};for(t.context.save(),t.context.globalAlpha=this.getOpacity(),i=0;c=r.clusters[i];i++){var p=c.f.getGeometry().getCoordinates(),g=p[0]-c.pt[0],f=p[1]-c.pt[1];r.revers?(p[0]=c.pt[0]+A*g,p[1]=c.pt[1]+A*f):(p[0]=p[0]-A*g,p[1]=p[1]-A*f);var m=d(c.f,o,!0);if(m.length||(m=[m]),1!==c.f.get("features").length||g||f){var b=new mw(p);l=new Cb(b)}else l=c.f.get("features")[0];for(var v,y=0;v=m[y];y++)if(v.getText()&&/\n/.test(v.getText().getText())){var w,x=v.getText().getOffsetX(),_=v.getText().getOffsetY(),C=v.getText().getRotation()||0,B=1.2*Number((v.getText().getFont()||"10px").match(/\d+/)),S=v.getText().getText().split("\n"),E=S.length-1,k=v.clone();S.forEach((function(e,i){switch(1==i&&(k.setImage(),k.setFill(),k.setStroke()),v.getText().getTextBaseline()){case"alphabetic":case"ideographic":case"bottom":w=E;break;case"hanging":case"top":w=0;break;default:w=E/2}k.getText().setOffsetX(x-Math.sin(C)*B*(i-w)),k.getText().setOffsetY(_+Math.cos(C)*B*(i-w)),k.getText().setText(e),h.drawFeature(l,RM(t,k))}))}else h.drawFeature(l,RM(t,v))}t.context.restore(),t.frameState.animate=!0,t.context.save(),t.context.beginPath(),t.context.rect(0,0,0,0),t.context.clip(),this.clip_=!0}}}postanimate(t){this.clip_&&(t.context.restore(),this.clip_=!1)}};const OM=34962,UM=34963,DM=35044,QM=35048,HM=["experimental-webgl","webgl","webkit-3d","moz-webgl"];const zM=DM;class jM{constructor(t,e){this.array_=null,this.type_=t,_b(t===OM||t===UM,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=void 0!==e?e:zM}ofSize(t){return this.array_=new(GM(this.type_))(t),this}fromArray(t){return this.array_=GM(this.type_).from(t),this}fromArrayBuffer(t){return this.array_=new(GM(this.type_))(t),this}getType(){return this.type_}getArray(){return this.array_}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}function GM(t){switch(t){case OM:return Float32Array;case UM:return Uint32Array;default:return Float32Array}}const VM="webglcontextlost",KM="webglcontextrestored";class qM{constructor(t){this.gl_=t.webGlContext;const e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer(),this.depthBuffer_=e.createRenderbuffer();const i=e.createShader(e.VERTEX_SHADER);e.shaderSource(i,t.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),e.compileShader(i);const n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(n,t.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n"),e.compileShader(n),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,i),e.attachShader(this.renderTargetProgram_,n),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach((i=>{this.uniforms_.push({value:t.uniforms[i],location:e.getUniformLocation(this.renderTargetProgram_,i)})}))}getGL(){return this.gl_}init(t){const e=this.getGL(),i=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.bindRenderbuffer(e.RENDERBUFFER,this.getDepthBuffer()),e.viewport(0,0,i[0],i[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==i[0]||this.renderTargetTextureSize_[1]!==i[1]){this.renderTargetTextureSize_=i;const t=0,n=e.RGBA,o=0,r=e.RGBA,s=e.UNSIGNED_BYTE,a=null;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,t,n,i[0],i[1],o,r,s,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,i[0],i[1]),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.depthBuffer_)}}apply(t,e,i,n){const o=this.getGL(),r=t.size;if(o.bindFramebuffer(o.FRAMEBUFFER,e?e.getFrameBuffer():null),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.renderTargetTexture_),!e){const e=yb(o.canvas);if(!t.renderTargets[e]){const i=o.getContextAttributes();i&&i.preserveDrawingBuffer&&(o.clearColor(0,0,0,0),o.clearDepth(1),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)),t.renderTargets[e]=!0}}o.disable(o.DEPTH_TEST),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.bindBuffer(o.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),o.useProgram(this.renderTargetProgram_),o.enableVertexAttribArray(this.renderTargetAttribLocation_),o.vertexAttribPointer(this.renderTargetAttribLocation_,2,o.FLOAT,!1,0,0),o.uniform2f(this.renderTargetUniformLocation_,r[0],r[1]),o.uniform1i(this.renderTargetTextureLocation_,0);const s=t.layerStatesArray[t.layerIndex].opacity;o.uniform1f(this.renderTargetOpacityLocation_,s),this.applyUniforms(t),i&&i(o,t),o.drawArrays(o.TRIANGLES,0,6),n&&n(o,t)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(t){const e=this.getGL();let i,n=1;this.uniforms_.forEach((function(o){if(i="function"==typeof o.value?o.value(t):o.value,i instanceof HTMLCanvasElement||i instanceof ImageData)o.texture||(o.texture=e.createTexture()),e.activeTexture(e[`TEXTURE${n}`]),e.bindTexture(e.TEXTURE_2D,o.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i instanceof ImageData?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,i.width,i.height,0,e.UNSIGNED_BYTE,new Uint8Array(i.data)):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),e.uniform1i(o.location,n++);else if(Array.isArray(i))switch(i.length){case 2:return void e.uniform2f(o.location,i[0],i[1]);case 3:return void e.uniform3f(o.location,i[0],i[1],i[2]);case 4:return void e.uniform4f(o.location,i[0],i[1],i[2],i[3]);default:return}else"number"==typeof i&&e.uniform1f(o.location,i)}))}}function WM(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}const XM={PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},$M={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126},YM={};function ZM(t){return"shared/"+t}let JM=0;function tP(t){let e=YM[t];if(!e){const i=document.createElement("canvas");i.width=1,i.height=1,i.style.position="absolute",i.style.left="0";const n=function(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!T_},e);const i=HM.length;for(let o=0;o<i;++o)try{const i=t.getContext(HM[o],e);if(i)return i}catch(n){}return null}(i);e={users:0,context:n},YM[t]=e}return e.users+=1,e.context}class eP extends zm{constructor(t){super(),t=t||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=t.canvasCacheKey?ZM(t.canvasCacheKey):function(){const t="unique/"+JM;return JM+=1,t}(),this.gl_=tP(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const e=this.gl_.canvas;e.addEventListener(VM,this.boundHandleWebGLContextLost_),e.addEventListener(KM,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=[1,0,0,1,0,0],this.offsetScaleMatrix_=[1,0,0,1,0,0],this.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],t.uniforms&&this.setUniforms(t.uniforms),this.postProcessPasses_=t.postProcesses?t.postProcesses.map((t=>new qM({webGlContext:this.gl_,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms}))):[new qM({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(t){this.uniforms_=[],this.addUniforms(t)}addUniforms(t){for(const e in t)this.uniforms_.push({name:e,value:t[e]})}canvasCacheKeyMatches(t){return this.canvasCacheKey_===ZM(t)}getExtension(t){if(t in this.extensionCache_)return this.extensionCache_[t];const e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e}bindBuffer(t){const e=this.gl_,i=yb(t);let n=this.bufferCache_[i];if(!n){n={buffer:t,webGlBuffer:e.createBuffer()},this.bufferCache_[i]=n}e.bindBuffer(t.getType(),n.webGlBuffer)}flushBufferData(t){const e=this.gl_;this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())}deleteBuffer(t){const e=this.gl_,i=yb(t),n=this.bufferCache_[i];n&&!e.isContextLost()&&e.deleteBuffer(n.webGlBuffer),delete this.bufferCache_[i]}disposeInternal(){const t=this.gl_.canvas;t.removeEventListener(VM,this.boundHandleWebGLContextLost_),t.removeEventListener(KM,this.boundHandleWebGLContextRestored_),function(t){const e=YM[t];if(!e)return;if(e.users-=1,e.users>0)return;const i=e.context,n=i.getExtension("WEBGL_lose_context");n&&n.loseContext();const o=i.canvas;o.width=1,o.height=1,delete YM[t]}(this.canvasCacheKey_),delete this.gl_}prepareDraw(t,e,i){const n=this.gl_,o=this.getCanvas(),r=t.size,s=t.pixelRatio;o.width===r[0]*s&&o.height===r[1]*s||(o.width=r[0]*s,o.height=r[1]*s,o.style.width=r[0]+"px",o.style.height=r[1]+"px");for(let a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(t);n.bindTexture(n.TEXTURE_2D,null),n.clearColor(0,0,0,0),n.depthRange(0,1),n.clearDepth(1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,e?n.ZERO:n.ONE_MINUS_SRC_ALPHA),i?(n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL)):n.disable(n.DEPTH_TEST)}bindTexture(t,e,i){const n=this.gl_;n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,t),n.uniform1i(this.getUniformLocation(i),e)}prepareDrawToRenderTarget(t,e,i,n){const o=this.gl_,r=e.getSize();o.bindFramebuffer(o.FRAMEBUFFER,e.getFramebuffer()),o.bindRenderbuffer(o.RENDERBUFFER,e.getDepthbuffer()),o.viewport(0,0,r[0],r[1]),o.bindTexture(o.TEXTURE_2D,e.getTexture()),o.clearColor(0,0,0,0),o.depthRange(0,1),o.clearDepth(1),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,i?o.ZERO:o.ONE_MINUS_SRC_ALPHA),n?(o.enable(o.DEPTH_TEST),o.depthFunc(o.LEQUAL)):o.disable(o.DEPTH_TEST)}drawElements(t,e){const i=this.gl_;this.getExtension("OES_element_index_uint");const n=i.UNSIGNED_INT,o=e-t,r=4*t;i.drawElements(i.TRIANGLES,o,n,r)}finalizeDraw(t,e,i){for(let n=0,o=this.postProcessPasses_.length;n<o;n++)n===o-1?this.postProcessPasses_[n].apply(t,null,e,i):this.postProcessPasses_[n].apply(t,this.postProcessPasses_[n+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(t){const e=t.size,i=t.viewState.rotation,n=t.pixelRatio;this.setUniformFloatValue(XM.TIME,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(XM.ZOOM,t.viewState.zoom),this.setUniformFloatValue(XM.RESOLUTION,t.viewState.resolution),this.setUniformFloatValue(XM.PIXEL_RATIO,n),this.setUniformFloatVec2(XM.VIEWPORT_SIZE_PX,[e[0],e[1]]),this.setUniformFloatValue(XM.ROTATION,i)}applyHitDetectionUniform(t){const e=this.getUniformLocation(XM.HIT_DETECTION);this.getGL().uniform1i(e,t?1:0),t&&this.setUniformFloatValue(XM.PIXEL_RATIO,.5)}applyUniforms(t){const e=this.gl_;let i,n=0;this.uniforms_.forEach((o=>{if(i="function"==typeof o.value?o.value(t):o.value,i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData||i instanceof WebGLTexture){i instanceof WebGLTexture&&!o.texture?(o.prevValue=void 0,o.texture=i):o.texture||(o.prevValue=void 0,o.texture=e.createTexture()),this.bindTexture(o.texture,n,o.name),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);const t=!(i instanceof HTMLImageElement)||i.complete;i instanceof WebGLTexture||!t||o.prevValue===i||(o.prevValue=i,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i)),n++}else if(Array.isArray(i)&&6===i.length)this.setUniformMatrixValue(o.name,WM(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:return void e.uniform2f(this.getUniformLocation(o.name),i[0],i[1]);case 3:return void e.uniform3f(this.getUniformLocation(o.name),i[0],i[1],i[2]);case 4:return void e.uniform4f(this.getUniformLocation(o.name),i[0],i[1],i[2],i[3]);default:return}else"number"==typeof i&&e.uniform1f(this.getUniformLocation(o.name),i)}))}useProgram(t,e){this.gl_.useProgram(t),this.currentProgram_=t,this.applyFrameState(e),this.applyUniforms(e)}compileShader(t,e){const i=this.gl_,n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}getProgram(t,e){const i=this.gl_,n=this.compileShader(t,i.FRAGMENT_SHADER),o=this.compileShader(e,i.VERTEX_SHADER),r=i.createProgram();if(i.attachShader(r,n),i.attachShader(r,o),i.linkProgram(r),!i.getShaderParameter(n,i.COMPILE_STATUS)){const t=`Fragment shader compilation failed: ${i.getShaderInfoLog(n)}`;throw new Error(t)}if(i.deleteShader(n),!i.getShaderParameter(o,i.COMPILE_STATUS)){const t=`Vertex shader compilation failed: ${i.getShaderInfoLog(o)}`;throw new Error(t)}if(i.deleteShader(o),!i.getProgramParameter(r,i.LINK_STATUS)){const t=`GL program linking failed: ${i.getProgramInfoLog(r)}`;throw new Error(t)}return r}getUniformLocation(t){const e=yb(this.currentProgram_);return void 0===this.uniformLocationsByProgram_[e]&&(this.uniformLocationsByProgram_[e]={}),void 0===this.uniformLocationsByProgram_[e][t]&&(this.uniformLocationsByProgram_[e][t]=this.gl_.getUniformLocation(this.currentProgram_,t)),this.uniformLocationsByProgram_[e][t]}getAttributeLocation(t){const e=yb(this.currentProgram_);return void 0===this.attribLocationsByProgram_[e]&&(this.attribLocationsByProgram_[e]={}),void 0===this.attribLocationsByProgram_[e][t]&&(this.attribLocationsByProgram_[e][t]=this.gl_.getAttribLocation(this.currentProgram_,t)),this.attribLocationsByProgram_[e][t]}makeProjectionTransform(t,e){const i=t.size,n=t.viewState.rotation,o=t.viewState.resolution,r=t.viewState.center;return Mb(e,0,0,2/(o*i[0]),2/(o*i[1]),-n,-r[0],-r[1]),e}setUniformFloatValue(t,e){this.gl_.uniform1f(this.getUniformLocation(t),e)}setUniformFloatVec2(t,e){this.gl_.uniform2fv(this.getUniformLocation(t),e)}setUniformFloatVec4(t,e){this.gl_.uniform4fv(this.getUniformLocation(t),e)}setUniformMatrixValue(t,e){this.gl_.uniformMatrix4fv(this.getUniformLocation(t),!1,e)}enableAttributeArray_(t,e,i,n,o){const r=this.getAttributeLocation(t);r<0||(this.gl_.enableVertexAttribArray(r),this.gl_.vertexAttribPointer(r,e,i,!1,n,o))}enableAttributes(t){const e=function(t){let e=0;for(let i=0;i<t.length;i++){const n=t[i];e+=n.size*iP(n.type)}return e}(t);let i=0;for(let n=0;n<t.length;n++){const o=t[n];this.enableAttributeArray_(o.name,o.size,o.type||5126,e,i),i+=o.size*iP(o.type)}}handleWebGLContextLost(t){tb(this.bufferCache_),this.currentProgram_=null,t.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(t,e,i){const n=this.gl_;i=i||n.createTexture();const o=n.RGBA,r=n.RGBA,s=n.UNSIGNED_BYTE;return n.bindTexture(n.TEXTURE_2D,i),e?n.texImage2D(n.TEXTURE_2D,0,o,r,s,e):n.texImage2D(n.TEXTURE_2D,0,o,t[0],t[1],0,r,s,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i}}function iP(t){switch(t){case $M.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case $M.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case $M.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case $M.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}class nP extends dI{constructor(t,e){super(t),e=e||{},this.inversePixelTransform_=[1,0,0,1,0,0],this.pixelContext_=null,this.postProcesses_=e.postProcesses,this.uniforms_=e.uniforms,this.helper,t.addChangeListener(hx,this.removeHelper.bind(this)),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(t,e){const i=this.getLayer();if(i.hasListener(px)){const n=new VB(px,void 0,e,t);i.dispatchEvent(n)}}dispatchPostComposeEvent(t,e){const i=this.getLayer();if(i.hasListener(gx)){const n=new VB(gx,void 0,e,t);i.dispatchEvent(n)}}reset(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(t){if(this.getLayer().getRenderSource()){let e,i=!0,n=-1;for(let r=0,s=t.layerStatesArray.length;r<s;r++){const o=t.layerStatesArray[r].layer,s=o.getRenderer();if(!(s instanceof nP)){i=!0;continue}const a=o.getClassName();if((i||a!==e)&&(n+=1,i=!1),e=a,s===this)break}const o="map/"+t.mapId+"/group/"+n;this.helper&&this.helper.canvasCacheKeyMatches(o)&&!this.helper.needsToBeRecreated()||(this.removeHelper(),this.helper=new eP({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:o}),e&&(this.helper.getCanvas().className=e),this.afterHelperCreated())}return this.prepareFrameInternal(t)}afterHelperCreated(){}prepareFrameInternal(t){return!0}disposeInternal(){this.removeHelper(),super.disposeInternal()}dispatchRenderEvent_(t,e,i){const n=this.getLayer();if(n.hasListener(t)){Mb(this.inversePixelTransform_,0,0,i.pixelRatio,-i.pixelRatio,0,0,-i.size[1]);const o=new VB(t,this.inversePixelTransform_,i,e);n.dispatchEvent(o)}}preRender(t,e){this.dispatchRenderEvent_(ux,t,e)}postRender(t,e){this.dispatchRenderEvent_(dx,t,e)}}const oP=new Uint8Array(4);class rP{constructor(t,e){this.helper_=t;const i=t.getGL();this.texture_=i.createTexture(),this.framebuffer_=i.createFramebuffer(),this.depthbuffer_=i.createRenderbuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}setSize(t){Wm(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){const t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}readPixel(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return oP[0]=0,oP[1]=0,oP[2]=0,oP[3]=0,oP;this.readAll();const i=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return oP[0]=this.data_[4*i],oP[1]=this.data_[4*i+1],oP[2]=this.data_[4*i+2],oP[3]=this.data_[4*i+3],oP}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}getDepthbuffer(){return this.depthbuffer_}updateSize_(){const t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),e.bindRenderbuffer(e.RENDERBUFFER,this.depthbuffer_),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t[0],t[1]),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.depthbuffer_),this.data_=new Uint8Array(t[0]*t[1]*4)}}const sP="GENERATE_POLYGON_BUFFERS",aP="GENERATE_POINT_BUFFERS",lP="GENERATE_LINE_STRING_BUFFERS";var cP={exports:{}};function hP(t,e,i){i=i||2;var n,o,r,s,a,l,c,h=e&&e.length,A=h?e[0]*i:t.length,u=AP(t,0,A,i,!0),d=[];if(!u||u.next===u.prev)return d;if(h&&(u=function(t,e,i,n){var o,r,s,a=[];for(o=0,r=e.length;o<r;o++)(s=AP(t,e[o]*n,o<r-1?e[o+1]*n:t.length,n,!1))===s.next&&(s.steiner=!0),a.push(xP(s));for(a.sort(bP),o=0;o<a.length;o++)i=vP(a[o],i);return i}(t,e,u,i)),t.length>80*i){n=r=t[0],o=s=t[1];for(var p=i;p<A;p+=i)(a=t[p])<n&&(n=a),(l=t[p+1])<o&&(o=l),a>r&&(r=a),l>s&&(s=l);c=0!==(c=Math.max(r-n,s-o))?32767/c:0}return dP(u,d,i,n,o,c,0),d}function AP(t,e,i,n,o){var r,s;if(o===RP(t,e,i,n)>0)for(r=e;r<i;r+=n)s=IP(r,t[r],t[r+1],s);else for(r=i-n;r>=e;r-=n)s=IP(r,t[r],t[r+1],s);return s&&SP(s,s.next)&&(MP(s),s=s.next),s}function uP(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!SP(n,n.next)&&0!==BP(n.prev,n,n.next))n=n.next;else{if(MP(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function dP(t,e,i,n,o,r,s){if(t){!s&&r&&function(t,e,i,n){var o=t;do{0===o.z&&(o.z=wP(o.x,o.y,e,i,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,i,n,o,r,s,a,l,c=1;do{for(i=t,t=null,r=null,s=0;i;){for(s++,n=i,a=0,e=0;e<c&&(a++,n=n.nextZ);e++);for(l=c;a>0||l>0&&n;)0!==a&&(0===l||!n||i.z<=n.z)?(o=i,i=i.nextZ,a--):(o=n,n=n.nextZ,l--),r?r.nextZ=o:t=o,o.prevZ=r,r=o;i=n}r.nextZ=null,c*=2}while(s>1)}(o)}(t,n,o,r);for(var a,l,c=t;t.prev!==t.next;)if(a=t.prev,l=t.next,r?gP(t,n,o,r):pP(t))e.push(a.i/i|0),e.push(t.i/i|0),e.push(l.i/i|0),MP(t),t=l.next,c=l.next;else if((t=l)===c){s?1===s?dP(t=fP(uP(t),e,i),e,i,n,o,r,2):2===s&&mP(t,e,i,n,o,r):dP(uP(t),e,i,n,o,r,1);break}}}function pP(t){var e=t.prev,i=t,n=t.next;if(BP(e,i,n)>=0)return!1;for(var o=e.x,r=i.x,s=n.x,a=e.y,l=i.y,c=n.y,h=o<r?o<s?o:s:r<s?r:s,A=a<l?a<c?a:c:l<c?l:c,u=o>r?o>s?o:s:r>s?r:s,d=a>l?a>c?a:c:l>c?l:c,p=n.next;p!==e;){if(p.x>=h&&p.x<=u&&p.y>=A&&p.y<=d&&_P(o,a,r,l,s,c,p.x,p.y)&&BP(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function gP(t,e,i,n){var o=t.prev,r=t,s=t.next;if(BP(o,r,s)>=0)return!1;for(var a=o.x,l=r.x,c=s.x,h=o.y,A=r.y,u=s.y,d=a<l?a<c?a:c:l<c?l:c,p=h<A?h<u?h:u:A<u?A:u,g=a>l?a>c?a:c:l>c?l:c,f=h>A?h>u?h:u:A>u?A:u,m=wP(d,p,e,i,n),b=wP(g,f,e,i,n),v=t.prevZ,y=t.nextZ;v&&v.z>=m&&y&&y.z<=b;){if(v.x>=d&&v.x<=g&&v.y>=p&&v.y<=f&&v!==o&&v!==s&&_P(a,h,l,A,c,u,v.x,v.y)&&BP(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,y.x>=d&&y.x<=g&&y.y>=p&&y.y<=f&&y!==o&&y!==s&&_P(a,h,l,A,c,u,y.x,y.y)&&BP(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;v&&v.z>=m;){if(v.x>=d&&v.x<=g&&v.y>=p&&v.y<=f&&v!==o&&v!==s&&_P(a,h,l,A,c,u,v.x,v.y)&&BP(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;y&&y.z<=b;){if(y.x>=d&&y.x<=g&&y.y>=p&&y.y<=f&&y!==o&&y!==s&&_P(a,h,l,A,c,u,y.x,y.y)&&BP(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function fP(t,e,i){var n=t;do{var o=n.prev,r=n.next.next;!SP(o,r)&&EP(o,n,n.next,r)&&TP(o,r)&&TP(r,o)&&(e.push(o.i/i|0),e.push(n.i/i|0),e.push(r.i/i|0),MP(n),MP(n.next),n=t=r),n=n.next}while(n!==t);return uP(n)}function mP(t,e,i,n,o,r){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&CP(s,a)){var l=LP(s,a);return s=uP(s,s.next),l=uP(l,l.next),dP(s,e,i,n,o,r,0),void dP(l,e,i,n,o,r,0)}a=a.next}s=s.next}while(s!==t)}function bP(t,e){return t.x-e.x}function vP(t,e){var i=function(t,e){var i,n=e,o=t.x,r=t.y,s=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){var a=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=o&&a>s&&(s=a,i=n.x<n.next.x?n:n.next,a===o))return i}n=n.next}while(n!==e);if(!i)return null;var l,c=i,h=i.x,A=i.y,u=1/0;n=i;do{o>=n.x&&n.x>=h&&o!==n.x&&_P(r<A?o:s,r,h,A,r<A?s:o,r,n.x,n.y)&&(l=Math.abs(r-n.y)/(o-n.x),TP(n,t)&&(l<u||l===u&&(n.x>i.x||n.x===i.x&&yP(i,n)))&&(i=n,u=l)),n=n.next}while(n!==c);return i}(t,e);if(!i)return e;var n=LP(i,t);return uP(n,n.next),uP(i,i.next)}function yP(t,e){return BP(t.prev,t,e.prev)<0&&BP(e.next,t,t.next)<0}function wP(t,e,i,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function xP(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function _P(t,e,i,n,o,r,s,a){return(o-s)*(e-a)>=(t-s)*(r-a)&&(t-s)*(n-a)>=(i-s)*(e-a)&&(i-s)*(r-a)>=(o-s)*(n-a)}function CP(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&EP(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(TP(t,e)&&TP(e,t)&&function(t,e){var i=t,n=!1,o=(t.x+e.x)/2,r=(t.y+e.y)/2;do{i.y>r!=i.next.y>r&&i.next.y!==i.y&&o<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(BP(t.prev,t,e.prev)||BP(t,e.prev,e))||SP(t,e)&&BP(t.prev,t,t.next)>0&&BP(e.prev,e,e.next)>0)}function BP(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function SP(t,e){return t.x===e.x&&t.y===e.y}function EP(t,e,i,n){var o=FP(BP(t,e,i)),r=FP(BP(t,e,n)),s=FP(BP(i,n,t)),a=FP(BP(i,n,e));return o!==r&&s!==a||(!(0!==o||!kP(t,i,e))||(!(0!==r||!kP(t,n,e))||(!(0!==s||!kP(i,t,n))||!(0!==a||!kP(i,e,n)))))}function kP(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function FP(t){return t>0?1:t<0?-1:0}function TP(t,e){return BP(t.prev,t,t.next)<0?BP(t,e,t.next)>=0&&BP(t,t.prev,e)>=0:BP(t,e,t.prev)<0||BP(t,t.next,e)<0}function LP(t,e){var i=new PP(t.i,t.x,t.y),n=new PP(e.i,e.x,e.y),o=t.next,r=e.prev;return t.next=e,e.prev=t,i.next=o,o.prev=i,n.next=i,i.prev=n,r.next=n,n.prev=r,n}function IP(t,e,i,n){var o=new PP(t,e,i);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function MP(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function PP(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function RP(t,e,i,n){for(var o=0,r=e,s=i-n;r<i;r+=n)o+=(t[s]-t[r])*(t[r+1]+t[s+1]),s=r;return o}cP.exports=hP,cP.exports.default=hP,hP.deviation=function(t,e,i,n){var o=e&&e.length,r=o?e[0]*i:t.length,s=Math.abs(RP(t,0,r,i));if(o)for(var a=0,l=e.length;a<l;a++){var c=e[a]*i,h=a<l-1?e[a+1]*i:t.length;s-=Math.abs(RP(t,c,h,i))}var A=0;for(a=0;a<n.length;a+=3){var u=n[a]*i,d=n[a+1]*i,p=n[a+2]*i;A+=Math.abs((t[u]-t[p])*(t[d+1]-t[u+1])-(t[u]-t[d])*(t[p+1]-t[u+1]))}return 0===s&&0===A?0:Math.abs((A-s)/s)},hP.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var r=0;r<t[o].length;r++)for(var s=0;s<e;s++)i.vertices.push(t[o][r][s]);o>0&&(n+=t[o-1].length,i.holes.push(n))}return i};function NP(t,e){const i=256,n=255;return(e=e||[])[0]=Math.floor(t/i/i/i)/n,e[1]=Math.floor(t/i/i)%i/n,e[2]=Math.floor(t/i)%i/n,e[3]=t%i/n,e}function OP(t){let e=0;const i=256,n=255;return e+=Math.round(t[0]*i*i*i*n),e+=Math.round(t[1]*i*i*n),e+=Math.round(t[2]*i*n),e+=Math.round(t[3]*n),e}function UP(){const t='const e="GENERATE_POLYGON_BUFFERS",t="GENERATE_POINT_BUFFERS",n="GENERATE_LINE_STRING_BUFFERS";function r(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function x(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new Error(t)}(0!==n,"Transformation matrix cannot be inverted");const x=t[0],i=t[1],u=t[2],o=t[3],f=t[4],s=t[5];return e[0]=o/n,e[1]=-i/n,e[2]=-u/n,e[3]=x/n,e[4]=(u*s-o*f)/n,e[5]=-(x*s-i*f)/n,e}function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}new Array(6);var u={exports:{}};function o(e,t,n){n=n||2;var r,x,i,u,o,s,l,v=t&&t.length,h=v?t[0]*n:e.length,c=f(e,0,h,n,!0),g=[];if(!c||c.next===c.prev)return g;if(v&&(c=function(e,t,n,r){var x,i,u,o=[];for(x=0,i=t.length;x<i;x++)(u=f(e,t[x]*r,x<i-1?t[x+1]*r:e.length,r,!1))===u.next&&(u.steiner=!0),o.push(d(u));for(o.sort(p),x=0;x<o.length;x++)n=y(o[x],n);return n}(e,t,c,n)),e.length>80*n){r=i=e[0],x=u=e[1];for(var b=n;b<h;b+=n)(o=e[b])<r&&(r=o),(s=e[b+1])<x&&(x=s),o>i&&(i=o),s>u&&(u=s);l=0!==(l=Math.max(i-r,u-x))?32767/l:0}return a(c,g,n,r,x,l,0),g}function f(e,t,n,r,x){var i,u;if(x===O(e,t,n,r)>0)for(i=t;i<n;i+=r)u=P(i,e[i],e[i+1],u);else for(i=n-r;i>=t;i-=r)u=P(i,e[i],e[i+1],u);return u&&m(u,u.next)&&(B(u),u=u.next),u}function s(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(B(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,x,i,u){if(e){!u&&i&&function(e,t,n,r){var x=e;do{0===x.z&&(x.z=b(x.x,x.y,t,n,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,function(e){var t,n,r,x,i,u,o,f,s=1;do{for(n=e,e=null,i=null,u=0;n;){for(u++,r=n,o=0,t=0;t<s&&(o++,r=r.nextZ);t++);for(f=s;o>0||f>0&&r;)0!==o&&(0===f||!r||n.z<=r.z)?(x=n,n=n.nextZ,o--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;n=r}i.nextZ=null,s*=2}while(u>1)}(x)}(e,r,x,i);for(var o,f,p=e;e.prev!==e.next;)if(o=e.prev,f=e.next,i?v(e,r,x,i):l(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(f.i/n|0),B(e),e=f.next,p=f.next;else if((e=f)===p){u?1===u?a(e=h(s(e),t,n),t,n,r,x,i,2):2===u&&c(e,t,n,r,x,i):a(s(e),t,n,r,x,i,1);break}}}function l(e){var t=e.prev,n=e,r=e.next;if(w(t,n,r)>=0)return!1;for(var x=t.x,i=n.x,u=r.x,o=t.y,f=n.y,s=r.y,a=x<i?x<u?x:u:i<u?i:u,l=o<f?o<s?o:s:f<s?f:s,v=x>i?x>u?x:u:i>u?i:u,h=o>f?o>s?o:s:f>s?f:s,c=r.next;c!==t;){if(c.x>=a&&c.x<=v&&c.y>=l&&c.y<=h&&M(x,o,i,f,u,s,c.x,c.y)&&w(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function v(e,t,n,r){var x=e.prev,i=e,u=e.next;if(w(x,i,u)>=0)return!1;for(var o=x.x,f=i.x,s=u.x,a=x.y,l=i.y,v=u.y,h=o<f?o<s?o:s:f<s?f:s,c=a<l?a<v?a:v:l<v?l:v,p=o>f?o>s?o:s:f>s?f:s,y=a>l?a>v?a:v:l>v?l:v,g=b(h,c,t,n,r),d=b(p,y,t,n,r),Z=e.prevZ,m=e.nextZ;Z&&Z.z>=g&&m&&m.z<=d;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;if(Z=Z.prevZ,m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;Z&&Z.z>=g;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;m&&m.z<=d;){if(m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function h(e,t,n){var r=e;do{var x=r.prev,i=r.next.next;!m(x,i)&&A(x,r,r.next,i)&&z(x,i)&&z(i,x)&&(t.push(x.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),B(r),B(r.next),r=e=i),r=r.next}while(r!==e);return s(r)}function c(e,t,n,r,x,i){var u=e;do{for(var o=u.next.next;o!==u.prev;){if(u.i!==o.i&&Z(u,o)){var f=F(u,o);return u=s(u,u.next),f=s(f,f.next),a(u,t,n,r,x,i,0),void a(f,t,n,r,x,i,0)}o=o.next}u=u.next}while(u!==e)}function p(e,t){return e.x-t.x}function y(e,t){var n=function(e,t){var n,r=t,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var o=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=x&&o>u&&(u=o,n=r.x<r.next.x?r:r.next,o===x))return n}r=r.next}while(r!==t);if(!n)return null;var f,s=n,a=n.x,l=n.y,v=1/0;r=n;do{x>=r.x&&r.x>=a&&x!==r.x&&M(i<l?x:u,i,a,l,i<l?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),z(r,e)&&(f<v||f===v&&(r.x>n.x||r.x===n.x&&g(n,r)))&&(n=r,v=f)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;var r=F(n,e);return s(r,r.next),s(n,n.next)}function g(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}function b(e,t,n,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function M(e,t,n,r,x,i,u,o){return(x-u)*(t-o)>=(e-u)*(i-o)&&(e-u)*(r-o)>=(n-u)*(t-o)&&(n-u)*(i-o)>=(x-u)*(r-o)}function Z(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&A(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(z(e,t)&&z(t,e)&&function(e,t){var n=e,r=!1,x=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&x<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||m(e,t)&&w(e.prev,e,e.next)>0&&w(t.prev,t,t.next)>0)}function w(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function A(e,t,n,r){var x=I(w(e,t,n)),i=I(w(e,t,r)),u=I(w(n,r,e)),o=I(w(n,r,t));return x!==i&&u!==o||(!(0!==x||!E(e,n,t))||(!(0!==i||!E(e,r,t))||(!(0!==u||!E(n,e,r))||!(0!==o||!E(n,t,r)))))}function E(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function I(e){return e>0?1:e<0?-1:0}function z(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function F(e,t){var n=new _(e.i,e.x,e.y),r=new _(t.i,t.x,t.y),x=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=x,x.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function P(e,t,n,r){var x=new _(e,t,n);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function _(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,n,r){for(var x=0,i=t,u=n-r;i<n;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}u.exports=o,u.exports.default=o,o.deviation=function(e,t,n,r){var x=t&&t.length,i=x?t[0]*n:e.length,u=Math.abs(O(e,0,i,n));if(x)for(var o=0,f=t.length;o<f;o++){var s=t[o]*n,a=o<f-1?t[o+1]*n:e.length;u-=Math.abs(O(e,s,a,n))}var l=0;for(o=0;o<r.length;o+=3){var v=r[o]*n,h=r[o+1]*n,c=r[o+2]*n;l+=Math.abs((e[v]-e[c])*(e[h+1]-e[v+1])-(e[v]-e[h])*(e[c+1]-e[v+1]))}return 0===u&&0===l?0:Math.abs((l-u)/u)},o.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<t;u++)n.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,n.holes.push(r))}return n};var N=i(u.exports);const R=[],S={vertexPosition:0,indexPosition:0};function T(e,t,n,r,x){e[t+0]=n,e[t+1]=r,e[t+2]=x}function U(e,t,n,r,x,i){const u=3+x,o=e[t+0],f=e[t+1],s=R;s.length=x;for(let n=0;n<s.length;n++)s[n]=e[t+2+n];let a=i?i.vertexPosition:0,l=i?i.indexPosition:0;const v=a/u;return T(n,a,o,f,0),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,1),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,2),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,3),s.length&&n.set(s,a+3),a+=u,r[l++]=v,r[l++]=v+1,r[l++]=v+3,r[l++]=v+1,r[l++]=v+2,r[l++]=v+3,S.vertexPosition=a,S.indexPosition=l,S}function k(e,t,n,x,i,u,o,f,s,a,l){const v=8+f.length,h=u.length/v,c=[e[t+0],e[t+1]],p=[e[n],e[n+1]],y=r(s,[...c]),g=r(s,[...p]);function b(e,t,n){const r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),x=[(t[0]-e[0])/r,(t[1]-e[1])/r],i=[-x[1],x[0]],u=Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),o=[(n[0]-e[0])/u,(n[1]-e[1])/u],f=0===r||0===u?0:Math.acos((s=o[0]*x[0]+o[1]*x[1],a=-1,l=1,Math.min(Math.max(s,a),l)));var s,a,l;return o[0]*i[0]+o[1]*i[1]>0?f:2*Math.PI-f}let d=-1,M=-1,Z=l;const w=null!==i;if(null!==x){d=b(y,g,r(s,[...[e[x],e[x+1]]])),Math.cos(d)<=.985&&(Z+=Math.tan((d-Math.PI)/2))}if(w){M=b(g,y,r(s,[...[e[i],e[i+1]]])),Math.cos(M)<=.985&&(Z+=Math.tan((Math.PI-M)/2))}function m(e,t){return 0===t?1e4*e:Math.sign(t)*(1e4*e+Math.abs(t))}return u.push(c[0],c[1],p[0],p[1],d,M,a,m(0,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(1,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(2,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(3,l)),u.push(...f),o.push(h,h+1,h+2,h+1,h+3,h+2),{length:a+Math.sqrt((g[0]-y[0])*(g[0]-y[0])+(g[1]-y[1])*(g[1]-y[1])),angle:Z}}function G(e,t,n,r,x){const i=2+x;let u=t;const o=e.slice(u,u+x);u+=x;const f=e[u++];let s=0;const a=new Array(f-1);for(let t=0;t<f;t++)s+=e[u++],t<f-1&&(a[t]=s);const l=e.slice(u,u+2*s),v=N(l,a,2);for(let e=0;e<v.length;e++)r.push(v[e]+n.length/i);for(let e=0;e<l.length;e+=2)n.push(l[e],l[e+1],...o);return u+2*s}const j=self;j.onmessage=r=>{const i=r.data;switch(i.type){case t:{const e=3,t=2,n=i.customAttributesSize,r=t+n,x=new Float32Array(i.renderInstructions),u=x.length/r,o=4*u*(n+e),f=new Uint32Array(6*u),s=new Float32Array(o);let a;for(let e=0;e<x.length;e+=r)a=U(x,e,s,f,n,a);const l=Object.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:x.buffer},i);j.postMessage(l,[s.buffer,f.buffer,x.buffer]);break}case n:{const e=[],t=[],n=i.customAttributesSize,r=2,u=new Float32Array(i.renderInstructions);let o=0;const f=[1,0,0,1,0,0];let s,a;for(x(f,i.renderInstructionsTransform);o<u.length;){a=Array.from(u.slice(o,o+n)),o+=n,s=u[o++];const x=o,i=o+(s-1)*r,l=u[x]===u[i]&&u[x+1]===u[i+1];let v=0,h=0;for(let n=0;n<s-1;n++){let c=null;n>0?c=o+(n-1)*r:l&&(c=i-r);let p=null;n<s-2?p=o+(n+2)*r:l&&(p=x+r);const y=k(u,o+n*r,o+(n+1)*r,c,p,e,t,a,f,v,h);v=y.length,h=y.angle}o+=s*r}const l=Uint32Array.from(t),v=Float32Array.from(e),h=Object.assign({vertexBuffer:v.buffer,indexBuffer:l.buffer,renderInstructions:u.buffer},i);j.postMessage(h,[v.buffer,l.buffer,u.buffer]);break}case e:{const e=[],t=[],n=i.customAttributesSize,r=new Float32Array(i.renderInstructions);let x=0;for(;x<r.length;)x=G(r,x,e,t,n);const u=Uint32Array.from(t),o=Float32Array.from(e),f=Object.assign({vertexBuffer:o.buffer,indexBuffer:u.buffer,renderInstructions:r.buffer},i);j.postMessage(f,[o.buffer,u.buffer,r.buffer]);break}}};';return new Worker("undefined"==typeof Blob?"data:application/javascript;base64,"+Buffer.from(t,"binary").toString("base64"):URL.createObjectURL(new Blob([t],{type:"application/javascript"})))}function DP(t,e){const i=t.viewState.projection,n=e.getSource().getWrapX()&&i.canWrapX(),o=i.getExtent(),r=t.extent,s=n?gv(o):null,a=n?Math.ceil((r[2]-o[2])/s)+1:1;return[n?Math.floor((r[0]-o[0])/s):0,a,s]}class QP extends nP{constructor(t,e){var i;const n=e.uniforms||{},o=[1,0,0,1,0,0];n[XM.PROJECTION_MATRIX]=o,super(t,{uniforms:n,postProcesses:e.postProcesses}),this.sourceRevision_=-1,this.verticesBuffer_=new jM(OM,QM),this.indicesBuffer_=new jM(UM,QM),this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.program_,this.hitDetectionEnabled_=null===(i=e.hitDetectionEnabled)||void 0===i||i;const r=e.attributes?e.attributes.map((function(t){return{name:"a_prop_"+t.name,size:1,type:$M.FLOAT}})):[];this.attributes=[{name:"a_position",size:2,type:$M.FLOAT},{name:"a_index",size:1,type:$M.FLOAT}],this.hitDetectionEnabled_&&(this.attributes.push({name:"a_prop_hitColor",size:4,type:$M.FLOAT}),this.attributes.push({name:"a_featureUid",size:1,type:$M.FLOAT})),this.attributes.push(...r),this.customAttributes=e.attributes?e.attributes:[],this.previousExtent_=[1/0,1/0,-1/0,-1/0],this.currentTransform_=o,this.renderTransform_=[1,0,0,1,0,0],this.invertRenderTransform_=[1,0,0,1,0,0],this.renderInstructions_=new Float32Array(0),this.hitRenderTarget_,this.lastSentId=0,this.worker_=UP(),this.worker_.addEventListener("message",(t=>{const e=t.data;if(e.type===aP){const i=e.projectionTransform;this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.fromArrayBuffer(e.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=i,Pb(this.invertRenderTransform_,this.renderTransform_),this.renderInstructions_=new Float32Array(t.data.renderInstructions),e.id===this.lastSentId&&(this.ready=!0),this.getLayer().changed()}})),this.featureCache_={},this.featureCount_=0;const s=this.getLayer().getSource();this.sourceListenKeys_=[db(s,Ek,this.handleSourceFeatureAdded_,this),db(s,kk,this.handleSourceFeatureChanged_,this),db(s,Tk,this.handleSourceFeatureDelete_,this),db(s,Fk,this.handleSourceFeatureClear_,this)],s.forEachFeature((t=>{this.featureCache_[yb(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new rP(this.helper))}handleSourceFeatureAdded_(t){const e=t.feature;this.featureCache_[yb(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}handleSourceFeatureChanged_(t){const e=t.feature;this.featureCache_[yb(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}}handleSourceFeatureDelete_(t){const e=t.feature;delete this.featureCache_[yb(e)],this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={},this.featureCount_=0}renderFrame(t){const e=this.helper.getGL();this.preRender(e,t);const[i,n,o]=DP(t,this.getLayer());this.renderWorlds(t,!1,i,n,o),this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent),this.hitDetectionEnabled_&&(this.renderWorlds(t,!0,i,n,o),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t);return this.helper.getCanvas()}prepareFrameInternal(t){const e=this.getLayer(),i=e.getSource(),n=t.viewState,o=!t.viewHints[mx]&&!t.viewHints[bx],r=!$b(this.previousExtent_,t.extent),s=this.sourceRevision_<i.getRevision();if(s&&(this.sourceRevision_=i.getRevision()),o&&(r||s)){const o=n.projection,r=n.resolution,s=e instanceof zB?e.getRenderBuffer():0,a=Ub(t.extent,s*r);i.loadFeatures(a,r,o),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.useProgram(this.program_,t),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}rebuildBuffers_(t){const e=[1,0,0,1,0,0];this.helper.makeProjectionTransform(t,e);const i=(this.hitDetectionEnabled_?7:2)+this.customAttributes.length,n=i*this.featureCount_;let o,r;this.renderInstructions_&&this.renderInstructions_.length===n||(this.renderInstructions_=new Float32Array(n));const s=[],a=[];let l=-1;for(const h in this.featureCache_)if(o=this.featureCache_[h],r=o.geometry,r&&"Point"===r.getType()){if(s[0]=r.getFlatCoordinates()[0],s[1]=r.getFlatCoordinates()[1],Tb(e,s),this.renderInstructions_[++l]=s[0],this.renderInstructions_[++l]=s[1],this.hitDetectionEnabled_){const t=NP(l+5,a);this.renderInstructions_[++l]=t[0],this.renderInstructions_[++l]=t[1],this.renderInstructions_[++l]=t[2],this.renderInstructions_[++l]=t[3],this.renderInstructions_[++l]=Number(h)}for(let t=0;t<this.customAttributes.length;t++){const e=this.customAttributes[t].callback(o.feature,o.properties);this.renderInstructions_[++l]=e}}const c={id:++this.lastSentId,type:aP,renderInstructions:this.renderInstructions_.buffer,customAttributesSize:i-2};c.projectionTransform=e,this.ready=!1,this.worker_.postMessage(c,[this.renderInstructions_.buffer]),this.renderInstructions_=null}forEachFeatureAtCoordinate(t,e,i,n,o){if(_b(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.renderInstructions_||!this.hitDetectionEnabled_)return;const r=Tb(e.coordinateToPixelTransform,t.slice()),s=this.hitRenderTarget_.readPixel(r[0]/2,r[1]/2),a=OP([s[0]/255,s[1]/255,s[2]/255,s[3]/255]),l=this.renderInstructions_[a],c=Math.floor(l).toString(),h=this.getLayer().getSource().getFeatureByUid(c);return h?n(h,this.getLayer(),null):void 0}renderWorlds(t,e,i,n,o){let r=i;this.helper.useProgram(this.program_,t),e&&(this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0)),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes);do{this.helper.makeProjectionTransform(t,this.currentTransform_),Ib(this.currentTransform_,r*o,0),Eb(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(t),this.helper.applyHitDetectionUniform(e);const i=this.indicesBuffer_.getSize();this.helper.drawElements(0,i)}while(++r<n)}disposeInternal(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(t){gb(t)})),this.sourceListenKeys_=null,super.disposeInternal()}renderDeclutter(){}}class HP{constructor(t,e){this.name=t,this.data=e,this.texture_=null}getTexture(t){if(!this.texture_){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.data.length/4,1,0,t.RGBA,t.UNSIGNED_BYTE,this.data),this.texture_=e}return this.texture_}delete(t){this.texture_&&t.deleteTexture(this.texture_),this.texture_=null}}class zP extends ib{constructor(t){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter_=t.gutter||0,this.helper_=t.helper,this.loaded=!1,this.ready=!1}setTile(t){if(t!==this.tile)if(this.tile&&this.tile.removeEventListener(nb,this.handleTileChange_),this.tile=t,this.loaded=t.getState()===mS,this.loaded)this.uploadTile();else{if(t instanceof CE){const e=t.getImage();e instanceof Image&&!e.crossOrigin&&(e.crossOrigin="anonymous")}t.addEventListener(nb,this.handleTileChange_)}}uploadTile(){bb()}setReady(){this.ready=!0,this.dispatchEvent(nb)}handleTileChange_(){this.tile.getState()===mS&&(this.loaded=!0,this.uploadTile())}disposeInternal(){this.tile.removeEventListener(nb,this.handleTileChange_)}}function jP(t,e,i){const n=i?t.LINEAR:t.NEAREST;t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n)}function GP(t,e,i,n,o,r){const s=t.getGL();let a,l;if(i instanceof Float32Array){a=s.FLOAT,t.getExtension("OES_texture_float");l=null!==t.getExtension("OES_texture_float_linear")}else a=s.UNSIGNED_BYTE,l=!0;jP(s,e,r&&l);const c=i.byteLength/n[1];let h,A=1;switch(c%8==0?A=8:c%4==0?A=4:c%2==0&&(A=2),o){case 1:h=s.LUMINANCE;break;case 2:h=s.LUMINANCE_ALPHA;break;case 3:h=s.RGB;break;case 4:h=s.RGBA;break;default:throw new Error(`Unsupported number of bands: ${o}`)}const u=s.getParameter(s.UNPACK_ALIGNMENT);s.pixelStorei(s.UNPACK_ALIGNMENT,A),s.texImage2D(s.TEXTURE_2D,0,h,n[0],n[1],0,h,a,i),s.pixelStorei(s.UNPACK_ALIGNMENT,u)}let VP=null;class KP extends zP{constructor(t){super(t),this.textures=[],this.renderSize_=l_(t.grid.getTileSize(t.tile.tileCoord[0])),this.bandCount=NaN;const e=new jM(OM,DM);e.fromArray([0,1,1,1,1,0,0,0]),this.helper_.flushBufferData(e),this.coords=e,this.setTile(t.tile)}uploadTile(){const t=this.helper_,e=t.getGL(),i=this.tile;let n;this.textures.length=0,n=i instanceof CE||i instanceof ME?i.getImage():i.getData();const o=zk(n);if(o){const t=e.createTexture();return this.textures.push(t),this.bandCount=4,function(t,e,i,n){jP(t,e,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i)}(e,t,o,i.interpolate),void this.setReady()}n=jk(n);const r=i.getSize(),s=[r[0]+2*this.gutter_,r[1]+2*this.gutter_],a=n instanceof Float32Array,l=s[0]*s[1],c=a?Float32Array:Uint8Array,h=c.BYTES_PER_ELEMENT,A=n.byteLength/s[1];this.bandCount=Math.floor(A/h/s[0]);const u=Math.ceil(this.bandCount/4);if(1===u){const o=e.createTexture();return this.textures.push(o),GP(t,o,n,s,this.bandCount,i.interpolate),void this.setReady()}const d=new Array(u);for(let m=0;m<u;++m){const t=e.createTexture();this.textures.push(t);const i=m<u-1?4:(this.bandCount-1)%4+1;d[m]=new c(l*i)}let p=0,g=0;const f=s[0]*this.bandCount;for(let m=0;m<s[1];++m){for(let t=0;t<f;++t){const e=n[g+t],i=Math.floor(p/this.bandCount),o=t%this.bandCount,r=d[Math.floor(o/4)];r[i*(r.length/l)+o%4]=e,++p}g+=A/h}for(let m=0;m<u;++m){const e=this.textures[m],n=d[m];GP(t,e,n,s,n.length/l,i.interpolate)}this.setReady()}disposeInternal(){const t=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(let e=0;e<this.textures.length;++e)t.deleteTexture(this.textures[e]);this.tile.removeEventListener(nb,this.handleTileChange_)}getImagePixelData_(t,e,i){const n=this.gutter_,o=this.renderSize_[0],r=this.renderSize_[1];VP||(VP=U_(1,1,void 0,{willReadFrequently:!0})),VP.clearRect(0,0,1,1);const s=t.width-2*n,a=t.height-2*n,l=n+Math.floor(s*(e/o)),c=n+Math.floor(a*(i/r));let h;try{VP.drawImage(t,l,c,1,1,0,0,1,1),h=VP.getImageData(0,0,1,1).data}catch(Gr){return VP=null,null}return h}getArrayPixelData_(t,e,i,n){const o=this.gutter_,r=this.renderSize_[0],s=this.renderSize_[1],a=e[0],l=e[1],c=a+2*o,h=l+2*o,A=o+Math.floor(a*(i/r)),u=o+Math.floor(l*(n/s));if(t instanceof DataView){const e=t.byteLength/(c*h),i=e*(u*c+A),n=t.buffer.slice(i,i+e);return new DataView(n)}const d=this.bandCount*(u*c+A);return t.slice(d,d+this.bandCount)}getPixelData(t,e){if(!this.loaded)return null;if(this.tile instanceof Kk){const i=this.tile.getData(),n=jk(i);if(n){const i=this.tile.getSize();return this.getArrayPixelData_(n,i,t,e)}return this.getImagePixelData_(zk(i),t,e)}return this.getImagePixelData_(this.tile.getImage(),t,e)}}const qP={};function WP(t){return 1/(t+2)}function XP(t,e){return t.tileIds.has(yb(e))}function $P(t,e,i){const n=t.representationsByZ;i in n||(n[i]=new Set),n[i].add(e),t.tileIds.add(yb(e.tile))}function YP(t,e){const i=t.layerStatesArray[t.layerIndex];i.extent&&(e=uv(e,Dy(i.extent,t.viewState.projection)));const n=i.layer.getRenderSource();if(!n.getWrapX()){const i=n.getTileGridForProjection(t.viewState.projection).getExtent();i&&(e=uv(e,i))}return e}function ZP(t,e){return`${t.getKey()},${NE(e)}`}class JP extends nP{constructor(t,e){super(t,{uniforms:e.uniforms,postProcesses:e.postProcesses}),this.renderComplete=!1,this.tileTransform_=[1,0,0,1,0,0],this.tempMat4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.tempTileRange_=new VE(0,0,0,0),this.tempTileCoord_=PE(0,0,0),this.tempSize_=[0,0];const i=void 0!==e.cacheSize?e.cacheSize:512;this.tileRepresentationCache=new xE(i),this.frameState=null,this.projection_=void 0}reset(t){super.reset({uniforms:t.uniforms})}isDrawableTile_(t){const e=this.getLayer(),i=t.getState(),n=e.getUseInterimTilesOnError();return i==mS||i==vS||i==bS&&!n}prepareFrameInternal(t){this.projection_?t.viewState.projection!==this.projection_&&(this.clearCache(),this.projection_=t.viewState.projection):this.projection_=t.viewState.projection;const e=this.getLayer().getRenderSource();return!!e&&(!mv(YP(t,t.extent))&&"ready"===e.getState())}createTileRepresentation(t){return bb()}enqueueTiles(t,e,i,n,o){const r=t.viewState,s=this.getLayer(),a=s.getRenderSource(),l=a.getTileGridForProjection(r.projection),c=a.getGutterForProjection(r.projection),h=yb(a);h in t.wantedTiles||(t.wantedTiles[h]={});const A=t.wantedTiles[h],u=this.tileRepresentationCache,d=s.getMapInternal(),p=Math.max(i-o,l.getMinZoom(),l.getZForResolution(Math.min(s.getMaxResolution(),d?d.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):l.getResolution(0)),a.zDirection));for(let g=i;g>=p;--g){const i=l.getTileRangeForExtentAndZ(e,g,this.tempTileRange_),o=l.getResolution(g);for(let e=i.minX;e<=i.maxX;++e)for(let s=i.minY;s<=i.maxY;++s){const i=PE(g,e,s,this.tempTileCoord_),d=ZP(a,i);let p,f;if(u.containsKey(d)&&(p=u.get(d),f=p.tile),p&&p.tile.key===a.getKey()||(f=a.getTile(g,e,s,t.pixelRatio,r.projection)),XP(n,f))continue;if(p)if(this.isDrawableTile_(f))p.setTile(f);else{const t=f.getInterimTile();p.setTile(t)}else p=this.createTileRepresentation({tile:f,grid:l,helper:this.helper,gutter:c}),u.set(d,p);$P(n,p,g);const m=f.getKey();A[m]=!0,f.getState()===gS&&(t.tileQueue.isKeyQueued(m)||t.tileQueue.enqueue([f,h,l.getTileCoordCenter(i),o]))}}}beforeTilesRender(t,e){this.helper.prepareDraw(this.frameState,!e,!0)}beforeTilesMaskRender(t){return!1}renderTile(t,e,i,n,o,r,s,a,l,c,h){}renderTileMask(t,e,i,n){}drawTile_(t,e,i,n,o,r,s){if(!e.ready)return;const a=e.tile.tileCoord,l=NE(a),c=l in r?r[l]:1,h=s.getResolution(i),A=l_(s.getTileSize(i),this.tempSize_),u=s.getOrigin(i),d=s.getTileCoordExtent(a),p=c<1?-1:WP(i);c<1&&(t.animate=!0);const g=t.viewState,f=g.center[0],m=g.center[1],b=A[0]+2*n,v=A[1]+2*n,y=b/v,w=(f-u[0])/(A[0]*h),x=(u[1]-m)/(A[1]*h),_=g.resolution/h,C=a[1],B=a[2];Sb(this.tileTransform_),Lb(this.tileTransform_,2/(t.size[0]*_/b),-2/(t.size[1]*_/b)),function(t,e){const i=Math.cos(e),n=Math.sin(e);Eb(t,kb(Bb,i,n,-n,i,0,0))}(this.tileTransform_,g.rotation),Lb(this.tileTransform_,1,1/y),Ib(this.tileTransform_,(A[0]*(C-w)-n)/b,(A[1]*(B-x)-n)/v),this.renderTile(e,this.tileTransform_,t,o,h,A,u,d,p,n,c)}renderFrame(t){this.frameState=t,this.renderComplete=!0;const e=this.helper.getGL();this.preRender(e,t);const i=t.viewState,n=this.getLayer(),o=n.getRenderSource(),r=o.getTileGridForProjection(i.projection),s=o.getGutterForProjection(i.projection),a=YP(t,t.extent),l=r.getZForResolution(i.resolution,o.zDirection),c={tileIds:new Set,representationsByZ:{}},h=n.getPreload();if(t.nextExtent){const e=r.getZForResolution(i.nextResolution,o.zDirection),n=YP(t,t.nextExtent);this.enqueueTiles(t,n,e,c,h)}this.enqueueTiles(t,a,l,c,0),h>0&&setTimeout((()=>{this.enqueueTiles(t,a,l-1,c,h-1)}),0);const A={},u=yb(this),d=t.time;let p=!1;for(const v of c.representationsByZ[l]){const t=v.tile;if((t instanceof ME||t instanceof qk)&&t.getState()===vS)continue;const e=t.tileCoord;if(v.ready){const i=t.getAlpha(u,d);if(1===i){t.endTransition(u);continue}p=!0;A[NE(e)]=i}this.renderComplete=!1;if(this.findAltTiles_(r,e,l+1,c))continue;const i=r.getMinZoom();for(let n=l-1;n>=i;--n){if(this.findAltTiles_(r,e,n,c))break}}const g=c.representationsByZ,f=Object.keys(g).map(Number).sort(Gm);if(this.beforeTilesMaskRender(t))for(let v=0,y=f.length;v<y;++v){const t=f[v];for(const e of g[t]){const i=e.tile.tileCoord;if(NE(i)in A)continue;const n=r.getTileCoordExtent(i);this.renderTileMask(e,t,n,WP(t))}}this.beforeTilesRender(t,p);for(let v=0,y=f.length;v<y;++v){const e=f[v];for(const i of g[e]){NE(i.tile.tileCoord)in A||this.drawTile_(t,i,e,s,a,A,r)}}for(const v of g[l]){NE(v.tile.tileCoord)in A&&this.drawTile_(t,v,l,s,a,A,r)}this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const m=this.helper.getCanvas(),b=this.tileRepresentationCache;for(;b.canExpireCache();){b.pop().dispose()}return t.postRenderFunctions.push((function(t,e){o.updateCacheSize(.1,e.viewState.projection),o.expireCache(e.viewState.projection,qP)})),this.postRender(e,t),m}findAltTiles_(t,e,i,n){const o=t.getTileRangeForTileCoordAndZ(e,i,this.tempTileRange_);if(!o)return!1;let r=!0;const s=this.tileRepresentationCache,a=this.getLayer().getRenderSource();for(let l=o.minX;l<=o.maxX;++l)for(let t=o.minY;t<=o.maxY;++t){const e=ZP(a,[i,l,t]);let o=!1;if(s.containsKey(e)){const t=s.get(e);t.ready&&!XP(n,t.tile)&&($P(n,t,i),o=!0)}o||(r=!1)}return r}clearCache(){const t=this.tileRepresentationCache;t.forEach((t=>t.dispose())),t.clear()}removeHelper(){this.helper&&this.clearCache(),super.removeHelper()}disposeInternal(){super.disposeInternal(),delete this.frameState}}const tR={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},eR="a_textureCoord",iR=[{name:eR,size:2,type:$M.FLOAT}];class nR extends JP{constructor(t,e){super(t,e),this.program_,this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.indices_=new jM(UM,DM),this.indices_.fromArray([0,1,3,1,2,3]),this.paletteTextures_=e.paletteTextures||[]}reset(t){if(super.reset(t),this.helper){const t=this.helper.getGL();for(const e of this.paletteTextures_)e.delete(t)}this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.paletteTextures_=t.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)}removeHelper(){if(this.helper){const t=this.helper.getGL();for(const e of this.paletteTextures_)e.delete(t)}super.removeHelper()}createTileRepresentation(t){return new KP(t)}beforeTilesRender(t,e){super.beforeTilesRender(t,e),this.helper.useProgram(this.program_,t)}renderTile(t,e,i,n,o,r,s,a,l,c,h){const A=this.helper.getGL();this.helper.bindBuffer(t.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(iR);let u=0;for(;u<t.textures.length;){const e=`${tR.TILE_TEXTURE_ARRAY}[${u}]`;this.helper.bindTexture(t.textures[u],u,e),++u}for(let y=0;y<this.paletteTextures_.length;++y){const t=this.paletteTextures_[y],e=t.getTexture(A);this.helper.bindTexture(e,u,t.name),++u}const d=i.viewState,p=r[0]+2*c,g=r[1]+2*c,f=t.tile.tileCoord,m=f[1],b=f[2];this.helper.setUniformMatrixValue(tR.TILE_TRANSFORM,WM(this.tempMat4,e)),this.helper.setUniformFloatValue(tR.TRANSITION_ALPHA,h),this.helper.setUniformFloatValue(tR.DEPTH,l);let v=n;c>0&&(v=a,uv(v,n,v)),this.helper.setUniformFloatVec4(tR.RENDER_EXTENT,v),this.helper.setUniformFloatValue(tR.RESOLUTION,d.resolution),this.helper.setUniformFloatValue(tR.ZOOM,d.zoom),this.helper.setUniformFloatValue(tR.TEXTURE_PIXEL_WIDTH,p),this.helper.setUniformFloatValue(tR.TEXTURE_PIXEL_HEIGHT,g),this.helper.setUniformFloatValue(tR.TEXTURE_RESOLUTION,o),this.helper.setUniformFloatValue(tR.TEXTURE_ORIGIN_X,s[0]+m*r[0]*o-c*o),this.helper.setUniformFloatValue(tR.TEXTURE_ORIGIN_Y,s[1]-b*r[1]*o+c*o),this.helper.drawElements(0,this.indices_.getSize())}getData(t){if(!this.helper.getGL())return null;const e=this.frameState;if(!e)return null;const i=this.getLayer(),n=Tb(e.pixelToCoordinateTransform,t.slice()),o=e.viewState,r=i.getExtent();if(r&&!Hb(Dy(r,o.projection),n))return null;const s=i.getSources(Ob([n]),o.resolution);let a,l,c;for(a=s.length-1;a>=0;--a)if(l=s[a],"ready"===l.getState()){if(c=l.getTileGridForProjection(o.projection),l.getWrapX())break;const t=c.getExtent();if(!t||Hb(t,n))break}if(a<0)return null;const h=this.tileRepresentationCache;for(let A=c.getZForResolution(o.resolution);A>=c.getMinZoom();--A){const t=c.getTileCoordForCoordAndZ(n,A),e=ZP(l,t);if(!h.containsKey(e))continue;const i=h.get(e),o=i.tile;if((o instanceof ME||o instanceof qk)&&o.getState()===vS)return null;if(!i.loaded)continue;const r=c.getOrigin(A),s=l_(c.getTileSize(A)),a=c.getResolution(A),u=(n[0]-r[0])/a-t[1]*s[0],d=(r[1]-n[1])/a-t[2]*s[1];return i.getPixelData(u,d)}return null}disposeInternal(){const t=this.helper;if(t){const e=t.getGL();for(const t of this.paletteTextures_)t.delete(e);this.paletteTextures_.length=0,e.deleteProgram(this.program_),delete this.program_,t.deleteBuffer(this.indices_)}super.disposeInternal(),delete this.indices_}}function oR(t){const e=t.toString();return e.includes(".")?e:e+".0"}function rR(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${t.length}(${t.map(oR).join(", ")})`}function sR(t){const e=B_(t),i=e.length>3?e[3]:1;return rR([e[0]/255*i,e[1]/255*i,e[2]/255*i,i])}const aR={};let lR=0;function cR(t){return t in aR||(aR[t]=lR++),aR[t]}function hR(t){return oR(cR(t))}function AR(t){return"u_var_"+t}const uR="getBandValue",dR="u_paletteTextures";function pR(t){return(e,i,n)=>{const o=i.args.length,r=new Array(o);for(let t=0;t<o;++t)r[t]=fR(i.args[t],n,e);return t(r,e)}}const gR={[rB.Get]:(t,e)=>{const i=e.args[0].value;i in t.properties||(t.properties[i]={name:i,type:e.type});return(t.inFragmentShader?"v_prop_":"a_prop_")+i},[rB.GeometryType]:(t,e,i)=>{const n="geometryType";n in t.properties||(t.properties[n]={name:n,type:VC,evaluator:t=>dB(t.getGeometry())});return(t.inFragmentShader?"v_prop_":"a_prop_")+n},[rB.Var]:(t,e)=>{const i=e.args[0].value;return i in t.variables||(t.variables[i]={name:i,type:e.type}),AR(i)},[rB.Resolution]:()=>"u_resolution",[rB.Zoom]:()=>"u_zoom",[rB.Time]:()=>"u_time",[rB.Any]:pR((t=>`(${t.join(" || ")})`)),[rB.All]:pR((t=>`(${t.join(" && ")})`)),[rB.Not]:pR((([t])=>`(!${t})`)),[rB.Equal]:pR((([t,e])=>`(${t} == ${e})`)),[rB.NotEqual]:pR((([t,e])=>`(${t} != ${e})`)),[rB.GreaterThan]:pR((([t,e])=>`(${t} > ${e})`)),[rB.GreaterThanOrEqualTo]:pR((([t,e])=>`(${t} >= ${e})`)),[rB.LessThan]:pR((([t,e])=>`(${t} < ${e})`)),[rB.LessThanOrEqualTo]:pR((([t,e])=>`(${t} <= ${e})`)),[rB.Multiply]:pR((t=>`(${t.join(" * ")})`)),[rB.Divide]:pR((([t,e])=>`(${t} / ${e})`)),[rB.Add]:pR((t=>`(${t.join(" + ")})`)),[rB.Subtract]:pR((([t,e])=>`(${t} - ${e})`)),[rB.Clamp]:pR((([t,e,i])=>`clamp(${t}, ${e}, ${i})`)),[rB.Mod]:pR((([t,e])=>`mod(${t}, ${e})`)),[rB.Pow]:pR((([t,e])=>`pow(${t}, ${e})`)),[rB.Abs]:pR((([t])=>`abs(${t})`)),[rB.Floor]:pR((([t])=>`floor(${t})`)),[rB.Ceil]:pR((([t])=>`ceil(${t})`)),[rB.Round]:pR((([t])=>`floor(${t} + 0.5)`)),[rB.Sin]:pR((([t])=>`sin(${t})`)),[rB.Cos]:pR((([t])=>`cos(${t})`)),[rB.Atan]:pR((([t,e])=>void 0!==e?`atan(${t}, ${e})`:`atan(${t})`)),[rB.Sqrt]:pR((([t])=>`sqrt(${t})`)),[rB.Match]:pR((t=>{const e=t[0],i=t[t.length-1];let n=null;for(let o=t.length-3;o>=1;o-=2){n=`(${e} == ${t[o]} ? ${t[o+1]} : ${n||i})`}return n})),[rB.Between]:pR((([t,e,i])=>`(${t} >= ${e} && ${t} <= ${i})`)),[rB.Interpolate]:pR((([t,e,...i])=>{let n="";for(let o=0;o<i.length-2;o+=2){const r=i[o],s=n||i[o+1],a=i[o+2],l=i[o+3];let c;c=t===oR(1)?`(${e} - ${r}) / (${a} - ${r})`:`(pow(${t}, (${e} - ${r})) - 1.0) / (pow(${t}, (${a} - ${r})) - 1.0)`,n=`mix(${s}, ${l}, clamp(${c}, 0.0, 1.0))`}return n})),[rB.Case]:pR((t=>{const e=t[t.length-1];let i=null;for(let n=t.length-3;n>=0;n-=2){i=`(${t[n]} ? ${t[n+1]} : ${i||e})`}return i})),[rB.In]:pR((([t,...e],i)=>{const n=function(t,e){return`operator_${t}_${Object.keys(e.functions).length}`}("in",i),o=[];for(let r=0;r<e.length;r+=1)o.push(`  if (inputValue == ${e[r]}) { return true; }`);return i.functions[n]=`bool ${n}(float inputValue) {\n${o.join("\n")}\n  return false;\n}`,`${n}(${t})`})),[rB.Array]:pR((t=>`vec${t.length}(${t.join(", ")})`)),[rB.Color]:pR((t=>{if(1===t.length)return`vec4(vec3(${t[0]} / 255.0), 1.0)`;if(2===t.length)return`(${t[1]} * vec4(vec3(${t[0]} / 255.0), 1.0))`;const e=t.slice(0,3).map((t=>`${t} / 255.0`));if(3===t.length)return`vec4(${e.join(", ")}, 1.0)`;return`(${t[3]} * vec4(${e.join(", ")}, 1.0))`})),[rB.Band]:pR((([t,e,i],n)=>{if(!(uR in n.functions)){let t="";const e=n.bandCount||1;for(let i=0;i<e;i++){const n=Math.floor(i/4);let o=i%4;i===e-1&&1===o&&(o=3);t+=`  if (band == ${i+1}.0) {\n    return texture2D(${`${tR.TILE_TEXTURE_ARRAY}[${n}]`}, v_textureCoord + vec2(dx, dy))[${o}];\n  }\n`}n.functions[uR]=`float getBandValue(float band, float xOffset, float yOffset) {\n  float dx = xOffset / ${tR.TEXTURE_PIXEL_WIDTH};\n  float dy = yOffset / ${tR.TEXTURE_PIXEL_HEIGHT};\n${t}\n}`}return`${uR}(${t}, ${null!=e?e:"0.0"}, ${null!=i?i:"0.0"})`})),[rB.Palette]:(t,e)=>{const[i,...n]=e.args,o=n.length,r=new Uint8Array(4*o);for(let l=0;l<n.length;l++){const t=B_(n[l].value),e=4*l;r[e]=t[0],r[e+1]=t[1],r[e+2]=t[2],r[e+3]=255*t[3]}t.paletteTextures||(t.paletteTextures=[]);const s=`${dR}[${t.paletteTextures.length}]`,a=new HP(s,r);t.paletteTextures.push(a);return`texture2D(${s}, vec2((${fR(i,GC,t)} + 0.5) / ${o}.0, 0.5))`}};function fR(t,e,i){if(t instanceof iB){const n=gR[t.operator];if(void 0===n)throw new Error(`No compiler defined for this operator: ${JSON.stringify(t.operator)}`);return n(i,t,e)}if((t.type&GC)>0)return oR(t.value);if((t.type&jC)>0)return t.value.toString();if((t.type&VC)>0)return hR(t.value.toString());if((t.type&KC)>0)return sR(t.value);if((t.type&qC)>0)return rR(t.value);if((t.type&WC)>0)return function(t){return rR(l_(t))}(t.value);throw new Error(`Unexpected expression ${t.value} (expected type ${ZC(e)})`)}const mR="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform float u_rotation;\nuniform vec4 u_renderExtent;\nuniform vec2 u_patternOrigin;\nuniform float u_depth;\nuniform mediump int u_hitDetection;\n\nconst float PI = 3.141592653589793238;\nconst float TWO_PI = 2.0 * PI;\n\n// this used to produce an alpha-premultiplied color from a texture\nvec4 samplePremultiplied(sampler2D sampler, vec2 texCoord) {\n  vec4 color = texture2D(sampler, texCoord);\n  return vec4(color.rgb * color.a, color.a);\n}\n",bR={"fill-color":"rgba(255,255,255,0.4)","stroke-color":"#3399CC","stroke-width":1.25,"circle-radius":5,"circle-fill-color":"rgba(255,255,255,0.4)","circle-stroke-width":1.25,"circle-stroke-color":"#3399CC"};class vR{constructor(){this.uniforms_=[],this.attributes_=[],this.varyings_=[],this.hasSymbol_=!1,this.symbolSizeExpression_=`vec2(${oR(bR["circle-radius"])} + ${oR(.5*bR["circle-stroke-width"])})`,this.symbolRotationExpression_="0.0",this.symbolOffsetExpression_="vec2(0.0)",this.symbolColorExpression_=sR(bR["circle-fill-color"]),this.texCoordExpression_="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression_="false",this.symbolRotateWithView_=!1,this.hasStroke_=!1,this.strokeWidthExpression_=oR(bR["stroke-width"]),this.strokeColorExpression_=sR(bR["stroke-color"]),this.strokeOffsetExpression_="0.",this.strokeCapExpression_=hR("round"),this.strokeJoinExpression_=hR("round"),this.strokeMiterLimitExpression_="10.",this.strokeDistanceFieldExpression_="-1000.",this.hasFill_=!1,this.fillColorExpression_=sR(bR["fill-color"]),this.vertexShaderFunctions_=[],this.fragmentShaderFunctions_=[]}addUniform(t){return this.uniforms_.push(t),this}addAttribute(t){return this.attributes_.push(t),this}addVarying(t,e,i){return this.varyings_.push({name:t,type:e,expression:i}),this}setSymbolSizeExpression(t){return this.hasSymbol_=!0,this.symbolSizeExpression_=t,this}getSymbolSizeExpression(){return this.symbolSizeExpression_}setSymbolRotationExpression(t){return this.symbolRotationExpression_=t,this}setSymbolOffsetExpression(t){return this.symbolOffsetExpression_=t,this}getSymbolOffsetExpression(){return this.symbolOffsetExpression_}setSymbolColorExpression(t){return this.hasSymbol_=!0,this.symbolColorExpression_=t,this}getSymbolColorExpression(){return this.symbolColorExpression_}setTextureCoordinateExpression(t){return this.texCoordExpression_=t,this}setFragmentDiscardExpression(t){return this.discardExpression_=t,this}getFragmentDiscardExpression(){return this.discardExpression_}setSymbolRotateWithView(t){return this.symbolRotateWithView_=t,this}setStrokeWidthExpression(t){return this.hasStroke_=!0,this.strokeWidthExpression_=t,this}setStrokeColorExpression(t){return this.hasStroke_=!0,this.strokeColorExpression_=t,this}getStrokeColorExpression(){return this.strokeColorExpression_}setStrokeOffsetExpression(t){return this.strokeOffsetExpression_=t,this}setStrokeCapExpression(t){return this.strokeCapExpression_=t,this}setStrokeJoinExpression(t){return this.strokeJoinExpression_=t,this}setStrokeMiterLimitExpression(t){return this.strokeMiterLimitExpression_=t,this}setStrokeDistanceFieldExpression(t){return this.strokeDistanceFieldExpression_=t,this}setFillColorExpression(t){return this.hasFill_=!0,this.fillColorExpression_=t,this}getFillColorExpression(){return this.fillColorExpression_}addVertexShaderFunction(t){this.vertexShaderFunctions_.includes(t)||this.vertexShaderFunctions_.push(t)}addFragmentShaderFunction(t){this.fragmentShaderFunctions_.includes(t)||this.fragmentShaderFunctions_.push(t)}getSymbolVertexShader(){return this.hasSymbol_?`${mR}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nattribute vec2 a_position;\nattribute float a_index;\nattribute vec4 a_prop_hitColor;\n${this.attributes_.map((function(t){return"attribute "+t+";"})).join("\n")}\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\nvarying vec4 v_prop_hitColor;\nvarying vec2 v_centerPx;\nvarying float v_angle;\nvarying vec2 v_quadSizePx;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.vertexShaderFunctions_.join("\n")}\nvec2 pxToScreen(vec2 coordPx) {\n  vec2 scaled = coordPx / u_viewportSizePx / 0.5;\n  return scaled;\n}\n\nvec2 screenToPx(vec2 coordScreen) {\n  return (coordScreen * 0.5 + 0.5) * u_viewportSizePx;\n}\n\nvoid main(void) {\n  v_quadSizePx = ${this.symbolSizeExpression_};\n  vec2 halfSizePx = v_quadSizePx * 0.5;\n  vec2 centerOffsetPx = ${this.symbolOffsetExpression_};\n  vec2 offsetPx = centerOffsetPx;\n  if (a_index == 0.0) {\n    offsetPx -= halfSizePx;\n  } else if (a_index == 1.0) {\n    offsetPx += halfSizePx * vec2(1., -1.);\n  } else if (a_index == 2.0) {\n    offsetPx += halfSizePx;\n  } else {\n    offsetPx += halfSizePx * vec2(-1., 1.);\n  }\n  float angle = ${this.symbolRotationExpression_};\n  ${this.symbolRotateWithView_?"angle += u_rotation;":""}\n  float c = cos(-angle);\n  float s = sin(-angle);\n  offsetPx = vec2(c * offsetPx.x - s * offsetPx.y, s * offsetPx.x + c * offsetPx.y);\n  vec4 center = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  gl_Position = center + vec4(pxToScreen(offsetPx), u_depth, 0.);\n  vec4 texCoord = ${this.texCoordExpression_};\n  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;\n  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord = vec2(u, v);\n  v_prop_hitColor = a_prop_hitColor;\n  v_angle = angle;\n  c = cos(-v_angle);\n  s = sin(-v_angle);\n  centerOffsetPx = vec2(c * centerOffsetPx.x - s * centerOffsetPx.y, s * centerOffsetPx.x + c * centerOffsetPx.y); \n  v_centerPx = screenToPx(center.xy) + centerOffsetPx;\n${this.varyings_.map((function(t){return"  "+t.name+" = "+t.expression+";"})).join("\n")}\n}`:null}getSymbolFragmentShader(){return this.hasSymbol_?`${mR}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nvarying vec2 v_texCoord;\nvarying vec4 v_prop_hitColor;\nvarying vec2 v_centerPx;\nvarying float v_angle;\nvarying vec2 v_quadSizePx;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.fragmentShaderFunctions_.join("\n")}\n\nvoid main(void) {\n  if (${this.discardExpression_}) { discard; }\n  vec2 coordsPx = gl_FragCoord.xy / u_pixelRatio - v_centerPx; // relative to center\n  float c = cos(v_angle);\n  float s = sin(v_angle);\n  coordsPx = vec2(c * coordsPx.x - s * coordsPx.y, s * coordsPx.x + c * coordsPx.y);\n  gl_FragColor = ${this.symbolColorExpression_};\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.05) { discard; };\n    gl_FragColor = v_prop_hitColor;\n  }\n}`:null}getStrokeVertexShader(){return this.hasStroke_?`${mR}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nattribute vec2 a_position;\nattribute float a_index;\nattribute vec2 a_segmentStart;\nattribute vec2 a_segmentEnd;\nattribute float a_parameters;\nattribute float a_distance;\nattribute vec2 a_joinAngles;\nattribute vec4 a_prop_hitColor;\n${this.attributes_.map((function(t){return"attribute "+t+";"})).join("\n")}\nvarying vec2 v_segmentStart;\nvarying vec2 v_segmentEnd;\nvarying float v_angleStart;\nvarying float v_angleEnd;\nvarying float v_width;\nvarying vec4 v_prop_hitColor;\nvarying float v_distanceOffsetPx;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.vertexShaderFunctions_.join("\n")}\nvec2 worldToPx(vec2 worldPos) {\n  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);\n  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;\n}\n\nvec4 pxToScreen(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return vec4(screenPos, u_depth, 1.0);\n}\n\nbool isCap(float joinAngle) {\n  return joinAngle < -0.1;\n}\n\nvec2 getJoinOffsetDirection(vec2 normalPx, float joinAngle) {\n  float halfAngle = joinAngle / 2.0;\n  float c = cos(halfAngle);\n  float s = sin(halfAngle);\n  vec2 angleBisectorNormal = vec2(s * normalPx.x + c * normalPx.y, -c * normalPx.x + s * normalPx.y);\n  float length = 1.0 / s;\n  return angleBisectorNormal * length;\n}\n\nvec2 getOffsetPoint(vec2 point, vec2 normal, float joinAngle, float offsetPx) {\n  // if on a cap or the join angle is too high, offset the line along the segment normal\n  if (cos(joinAngle) > 0.998 || isCap(joinAngle)) {\n    return point - normal * offsetPx;\n  }\n  // offset is applied along the inverted normal (positive offset goes "right" relative to line direction)\n  return point - getJoinOffsetDirection(normal, joinAngle) * offsetPx;\n}\n\nvoid main(void) {\n  v_angleStart = a_joinAngles.x;\n  v_angleEnd = a_joinAngles.y;\n  float vertexNumber = floor(abs(a_parameters) / 10000. + 0.5);\n  // we're reading the fractional part while keeping the sign (so -4.12 gives -0.12, 3.45 gives 0.45)\n  float angleTangentSum = fract(abs(a_parameters) / 10000.) * 10000. * sign(a_parameters);\n\n  float lineWidth = ${this.strokeWidthExpression_};\n  float lineOffsetPx = ${this.strokeOffsetExpression_};\n\n  // compute segment start/end in px with offset\n  vec2 segmentStartPx = worldToPx(a_segmentStart);\n  vec2 segmentEndPx = worldToPx(a_segmentEnd);\n  vec2 tangentPx = normalize(segmentEndPx - segmentStartPx);\n  vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);\n  segmentStartPx = getOffsetPoint(segmentStartPx, normalPx, v_angleStart, lineOffsetPx),\n  segmentEndPx = getOffsetPoint(segmentEndPx, normalPx, v_angleEnd, lineOffsetPx);\n  \n  // compute current vertex position\n  float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;\n  float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;\n  float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;\n  vec2 joinDirection;\n  vec2 positionPx = vertexNumber < 1.5 ? segmentStartPx : segmentEndPx;\n  // if angle is too high, do not make a proper join\n  if (cos(angle) > 0.985 || isCap(angle)) {\n    joinDirection = normalPx * normalDir - tangentPx * tangentDir;\n  } else {\n    joinDirection = getJoinOffsetDirection(normalPx * normalDir, angle);\n  }\n  positionPx = positionPx + joinDirection * (lineWidth * 0.5 + 1.); // adding 1 pixel for antialiasing\n  gl_Position = pxToScreen(positionPx);\n\n  v_segmentStart = segmentStartPx;\n  v_segmentEnd = segmentEndPx;\n  v_width = lineWidth;\n  v_prop_hitColor = a_prop_hitColor;\n  v_distanceOffsetPx = a_distance / u_resolution - (lineOffsetPx * angleTangentSum);\n${this.varyings_.map((function(t){return"  "+t.name+" = "+t.expression+";"})).join("\n")}\n}`:null}getStrokeFragmentShader(){return this.hasStroke_?`${mR}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nvarying vec2 v_segmentStart;\nvarying vec2 v_segmentEnd;\nvarying float v_angleStart;\nvarying float v_angleEnd;\nvarying float v_width;\nvarying vec4 v_prop_hitColor;\nvarying float v_distanceOffsetPx;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.fragmentShaderFunctions_.join("\n")}\n\nvec2 pxToWorld(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;\n}\n\nbool isCap(float joinAngle) {\n  return joinAngle < -0.1;\n}\n\nfloat segmentDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  vec2 tangent = normalize(end - start);\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 startToPoint = point - start;\n  return abs(dot(startToPoint, normal)) - width * 0.5;\n}\n\nfloat buttCapDistanceField(vec2 point, vec2 start, vec2 end) {\n  vec2 startToPoint = point - start;\n  vec2 tangent = normalize(end - start);\n  return dot(startToPoint, -tangent);\n}\n\nfloat squareCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  return buttCapDistanceField(point, start, end) - width * 0.5;\n}\n\nfloat roundCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  float onSegment = max(0., 1000. * dot(point - start, end - start)); // this is very high when inside the segment\n  return length(point - start) - width * 0.5 - onSegment;\n}\n\nfloat roundJoinDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  return roundCapDistanceField(point, start, end, width);\n}\n\nfloat bevelJoinField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {\n  vec2 startToPoint = point - start;\n  vec2 tangent = normalize(end - start);\n  float c = cos(joinAngle * 0.5);\n  float s = sin(joinAngle * 0.5);\n  float direction = -sign(sin(joinAngle));\n  vec2 bisector = vec2(c * tangent.x - s * tangent.y, s * tangent.x + c * tangent.y);\n  float radius = width * 0.5 * s;\n  return dot(startToPoint, bisector * direction) - radius;\n}\n\nfloat miterJoinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {\n  if (cos(joinAngle) > 0.985) { // avoid risking a division by zero\n    return bevelJoinField(point, start, end, width, joinAngle);\n  }\n  float miterLength = 1. / sin(joinAngle * 0.5);\n  float miterLimit = ${this.strokeMiterLimitExpression_};\n  if (miterLength > miterLimit) {\n    return bevelJoinField(point, start, end, width, joinAngle);\n  }\n  return -1000.;\n}\n\nfloat capDistanceField(vec2 point, vec2 start, vec2 end, float width, float capType) {\n   if (capType == ${hR("butt")}) {\n    return buttCapDistanceField(point, start, end);\n  } else if (capType == ${hR("square")}) {\n    return squareCapDistanceField(point, start, end, width);\n  }\n  return roundCapDistanceField(point, start, end, width);\n}\n\nfloat joinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float joinType) {\n  if (joinType == ${hR("bevel")}) {\n    return bevelJoinField(point, start, end, width, joinAngle);\n  } else if (joinType == ${hR("miter")}) {\n    return miterJoinDistanceField(point, start, end, width, joinAngle);\n  }\n  return roundJoinDistanceField(point, start, end, width);\n}\n\nfloat computeSegmentPointDistance(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float capType, float joinType) {\n  if (isCap(joinAngle)) {\n    return capDistanceField(point, start, end, width, capType);\n  }\n  return joinDistanceField(point, start, end, width, joinAngle, joinType);\n}\n\nvoid main(void) {\n  vec2 currentPoint = gl_FragCoord.xy / u_pixelRatio;\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n  vec2 worldPos = pxToWorld(currentPoint);\n  if (\n    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (\n      worldPos[0] < u_renderExtent[0] ||\n      worldPos[1] < u_renderExtent[1] ||\n      worldPos[0] > u_renderExtent[2] ||\n      worldPos[1] > u_renderExtent[3]\n    )\n  ) {\n    discard;\n  }\n  #endif\n  if (${this.discardExpression_}) { discard; }\n\n  float segmentLength = length(v_segmentEnd - v_segmentStart);\n  vec2 segmentTangent = (v_segmentEnd - v_segmentStart) / segmentLength;\n  vec2 segmentNormal = vec2(-segmentTangent.y, segmentTangent.x);\n  vec2 startToPoint = currentPoint - v_segmentStart;\n  float currentLengthPx = max(0., min(dot(segmentTangent, startToPoint), segmentLength)) + v_distanceOffsetPx; \n  float currentRadiusPx = abs(dot(segmentNormal, startToPoint));\n  float currentRadiusRatio = dot(segmentNormal, startToPoint) * 2. / v_width;\n  vec4 color = ${this.strokeColorExpression_} * u_globalAlpha;\n  float capType = ${this.strokeCapExpression_};\n  float joinType = ${this.strokeJoinExpression_};\n  float segmentStartDistance = computeSegmentPointDistance(currentPoint, v_segmentStart, v_segmentEnd, v_width, v_angleStart, capType, joinType);\n  float segmentEndDistance = computeSegmentPointDistance(currentPoint, v_segmentEnd, v_segmentStart, v_width, v_angleEnd, capType, joinType);\n  float distance = max(\n    segmentDistanceField(currentPoint, v_segmentStart, v_segmentEnd, v_width),\n    max(segmentStartDistance, segmentEndDistance)\n  );\n  distance = max(distance, ${this.strokeDistanceFieldExpression_});\n  gl_FragColor = color * smoothstep(0.5, -0.5, distance);\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.1) { discard; };\n    gl_FragColor = v_prop_hitColor;\n  }\n}`:null}getFillVertexShader(){return this.hasFill_?`${mR}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nattribute vec2 a_position;\nattribute vec4 a_prop_hitColor;\n${this.attributes_.map((function(t){return"attribute "+t+";"})).join("\n")}\nvarying vec4 v_prop_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.vertexShaderFunctions_.join("\n")}\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, u_depth, 1.0);\n  v_prop_hitColor = a_prop_hitColor;\n${this.varyings_.map((function(t){return"  "+t.name+" = "+t.expression+";"})).join("\n")}\n}`:null}getFillFragmentShader(){return this.hasFill_?`${mR}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nvarying vec4 v_prop_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.fragmentShaderFunctions_.join("\n")}\nvec2 pxToWorld(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;\n}\n\nvec2 worldToPx(vec2 worldPos) {\n  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);\n  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;\n}\n\nvoid main(void) {\n  vec2 pxPos = gl_FragCoord.xy / u_pixelRatio;\n  vec2 pxOrigin = worldToPx(u_patternOrigin);\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n  vec2 worldPos = pxToWorld(pxPos);\n  if (\n    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (\n      worldPos[0] < u_renderExtent[0] ||\n      worldPos[1] < u_renderExtent[1] ||\n      worldPos[0] > u_renderExtent[2] ||\n      worldPos[1] > u_renderExtent[3]\n    )\n  ) {\n    discard;\n  }\n  #endif\n  if (${this.discardExpression_}) { discard; }\n  gl_FragColor = ${this.fillColorExpression_} * u_globalAlpha;\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.1) { discard; };\n    gl_FragColor = v_prop_hitColor;\n  }\n}`:null}}const yR="blur",wR="gradient",xR="radius",_R=["#00f","#0ff","#0f0","#ff0","#f00"];class CR extends zB{constructor(t){t=t||{};const e=Object.assign({},t);delete e.gradient,delete e.radius,delete e.blur,delete e.weight,super(e),this.gradient_=null,this.addChangeListener(wR,this.handleGradientChanged_),this.setGradient(t.gradient?t.gradient:_R),this.setBlur(void 0!==t.blur?t.blur:15),this.setRadius(void 0!==t.radius?t.radius:8);const i=t.weight?t.weight:"weight";this.weightFunction_="string"==typeof i?function(t){return t.get(i)}:i,this.setRenderOrder(null)}getBlur(){return this.get(yR)}getGradient(){return this.get(wR)}getRadius(){return this.get(xR)}handleGradientChanged_(){this.gradient_=function(t){const e=1,i=256,n=U_(e,i),o=n.createLinearGradient(0,0,e,i),r=1/(t.length-1);for(let s=0,a=t.length;s<a;++s)o.addColorStop(s*r,t[s]);return n.fillStyle=o,n.fillRect(0,0,e,i),n.canvas}(this.getGradient())}setBlur(t){this.set(yR,t)}setGradient(t){this.set(wR,t)}setRadius(t){this.set(xR,t)}createRenderer(){const t=(new vR).addAttribute("float a_prop_weight").addVarying("v_prop_weight","float","a_prop_weight").addUniform("float u_size").addUniform("float u_blurSlope").setSymbolSizeExpression("vec2(u_size)").setSymbolColorExpression("vec4(smoothstep(0., 1., (1. - length(coordsPx * 2. / v_quadSizePx)) * u_blurSlope) * v_prop_weight)");return new QP(this,{className:this.getClassName(),attributes:[{name:"weight",callback:t=>{const e=this.weightFunction_(t);return void 0!==e?Kv(e,0,1):1}}],uniforms:{u_size:()=>2*(this.get(xR)+this.get(yR)),u_blurSlope:()=>this.get(xR)/Math.max(1,this.get(yR))},hitDetectionEnabled:!0,vertexShader:t.getSymbolVertexShader(),fragmentShader:t.getSymbolFragmentShader(),postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a * u_opacity;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:()=>this.gradient_,u_opacity:()=>this.getOpacity()}}]})}renderDeclutter(){}}const BR={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},SR={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class ER extends _I{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=[1,0,0,1,0,0],this.tileClipContexts_=null}prepareTile(t,e,i){let n;const o=t.getState();return o!==mS&&o!==bS||(this.updateExecutorGroup_(t,e,i),this.tileImageNeedsRender_(t)&&(n=!0)),n}getTile(t,e,i,n){const o=n.pixelRatio,r=n.viewState,s=r.resolution,a=r.projection,l=this.getLayer(),c=l.getSource().getTile(t,e,i,o,a),h=n.viewHints,A=!(h[mx]||h[bx]);!A&&c.wantedResolution||(c.wantedResolution=s);return this.prepareTile(c,o,a)&&(A||Date.now()-n.time<8)&&"vector"!==l.getRenderMode()&&this.renderTileImage_(c,n),super.getTile(t,e,i,n)}isDrawableTile(t){const e=this.getLayer();return super.isDrawableTile(t)&&("vector"===e.getRenderMode()?yb(e)in t.executorGroups:t.hasContext(e))}getTileImage(t){return t.getImage(this.getLayer())}prepareFrame(t){const e=this.getLayer().getRevision();return this.renderedLayerRevision_!==e&&(this.renderedLayerRevision_=e,this.renderedTiles.length=0),super.prepareFrame(t)}updateExecutorGroup_(t,e,i){const n=this.getLayer(),o=n.getRevision(),r=n.getRenderOrder()||null,s=t.wantedResolution,a=t.getReplayState(n);if(!a.dirty&&a.renderedResolution===s&&a.renderedRevision==o&&a.renderedRenderOrder==r)return;const l=n.getSource(),c=!!n.getDeclutter(),h=l.getTileGrid(),A=l.getTileGridForProjection(i).getTileCoordExtent(t.wrappedTileCoord),u=l.getSourceTiles(e,i,t),d=yb(n);delete t.hitDetectionImageData[d],t.executorGroups[d]=[],a.dirty=!1;for(let p=0,g=u.length;p<g;++p){const i=u[p];if(i.getState()!=mS)continue;const o=i.tileCoord,g=h.getTileCoordExtent(o),f=uv(A,g),m=Ub(f,n.getRenderBuffer()*s,this.tmpExtent),b=$b(g,f)?null:m,v=new nM(0,f,s,e),y=EM(s,e),w=function(t,e){let i;const o=t.getStyleFunction()||n.getStyleFunction();if(o&&(i=o(t,s)),i){const n=this.renderFeature(t,y,i,v,c,e);a.dirty=a.dirty||n}},x=i.getFeatures();r&&r!==a.renderedRenderOrder&&x.sort(r);for(let t=0,e=x.length;t<e;++t){const e=x[t];b&&!fv(b,e.getGeometry().getExtent())||w.call(this,e,t)}const _=v.finish(),C="vector"!==n.getRenderMode()&&c&&1===u.length?null:f,B=new bM(C,s,e,l.getOverlaps(),_,n.getRenderBuffer(),!0);t.executorGroups[d].push(B)}a.renderedRevision=o,a.renderedRenderOrder=r,a.renderedResolution=s}forEachFeatureAtCoordinate(t,e,i,n,o){const r=e.viewState.resolution,s=e.viewState.rotation;i=null==i?0:i;const a=this.getLayer(),l=a.getSource().getTileGridForProjection(e.viewState.projection),c=Ob([t]);Ub(c,r*i,c);const h={},A=function(t,e,i){let r=t.getId();void 0===r&&(r=yb(t));const s=h[r];if(s){if(!0!==s&&i<s.distanceSq){if(0===i)return h[r]=!0,o.splice(o.lastIndexOf(s),1),n(t,a,e);s.geometry=e,s.distanceSq=i}}else{if(0===i)return h[r]=!0,n(t,a,e);o.push(h[r]={feature:t,layer:a,geometry:e,distanceSq:i,callback:n})}},u=this.renderedTiles;let d;for(let p=0,g=u.length;!d&&p<g;++p){const n=u[p];if(!fv(l.getTileCoordExtent(n.wrappedTileCoord),c))continue;const o=yb(a),h=[n.executorGroups[o]],g=a.getDeclutter();h.some((n=>{const o=g?e.declutter[g].all().map((t=>t.value)):null;for(let e=0,a=n.length;e<a;++e){const a=n[e];if(d=a.forEachFeatureAtCoordinate(t,r,s,i,A,o),d)return!0}}))}return d}getFeatures(t){return new Promise(((e,i)=>{const n=this.getLayer(),o=yb(n),r=n.getSource(),s=this.renderedProjection,a=s.getExtent(),l=this.renderedResolution,c=r.getTileGridForProjection(s),h=Tb(this.renderedPixelToCoordinateTransform_,t.slice()),A=c.getTileCoordForCoordAndResolution(h,l);let u;for(let t=0,m=this.renderedTiles.length;t<m;++t)if(A.toString()===this.renderedTiles[t].tileCoord.toString()){if(u=this.renderedTiles[t],u.getState()===mS){const t=c.getTileCoordExtent(u.tileCoord);r.getWrapX()&&s.canWrapX()&&!zb(a,t)&&dy(h,s);break}u=void 0}if(!u||u.loadingSourceTiles>0)return void e([]);const d=dv(c.getTileCoordExtent(u.wrappedTileCoord)),p=[(h[0]-d[0])/l,(d[1]-h[1])/l],g=u.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]);let f=u.hitDetectionImageData[o];if(!f){const t=l_(c.getTileSize(c.getZForResolution(l,r.zDirection))),e=this.renderedRotation_;f=xM(t,[this.getRenderTransform(c.getTileCoordCenter(u.wrappedTileCoord),l,0,wM,t[0]*wM,t[1]*wM,0)],g,n.getStyleFunction(),c.getTileCoordExtent(u.wrappedTileCoord),u.getReplayState(n).renderedResolution,e),u.hitDetectionImageData[o]=f}e(_M(p,g,f))}))}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}renderDeclutter(t,e){const i=this.context,n=i.globalAlpha;i.globalAlpha=e.opacity;const o=t.viewHints,r=!(o[mx]||o[bx]),s=this.renderedTiles;for(let a=0,l=s.length;a<l;++a){const e=s[a],i=e.executorGroups[yb(this.getLayer())],n=this.getLayer().getDeclutter();if(i)for(let o=i.length-1;o>=0;--o)i[o].execute(this.context,[this.context.canvas.width,this.context.canvas.height],this.getTileRenderTransform(e,t),t.viewState.rotation,r,fM,n?t.declutter[n]:void 0)}i.globalAlpha=n}renderDeferredInternal(t){const e=this.renderedTiles.reduce(((t,e,i)=>(e.executorGroups[yb(this.getLayer())].forEach((e=>t.push({executorGroup:e,index:i}))),t)),[]),i=e.map((({executorGroup:t})=>t.getDeferredZIndexContexts())),n={};for(let o=0,r=e.length;o<r;++o){const t=e[o].executorGroup.getDeferredZIndexContexts();for(const e in t)n[e]=!0}Object.keys(n).sort(jm).map(Number).forEach((t=>{i.forEach(((i,n)=>{i[t]&&(i[t].forEach((t=>{const{executorGroup:i,index:o}=e[n],r=i.getRenderedContext(),s=r.globalAlpha;r.globalAlpha=this.renderedOpacity_;const a=this.tileClipContexts_[o];a&&a.draw(r),t.draw(r),a&&r.restore(),r.globalAlpha=s,t.clear()})),i[t].length=0)}))}))}getTileRenderTransform(t,e){const i=e.pixelRatio,n=e.viewState,o=n.center,r=n.resolution,s=n.rotation,a=e.size,l=Math.round(a[0]*i),c=Math.round(a[1]*i),h=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),A=t.tileCoord,u=h.getTileCoordExtent(t.wrappedTileCoord),d=h.getTileCoordExtent(A,this.tmpExtent)[0]-u[0];return Eb(Lb(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(o,r,s,i,l,c,d))}postRender(t,e){const i=e.viewHints,n=!(i[mx]||i[bx]);this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation,this.renderedOpacity_=e.layerStatesArray[e.layerIndex].opacity;const o=this.getLayer(),r=o.getRenderMode(),s=t.globalAlpha;t.globalAlpha=this.renderedOpacity_;const a=o.getDeclutter(),l=a?SR[r].filter((t=>!fM.includes(t))):SR[r],c=e.viewState,h=c.rotation,A=o.getSource(),u=A.getTileGridForProjection(c.projection).getZForResolution(c.resolution,A.zDirection),d=this.renderedTiles,p=[],g=[],f=[];let m=!0;for(let v=d.length-1;v>=0;--v){const i=d[v];m=m&&!i.getReplayState(o).dirty;const r=i.executorGroups[yb(o)].filter((t=>t.hasExecutors(l)));if(0===r.length)continue;const s=this.getTileRenderTransform(i,e),c=i.tileCoord[0];let A=!1;const y=r[0].getClipCoords(s);let w,x=t;if(y){w=new pI,x=w.getContext();for(let t=0,e=p.length;t<e;++t)if(u!==c&&c<g[t]){const e=p[t];fv([y[0],y[3],y[4],y[7]],[e[0],e[3],e[4],e[7]])&&(A||(x.save(),A=!0),x.beginPath(),x.moveTo(y[0],y[1]),x.lineTo(y[2],y[3]),x.lineTo(y[4],y[5]),x.lineTo(y[6],y[7]),x.moveTo(e[6],e[7]),x.lineTo(e[4],e[5]),x.lineTo(e[2],e[3]),x.lineTo(e[0],e[1]),x.clip())}p.push(y),g.push(c)}for(let o=0,u=r.length;o<u;++o){var b;r[o].execute(t,[t.canvas.width,t.canvas.height],s,h,n,l,null===(b=e.declutter)||void 0===b?void 0:b[a])}A&&(x===t?x.restore():f[v]=w)}t.globalAlpha=s,this.ready=m,this.tileClipContexts_=f,e.declutter||this.renderDeferredInternal(e),super.postRender(t,e)}renderFeature(t,e,i,n,o,r){if(!i)return!1;let s=!1;if(Array.isArray(i))for(let a=0,l=i.length;a<l;++a)s=FM(n,t,i[a],e,this.boundHandleStyleImageChange_,void 0,o,r)||s;else s=FM(n,t,i,e,this.boundHandleStyleImageChange_,void 0,o,r);return s}tileImageNeedsRender_(t){const e=this.getLayer();if("vector"===e.getRenderMode())return!1;const i=t.getReplayState(e),n=e.getRevision(),o=t.wantedResolution;return i.renderedTileResolution!==o||i.renderedTileRevision!==n}renderTileImage_(t,e){const i=this.getLayer(),n=t.getReplayState(i),o=i.getRevision(),r=t.executorGroups[yb(i)];n.renderedTileRevision=o;const s=t.wrappedTileCoord,a=s[0],l=i.getSource();let c=e.pixelRatio;const h=e.viewState.projection,A=l.getTileGridForProjection(h),u=A.getResolution(t.tileCoord[0]),d=e.pixelRatio/t.wantedResolution*u,p=A.getResolution(a),g=t.getContext(i);c=Math.round(Math.max(c,d/c));const f=l.getTilePixelSize(a,c,h);g.canvas.width=f[0],g.canvas.height=f[1];const m=c/d;if(1!==m){const t=Sb(this.tmpTransform_);Lb(t,m,m),g.setTransform.apply(g,t)}const b=A.getTileCoordExtent(s,this.tmpExtent),v=d/p,y=Sb(this.tmpTransform_);Lb(y,v,-v),Ib(y,-b[0],-b[3]);for(let w=0,x=r.length;w<x;++w){r[w].execute(g,[g.canvas.width*m,g.canvas.height*m],y,0,!0,BR[i.getRenderMode()],null)}n.renderedTileResolution=t.wantedResolution}}class kR extends zB{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un;const i=t.renderMode||"hybrid";_b("hybrid"==i||"vector"==i,"`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=i,this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new ER(this)}getFeatures(t){return super.getFeatures(t)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(yI)}getUseInterimTilesOnError(){return this.get(wI)}setPreload(t){this.set(yI,t)}setUseInterimTilesOnError(t){this.set(wI,t)}}class FR extends bI{constructor(t){super(t),this.vectorRenderer_=new LM(t),this.layerImageRatio_=t.getImageRatio(),this.coordinateToVectorPixelTransform_=[1,0,0,1,0,0],this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(t){if(!this.vectorRenderer_)return Promise.resolve([]);const e=Tb(this.coordinateToVectorPixelTransform_,Tb(this.renderedPixelToCoordinateTransform_,t.slice()));return this.vectorRenderer_.getFeatures(e)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(t){const e=t.pixelRatio,i=t.viewState,n=i.resolution,o=t.viewHints,r=this.vectorRenderer_;let s=t.extent;1!==this.layerImageRatio_&&(s=s.slice(0),vv(s,this.layerImageRatio_));const a=gv(s)/n,l=Av(s)/n;if(!o[mx]&&!o[bx]&&!mv(s)){r.useContainer(null,null);const o=r.context,c=t.layerStatesArray[t.layerIndex],h=Object.assign({},c,{opacity:1}),A=Object.assign({},t,{extent:s,size:[a,l],viewState:Object.assign({},t.viewState,{rotation:0}),layerStatesArray:[h],layerIndex:0,declutter:null}),u=this.getLayer().getDeclutter();u&&(A.declutter={[u]:new Gx(9)});let d=!0;const p=new YL(s,n,e,o.canvas,(function(t){r.prepareFrame(A)&&r.replayGroupChanged&&(r.clipping=!1,r.renderFrame(A,null)&&(r.renderDeclutter(A),r.renderDeferred(A),d=!1),t())}));p.addEventListener(nb,(()=>{if(p.getState()!==r_.LOADED)return;this.image_=d?null:p;const t=p.getPixelRatio(),n=QL(p.getResolution())*e/t;this.renderedResolution=n,this.coordinateToVectorPixelTransform_=Mb(this.coordinateToVectorPixelTransform_,a/2,l/2,1/n,-1/n,0,-i.center[0],-i.center[1])})),p.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(t,e,i,n,o){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,e,i,n,o):super.forEachFeatureAtCoordinate(t,e,i,n,o)}}class TR extends zB{constructor(t){t=t||{};const e=Object.assign({},t);delete e.imageRatio,super(e),this.imageRatio_=void 0!==t.imageRatio?t.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new FR(this)}}function LR(t,e,i){const n=nB();return n.style=t.style,function(t,e,i,n){const o=oB(t,i,e);if(tB(o.type,zC))throw new Error("No matching type was found");if(!JC(e,o.type)){const t=ZC(e),i=ZC(o.type);throw new Error(`Expected expression to be of type ${t}, got ${i}`)}return fR(o,e,n)}(e,i,n,t)}function IR(t){const e=B_(t);return[256*e[0]+e[1],256*e[2]+Math.round(255*e[3])]}function MR(t){return t===KC||t===WC?2:t===qC?4:1}function PR(t){const e=MR(t);return e>1?`vec${e}`:"float"}function RR(t){return(JSON.stringify(t).split("").reduce(((t,e)=>(t<<5)-t+e.charCodeAt(0)),0)>>>0).toString()}function NR(t,e,i,n){if(`${n}radius`in t&&"icon-"!==n){let o=LR(i,t[`${n}radius`],GC);if(`${n}radius2`in t){o=`max(${o}, ${LR(i,t[`${n}radius2`],GC)})`}`${n}stroke-width`in t&&(o=`(${o} + ${LR(i,t[`${n}stroke-width`],GC)} * 0.5)`),e.setSymbolSizeExpression(`vec2(${o} * 2. + 0.5)`)}if(`${n}scale`in t){const o=LR(i,t[`${n}scale`],WC);e.setSymbolSizeExpression(`${e.getSymbolSizeExpression()} * ${o}`)}`${n}displacement`in t&&e.setSymbolOffsetExpression(LR(i,t[`${n}displacement`],qC)),`${n}rotation`in t&&e.setSymbolRotationExpression(LR(i,t[`${n}rotation`],GC)),`${n}rotate-with-view`in t&&e.setSymbolRotateWithView(!!t[`${n}rotate-with-view`])}function OR(t,e,i,n,o){let r="vec4(0.)";if(null!==e&&(r=e),null!==i&&null!==n){r=`mix(${i}, ${r}, ${`smoothstep(-${n} + 0.63, -${n} - 0.58, ${t})`})`}let s=`${r} * ${`(1.0 - smoothstep(-0.63, 0.58, ${t}))`}`;return null!==o&&(s=`${s} * ${o}`),s}function UR(t,e,i,n,o){const r=new Image;let s;return r.crossOrigin=void 0===t[`${n}cross-origin`]?"anonymous":t[`${n}cross-origin`],r.src=t[`${n}src`],r.complete&&r.width&&r.height?s=rR([r.width,r.height]):(i[`u_texture${o}_size`]=()=>r.complete?[r.width,r.height]:[0,0],e.addUniform(`vec2 u_texture${o}_size`),s=`u_texture${o}_size`),i[`u_texture${o}`]=r,e.addUniform(`sampler2D u_texture${o}`),s}function DR(t,e,i,n,o){let r=LR(i,t[`${e}offset`],qC);if(`${e}offset-origin`in t)switch(t[`${e}offset-origin`]){case"top-right":r=`vec2(${n}.x, 0.) + ${o} * vec2(-1., 0.) + ${r} * vec2(-1., 1.)`;break;case"bottom-left":r=`vec2(0., ${n}.y) + ${o} * vec2(0., -1.) + ${r} * vec2(1., -1.)`;break;case"bottom-right":r=`${n} - ${o} - ${r}`}return r}function QR(t){const e={inFragmentShader:!1,properties:{},variables:{},functions:{},style:t},i={inFragmentShader:!0,variables:e.variables,properties:{},functions:{},style:t},n=new vR,o={};if("icon-src"in t?function(t,e,i,n,o){let r="vec4(1.0)";"icon-color"in t&&(r=LR(o,t["icon-color"],KC)),"icon-opacity"in t&&(r=`${r} * ${LR(o,t["icon-opacity"],GC)}`);const s=RR(t["icon-src"]),a=UR(t,e,i,"icon-",s);if(e.setSymbolColorExpression(`${r} * samplePremultiplied(u_texture${s}, v_texCoord)`).setSymbolSizeExpression(a),"icon-width"in t&&"icon-height"in t&&e.setSymbolSizeExpression(`vec2(${LR(n,t["icon-width"],GC)}, ${LR(n,t["icon-height"],GC)})`),"icon-offset"in t&&"icon-size"in t){const i=LR(n,t["icon-size"],qC),o=e.getSymbolSizeExpression();e.setSymbolSizeExpression(i);const r=DR(t,"icon-",n,"v_quadSizePx",i);e.setTextureCoordinateExpression(`(vec4((${r}).xyxy) + vec4(0., 0., ${i})) / (${o}).xyxy`)}if(NR(t,e,n,"icon-"),"icon-anchor"in t){const i=LR(n,t["icon-anchor"],qC);let o,r="1.0";"icon-scale"in t&&(r=LR(n,t["icon-scale"],WC)),o="pixels"===t["icon-anchor-x-units"]&&"pixels"===t["icon-anchor-y-units"]?`${i} * ${r}`:"pixels"===t["icon-anchor-x-units"]?`${i} * vec2(vec2(${r}).x, v_quadSizePx.y)`:"pixels"===t["icon-anchor-y-units"]?`${i} * vec2(v_quadSizePx.x, vec2(${r}).x)`:`${i} * v_quadSizePx`;let s=`v_quadSizePx * vec2(0.5, -0.5) + ${o} * vec2(-1., 1.)`;if("icon-anchor-origin"in t)switch(t["icon-anchor-origin"]){case"top-right":s=`v_quadSizePx * -0.5 + ${o}`;break;case"bottom-left":s=`v_quadSizePx * 0.5 - ${o}`;break;case"bottom-right":s=`v_quadSizePx * vec2(-0.5, 0.5) + ${o} * vec2(1., -1.)`}e.setSymbolOffsetExpression(`${e.getSymbolOffsetExpression()} + ${s}`)}}(t,n,o,e,i):"shape-points"in t?function(t,e,i,n,o){o.functions.round="float round(float v) {\n  return sign(v) * floor(abs(v) + 0.5);\n}",o.functions.starDistanceField="float starDistanceField(vec2 point, float numPoints, float radius, float radius2, float angle) {\n  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle\n  float c = cos(startAngle);\n  float s = sin(startAngle);\n  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);\n  float alpha = TWO_PI / numPoints; // the angle of one sector\n  float beta = atan(pointRotated.y, pointRotated.x);\n  float gamma = round(beta / alpha) * alpha; // angle in sector\n  c = cos(-gamma);\n  s = sin(-gamma);\n  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));\n  vec2 tipToPoint = inSector + vec2(-radius, 0.);\n  vec2 edgeNormal = vec2(radius2 * sin(alpha * 0.5), -radius2 * cos(alpha * 0.5) + radius);\n  return dot(normalize(edgeNormal), tipToPoint);\n}",o.functions.regularDistanceField="float regularDistanceField(vec2 point, float numPoints, float radius, float angle) {\n  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle\n  float c = cos(startAngle);\n  float s = sin(startAngle);\n  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);\n  float alpha = TWO_PI / numPoints; // the angle of one sector\n  float radiusIn = radius * cos(PI / numPoints);\n  float beta = atan(pointRotated.y, pointRotated.x);\n  float gamma = round((beta - alpha * 0.5) / alpha) * alpha + alpha * 0.5; // angle in sector from mid\n  c = cos(-gamma);\n  s = sin(-gamma);\n  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));\n  return inSector.x - radiusIn;\n}",NR(t,e,n,"shape-");let r=null;"shape-opacity"in t&&(r=LR(o,t["shape-opacity"],GC));let s="coordsPx";"shape-scale"in t&&(s=`coordsPx / ${LR(o,t["shape-scale"],WC)}`);let a=null;"shape-fill-color"in t&&(a=LR(o,t["shape-fill-color"],KC));let l=null;"shape-stroke-color"in t&&(l=LR(o,t["shape-stroke-color"],KC));let c=null;"shape-stroke-width"in t&&(c=LR(o,t["shape-stroke-width"],GC));const h=LR(o,t["shape-points"],GC);let A,u="0.";"shape-angle"in t&&(u=LR(o,t["shape-angle"],GC));let d=LR(o,t["shape-radius"],GC);if(null!==c&&(d=`${d} + ${c} * 0.5`),"shape-radius2"in t){let e=LR(o,t["shape-radius2"],GC);null!==c&&(e=`${e} + ${c} * 0.5`),A=`starDistanceField(${s}, ${h}, ${d}, ${e}, ${u})`}else A=`regularDistanceField(${s}, ${h}, ${d}, ${u})`;const p=OR(A,a,l,c,r);e.setSymbolColorExpression(p)}(t,n,0,e,i):"circle-radius"in t&&function(t,e,i,n,o){o.functions.circleDistanceField="float circleDistanceField(vec2 point, float radius) {\n  return length(point) - radius;\n}",NR(t,e,n,"circle-");let r=null;"circle-opacity"in t&&(r=LR(o,t["circle-opacity"],GC));let s="coordsPx";"circle-scale"in t&&(s=`coordsPx / ${LR(o,t["circle-scale"],WC)}`);let a=null;"circle-fill-color"in t&&(a=LR(o,t["circle-fill-color"],KC));let l=null;"circle-stroke-color"in t&&(l=LR(o,t["circle-stroke-color"],KC));let c=LR(o,t["circle-radius"],GC),h=null;"circle-stroke-width"in t&&(h=LR(o,t["circle-stroke-width"],GC),c=`(${c} + ${h} * 0.5)`);const A=OR(`circleDistanceField(${s}, ${c})`,a,l,h,r);e.setSymbolColorExpression(A)}(t,n,0,e,i),function(t,e,i,n,o){if("stroke-color"in t&&e.setStrokeColorExpression(LR(o,t["stroke-color"],KC)),"stroke-pattern-src"in t){const n=RR(t["stroke-pattern-src"]),r=UR(t,e,i,"stroke-pattern-",n);let s=r,a="vec2(0.)";"stroke-pattern-offset"in t&&"stroke-pattern-size"in t&&(s=LR(o,t["stroke-pattern-size"],qC),a=DR(t,"stroke-pattern-",o,r,s));let l="0.";"stroke-pattern-spacing"in t&&(l=LR(o,t["stroke-pattern-spacing"],GC)),o.functions.sampleStrokePattern="vec4 sampleStrokePattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, float spacingPx, float currentLengthPx, float currentRadiusRatio, float lineWidth) {\n  float currentLengthScaled = currentLengthPx * sampleSize.y / lineWidth;\n  float spacingScaled = spacingPx * sampleSize.y / lineWidth;\n  float uCoordPx = mod(currentLengthScaled, (sampleSize.x + spacingScaled));\n  // make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels\n  uCoordPx = clamp(uCoordPx, 0.5, sampleSize.x - 0.5);\n  float vCoordPx = (-currentRadiusRatio * 0.5 + 0.5) * sampleSize.y;\n  vec2 texCoord = (vec2(uCoordPx, vCoordPx) + textureOffset) / textureSize;\n  return samplePremultiplied(texture, texCoord);\n}";const c=`u_texture${n}`;let h="1.";"stroke-color"in t&&(h=e.getStrokeColorExpression()),e.setStrokeColorExpression(`${h} * sampleStrokePattern(${c}, ${r}, ${a}, ${s}, ${l}, currentLengthPx, currentRadiusRatio, v_width)`)}if("stroke-width"in t&&e.setStrokeWidthExpression(LR(n,t["stroke-width"],GC)),"stroke-offset"in t&&e.setStrokeOffsetExpression(LR(n,t["stroke-offset"],GC)),"stroke-line-cap"in t&&e.setStrokeCapExpression(LR(n,t["stroke-line-cap"],VC)),"stroke-line-join"in t&&e.setStrokeJoinExpression(LR(n,t["stroke-line-join"],VC)),"stroke-miter-limit"in t&&e.setStrokeMiterLimitExpression(LR(n,t["stroke-miter-limit"],GC)),"stroke-line-dash"in t){o.functions.getSingleDashDistance=`float getSingleDashDistance(float distance, float radius, float dashOffset, float dashLength, float dashLengthTotal, float capType) {\n  float localDistance = mod(distance, dashLengthTotal);\n  float distanceSegment = abs(localDistance - dashOffset - dashLength * 0.5) - dashLength * 0.5;\n  distanceSegment = min(distanceSegment, dashLengthTotal - localDistance);\n  if (capType == ${hR("square")}) {\n    distanceSegment -= v_width * 0.5;\n  } else if (capType == ${hR("round")}) {\n    distanceSegment = min(distanceSegment, sqrt(distanceSegment * distanceSegment + radius * radius) - v_width * 0.5);\n  }\n  return distanceSegment;\n}`;let i=t["stroke-line-dash"].map((t=>LR(o,t,GC)));i.length%2==1&&(i=[...i,...i]);let r="0.";"stroke-line-dash-offset"in t&&(r=LR(n,t["stroke-line-dash-offset"],GC));const s=`dashDistanceField_${RR(t["stroke-line-dash"])}`,a=i.map(((t,e)=>`float dashLength${e} = ${t};`)),l=i.map(((t,e)=>`dashLength${e}`)).join(" + ");let c="0.",h=`getSingleDashDistance(distance, radius, ${c}, dashLength0, totalDashLength, capType)`;for(let t=2;t<i.length;t+=2)c=`${c} + dashLength${t-2} + dashLength${t-1}`,h=`min(${h}, getSingleDashDistance(distance, radius, ${c}, dashLength${t}, totalDashLength, capType))`;o.functions[s]=`float ${s}(float distance, float radius, float capType) {\n  ${a.join("\n  ")}\n  float totalDashLength = ${l};\n  return ${h};\n}`,e.setStrokeDistanceFieldExpression(`${s}(currentLengthPx + ${r}, currentRadiusPx, capType)`)}}(t,n,o,e,i),function(t,e,i,n,o){if("fill-color"in t&&e.setFillColorExpression(LR(o,t["fill-color"],KC)),"fill-pattern-src"in t){const n=RR(t["fill-pattern-src"]),r=UR(t,e,i,"fill-pattern-",n);let s=r,a="vec2(0.)";"fill-pattern-offset"in t&&"fill-pattern-size"in t&&(s=LR(o,t["fill-pattern-size"],qC),a=DR(t,"fill-pattern-",o,r,s)),o.functions.sampleFillPattern="vec4 sampleFillPattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, vec2 pxOrigin, vec2 pxPosition) {\n  float scaleRatio = pow(2., mod(u_zoom + 0.5, 1.) - 0.5);\n  vec2 pxRelativePos = pxPosition - pxOrigin;\n  // rotate the relative position from origin by the current view rotation\n  pxRelativePos = vec2(pxRelativePos.x * cos(u_rotation) - pxRelativePos.y * sin(u_rotation), pxRelativePos.x * sin(u_rotation) + pxRelativePos.y * cos(u_rotation));\n  // sample position is computed according to the sample offset & size\n  vec2 samplePos = mod(pxRelativePos / scaleRatio, sampleSize);\n  // also make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels\n  samplePos = clamp(samplePos, vec2(0.5), sampleSize - vec2(0.5));\n  samplePos.y = sampleSize.y - samplePos.y; // invert y axis so that images appear upright\n  return samplePremultiplied(texture, (samplePos + textureOffset) / textureSize);\n}";const l=`u_texture${n}`;let c="1.";"fill-color"in t&&(c=e.getFillColorExpression()),e.setFillColorExpression(`${c} * sampleFillPattern(${l}, ${r}, ${a}, ${s}, pxOrigin, pxPos)`)}}(t,n,o,0,i),t.filter){const e=LR(i,t.filter,jC);n.setFragmentDiscardExpression(`!${e}`)}Object.keys(i.variables).forEach((function(e){const r=i.variables[e],s=AR(r.name);let a;n.addUniform(`${PR(r.type)} ${s}`),a=r.type===VC?()=>cR(t.variables[r.name]):r.type===KC?()=>IR([...B_(t.variables[r.name]||"#eee")]):r.type===jC?()=>t.variables[r.name]?1:0:()=>t.variables[r.name],o[s]=a})),Object.keys(i.properties).forEach((function(t){const o=i.properties[t];e.properties[t]||(e.properties[t]=o);let r=PR(o.type),s=`a_prop_${o.name}`;o.type===KC&&(r="vec4",s=`unpackColor(${s})`,n.addVertexShaderFunction("vec4 unpackColor(vec2 packedColor) {\n  return fract(packedColor[1] / 256.0) * vec4(\n    fract(floor(packedColor[0] / 256.0) / 256.0),\n    fract(packedColor[0] / 256.0),\n    fract(floor(packedColor[1] / 256.0) / 256.0),\n    1.0\n  );\n}")),n.addVarying(`v_prop_${o.name}`,r,s)})),Object.keys(e.properties).forEach((function(t){const i=e.properties[t];n.addAttribute(`${PR(i.type)} a_prop_${i.name}`)}));const r=Object.keys(e.properties).map((function(t){const i=e.properties[t];let n;return n=i.evaluator?i.evaluator:i.type===VC?t=>cR(t.get(i.name)):i.type===KC?t=>IR([...B_(t.get(i.name)||"#eee")]):i.type===jC?t=>t.get(i.name)?1:0:t=>t.get(i.name),{name:i.name,size:MR(i.type),callback:n}}));for(const s in e.functions)n.addVertexShaderFunction(e.functions[s]);for(const s in i.functions)n.addFragmentShaderFunction(i.functions[s]);return{builder:n,attributes:r.reduce(((t,e)=>({...t,[e.name]:{callback:e.callback,size:e.size}})),{}),uniforms:o}}function HR(t,e){const i=`\n    attribute vec2 ${eR};\n    uniform mat4 ${tR.TILE_TRANSFORM};\n    uniform float ${tR.TEXTURE_PIXEL_WIDTH};\n    uniform float ${tR.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${tR.TEXTURE_RESOLUTION};\n    uniform float ${tR.TEXTURE_ORIGIN_X};\n    uniform float ${tR.TEXTURE_ORIGIN_Y};\n    uniform float ${tR.DEPTH};\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n\n    void main() {\n      v_textureCoord = ${eR};\n      v_mapCoord = vec2(\n        ${tR.TEXTURE_ORIGIN_X} + ${tR.TEXTURE_RESOLUTION} * ${tR.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],\n        ${tR.TEXTURE_ORIGIN_Y} - ${tR.TEXTURE_RESOLUTION} * ${tR.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]\n      );\n      gl_Position = ${tR.TILE_TRANSFORM} * vec4(${eR}, ${tR.DEPTH}, 1.0);\n    }\n  `,n={inFragmentShader:!1,variables:{},properties:{},functions:{},bandCount:0,style:{},inFragmentShader:!0,bandCount:e,style:t},o=[];if(void 0!==t.color){const e=LR(n,t.color,KC);o.push(`color = ${e};`)}if(void 0!==t.contrast){const e=LR(n,t.contrast,GC);o.push(`color.rgb = clamp((${e} + 1.0) * color.rgb - (${e} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(void 0!==t.exposure){const e=LR(n,t.exposure,GC);o.push(`color.rgb = clamp((${e} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(void 0!==t.saturation){const e=LR(n,t.saturation,GC);o.push(`\n      float saturation = ${e} + 1.0;\n      float sr = (1.0 - saturation) * 0.2126;\n      float sg = (1.0 - saturation) * 0.7152;\n      float sb = (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix = mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    `)}if(void 0!==t.gamma){const e=LR(n,t.gamma,GC);o.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${e}));`)}if(void 0!==t.brightness){const e=LR(n,t.brightness,GC);o.push(`color.rgb = clamp(color.rgb + ${e}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}const r={},s=Object.keys(n.variables).length;if(s>1&&!t.variables)throw new Error(`Missing variables in style (expected ${n.variables})`);for(let h=0;h<s;++h){const e=n.variables[Object.keys(n.variables)[h]];if(!(e.name in t.variables))throw new Error(`Missing '${e.name}' in style variables`);r[AR(e.name)]=function(){let i=t.variables[e.name];return"string"==typeof i&&(i=cR(i)),void 0!==i?i:-9999999}}const a=Object.keys(r).map((function(t){return`uniform float ${t};`})),l=Math.ceil(e/4);a.push(`uniform sampler2D ${tR.TILE_TEXTURE_ARRAY}[${l}];`),n.paletteTextures&&a.push(`uniform sampler2D ${dR}[${n.paletteTextures.length}];`);const c=Object.keys(n.functions).map((function(t){return n.functions[t]}));return{vertexShader:i,fragmentShader:`\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n    uniform vec4 ${tR.RENDER_EXTENT};\n    uniform float ${tR.TRANSITION_ALPHA};\n    uniform float ${tR.TEXTURE_PIXEL_WIDTH};\n    uniform float ${tR.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${tR.RESOLUTION};\n    uniform float ${tR.ZOOM};\n\n    ${a.join("\n")}\n\n    ${c.join("\n")}\n\n    void main() {\n      if (\n        v_mapCoord[0] < ${tR.RENDER_EXTENT}[0] ||\n        v_mapCoord[1] < ${tR.RENDER_EXTENT}[1] ||\n        v_mapCoord[0] > ${tR.RENDER_EXTENT}[2] ||\n        v_mapCoord[1] > ${tR.RENDER_EXTENT}[3]\n      ) {\n        discard;\n      }\n\n      vec4 color = texture2D(${tR.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);\n\n      ${o.join("\n")}\n\n      gl_FragColor = color;\n      gl_FragColor.rgb *= gl_FragColor.a;\n      gl_FragColor *= ${tR.TRANSITION_ALPHA};\n    }`,uniforms:r,paletteTextures:n.paletteTextures}}class zR extends xI{constructor(t){const e=(t=t?Object.assign({},t):{}).style||{};delete t.style;const i=t.cacheSize;delete t.cacheSize,super(t),this.sources_=t.sources,this.renderedSource_=null,this.renderedResolution_=NaN,this.style_=e,this.cacheSize_=i,this.styleVariables_=this.style_.variables||{},this.addChangeListener(cx,this.handleSourceUpdate_)}getSources(t,e){const i=this.getSource();return this.sources_?"function"==typeof this.sources_?this.sources_(t,e):this.sources_:i?[i]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const t=this.getRenderSource();return t?t.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache(),this.getSource()&&this.setStyle(this.style_)}getSourceBandCount_(){const t=Number.MAX_SAFE_INTEGER,e=this.getSources([-t,-t,t,t],t);return e&&e.length&&"bandCount"in e[0]?e[0].bandCount:4}createRenderer(){const t=HR(this.style_,this.getSourceBandCount_());return new nR(this,{vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,cacheSize:this.cacheSize_,paletteTextures:t.paletteTextures})}renderSources(t,e){const i=this.getRenderer();let n;for(let o=0,r=e.length;o<r;++o)this.renderedSource_=e[o],i.prepareFrame(t)&&(n=i.renderFrame(t));return n}render(t,e){this.rendered=!0;const i=t.viewState,n=this.getSources(t.extent,i.resolution);let o=!0;for(let s=0,a=n.length;s<a;++s){const t=n[s],e=t.getState();if("loading"==e){const e=()=>{"ready"==t.getState()&&(t.removeEventListener("change",e),this.changed())};t.addEventListener("change",e)}o=o&&"ready"==e}const r=this.renderSources(t,n);if(this.getRenderer().renderComplete&&o)return this.renderedResolution_=i.resolution,r;if(this.renderedResolution_>.5*i.resolution){const e=this.getSources(t.extent,this.renderedResolution_).filter((t=>!n.includes(t)));if(e.length>0)return this.renderSources(t,e)}return r}setStyle(t){this.styleVariables_=t.variables||{},this.style_=t;const e=HR(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,paletteTextures:e.paletteTextures}),this.changed()}updateStyleVariables(t){Object.assign(this.styleVariables_,t),this.changed()}}zR.prototype.dispose;class jR{constructor(){this.globalCounter_=0,this.refToFeature_=new Map,this.uidToRef_=new Map,this.freeGlobalRef_=[],this.polygonBatch={entries:{},geometriesCount:0,verticesCount:0,ringsCount:0},this.pointBatch={entries:{},geometriesCount:0},this.lineStringBatch={entries:{},geometriesCount:0,verticesCount:0}}addFeatures(t,e){for(let i=0;i<t.length;i++)this.addFeature(t[i],e)}addFeature(t,e){let i=t.getGeometry();i&&(e&&(i=i.clone(),i.applyTransform(e)),this.addGeometry_(i,t))}clearFeatureEntryInPointBatch_(t){const e=this.pointBatch.entries[yb(t)];if(e)return this.pointBatch.geometriesCount-=e.flatCoordss.length,delete this.pointBatch.entries[yb(t)],e}clearFeatureEntryInLineStringBatch_(t){const e=this.lineStringBatch.entries[yb(t)];if(e)return this.lineStringBatch.verticesCount-=e.verticesCount,this.lineStringBatch.geometriesCount-=e.flatCoordss.length,delete this.lineStringBatch.entries[yb(t)],e}clearFeatureEntryInPolygonBatch_(t){const e=this.polygonBatch.entries[yb(t)];if(e)return this.polygonBatch.verticesCount-=e.verticesCount,this.polygonBatch.ringsCount-=e.ringsCount,this.polygonBatch.geometriesCount-=e.flatCoordss.length,delete this.polygonBatch.entries[yb(t)],e}addGeometry_(t,e){const i=t.getType();switch(i){case"GeometryCollection":{const i=t.getGeometriesArray();for(const t of i)this.addGeometry_(t,e);break}case"MultiPolygon":{const n=t;this.addCoordinates_(i,n.getFlatCoordinates(),n.getEndss(),e,yb(e),n.getStride());break}case"MultiLineString":{const n=t;this.addCoordinates_(i,n.getFlatCoordinates(),n.getEnds(),e,yb(e),n.getStride());break}case"MultiPoint":{const n=t;this.addCoordinates_(i,n.getFlatCoordinates(),null,e,yb(e),n.getStride());break}case"Polygon":{const n=t;this.addCoordinates_(i,n.getFlatCoordinates(),n.getEnds(),e,yb(e),n.getStride());break}case"Point":{const n=t;this.addCoordinates_(i,n.getFlatCoordinates(),null,e,yb(e),n.getStride());break}case"LineString":case"LinearRing":{const n=t;this.addCoordinates_(i,n.getFlatCoordinates(),null,e,yb(e),n.getStride());break}}}addCoordinates_(t,e,i,n,o,r){let s;switch(t){case"MultiPolygon":{const t=i;for(let i=0,s=t.length;i<s;i++){let s=t[i];const a=i>0?t[i-1]:null,l=a?a[a.length-1]:0,c=s[s.length-1];s=l>0?s.map((t=>t-l)):s,this.addCoordinates_("Polygon",e.slice(l,c),s,n,o,r)}break}case"MultiLineString":{const t=i;for(let i=0,s=t.length;i<s;i++){const s=i>0?t[i-1]:0;this.addCoordinates_("LineString",e.slice(s,t[i]),null,n,o,r)}break}case"MultiPoint":for(let t=0,i=e.length;t<i;t+=r)this.addCoordinates_("Point",e.slice(t,t+2),null,n,o,null);break;case"Polygon":{const t=i;if(n instanceof Sk){const i=Mw(e,t);if(i.length>1)return void this.addCoordinates_("MultiPolygon",e,i,n,o,r)}this.polygonBatch.entries[o]||(this.polygonBatch.entries[o]=this.addRefToEntry_(o,{feature:n,flatCoordss:[],verticesCount:0,ringsCount:0,ringsVerticesCounts:[]})),s=e.length/r;const a=i.length,l=i.map(((t,e,i)=>e>0?(t-i[e-1])/r:t/r));this.polygonBatch.verticesCount+=s,this.polygonBatch.ringsCount+=a,this.polygonBatch.geometriesCount++,this.polygonBatch.entries[o].flatCoordss.push(GR(e,r)),this.polygonBatch.entries[o].ringsVerticesCounts.push(l),this.polygonBatch.entries[o].verticesCount+=s,this.polygonBatch.entries[o].ringsCount+=a;for(let i=0,s=t.length;i<s;i++){const s=i>0?t[i-1]:0;this.addCoordinates_("LinearRing",e.slice(s,t[i]),null,n,o,r)}break}case"Point":this.pointBatch.entries[o]||(this.pointBatch.entries[o]=this.addRefToEntry_(o,{feature:n,flatCoordss:[]})),this.pointBatch.geometriesCount++,this.pointBatch.entries[o].flatCoordss.push(e);break;case"LineString":case"LinearRing":this.lineStringBatch.entries[o]||(this.lineStringBatch.entries[o]=this.addRefToEntry_(o,{feature:n,flatCoordss:[],verticesCount:0})),s=e.length/r,this.lineStringBatch.verticesCount+=s,this.lineStringBatch.geometriesCount++,this.lineStringBatch.entries[o].flatCoordss.push(GR(e,r)),this.lineStringBatch.entries[o].verticesCount+=s}}addRefToEntry_(t,e){const i=this.uidToRef_.get(t),n=i||this.freeGlobalRef_.pop()||++this.globalCounter_;return e.ref=n,i||(this.refToFeature_.set(n,e.feature),this.uidToRef_.set(t,n)),e}returnRef_(t,e){if(!t)throw new Error("This feature has no ref: "+e);this.refToFeature_.delete(t),this.uidToRef_.delete(e),this.freeGlobalRef_.push(t)}changeFeature(t){this.removeFeature(t);const e=t.getGeometry();e&&this.addGeometry_(e,t)}removeFeature(t){let e;e=this.clearFeatureEntryInPointBatch_(t)||e,e=this.clearFeatureEntryInPolygonBatch_(t)||e,e=this.clearFeatureEntryInLineStringBatch_(t)||e,e&&this.returnRef_(e.ref,yb(e.feature))}clear(){this.polygonBatch.entries={},this.polygonBatch.geometriesCount=0,this.polygonBatch.verticesCount=0,this.polygonBatch.ringsCount=0,this.lineStringBatch.entries={},this.lineStringBatch.geometriesCount=0,this.lineStringBatch.verticesCount=0,this.pointBatch.entries={},this.pointBatch.geometriesCount=0,this.globalCounter_=0,this.freeGlobalRef_=[],this.refToFeature_.clear(),this.uidToRef_.clear()}getFeatureFromRef(t){return this.refToFeature_.get(t)}}function GR(t,e){return 2===e?t:t.filter(((t,i)=>i%e<2))}function VR(t,e,i,n){let o=0;for(const s in e){var r;const a=e[s],l=a.callback.call(i,i.feature);t[n+o++]=null!==(r=l[0])&&void 0!==r?r:l,a.size&&1!==a.size&&(t[n+o++]=l[1],a.size<3||(t[n+o++]=l[2],a.size<4||(t[n+o++]=l[3])))}return o}function KR(t){return Object.keys(t).reduce(((e,i)=>e+(t[i].size||1)),0)}const qR=[],WR=UP();let XR=0;const $R="a_position",YR="a_index",ZR="a_segmentStart",JR="a_segmentEnd",tN="a_parameters",eN="a_joinAngles",iN="a_distance";class nN{constructor(t,e,i){this.helper_=e,this.hitDetectionEnabled_=i;let n=t;if(!("builder"in t)){const e=QR(t);n={builder:e.builder,attributes:e.attributes,uniforms:e.uniforms}}this.hasFill_=!!n.builder.getFillVertexShader(),this.hasFill_&&(this.fillVertexShader_=n.builder.getFillVertexShader(),this.fillFragmentShader_=n.builder.getFillFragmentShader(),this.fillProgram_=this.helper_.getProgram(this.fillFragmentShader_,this.fillVertexShader_)),this.hasStroke_=!!n.builder.getStrokeVertexShader(),this.hasStroke_&&(this.strokeVertexShader_=n.builder.getStrokeVertexShader(),this.strokeFragmentShader_=n.builder.getStrokeFragmentShader(),this.strokeProgram_=this.helper_.getProgram(this.strokeFragmentShader_,this.strokeVertexShader_)),this.hasSymbol_=!!n.builder.getSymbolVertexShader(),this.hasSymbol_&&(this.symbolVertexShader_=n.builder.getSymbolVertexShader(),this.symbolFragmentShader_=n.builder.getSymbolFragmentShader(),this.symbolProgram_=this.helper_.getProgram(this.symbolFragmentShader_,this.symbolVertexShader_));const o=this.hitDetectionEnabled_?{hitColor:{callback(){return NP(this.ref,qR)},size:4}}:{};this.customAttributes_=Object.assign({},o,n.attributes),this.uniforms_=n.uniforms;const r=Object.entries(this.customAttributes_).map((([t,e])=>({name:`a_prop_${t}`,size:e.size||1,type:$M.FLOAT})));this.polygonAttributesDesc_=[{name:$R,size:2,type:$M.FLOAT},...r],this.lineStringAttributesDesc_=[{name:ZR,size:2,type:$M.FLOAT},{name:JR,size:2,type:$M.FLOAT},{name:eN,size:2,type:$M.FLOAT},{name:iN,size:1,type:$M.FLOAT},{name:tN,size:1,type:$M.FLOAT},...r],this.pointAttributesDesc_=[{name:$R,size:2,type:$M.FLOAT},{name:YR,size:1,type:$M.FLOAT},...r],n.uniforms&&this.helper_.addUniforms(n.uniforms)}async generateBuffers(t,e){const i=this.generateRenderInstructions_(t,e),[n,o,r]=await Promise.all([this.generateBuffersForType_(i.polygonInstructions,"Polygon",e),this.generateBuffersForType_(i.lineStringInstructions,"LineString",e),this.generateBuffersForType_(i.pointInstructions,"Point",e)]);return{polygonBuffers:n,lineStringBuffers:o,pointBuffers:r,invertVerticesTransform:Pb([1,0,0,1,0,0],e)}}generateRenderInstructions_(t,e){const i=this.hasFill_?function(t,e,i,n){const o=2*t.verticesCount+(1+KR(i))*t.geometriesCount+t.ringsCount;e&&e.length===o||(e=new Float32Array(o));const r=[];let s=0;for(const a in t.entries){const o=t.entries[a];for(let t=0,a=o.flatCoordss.length;t<a;t++){r.length=o.flatCoordss[t].length,Gy(o.flatCoordss[t],0,r.length,2,n,r),s+=VR(e,i,o,s),e[s++]=o.ringsVerticesCounts[t].length;for(let i=0,n=o.ringsVerticesCounts[t].length;i<n;i++)e[s++]=o.ringsVerticesCounts[t][i];for(let t=0,i=r.length;t<i;t+=2)e[s++]=r[t],e[s++]=r[t+1]}}return e}(t.polygonBatch,new Float32Array(0),this.customAttributes_,e):null,n=this.hasStroke_?function(t,e,i,n){const o=2*t.verticesCount+(1+KR(i))*t.geometriesCount;e&&e.length===o||(e=new Float32Array(o));const r=[];let s=0;for(const a in t.entries){const o=t.entries[a];for(let t=0,a=o.flatCoordss.length;t<a;t++){r.length=o.flatCoordss[t].length,Gy(o.flatCoordss[t],0,r.length,2,n,r),s+=VR(e,i,o,s),e[s++]=r.length/2;for(let t=0,i=r.length;t<i;t+=2)e[s++]=r[t],e[s++]=r[t+1]}}return e}(t.lineStringBatch,new Float32Array(0),this.customAttributes_,e):null,o=this.hasSymbol_?function(t,e,i,n){const o=(2+KR(i))*t.geometriesCount;e&&e.length===o||(e=new Float32Array(o));const r=[];let s=0;for(const a in t.entries){const o=t.entries[a];for(let t=0,a=o.flatCoordss.length;t<a;t++)r[0]=o.flatCoordss[t][0],r[1]=o.flatCoordss[t][1],Tb(n,r),e[s++]=r[0],e[s++]=r[1],s+=VR(e,i,o,s)}return e}(t.pointBatch,new Float32Array(0),this.customAttributes_,e):null;return{polygonInstructions:i,lineStringInstructions:n,pointInstructions:o}}generateBuffersForType_(t,e,i){if(null===t)return null;const n=XR++;let o;switch(e){case"Polygon":o=sP;break;case"LineString":o=lP;break;case"Point":o=aP}const r={id:n,type:o,renderInstructions:t.buffer,renderInstructionsTransform:i,customAttributesSize:KR(this.customAttributes_)};return WR.postMessage(r,[t.buffer]),t=null,new Promise((t=>{const e=i=>{const o=i.data;if(o.id!==n)return;if(WR.removeEventListener("message",e),!this.helper_.getGL())return;const r=new jM(OM,QM).fromArrayBuffer(o.vertexBuffer),s=new jM(UM,QM).fromArrayBuffer(o.indexBuffer);this.helper_.flushBufferData(r),this.helper_.flushBufferData(s),t([s,r])};WR.addEventListener("message",e)}))}render(t,e,i){this.hasFill_&&this.renderInternal_(t.polygonBuffers[0],t.polygonBuffers[1],this.fillProgram_,this.polygonAttributesDesc_,e,i),this.hasStroke_&&this.renderInternal_(t.lineStringBuffers[0],t.lineStringBuffers[1],this.strokeProgram_,this.lineStringAttributesDesc_,e,i),this.hasSymbol_&&this.renderInternal_(t.pointBuffers[0],t.pointBuffers[1],this.symbolProgram_,this.pointAttributesDesc_,e,i)}renderInternal_(t,e,i,n,o,r){const s=t.getSize();0!==s&&(this.helper_.useProgram(i,o),this.helper_.bindBuffer(e),this.helper_.bindBuffer(t),this.helper_.enableAttributes(n),r(),this.helper_.drawElements(0,s))}}const oN={...XM,RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",GLOBAL_ALPHA:"u_globalAlpha"};class rN extends nP{constructor(t,e){super(t,{uniforms:{[oN.RENDER_EXTENT]:[0,0,0,0],[oN.PATTERN_ORIGIN]:[0,0],[oN.GLOBAL_ALPHA]:1},postProcesses:e.postProcesses}),this.hitDetectionEnabled_=!e.disableHitDetection,this.hitRenderTarget_,this.sourceRevision_=-1,this.previousExtent_=[1/0,1/0,-1/0,-1/0],this.currentTransform_=[1,0,0,1,0,0],this.tmpCoords_=[0,0],this.tmpTransform_=[1,0,0,1,0,0],this.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.currentFrameStateTransform_=[1,0,0,1,0,0],this.styles_=[],this.styleRenderers_=[],this.buffers_=[],this.applyOptions_(e),this.batch_=new jR,this.initialFeaturesAdded_=!1,this.sourceListenKeys_=null}addInitialFeatures_(t){const e=this.getLayer().getSource();let i;this.batch_.addFeatures(e.getFeatures(),i),this.sourceListenKeys_=[db(e,Ek,this.handleSourceFeatureAdded_.bind(this,i),this),db(e,kk,this.handleSourceFeatureChanged_,this),db(e,Tk,this.handleSourceFeatureDelete_,this),db(e,Fk,this.handleSourceFeatureClear_,this)]}applyOptions_(t){this.styles_=Array.isArray(t.style)?t.style:[t.style]}createRenderers_(){this.buffers_=[],this.styleRenderers_=this.styles_.map((t=>new nN(t,this.helper,this.hitDetectionEnabled_)))}reset(t){this.applyOptions_(t),this.helper&&this.createRenderers_(),super.reset(t)}afterHelperCreated(){this.createRenderers_(),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new rP(this.helper))}handleSourceFeatureAdded_(t,e){const i=e.feature;this.batch_.addFeature(i,t)}handleSourceFeatureChanged_(t){const e=t.feature;this.batch_.changeFeature(e)}handleSourceFeatureDelete_(t){const e=t.feature;this.batch_.removeFeature(e)}handleSourceFeatureClear_(){this.batch_.clear()}applyUniforms_(t){Fb(this.tmpTransform_,this.currentFrameStateTransform_),Eb(this.tmpTransform_,t),this.helper.setUniformMatrixValue(oN.PROJECTION_MATRIX,WM(this.tmpMat4_,this.tmpTransform_)),Pb(this.tmpTransform_,this.tmpTransform_),this.helper.setUniformMatrixValue(oN.SCREEN_TO_WORLD_MATRIX,WM(this.tmpMat4_,this.tmpTransform_)),this.tmpCoords_[0]=0,this.tmpCoords_[1]=0,Pb(this.tmpTransform_,t),Tb(this.tmpTransform_,this.tmpCoords_),this.helper.setUniformFloatVec2(oN.PATTERN_ORIGIN,this.tmpCoords_)}renderFrame(t){const e=this.helper.getGL();this.preRender(e,t);const[i,n,o]=DP(t,this.getLayer());this.helper.prepareDraw(t),this.renderWorlds(t,!1,i,n,o),this.helper.finalizeDraw(t);const r=this.helper.getCanvas(),s=t.layerStatesArray[t.layerIndex].opacity;return s!==parseFloat(r.style.opacity)&&(r.style.opacity=String(s)),this.hitDetectionEnabled_&&(this.renderWorlds(t,!0,i,n,o),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t),r}prepareFrameInternal(t){this.initialFeaturesAdded_||(this.addInitialFeatures_(t),this.initialFeaturesAdded_=!0);const e=this.getLayer(),i=e.getSource(),n=t.viewState,o=!t.viewHints[mx]&&!t.viewHints[bx],r=!$b(this.previousExtent_,t.extent),s=this.sourceRevision_<i.getRevision();if(s&&(this.sourceRevision_=i.getRevision()),o&&(r||s)){const o=n.projection,r=n.resolution,s=e instanceof zB?e.getRenderBuffer():0,a=Ub(t.extent,s*r);i.loadFeatures(a,r,o),this.ready=!1;const l=this.helper.makeProjectionTransform(t,[1,0,0,1,0,0]),c=this.styleRenderers_.map(((t,e)=>t.generateBuffers(this.batch_,l).then((t=>{this.buffers_[e]=t}))));Promise.all(c).then((()=>{this.ready=!0,this.getLayer().changed()})),this.previousExtent_=t.extent.slice()}return!0}renderWorlds(t,e,i,n,o){let r=i;e&&(this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0));do{this.helper.makeProjectionTransform(t,this.currentFrameStateTransform_),Ib(this.currentFrameStateTransform_,r*o,0);for(let i=0,n=this.styleRenderers_.length;i<n;i++){const n=this.styleRenderers_[i],o=this.buffers_[i];o&&n.render(o,t,(()=>{this.applyUniforms_(o.invertVerticesTransform),this.helper.applyHitDetectionUniform(e)}))}}while(++r<n)}forEachFeatureAtCoordinate(t,e,i,n,o){if(_b(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.styleRenderers_.length||!this.hitDetectionEnabled_)return;const r=Tb(e.coordinateToPixelTransform,t.slice()),s=this.hitRenderTarget_.readPixel(r[0]/2,r[1]/2),a=OP([s[0]/255,s[1]/255,s[2]/255,s[3]/255]),l=this.batch_.getFeatureFromRef(a);return l?n(l,this.getLayer(),null):void 0}disposeInternal(){this.sourceListenKeys_&&(this.sourceListenKeys_.forEach((function(t){gb(t)})),this.sourceListenKeys_=null),super.disposeInternal()}}const sN=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],aN="enterfullscreen",lN="leavefullscreen";class cN extends wS{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target}),this.on,this.once,this.un,this.keys_=void 0!==t.keys&&t.keys,this.source_=t.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=void 0!==t.className?t.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=void 0!==t.activeClassName?t.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=void 0!==t.inactiveClassName?t.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const e=void 0!==t.label?t.label:"";this.labelNode_="string"==typeof e?document.createTextNode(e):e;const i=void 0!==t.labelActive?t.labelActive:"";this.labelActiveNode_="string"==typeof i?document.createTextNode(i):i;const n=t.tipLabel?t.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=n,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(sb,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${nC} ${rC}`,this.element.appendChild(this.button_)}handleClick_(t){t.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const t=this.getMap();if(!t)return;const e=t.getOwnerDocument();if(hN(e))if(AN(e))!function(t){t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()}(e);else{let i;i=this.source_?"string"==typeof this.source_?e.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?function(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():uN(t)}(i):uN(i)}}handleFullScreenChange_(){const t=this.getMap();if(!t)return;const e=this.isInFullscreen_;this.isInFullscreen_=AN(t.getOwnerDocument()),e!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(G_(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(aN)):(G_(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(lN)),t.updateSize())}setClassName_(t,e){e?(t.classList.remove(...this.inactiveClassName_),t.classList.add(...this.activeClassName_)):(t.classList.remove(...this.activeClassName_),t.classList.add(...this.inactiveClassName_))}setMap(t){const e=this.getMap();e&&e.removeChangeListener(AS,this.boundHandleMapTargetChange_),super.setMap(t),this.handleMapTargetChange_(),t&&t.addChangeListener(AS,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const t=this.documentListeners_;for(let i=0,n=t.length;i<n;++i)gb(t[i]);t.length=0;const e=this.getMap();if(e){const i=e.getOwnerDocument();hN(i)?this.element.classList.remove(oC):this.element.classList.add(oC);for(let e=0,n=sN.length;e<n;++e)t.push(db(i,sN[e],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function hN(t){const e=t.body;return!!(e.webkitRequestFullscreen||e.requestFullscreen&&t.fullscreenEnabled)}function AN(t){return!(!t.webkitIsFullScreen&&!t.fullscreenElement)}function uN(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}const dN="projection",pN="coordinateFormat";class gN extends wS{constructor(t){t=t||{};const e=document.createElement("div");e.className=void 0!==t.className?t.className:"ol-mouse-position",super({element:e,render:t.render,target:t.target}),this.on,this.once,this.un,this.addChangeListener(dN,this.handleProjectionChanged_),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.renderOnMouseOut_=void 0!==t.placeholder,this.placeholder_=this.renderOnMouseOut_?t.placeholder:"&#160;",this.renderedHTML_=e.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==t.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(pN)}getProjection(){return this.get(dN)}handleMouseMove(t){const e=this.getMap();this.updateHTML_(e.getEventPixel(t))}handleMouseOut(t){this.updateHTML_(null)}setMap(t){if(super.setMap(t),t){const e=t.getViewport();this.listenerKeys.push(db(e,JB,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(db(e,iS,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(t){this.set(pN,t)}setProjection(t){this.set(dN,Cy(t))}updateHTML_(t){let e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){const t=this.getProjection();this.transform_=t?Ly(this.mapProjection_,t):xy}const i=this.getMap().getCoordinateFromPixelInternal(t);if(i){if(this.transform_(i,i),this.wrapX_){dy(i,this.getProjection()||this.mapProjection_)}const t=this.getCoordinateFormat();e=t?t(i):i.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)}render(t){const e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}}const fN=.75,mN=.1;class bN extends wS{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.boundHandleRotationChanged_=this.handleRotationChanged_.bind(this),this.collapsed_=void 0===t.collapsed||t.collapsed,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1),this.rotateWithView_=void 0!==t.rotateWithView&&t.rotateWithView,this.viewExtent_=void 0;const e=void 0!==t.className?t.className:"ol-overviewmap",i=void 0!==t.tipLabel?t.tipLabel:"Overview map",n=void 0!==t.collapseLabel?t.collapseLabel:"";"string"==typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;const o=void 0!==t.label?t.label:"";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;const r=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,s=document.createElement("button");s.setAttribute("type","button"),s.title=i,s.appendChild(r),s.addEventListener(sb,this.handleClick_.bind(this),!1),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.view_=t.view;const a=new gE({view:t.view,controls:new tx,interactions:new tx});this.ovmap_=a,t.layers&&t.layers.forEach((function(t){a.addLayer(t)}));const l=document.createElement("div");l.className="ol-overviewmap-box",l.style.boxSizing="border-box",this.boxOverlay_=new wE({position:[0,0],positioning:"center-center",element:l}),this.ovmap_.addOverlay(this.boxOverlay_);const c=e+" "+nC+" "+rC+(this.collapsed_&&this.collapsible_?" "+sC:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=c,h.appendChild(this.ovmapDiv_),h.appendChild(s);const A=this,u=this.boxOverlay_,d=this.boxOverlay_.getElement(),p=function(t){const e={clientX:(i=t).clientX,clientY:i.clientY};var i;const n=a.getEventCoordinateInternal(e);u.setPosition(n)},g=function(t){const e=a.getEventCoordinateInternal(t);A.getMap().getView().setCenterInternal(e),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",g)};d.addEventListener("mousedown",(function(){window.addEventListener("mousemove",p),window.addEventListener("mouseup",g)}))}setMap(t){const e=this.getMap();if(t!==e){if(e){const t=e.getView();t&&this.unbindView_(t),this.ovmap_.setTarget(null)}if(super.setMap(t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(db(t,Hm,this.handleMapPropertyChange_,this));const e=t.getView();e&&(this.bindView_(e),e.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}}handleMapPropertyChange_(t){if(t.key===uS){const e=t.oldValue;e&&this.unbindView_(e);const i=this.getMap().getView();this.bindView_(i)}else this.ovmap_.isRendered()||t.key!==AS&&t.key!==hS||this.ovmap_.updateSize()}bindView_(t){if(!this.view_){const e=new Px({projection:t.getProjection()});this.ovmap_.setView(e)}t.addChangeListener(vx.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()}unbindView_(t){t.removeChangeListener(vx.ROTATION,this.boundHandleRotationChanged_)}handleRotationChanged_(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}validateExtent_(){const t=this.getMap(),e=this.ovmap_;if(!t.isRendered()||!e.isRendered())return;const i=t.getSize(),n=t.getView().calculateExtentInternal(i);if(this.viewExtent_&&$b(n,this.viewExtent_))return;this.viewExtent_=n;const o=e.getSize(),r=e.getView().calculateExtentInternal(o),s=e.getPixelFromCoordinateInternal(dv(n)),a=e.getPixelFromCoordinateInternal(sv(n)),l=Math.abs(s[0]-a[0]),c=Math.abs(s[1]-a[1]),h=o[0],A=o[1];l<h*mN||c<A*mN||l>h*fN||c>A*fN?this.resetExtent_():zb(r,n)||this.recenter_()}resetExtent_(){const t=this.getMap(),e=this.ovmap_,i=t.getSize(),n=t.getView().calculateExtentInternal(i),o=e.getView(),r=Math.log(7.5)/Math.LN2;vv(n,1/(Math.pow(2,r/2)*mN)),o.fitInternal(Rw(n))}recenter_(){const t=this.getMap(),e=this.ovmap_,i=t.getView();e.getView().setCenterInternal(i.getCenterInternal())}updateBox_(){const t=this.getMap(),e=this.ovmap_;if(!t.isRendered()||!e.isRendered())return;const i=t.getSize(),n=t.getView(),o=e.getView(),r=this.rotateWithView_?0:-n.getRotation(),s=this.boxOverlay_,a=this.boxOverlay_.getElement(),l=n.getCenterInternal(),c=n.getResolution(),h=o.getResolution(),A=i[0]*c/h,u=i[1]*c/h;if(s.setPosition(l),a){a.style.width=A+"px",a.style.height=u+"px";const t="rotate("+r+"rad)";a.style.transform=t}}updateBoxAfterOvmapIsRendered_(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=pb(this.ovmap_,oS,(function(t){delete this.ovmapPostrenderKey_,this.updateBox_()}),this))}handleClick_(t){t.preventDefault(),this.handleToggle_()}handleToggle_(){this.element.classList.toggle(sC),this.collapsed_?G_(this.collapseLabel_,this.label_):G_(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;const t=this.ovmap_;if(!this.collapsed_){if(t.isRendered())return this.viewExtent_=void 0,void t.render();t.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())}setCollapsed(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}getRotateWithView(){return this.rotateWithView_}setRotateWithView(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))}getOverviewMap(){return this.ovmap_}render(t){this.validateExtent_(),this.updateBox_()}}const vN="units",yN=[1,2,5],wN=25.4/.28;class xN extends wS{constructor(t){t=t||{};const e=document.createElement("div");e.style.pointerEvents="none",super({element:e,render:t.render,target:t.target}),this.on,this.once,this.un;const i=void 0!==t.className?t.className:t.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+nC,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==t.minWidth?t.minWidth:64,this.maxWidth_=t.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(vN,this.handleUnitsChanged_),this.setUnits(t.units||"metric"),this.scaleBar_=t.bar||!1,this.scaleBarSteps_=t.steps||4,this.scaleBarText_=t.text||!1,this.dpi_=t.dpi||void 0}getUnits(){return this.get(vN)}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set(vN,t)}setDpi(t){this.dpi_=t}updateElement_(){const t=this.viewState_;if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=t.center,i=t.projection,n=this.getUnits(),o="degrees"==n?"degrees":"m";let r=By(i,t.resolution,e,o);const s=this.minWidth_*(this.dpi_||wN)/wN,a=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||wN)/wN:void 0;let l=s*r,c="";if("degrees"==n){const t=Ev.degrees;l*=t,l<t/60?(c="",r*=3600):l<t?(c="",r*=60):c=""}else if("imperial"==n)l<.9144?(c="in",r/=.0254):l<1609.344?(c="ft",r/=.3048):(c="mi",r/=1609.344);else if("nautical"==n)r/=1852,c="NM";else if("metric"==n)l<1e-6?(c="nm",r*=1e9):l<.001?(c="m",r*=1e6):l<1?(c="mm",r*=1e3):l<1e3?c="m":(c="km",r/=1e3);else{if("us"!=n)throw new Error("Invalid units");l<.9144?(c="in",r*=39.37):l<1609.344?(c="ft",r/=.30480061):(c="mi",r/=1609.3472)}let h,A,u,d,p,g,f=3*Math.floor(Math.log(s*r)/Math.log(10));for(;;){u=Math.floor(f/3);const t=Math.pow(10,u);if(h=yN[(f%3+3)%3]*t,A=Math.round(h/r),isNaN(A))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==a&&A>=a){h=d,A=p,u=g;break}if(A>=s)break;d=h,p=A,g=u,++f}const m=this.scaleBar_?this.createScaleBar(A,h,c):h.toFixed(u<0?-u:0)+" "+c;this.renderedHTML_!=m&&(this.innerElement_.innerHTML=m,this.renderedHTML_=m),this.renderedWidth_!=A&&(this.innerElement_.style.width=A+"px",this.renderedWidth_=A),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,e,i){const n=this.getScaleForResolution(),o=n<1?Math.round(1/n).toLocaleString()+" : 1":"1 : "+Math.round(n).toLocaleString(),r=this.scaleBarSteps_,s=t/r,a=[this.createMarker("absolute")];for(let l=0;l<r;++l){const n=l%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${n}" style="width: ${s}px;"></div>`+this.createMarker("relative")+(l%2==0||2===r?this.createStepText(l,t,!1,e,i):"")+"</div>")}a.push(this.createStepText(r,t,!0,e,i));return(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${t}px;">`+o+"</div>":"")+a.join("")}createMarker(t){return`<div class="ol-scale-step-marker" style="position: ${t}; top: ${"absolute"===t?3:-10}px;"></div>`}createStepText(t,e,i,n,o){const r=(0===t?0:Math.round(n/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+o);return`<div class="ol-scale-step-text" style="margin-left: ${0===t?-3:e/this.scaleBarSteps_*-1}px;text-align: ${0===t?"left":"center"};min-width: ${0===t?0:e/this.scaleBarSteps_*2}px;left: ${i?e+"px":"unset"};">`+r+"</div>"}getScaleForResolution(){return By(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||wN)}render(t){const e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}}const _N=0,CN=1;class BN extends wS{constructor(t){super({target:(t=t||{}).target,element:document.createElement("div"),render:t.render}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=_N,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.startX_,this.startY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==t.duration?t.duration:200;const e=void 0!==t.className?t.className:"ol-zoomslider",i=document.createElement("button");i.setAttribute("type","button"),i.className=e+"-thumb "+nC;const n=this.element;n.className=e+" "+nC+" "+rC,n.appendChild(i),n.addEventListener(tS,this.handleDraggerStart_.bind(this),!1),n.addEventListener(JB,this.handleDraggerDrag_.bind(this),!1),n.addEventListener(eS,this.handleDraggerEnd_.bind(this),!1),n.addEventListener(sb,this.handleContainerClick_.bind(this),!1),i.addEventListener(sb,Qm,!1)}setMap(t){super.setMap(t),t&&t.render()}initSlider_(){const t=this.element;let e=t.offsetWidth,i=t.offsetHeight;if(0===e&&0===i)return this.sliderInitialized_=!1;const n=getComputedStyle(t);e-=parseFloat(n.paddingRight)+parseFloat(n.paddingLeft),i-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom);const o=t.firstElementChild,r=getComputedStyle(o),s=o.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),a=o.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);return this.thumbSize_=[s,a],e>i?(this.direction_=CN,this.widthLimit_=e-s):(this.direction_=_N,this.heightLimit_=i-a),this.sliderInitialized_=!0}handleContainerClick_(t){const e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(i),o=e.getConstrainedZoom(e.getZoomForResolution(n));e.animateInternal({zoom:o,duration:this.duration_,easing:Tx})}handleDraggerStart_(t){if(!this.dragging_&&t.target===this.element.firstElementChild){const e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){const t=this.handleDraggerDrag_,e=this.handleDraggerEnd_,i=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(db(i,JB,t,this),db(i,eS,e,this))}}}handleDraggerDrag_(t){if(this.dragging_){const e=t.clientX-this.startX_,i=t.clientY-this.startY_,n=this.getRelativePosition_(e,i);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_)}}handleDraggerEnd_(t){if(this.dragging_){this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(gb),this.dragListenerKeys_.length=0}}setThumbPosition_(t){const e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==CN?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"}getRelativePosition_(t,e){let i;return i=this.direction_===CN?t/this.widthLimit_:e/this.heightLimit_,Kv(i,0,1)}getResolutionForPosition_(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)}getPositionForResolution_(t){return Kv(1-this.getMap().getView().getValueForResolutionFunction()(t),0,1)}render(t){if(!t.frameState)return;if(!this.sliderInitialized_&&!this.initSlider_())return;const e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}}class SN extends wS{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target}),this.extent=t.extent?t.extent:null;const e=void 0!==t.className?t.className:"ol-zoom-extent",i=void 0!==t.label?t.label:"E",n=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",o=document.createElement("button");o.setAttribute("type","button"),o.title=n,o.appendChild("string"==typeof i?document.createTextNode(i):i),o.addEventListener(sb,this.handleClick_.bind(this),!1);const r=e+" "+nC+" "+rC,s=this.element;s.className=r,s.appendChild(o)}handleClick_(t){t.preventDefault(),this.handleZoomToExtent()}handleZoomToExtent(){const t=this.getMap().getView(),e=this.extent?Dy(this.extent,t.getProjection()):t.getProjection().getExtent();t.fitInternal(Rw(e))}}var EN=class extends wS{constructor(t){t=t||{};var e=document.createElement("DIV");if(e.classList.add("ol-unselectable","ol-control","ol-bar"),t.className){var i=t.className.split(" ").filter((function(t){return t.length>0}));e.classList.add.apply(e.classList,i)}if(t.group&&e.classList.add("ol-group"),super({element:e,target:t.target}),this.set("toggleOne",t.toggleOne),this.set("autoDeactivate",t.autoDeactivate),this.controls_=[],t.controls instanceof Array)for(var n=0;n<t.controls.length;n++)this.addControl(t.controls[n])}setVisible(t){this.element.style.display=t?"":"none"}getVisible(){return"none"!=this.element.style.display}setMap(t){super.setMap(t);for(var e=0;e<this.controls_.length;e++){this.controls_[e].setMap(t)}}getControls(){return this.controls_}setPosition(t){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),t=t.split("-");for(var e=0;e<t.length;e++)switch(t[e]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+t[e])}}addControl(t){this.controls_.push(t),t.setTarget(this.element),this.getMap()&&this.getMap().addControl(t),t._activateBar&&t.un("change:active",t._activateBar),t._activateBar=function(e){this.onActivateControl_(e,t)}.bind(this),t.on("change:active",t._activateBar),t.getActive&&this.onActivateControl_({target:t,active:t.getActive()},t)}removeControl(t){const e=this.controls_.indexOf(t);e>-1&&(this.controls_.splice(e,1),this.getMap()&&this.getMap().removeControl(t),t._activateBar&&t.un("change:active",t._activateBar),delete t._activateBar)}deactivateControls(t){for(var e=0;e<this.controls_.length;e++)this.controls_[e]!==t&&this.controls_[e].setActive&&this.controls_[e].setActive(!1)}getActiveControls(){for(var t,e=[],i=0;t=this.controls_[i];i++)t.getActive&&t.getActive()&&e.push(t);return e}setActive(t){if(!t&&this.get("autoDeactivate")&&this.deactivateControls(),t)for(var e,i=this.getControls(),n=0;e=i[n];n++)e.get("autoActivate")&&e.setActive(!0)}onActivateControl_(t,e){if(this.get("toggleOne"))if(t.active){var i;for(i=0;i<this.controls_.length&&this.controls_[i]!==e;i++);if(i==this.controls_.length)return;this.deactivateControls(this.controls_[i])}else if(!this.getActiveControls().length)for(var n,o=0;n=this.controls_[o];o++)if(n.get("autoActivate")){n.setActive(!0);break}t.type?this.dispatchEvent({type:"control:active",control:e,active:t.active}):this.dispatchEvent({type:"control:add",control:e,active:t.active})}getControlsByName(t){return this.getControls().filter((function(e){return e.get("name")===t}))}},kN=class extends xb{constructor(t){t=t||{},super();var e,i=this.input=t.input;i||(i=this.input=document.createElement("INPUT"),t.type&&i.setAttribute("type",t.type),void 0!==t.min&&i.setAttribute("min",t.min),void 0!==t.max&&i.setAttribute("max",t.max),void 0!==t.step&&i.setAttribute("step",t.step),t.parent&&t.parent.appendChild(i)),t.disabled&&(i.disabled=!0),void 0!==t.checked&&(i.checked=!!t.checked),void 0!==t.val&&(i.value=t.val),t.hidden&&(i.style.display="none"),i.addEventListener("focus",function(){this.element&&this.element.classList.add("ol-focus")}.bind(this)),i.addEventListener("focusout",function(){this.element&&(e&&clearTimeout(e),e=setTimeout(function(){this.element.classList.remove("ol-focus")}.bind(this),0))}.bind(this))}_listenDrag(t,e){var i=function(i){this.moving=!0,this.element.classList.add("ol-moving");var n=function(i){"pointerup"===i.type&&(document.removeEventListener("pointermove",n),document.removeEventListener("pointerup",n),document.removeEventListener("pointercancel",n),setTimeout(function(){this.moving=!1,this.element.classList.remove("ol-moving")}.bind(this))),i.target===t&&e(i),i.stopPropagation(),i.preventDefault()}.bind(this);document.addEventListener("pointermove",n,!1),document.addEventListener("pointerup",n,!1),document.addEventListener("pointercancel",n,!1),i.stopPropagation(),i.preventDefault()}.bind(this);t.addEventListener("mousedown",i,!1),t.addEventListener("touchstart",i,!1)}setValue(t){void 0!==t&&(this.input.value=t),this.input.dispatchEvent(new Event("change"))}getValue(){return this.input.value}getInputElement(){return this.input}},FN=class extends kN{constructor(t){super(t=t||{});var e=this.element=document.createElement("LABEL");t.html instanceof Element?e.appendChild(t.html):void 0!==t.html&&(e.innerHTML=t.html),e.className=("ol-ext-check ol-ext-checkbox "+(t.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(e,this.input),e.appendChild(this.input),e.appendChild(document.createElement("SPAN")),t.after&&e.appendChild(document.createTextNode(t.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))}isChecked(){return this.input.checked}},TN=class extends FN{constructor(t){super(t=t||{}),this.element.className=("ol-ext-toggle-switch "+(t.className||"")).trim()}},LN=class extends FN{constructor(t){super(t=t||{}),this.element.className=("ol-ext-check ol-ext-radio "+(t.className||"")).trim()}},IN={create:function(t,e){var i;if(e=e||{},"TEXT"===t)i=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(i);else for(var n in i=document.createElement(t),/button/i.test(t)&&i.setAttribute("type","button"),e)switch(n){case"className":e.className&&e.className.trim&&i.setAttribute("class",e.className.trim());break;case"text":i.innerText=e.text;break;case"html":e.html instanceof Element?i.appendChild(e.html):void 0!==e.html&&(i.innerHTML=e.html);break;case"parent":e.parent&&e.parent.appendChild(i);break;case"options":if(/select/i.test(t))for(var o in e.options)IN.create("OPTION",{html:o,value:e.options[o],parent:i});break;case"style":IN.setStyle(i,e.style);break;case"change":case"click":IN.addListener(i,n,e[n]);break;case"on":for(var r in e.on)IN.addListener(i,r,e.on[r]);break;case"checked":i.checked=!!e.checked;break;default:i.setAttribute(n,e[n])}return i},createSwitch:function(t){var e=IN.create("INPUT",{type:"checkbox",on:t.on,click:t.click,change:t.change,parent:t.parent}),i=Object.assign({input:e},t||{});return new TN(i),e},createCheck:function(t){var e=IN.create("INPUT",{name:t.name,type:"radio"===t.type?"radio":"checkbox",on:t.on,parent:t.parent}),i=Object.assign({input:e},t||{});return"radio"===t.type?new LN(i):new FN(i),e},setHTML:function(t,e){e instanceof Element?t.appendChild(e):void 0!==e&&(t.innerHTML=e)},appendText:function(t,e){t.appendChild(document.createTextNode(e||""))},addListener:function(t,e,i,n){"string"==typeof e&&(e=e.split(" ")),e.forEach((function(e){t.addEventListener(e,i,n)}))},removeListener:function(t,e,i){"string"==typeof e&&(e=e.split(" ")),e.forEach((function(e){t.removeEventListener(e,i)}))},show:function(t){t.style.display=""},hide:function(t){t.style.display="none"},hidden:function(t){return"none"===IN.getStyle(t,"display")},toggle:function(t){t.style.display="none"===t.style.display?"":"none"},setStyle:function(t,e){for(var i in e)switch(i){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"==typeof e[i]?t.style[i]=e[i]+"px":t.style[i]=e[i];break;default:t.style[i]=e[i]}},getStyle:function(t,e){var i,n=(t.ownerDocument||document).defaultView;if(n&&n.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),i=n.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()})),i=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(i)))return function(e){var i=t.style.left,n=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=i,t.runtimeStyle.left=n,e}(i);return/px$/.test(i)?parseInt(i):i},outerHeight:function(t){return t.offsetHeight+IN.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+IN.getStyle(t,"marginLeft")},offsetRect:function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}},getFixedOffset:function(t){var e={left:0,top:0},i=function(t){if(!t)return e;if("absolute"===IN.getStyle(t,"position")&&"none"!==IN.getStyle(t,"transform")){var n=t.getBoundingClientRect();return e.left+=n.left,e.top+=n.top,e}return i(t.offsetParent)};return i(t.offsetParent)},positionRect:function(t,e){var i=0,n=0,o=function(r){if(r)return i+=r.offsetLeft,n+=r.offsetTop,o(r.offsetParent);var s={top:t.offsetTop+n,left:t.offsetLeft+i};return e&&(s.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),s.bottom=s.top+t.offsetHeight,s.right=s.top+t.offsetWidth,s};return o(t.offsetParent)},scrollDiv:function(t,e){var i,n,o,r,s,a=!1,l=0,c=0,h="function"==typeof(e=e||{}).onmove?e.onmove:function(){},A=e.vertical?"screenY":"screenX",u=e.vertical?"scrollTop":"scrollLeft",d=!1,p=0,g=function(){s&&(p++,setTimeout(f))},f=function(){if(s){if(--p)return;var e=t.clientHeight,i=t.scrollHeight;n=e/i,s.style.height=100*n+"%",s.style.top=t.scrollTop/i*100+"%",r.style.height=e+"px",e>i-.5?r.classList.add("ol-100pc"):r.classList.remove("ol-100pc")}},m=function(e){e.target.classList.contains("ol-noscroll")||(d=!1,a=e[A],c=new Date,t.classList.add("ol-move"),e.preventDefault(),window.addEventListener("pointermove",b),IN.addListener(window,["pointerup","pointercancel"],w))},b=function(e){if(!1!==a){var r=(o?-1/n:1)*(a-e[A]);d=d||Math.round(r),t[u]+=r,(i=new Date)-c&&(l=(l+r/(i-c))/2),a=e[A],c=i,r&&h(!0)}else d=!0},v=function(e){var i=e>0?Math.min(100,e/2):Math.max(-100,e/2);e-=i,t[u]+=i,-1<e&&e<1?(d?setTimeout((function(){t.classList.remove("ol-move")})):t.classList.remove("ol-move"),d=!1,h(!1)):setTimeout((function(){v(e)}),40)};if(e.vertical&&e.minibar){var y=function(i){t.removeEventListener("pointermove",y),t.parentNode.classList.add("ol-miniscroll"),s=IN.create("DIV"),r=IN.create("DIV",{className:"ol-scroll",html:s}),t.parentNode.insertBefore(r,t),s.addEventListener("pointerdown",(function(t){o=!0,m(t)})),e.mousewheel&&(IN.addListener(r,["mousewheel","DOMMouseScroll","onmousewheel"],(function(t){x(t)})),IN.addListener(s,["mousewheel","DOMMouseScroll","onmousewheel"],(function(t){x(t)}))),t.parentNode.addEventListener("pointerenter",g),window.addEventListener("resize",g),!1!==i&&g()};t.parentNode?y(!1):t.addEventListener("pointermove",y),t.addEventListener("scroll",(function(){g()}))}t.style["touch-action"]="none",t.style.overflow="hidden",t.classList.add("ol-scrolldiv"),IN.addListener(t,["pointerdown"],(function(t){o=!1,m(t)})),t.addEventListener("click",(function(e){t.classList.contains("ol-move")&&(e.preventDefault(),e.stopPropagation())}),!0);var w=function(i){(c=new Date-c)>100||o?l=0:c>0&&(l=((l||0)+(a-i[A])/c)/2),v(!1===e.animate?0:200*l),a=!1,l=0,c=0,t.classList.contains("ol-move")?t.classList.remove("ol-hasClick"):(t.classList.add("ol-hasClick"),setTimeout((function(){t.classList.remove("ol-hasClick")}),500)),o=!1,window.removeEventListener("pointermove",b),IN.removeListener(window,["pointerup","pointercancel"],w)},x=function(e){var i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return t.classList.add("ol-move"),t[u]-=30*i,t.classList.remove("ol-move"),!1};return e.mousewheel&&IN.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],x),{refresh:g}},dispatchEvent:function(t,e){var i;try{i=new CustomEvent(t)}catch(n){(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,{})}e.dispatchEvent(i)}},MN=class extends wS{constructor(t){t=t||{};var e=document.createElement("div");e.className=(t.className||"")+" ol-button ol-unselectable ol-control",super({element:e,target:t.target});var i=this,n=this.button_=document.createElement(/ol-text-button/.test(t.className)?"div":"button");n.type="button",t.title&&(n.title=t.title),t.name&&(n.name=t.name),t.html instanceof Element?n.appendChild(t.html):n.innerHTML=t.html||"";n.addEventListener("click",(function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()),t.handleClick&&t.handleClick.call(i,e)})),e.appendChild(n),!t.title&&n.firstElementChild&&(n.title=n.firstElementChild.title),t.title&&this.set("title",t.title),t.title&&this.set("title",t.title),t.name&&this.set("name",t.name)}setVisible(t){t?IN.show(this.element):IN.hide(this.element)}setTitle(t){this.button_.setAttribute("title",t)}setHtml(t){IN.setHTML(this.button_,t)}getButtonElement(){return this.button_}},PN=Object.defineProperty,RN=(t,e,i)=>(((t,e,i)=>{e in t?PN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof e?e+"":e,i),i),NN={exports:{}};function ON(){}ON.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function o(){n.off(t,o),e.apply(i,arguments)}return o._=e,this.on(t,o,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=i.length;n<o;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],o=[];if(n&&e)for(var r=0,s=n.length;r<s;r++)n[r].fn!==e&&n[r].fn._!==e&&o.push(n[r]);return o.length?i[t]=o:delete i[t],this}},NN.exports=ON;var UN=NN.exports.TinyEmitter=ON,DN=(t=>(t.CONTEXTMENU="contextmenu",t.CLICK="click",t.DBLCLICK="dblclick",t))(DN||{}),QN=(t=>(t.BEFOREOPEN="beforeopen",t.OPEN="open",t.CLOSE="close",t.ADD_MENU_ENTRY="add-menu-entry",t))(QN||{});let HN=class extends YB{constructor(t){super(t.type,t.map,t.originalEvent)}};const zN={width:150,scrollAt:4,eventType:DN.CONTEXTMENU,defaultItems:!0,items:[]},jN="ol-ctx-menu",GN={namespace:jN,container:`${jN}-container`,separator:`${jN}-separator`,submenu:`${jN}-submenu`,hidden:`${jN}-hidden`,icon:`${jN}-icon`,zoomIn:`${jN}-zoom-in`,zoomOut:`${jN}-zoom-out`,unselectable:"ol-unselectable"},VN=[{text:"Zoom In",classname:`${GN.zoomIn} ${GN.icon}`,callback:(t,e)=>{const i=e.getView();i.animate({zoom:Number(i.getZoom())+1,duration:700,center:t.coordinate})}},{text:"Zoom Out",classname:`${GN.zoomOut} ${GN.icon}`,callback:(t,e)=>{const i=e.getView();i.animate({zoom:Number(i.getZoom())-1,duration:700,center:t.coordinate})}}];function KN(t){const e=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=t;i.firstChild;)e.append(i.firstChild);return e}function qN({parentNode:t,item:e,isSubmenu:i=!1,isInsideSubmenu:n=!1,emitter:o}){const r=`_${Math.random().toString(36).slice(2,11)}`;if("string"!=typeof e&&"text"in e){const s=KN(`<span>${e.text}</span>`),a=document.createElement("li");e.classname=e.classname||"",e.icon&&(""===e.classname?e.classname=GN.icon:!1===e.classname.includes(GN.icon)&&(e.classname+=` ${GN.icon}`),a.setAttribute("style",`background-image:url(${e.icon})`)),a.id=r,a.className=e.classname,a.append(s),t.append(a);const l={id:r,isSubmenu:i,isInsideSubmenu:n,isSeparator:!1,callback:"callback"in e?e.callback:null,data:"data"in e?e.data:null};return o.emit(QN.ADD_MENU_ENTRY,l,a),a}const s=KN(`<li id="${r}" class="${GN.separator}"><hr></li>`);t.append(s);const a=t.lastChild,l={id:r,isSubmenu:!1,isInsideSubmenu:!1,isSeparator:!0,callback:null,data:null};return o.emit(QN.ADD_MENU_ENTRY,l,a),a}function WN({container:t,items:e,menuWidth:i,isInsideSubmenu:n,emitter:o}){e.forEach((e=>{if("string"!=typeof e&&"items"in e&&Array.isArray(e.items)){const n=qN({parentNode:t,item:e,isSubmenu:!0,emitter:o});n.classList.add(GN.submenu);const r=document.createElement("ul");r.classList.add(GN.container),r.style.width=`${i}px`,n.append(r),WN({emitter:o,menuWidth:i,container:r,items:e.items,isInsideSubmenu:!0})}else qN({parentNode:t,item:e,isSubmenu:!1,isInsideSubmenu:n,emitter:o})}))}function XN(t,e){if(!t)throw new Error(e)}let $N=class extends wS{constructor(t={}){XN("object"==typeof t,"@param `opts` should be object type!");const e=document.createElement("div");super({element:e}),RN(this,"map"),RN(this,"emitter",new UN),RN(this,"container"),RN(this,"coordinate",[]),RN(this,"pixel",[]),RN(this,"contextMenuEventListener"),RN(this,"entryCallbackEventListener"),RN(this,"mapMoveListener"),RN(this,"lineHeight",0),RN(this,"disabled"),RN(this,"opened"),RN(this,"items",[]),RN(this,"menuEntries",new Map),RN(this,"options"),this.options={...zN,...t};const i=document.createElement("ul");e.append(i),e.style.width=`${this.options.width}px`,e.classList.add(GN.container,GN.unselectable,GN.hidden),this.container=e,this.contextMenuEventListener=t=>{this.handleContextMenu(t)},this.entryCallbackEventListener=t=>{this.handleEntryCallback(t)},this.mapMoveListener=()=>{this.handleMapMove()},this.disabled=!1,this.opened=!1,window.addEventListener("beforeunload",(()=>{this.removeListeners()}),{once:!0})}clear(){for(const t of this.menuEntries.keys())this.removeMenuEntry(t);this.container.replaceChildren(),this.container.append(document.createElement("ul"))}enable(){this.disabled=!1}disable(){this.disabled=!0}getDefaultItems(){return VN}countItems(){return this.menuEntries.size}extend(t){XN(Array.isArray(t),"@param `items` should be an Array."),WN({items:t,emitter:this.emitter,menuWidth:this.options.width,container:this.container.firstElementChild})}closeMenu(){this.opened=!1,this.container.classList.add(GN.hidden),this.dispatchEvent(QN.CLOSE)}isOpen(){return this.opened}updatePosition(t){XN(Array.isArray(t),"@param `pixel` should be an Array."),this.isOpen()&&(this.pixel=t,this.positionContainer())}pop(){const t=Array.from(this.menuEntries.keys()).pop();t&&this.removeMenuEntry(t)}shift(){const t=Array.from(this.menuEntries.keys()).shift();t&&this.removeMenuEntry(t)}push(t){t&&this.extend([t])}setMap(t){if(super.setMap(t),t){this.map=t,t.getViewport().addEventListener(this.options.eventType,this.contextMenuEventListener,!1),t.on("movestart",(()=>{this.handleMapMove()})),this.emitter.on(QN.ADD_MENU_ENTRY,((t,e)=>{this.handleAddMenuEntry(t,e)}),this),this.items=this.options.defaultItems?this.options.items.concat(VN):this.options.items,WN({items:this.items,emitter:this.emitter,menuWidth:this.options.width,container:this.container.firstElementChild});const e=this.getMenuEntriesLength();this.lineHeight=e>0?this.container.offsetHeight/e:function(t){var e,i;const n=document.importNode(t),o=t.offsetWidth;n.style.cssText=`position: fixed; top: 0; left: 0; overflow: auto; visibility: hidden; pointer-events: none; height: unset; max-height: unset; width: ${o}px`;const r=KN("<span>Foo</span>"),s=KN("<span>Foo</span>"),a=document.createElement("li"),l=document.createElement("li");a.append(r),l.append(s),n.append(a),n.append(l),null===(e=t.parentNode)||void 0===e||e.append(n);const c=n.offsetHeight/2;return null!==(i=t.parentNode)&&void 0!==i&&i.removeChild(n),c}(this.container)}else this.removeListeners(),this.clear()}removeListeners(){this.map.getViewport().removeEventListener(this.options.eventType,this.contextMenuEventListener,!1),this.emitter.off(QN.ADD_MENU_ENTRY)}removeMenuEntry(t){var e;let i=document.getElementById(t);null!==(e=i)&&void 0!==e&&e.remove(),i=null,this.menuEntries.delete(t)}handleContextMenu(t){var e;this.coordinate=this.map.getEventCoordinate(t),this.pixel=this.map.getEventPixel(t),this.dispatchEvent(new HN({map:this.map,originalEvent:t,type:QN.BEFOREOPEN})),!this.disabled&&(this.options.eventType===DN.CONTEXTMENU&&(t.stopPropagation(),t.preventDefault()),setTimeout((()=>{this.openMenu(t)})),null===(e=t.target)||void 0===e||e.addEventListener("pointerdown",(t=>{this.opened&&(t.stopPropagation(),this.closeMenu())}),{once:!0}))}openMenu(t){this.opened=!0,this.positionContainer(),this.container.classList.remove(GN.hidden),this.dispatchEvent(new HN({map:this.map,originalEvent:t,type:QN.OPEN}))}getMenuEntriesLength(){return Array.from(this.menuEntries).filter((([,t])=>!1===t.isSeparator&&!1===t.isSubmenu&&!1===t.isInsideSubmenu)).length}positionContainer(){const t=this.map.getSize()||[0,0],e={w:t[0]-this.pixel[0],h:t[1]-this.pixel[1]},i=this.getMenuEntriesLength(),n=this.container.offsetWidth,o=Math.round(this.lineHeight*i),r=e.w>=n?this.pixel[0]+5:this.pixel[0]-n;this.container.style.left=`${r}px`,this.container.style.top=e.h>=o?this.pixel[1]-10+"px":this.pixel[1]-o+"px",this.container.style.right="auto",this.container.style.bottom="auto",e.w-=n;const s=t=>Array.from(t.children).filter((t=>"LI"===t.tagName&&t.classList.contains(GN.submenu)));let a=0;const l=(t,i)=>{a+=1,s(t).forEach((t=>{const r=i>=n?n-8:-1*(n+8),c=t.querySelector(`ul.${GN.container}`),h=Math.round(this.lineHeight*Array.from(c.children).filter((t=>"LI"===t.tagName)).length);c.style.left=`${r}px`,c.style.right="auto",c.style.top=e.h>=h+o?"0":`-${c.offsetHeight-25}px`,c.style.bottom="auto",c.style.zIndex=String(a),s(c).length>0&&l(c,i-n)}))};l(this.container.firstElementChild,e.w)}handleMapMove(){this.closeMenu()}handleEntryCallback(t){var e;t.preventDefault(),t.stopPropagation();const i=t.currentTarget,n=this.menuEntries.get(i.id);if(!n)return;const o={data:n.data,coordinate:this.coordinate};this.closeMenu(),null===(e=n.callback)||void 0===e||e.call(n,o,this.map)}handleAddMenuEntry(t,e){this.menuEntries.set(t.id,t),this.positionContainer(),"callback"in t&&"function"==typeof t.callback&&e.addEventListener("click",this.entryCallbackEventListener,!1)}};var YN=class extends wS{constructor(t){t=t||{};var e=IN.create("DIV",{className:t.switcherClass||"ol-layerswitcher"});super({element:e,target:t.target});var i=this;this.dcount=0,this.show_progress=t.show_progress,this.oninfo="function"==typeof t.oninfo?t.oninfo:null,this.onextent="function"==typeof t.onextent?t.onextent:null,this.hasextent=t.extent||t.onextent,this.hastrash=t.trash,this.reordering=!1!==t.reordering,this._layers=[],this._layerGroup=t.layerGroup&&t.layerGroup.getLayers?t.layerGroup:null,this.onchangeCheck="function"==typeof t.onchangeCheck?t.onchangeCheck:null,"function"==typeof t.displayInLayerSwitcher&&(this.displayInLayerSwitcher=t.displayInLayerSwitcher),t.target||(e.classList.add("ol-unselectable"),e.classList.add("ol-control"),e.classList.add(!1!==t.collapsed?"ol-collapsed":"ol-forceopen"),this.button=IN.create("BUTTON",{type:"button",parent:e}),this.button.addEventListener("touchstart",(function(t){e.classList.toggle("ol-forceopen"),e.classList.add("ol-collapsed"),i.dispatchEvent({type:"toggle",collapsed:e.classList.contains("ol-collapsed")}),t.preventDefault(),i.overflow()})),this.button.addEventListener("click",(function(){e.classList.toggle("ol-forceopen"),e.classList.add("ol-collapsed"),i.dispatchEvent({type:"toggle",collapsed:!e.classList.contains("ol-forceopen")}),i.overflow()})),t.mouseover&&(e.addEventListener("mouseleave",(function(){e.classList.add("ol-collapsed"),i.dispatchEvent({type:"toggle",collapsed:!0})})),e.addEventListener("mouseover",(function(){e.classList.remove("ol-collapsed"),i.dispatchEvent({type:"toggle",collapsed:!1})}))),t.minibar&&(t.noScroll=!0),t.noScroll||(this.topv=IN.create("DIV",{className:"ol-switchertopdiv",parent:e,click:function(){i.overflow("+50%")}}),this.botv=IN.create("DIV",{className:"ol-switcherbottomdiv",parent:e,click:function(){i.overflow("-50%")}})),this._noScroll=t.noScroll),this.panel_=IN.create("UL",{className:"panel"}),this.panelContainer_=IN.create("DIV",{className:"panel-container",html:this.panel_,parent:e}),t.target||t.noScroll||IN.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",(function(t){i.overflow(Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)))&&(t.stopPropagation(),t.preventDefault())})),this.header_=IN.create("LI",{className:"ol-header",parent:this.panel_}),this.set("drawDelay",t.drawDelay||0),this.set("selection",t.selection),t.minibar&&setTimeout(function(){var t=IN.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],(function(){t.refresh()}))}.bind(this))}displayInLayerSwitcher(t){return!1!==t.get("displayInLayerSwitcher")}setMap(t){if(super.setMap(t),this.drawPanel(),this._listener)for(var e in this._listener)mb(this._listener[e]);this._listener=null,t&&(this._listener={moveend:t.on("moveend",this.viewChange.bind(this)),size:t.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=t.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))}show(){this.element.classList.add("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!1})}hide(){this.element.classList.remove("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!0})}toggle(){this.element.classList.toggle("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!this.isOpen()})}isOpen(){return this.element.classList.contains("ol-forceopen")}setHeader(t){IN.setHTML(this.header_,t)}overflow(t){if(this.button&&!this._noScroll){if(IN.hidden(this.panel_))return void IN.setStyle(this.element,{height:"auto"});var e=IN.outerHeight(this.element),i=IN.outerHeight(this.panel_),n=this.button.offsetTop+IN.outerHeight(this.button),o=this.panel_.offsetTop-n;if(i>e-n){IN.setStyle(this.element,{height:"100%"});var r=this.panel_.querySelectorAll("li.ol-visible .li-content")[0],s=r?2*IN.getStyle(r,"height"):0;switch(t){case 1:o+=s;break;case-1:o-=s;break;case"+50%":o+=Math.round(e/2);break;case"-50%":o-=Math.round(e/2)}return o+i<=e-3*n/2?(o=e-3*n/2-i,IN.hide(this.botv)):IN.show(this.botv),o>=0?(o=0,IN.hide(this.topv)):IN.show(this.topv),IN.setStyle(this.panel_,{top:o+"px"}),!0}return IN.setStyle(this.element,{height:"auto"}),IN.setStyle(this.panel_,{top:0}),IN.hide(this.botv),IN.hide(this.topv),!1}return!1}_setLayerForLI(t,e){var i=[];e.getLayers&&i.push(e.getLayers().on("change:length",this.drawPanel.bind(this))),t&&(i.push(e.on("change:opacity",function(){this.setLayerOpacity(e,t)}.bind(this))),i.push(e.on("change:visible",function(){this.setLayerVisibility(e,t)}.bind(this)))),i.push(e.on("propertychange",function(t){"displayInLayerSwitcher"!==t.key&&"openInLayerSwitcher"!==t.key&&"title"!==t.key&&"name"!==t.key||this.drawPanel(t)}.bind(this))),this._layers.push({li:t,layer:e,listeners:i})}setLayerOpacity(t,e){var i=e.querySelector(".layerswitcher-opacity-cursor");i&&(i.style.left=100*t.getOpacity()+"%"),this.dispatchEvent({type:"layer:opacity",layer:t})}setLayerVisibility(t,e){var i=e.querySelector(".ol-visibility");i&&(i.checked=t.getVisible()),t.getVisible()?e.classList.add("ol-visible"):e.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:t})}_clearLayerForLI(){this._layers.forEach((function(t){t.listeners.forEach((function(t){mb(t)}))})),this._layers=[]}_getLayerForLI(t){for(var e,i=0;e=this._layers[i];i++)if(e.li===t)return e.layer;return null}viewChange(){this.panel_.querySelectorAll("li").forEach(function(t){var e=this._getLayerForLI(t);e&&(this.testLayerVisibility(e)?t.classList.remove("ol-layer-hidden"):t.classList.add("ol-layer-hidden"))}.bind(this))}getPanel(){return this.panelContainer_}drawPanel(){if(this.getMap()){var t=this;this.dcount++,setTimeout((function(){t.drawPanel_()}),this.get("drawDelay")||0)}}drawPanel_(){if(! --this.dcount&&!this.dragging_){var t=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach(function(t){t.classList.contains("ol-header")||t.remove()}.bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=t}}switchLayerVisibility(t,e){t.get("baseLayer")?(t.getVisible()||t.setVisible(!0),e.forEach((function(e){t!==e&&e.get("baseLayer")&&e.getVisible()&&e.setVisible(!1)}))):t.setVisible(!t.getVisible())}testLayerVisibility(t){if(!this.getMap())return!0;var e=this.getMap().getView().getResolution(),i=this.getMap().getView().getZoom();if(t.getMaxResolution()<=e||t.getMinResolution()>=e)return!1;if(t.getMinZoom&&(t.getMinZoom()>=i||t.getMaxZoom()<i))return!1;var n=t.getExtent();return!n||fv(this.getMap().getView().calculateExtent(this.getMap().getSize()),n)}dragOrdering_(t){t.stopPropagation(),t.preventDefault();var e,i,n,o,r,s=this,a=t.currentTarget.parentNode.parentNode,l=!0,c=this.panel_,h=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY;function A(t){if(e=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY,l&&Math.abs(h-e)>2&&(l=!1,a.classList.add("drag"),o=s._getLayerForLI(a),i=!1,r=s._getLayerForLI(a.parentNode.parentNode),n=IN.create("LI",{className:"ol-dragover",html:a.innerHTML,style:{position:"absolute","z-index":1e4,left:a.offsetLeft,opacity:.5,width:IN.outerWidth(a),height:IN.getStyle(a,"height")},parent:c}),s.element.classList.add("drag"),s.dispatchEvent({type:"reorder-start",layer:o,group:r})),!l){var A;if(t.preventDefault(),t.stopPropagation(),IN.setStyle(n,{top:e-IN.offsetRect(c).top+c.scrollTop+5}),t.touches)for(A=document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY);A.shadowRoot;)A=A.shadowRoot.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY);else A=t.target,t.target.shadowRoot&&(A=t.composedPath()[0]);for(A.classList.contains("ol-switcherbottomdiv")?s.overflow(-1):A.classList.contains("ol-switchertopdiv")&&s.overflow(1);A&&"LI"!==A.tagName;)A=A.parentNode;A&&A.classList.contains("dropover")||a.parentNode.querySelectorAll("li").forEach((function(t){t.classList.remove("dropover"),t.classList.remove("dropover-after"),t.classList.remove("dropover-before")})),A&&A.parentNode.classList.contains("drag")&&A!==a?((i=s._getLayerForLI(A))&&!i.get("allwaysOnTop")==!o.get("allwaysOnTop")?(A.classList.add("dropover"),A.classList.add(a.offsetTop<A.offsetTop?"dropover-after":"dropover-before")):i=!1,IN.show(n)):(i=!1,A===a?IN.hide(n):IN.show(n)),i?n.classList.remove("forbidden"):n.classList.add("forbidden")}}a.parentNode.classList.add("drag"),IN.addListener(document,"mousemove touchmove",A),IN.addListener(document,"mouseup touchend touchcancel",(function t(){if(i){var e=o,l=s.getSelection()===e;if(e&&i){for(var c,h=(c=r?r.getLayers():s._layerGroup?s._layerGroup.getLayers():s.getMap().getLayers()).getArray(),u=0;u<h.length;u++)if(h[u]==e){c.removeAt(u);break}for(var d=0;d<h.length;d++)if(h[d]===i){u>d?c.insertAt(d,e):c.insertAt(d+1,e);break}}l&&s.selectLayer(e),s.dispatchEvent({type:"reorder-end",layer:e,group:r})}a.parentNode.querySelectorAll("li").forEach((function(t){t.classList.remove("dropover"),t.classList.remove("dropover-after"),t.classList.remove("dropover-before")})),a.classList.remove("drag"),a.parentNode.classList.remove("drag"),s.element.classList.remove("drag"),n&&n.remove(),IN.removeListener(document,"mousemove touchmove",A),IN.removeListener(document,"mouseup touchend touchcancel",t)}))}dragOpacity_(t){t.stopPropagation(),t.preventDefault();var e=this,i=t.target,n=this._getLayerForLI(i.parentNode.parentNode.parentNode);if(n){var o=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX,r=IN.getStyle(i,"left")-o;e.dragging_=!0,IN.addListener(document,"mouseup touchend touchcancel",(function t(){IN.removeListener(document,"mouseup touchend touchcancel",t),IN.removeListener(document,"mousemove touchmove",s),e.dragging_=!1})),IN.addListener(document,"mousemove touchmove",s)}function s(t){var e=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX,o=(r+e)/IN.getStyle(i.parentNode,"width"),s=Math.max(0,Math.min(1,o));IN.setStyle(i,{left:100*s+"%"}),i.parentNode.nextElementSibling.innerHTML=Math.round(100*s),n.setOpacity(s)}}drawList(t,e){var i=this,n=e.getArray(),o=function(t){t.stopPropagation(),t.preventDefault();var n=i._getLayerForLI(this.parentNode.parentNode);i.switchLayerVisibility(n,e),i.get("selection")&&n.getVisible()&&i.selectLayer(n),i.onchangeCheck&&i.onchangeCheck(n)};function r(t){t.stopPropagation(),t.preventDefault();var e=i._getLayerForLI(this.parentNode.parentNode);i.oninfo(e),i.dispatchEvent({type:"info",layer:e})}function s(t){t.stopPropagation(),t.preventDefault();var e=i._getLayerForLI(this.parentNode.parentNode);i.onextent?i.onextent(e):i.getMap().getView().fit(e.getExtent(),i.getMap().getSize()),i.dispatchEvent({type:"extent",layer:e})}function a(t){t.stopPropagation(),t.preventDefault();var e,n=this.parentNode.parentNode.parentNode.parentNode,o=i._getLayerForLI(n);o?(e=i._getLayerForLI(this.parentNode.parentNode),o.getLayers().remove(e),0!=o.getLayers().getLength()||o.get("noSwitcherDelete")||a.call(n.querySelectorAll(".layerTrash")[0],t)):(n=this.parentNode.parentNode,i.getMap().removeLayer(i._getLayerForLI(n)))}function l(e){if(this.displayInLayerSwitcher(e)){var l=IN.create("LI",{className:(e.getVisible()?"ol-visible ":" ")+(e.get("baseLayer")?"baselayer":""),parent:t});this._setLayerForLI(l,e),this._selectedLayer===e&&l.classList.add("ol-layer-select");var h=IN.create("DIV",{className:"ol-layerswitcher-buttons",parent:l}),A=IN.create("DIV",{className:"li-content",parent:l});IN.create("INPUT",{type:e.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:e.getVisible(),click:o,parent:A});var u=IN.create("LABEL",{title:e.get("title")||e.get("name"),click:o,style:{userSelect:"none"},parent:A});if(u.addEventListener("selectstart",(function(){return!1})),IN.create("SPAN",{html:e.get("title")||e.get("name"),click:function(t){this.get("selection")&&(t.stopPropagation(),this.selectLayer(e))}.bind(this),parent:u}),this.reordering&&(c<n.length-1&&(e.get("allwaysOnTop")||!n[c+1].get("allwaysOnTop"))||c>0&&(!e.get("allwaysOnTop")||n[c-1].get("allwaysOnTop")))&&IN.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(t){i.dragOrdering_(t)}},parent:h}),e.getLayers){var d=0;e.getLayers().forEach((function(t){i.displayInLayerSwitcher(t)&&d++})),d&&IN.create("DIV",{className:e.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var t=i._getLayerForLI(this.parentNode.parentNode);t.set("openInLayerSwitcher",!t.get("openInLayerSwitcher"))},parent:h})}if(this.oninfo&&IN.create("DIV",{className:"layerInfo",title:this.tip.info,click:r,parent:h}),this.hastrash&&!e.get("noSwitcherDelete")&&IN.create("DIV",{className:"layerTrash",title:this.tip.trash,click:a,parent:h}),this.hasextent&&n[c].getExtent()){var p=n[c].getExtent();4==p.length&&p[0]<p[2]&&p[1]<p[3]&&IN.create("DIV",{className:"layerExtent",title:this.tip.extent,click:s,parent:h})}if(this.show_progress&&e instanceof CI){var g=IN.create("DIV",{className:"layerswitcher-progress",parent:A});this.setprogress_(e),e.layerswitcher_progress=IN.create("DIV",{parent:g})}var f=IN.create("DIV",{className:"layerswitcher-opacity",click:function(t){if(t.target===this){t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(1,t.offsetX/IN.getStyle(this,"width")));i._getLayerForLI(this.parentNode.parentNode).setOpacity(e),this.parentNode.querySelectorAll(".layerswitcher-opacity-label")[0].innerHTML=Math.round(100*e)}},parent:A});if(IN.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:100*e.getOpacity()+"%"},on:{"mousedown touchstart":function(t){i.dragOpacity_(t)}},parent:f}),IN.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(100*e.getOpacity()),parent:A}),e.getLayers&&(l.classList.add("ol-layer-group"),!0===e.get("openInLayerSwitcher"))){var m=IN.create("UL",{parent:l});this.drawList(m,e.getLayers())}l.classList.add(this.getLayerClass(e)),this.dispatchEvent({type:"drawlist",layer:e,li:l})}else this._setLayerForLI(null,e)}for(var c=n.length-1;c>=0;c--)l.call(this,n[c]);this.viewChange(),t===this.panel_&&this.overflow()}getLayerClass(t){return t?t.getLayers?"ol-layer-group":t instanceof IM?"ol-layer-vector":t instanceof kR?"ol-layer-vectortile":t instanceof CI?"ol-layer-tile":t instanceof vI?"ol-layer-image":t instanceof CR?"ol-layer-heatmap":t.getFeatures?"ol-layer-vectorimage":"unknown":"none"}selectLayer(t,e){if(!t){if(!this.getMap())return;t=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=t,this.drawPanel(),e||this.dispatchEvent({type:"select",layer:t})}getSelection(){return this._selectedLayer}setprogress_(t){if(!t.layerswitcher_progress){var e=0,i=0,n=function(){i===e?(i=e=0,IN.setStyle(t.layerswitcher_progress,{width:0})):IN.setStyle(t.layerswitcher_progress,{width:(e/i*100).toFixed(1)+"%"})};t.getSource().on("tileloadstart",(function(){i++,n()})),t.getSource().on("tileloadend",(function(){e++,n()})),t.getSource().on("tileloaderror",(function(){e++,n()}))}}};YN.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},jE.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"},tk.prototype.getPreview=function(t,e){t||(t=[21020,6355964]),e||(e=150);var i=this.getTileGrid().getTileCoordForCoordAndResolution(t,e);return this.getTileUrlFunction().call(this,i,this.getProjection())},LI.prototype.getPreview=function(t,e){t||(t=[21020,6355964]),e||(e=150);var i=this.getTileUrlFunction();if(i){var n=(this.getTileGrid()||this.getTileGridForProjection(this.getProjection())).getTileCoordForCoordAndResolution(t,e);return i.call(this,n,1,this.getProjection())}var o=this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(t,e,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(t,e,this.getProjection()||"EPSG:3857",{});return o=o.replace(/getfeatureinfo/i,"GetMap")},Ux.prototype.getPreview=function(t,e,i){if(this.get("preview"))return[this.get("preview")];if(e||(e=150),e<this.getMinResolution()||e>this.getMaxResolution()){var n=this.getMinResolution(),o=this.getMaxResolution();for(o>1e5&&(o=156543),n<.15&&(n=.15),e=o;o>n;)o/=2,e=n*=2}var r=this.getExtent();if(t||(t=[21020,6355964]),r&&!Hb(r,t)&&(t=[(r[0]+r[2])/2,(r[1]+r[3])/2]),i&&(t=My(t,i,this.getSource().getProjection())),this.getSource&&this.getSource())try{return[this.getSource().getPreview(t,e)]}catch(r){}return[]},XB.prototype.getPreview=function(t,e){if(this.get("preview"))return[this.get("preview")];var i=[];if(this.getLayers)for(var n=this.getLayers().getArray(),o=0;o<n.length;o++)i=i.concat(n[o].getPreview(t,e));return i};var ZN=class extends YN{constructor(t){(t=t||{}).switcherClass=((t.switcherClass||"")+" ol-layerswitcher-image").trim(),t.mouseover=!1!==t.mouseover,super(t)}drawList(t,e){var i=this,n=function(t){t.preventDefault();var n=i._getLayerForLI(this);i.switchLayerVisibility(n,e),"touchstart"==t.type&&i.element.classList.add("ol-collapsed")};IN.setStyle(t,{height:"auto"}),e.forEach((function(e){if(i.displayInLayerSwitcher(e)){var o=e.getPreview?e.getPreview():["none"],r=IN.create("LI",{className:"ol-imgcontainer"+(e.getVisible()?" ol-visible":""),on:{"touchstart click":n},parent:t});i._setLayerForLI(r,e),o.forEach((function(t){IN.create("IMG",{src:t,parent:r})})),IN.create("p",{html:e.get("title")||e.get("name"),parent:r}),i.testLayerVisibility(e)&&r.classList.add("ol-layer-hidden")}}))}overflow(){}},JN=class extends wS{constructor(t){(t=t||{}).fullscreen&&(t.target=document.body);var e=IN.create("DIV",{className:((t.className||"")+(t.zoom?" ol-zoom":"")+" ol-ext-dialog").trim()});super({element:e,target:t.target}),e.addEventListener("click",function(t){this.get("hideOnBack")&&t.target===e&&this.close(),this.get("hideOnClick")&&this.close()}.bind(this));var i=IN.create("FORM",{on:{submit:this._onButton("submit")},parent:e});IN.create("H2",{parent:i}),IN.create("DIV",{className:"ol-closebox",click:this._onButton("cancel"),parent:i}),IN.create("DIV",{className:"ol-content",parent:i}),this._progress=IN.create("DIV",{style:{display:"none"},parent:i});var n=IN.create("DIV",{className:"ol-progress-bar",parent:this._progress});this._progressbar=IN.create("DIV",{parent:n}),this._progressMessage=IN.create("DIV",{className:"ol-progress-message",parent:this._progress}),IN.create("DIV",{className:"ol-buttons",parent:i}),this.set("closeBox",!1!==t.closeBox),this.set("zoom",!!t.zoom),this.set("hideOnClick",!!t.hideOnClick),this.set("hideOnBack",!!t.hideOnBack),this.set("className",e.className),this.set("closeOnSubmit",t.closeOnSubmit),this.set("buttons",t.buttons),this.setContent(t)}show(t){t&&((t instanceof Element||"string"==typeof t)&&(t={content:t}),this.setContent(t)),this.element.classList.add("ol-visible");var e=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');if(e&&e.focus(),this.dispatchEvent({type:"show"}),t){if(t.autoclose){var i=setTimeout(function(){this.hide()}.bind(this),t.autoclose);this.once("hide",(function(){clearTimeout(i)}))}if(t.hideOnBack){var n=this.get("hideOnBack");this.set("hideOnBack",!0),this.once("hide",function(){this.set("hideOnBack",n)}.bind(this))}}}open(){this.show()}setContentMessage(t){if(void 0!==t){var e=this.getContentElement();t instanceof Element&&IN.setHTML(e,""),IN.setHTML(e,t||"")}}setTitle(t){var e=this.element.querySelector("form");e.querySelector("h2").innerText=t||"",t?e.classList.add("ol-title"):e.classList.remove("ol-title")}setContent(t){if(t){this.element.className=this.get("className"),"string"==typeof t&&(t={content:t}),t=t||{},this.setProgress(!1),t.max&&this.setProgress(0,t.max),void 0!==t.progress&&this.setProgress(t.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),t.className&&t.className.split(" ").forEach(function(t){this.element.classList.add(t)}.bind(this));var e=this.element.querySelector("form");void 0!==t.content&&(t.content instanceof Element&&IN.setHTML(e.querySelector(".ol-content"),""),IN.setHTML(e.querySelector(".ol-content"),t.content||"")),this.setTitle(t.title),t.closeBox||this.get("closeBox")&&!1!==t.closeBox?e.classList.add("ol-closebox"):e.classList.remove("ol-closebox");var i=this.element.querySelector(".ol-buttons");i.innerHTML="";var n=t.buttons||this.get("buttons");if(n)for(var o in e.classList.add("ol-button"),n)IN.create("INPUT",{type:"submit"===o?"submit":"button",value:n[o],click:this._onButton(o,t.onButton),parent:i});else e.classList.remove("ol-button")}}getContentElement(){return this.element.querySelector("form .ol-content")}setProgress(t,e,i){if(!1!==t){if(e>0?this.set("max",Number(e)):e=this.get("max"),e){var n=Math.round(t/e*100);IN.setStyle(this._progress,{display:""}),this._progressbar.className=n?"":"notransition",IN.setStyle(this._progressbar,{width:n+"%"})}else IN.setStyle(this._progress,{display:"none"});this._progressMessage.innerHTML="",IN.setHTML(this._progressMessage,i||"")}else IN.setStyle(this._progress,{display:"none"})}_onButton(t,e){var i=function(i){i.preventDefault(),"submit"===t&&!1===this.get("closeOnSubmit")||this.hide();var n=this.getInputs();this.dispatchEvent({type:"button",button:t,inputs:n}),"function"==typeof e&&e(t,n)}.bind(this);return i}getInputs(){var t={};return["input","textarea","select"].forEach(function(e){this.element.querySelectorAll("form "+e).forEach((function(e){e.className&&e.className.split(" ").forEach((function(i){t[i]=e}))}))}.bind(this)),t}hide(){this.element.classList.remove("ol-visible"),this.dispatchEvent({type:"hide"})}close(){this.hide()}isOpen(){return this.element.classList.contains("ol-visible")}},tO=class extends wS{constructor(t){super(t=t||{}),this.setStyle(t.style)}setMap(t){this.getCanvas(t);var e=this.getMap();if(this._listener&&(mb(this._listener),this._listener=null),super.setMap(t),e)try{e.renderSync()}catch(i){}t&&(this._listener=t.on("postcompose",this._draw.bind(this)))}getCanvas(t){return function(t){if(!t)return null;var e=t.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return e||(t.getViewport().querySelector(".ol-layers")?((e=document.createElement("canvas")).className="ol-fixedoverlay",t.getViewport().querySelector(".ol-layers").after(e),t.on("precompose",(function(i){e.width=t.getSize()[0]*i.frameState.pixelRatio,e.height=t.getSize()[1]*i.frameState.pixelRatio}))):e=t.getViewport().querySelector("canvas")),e}(t)}getContext(t){var e=t.context;if(!e&&this.getMap()){var i=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];e=i?i.getContext("2d"):null}return e}setStyle(t){this._style=t||new MC({})}getStyle(){return this._style}getStroke(){return this._style.getStroke()||this._style.setStroke(new IC({color:"#000",width:1.25})),this._style.getStroke()}getFill(){return this._style.getFill()||this._style.setFill(new LC({color:"#fff"})),this._style.getFill()}getTextStroke(){var t=this._style.getText();return t||(t=new QC({})),t.getStroke()||t.setStroke(new IC({color:"#fff",width:3})),t.getStroke()}getTextFill(){var t=this._style.getText();return t||(t=new QC({})),t.getFill()||t.setFill(new LC({color:"#fff"})),t.getFill()}getTextFont(){var t=this._style.getText();return t||(t=new QC({})),t.getFont()||t.setFont("12px sans-serif"),t.getFont()}_draw(){console.warn("[CanvasBase] draw function not implemented.")}},eO=class extends tO{constructor(t){t=t||{};var e=document.createElement("div");if(super({element:e,target:t.target}),t.target)e.className=t.className||"ol-legend";else{e.className=(t.className||"ol-legend")+" ol-unselectable ol-control"+(!1===t.collapsible?" ol-uncollapsible":" ol-collapsed");var i=document.createElement("button");i.setAttribute("type","button"),i.addEventListener("click",function(){this.toggle()}.bind(this)),e.appendChild(i),(i=document.createElement("button")).setAttribute("type","button"),i.className="ol-closebox",i.addEventListener("click",function(){this.toggle()}.bind(this)),e.appendChild(i)}this._legend=t.legend,this._legend.getCanvas().className="ol-legendImg",e.appendChild(this._legend.getCanvas()),e.appendChild(this._legend.getListElement()),!1!==t.collapsible&&!1===t.collapsed&&this.show(),this._legend.on("select",function(t){this.dispatchEvent(t)}.bind(this)),this._legend.on("refresh",function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch(t){}}.bind(this)),this._legend.on("items",function(e){e.nb?(this.element.classList.remove("ol-empty"),this.element.title=t.title||"legend"):(this.element.classList.add("ol-empty"),this.element.title=t.emptyTitle||"no legend"),this.dispatchEvent(e)}.bind(this))}getLegend(){return this._legend}setCanvas(t){if(this._onCanvas=t,this.element.style.visibility=t?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch(e){}}onCanvas(){return!!this._onCanvas}_draw(t){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var e=this._legend.getCanvas(),i=this.getContext(t),n=i.canvas.height-e.height;i.save(),i.rect(0,n,e.width,e.height);var o="#fff";this._legend.getTextStyle().getBackgroundFill()&&(o=b_(this._legend.getTextStyle().getBackgroundFill().getColor())),i.fillStyle=i.strokeStyle=o,i.lineWidth=10,i.lineJoin="round",i.stroke(),i.clearRect(0,n,e.width,e.height),i.fill(),i.drawImage(e,0,n),i.restore()}}show(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch(t){}}hide(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch(t){}}collapse(t){!1===t?this.show():this.hide()}isCollapsed(){return this.element.classList.contains("ol-collapsed")}toggle(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch(t){}}},iO=class extends wS{constructor(t){t=t||{};var e=IN.create("DIV",{className:t.className||"ol-print"});super({element:e,target:t.target}),t.target||(e.classList.add("ol-unselectable","ol-control"),IN.create("BUTTON",{type:"button",title:t.title||"Print",click:function(){this.print()}.bind(this),parent:e})),this.set("immediate",t.immediate),this.set("imageType",t.imageType||"image/jpeg"),this.set("quality",t.quality||.8),this.set("orientation",t.orientation)}toClipboard(t,e){try{t.canvas.toBlob((function(t){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},t.type,{value:t,enumerable:!0}))]),"function"==typeof e&&e(!0)}catch(Gr){"function"==typeof e&&e(!1)}}))}catch(Gr){"function"==typeof e&&e(!1)}}copyMap(t,e){this.once("print",function(t){this.toClipboard(t,e)}.bind(this)),this.print(t)}_getCanvas(t,e,i){var n;if(t.context)i=t.context.canvas;else{if(i)n=i.getContext("2d");else{i=document.createElement("canvas");var o=this.getMap().getSize();i.width=o[0],i.height=o[1],n=i.getContext("2d"),/jp.*g$/.test(e)&&(n.fillStyle=this.get("bgColor")||"white",n.fillRect(0,0,i.width,i.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach(function(t){if(t.width){if(n.save(),"0"===t.parentNode.style.opacity)return;n.globalAlpha=parseFloat(t.parentNode.style.opacity)||1,n.globalCompositeOperation=IN.getStyle(t.parentNode,"mix-blend-mode"),n.filter=IN.getStyle(t.parentNode,"filter");var e=IN.getStyle(t,"transform")||IN.getStyle(t,"-webkit-transform");/^matrix/.test(e)?((e=e.replace(/^matrix\(|\)$/g,"").split(",")).forEach((function(t,i){e[i]=parseFloat(t)})),n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n.drawImage(t,0,0)):n.drawImage(t,0,0,IN.getStyle(t,"width"),IN.getStyle(t,"height")),n.restore()}}.bind(this))}return i}fastPrint(t,e){t=t||{},this._ol6?requestAnimationFrame(function(){e(this._getCanvas({},t.imageType,t.canvas))}.bind(this)):(this.getMap().once("postcompose",function(i){i.context||(this._ol6=!0),e(this._getCanvas(i,t.imageType,t.canvas))}.bind(this)),this.getMap().render())}print(t){var e=(t=t||{}).imageType||this.get("imageType"),i=t.quality||this.get("quality");if(this.getMap()){if("silent"!==t.immediate&&this.dispatchEvent(Object.assign({type:"printing"},t)),!t.immediate)return void setTimeout(function(){(t=Object.assign({},t)).immediate="silent",this.print(t)}.bind(this),200);this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",function(n){var o,r,s,a,l=this._getCanvas(n,e),c=t.size||[210,297],h=t.format||"a4",A=t.orient||this.get("orientation"),u="number"==typeof t.margin?t.margin:10;if(l){"landscape"!==A&&"portrait"!==A&&(A=l.width>l.height?"landscape":"portrait"),"landscape"===A&&(c=[c[1],c[0]]);var d=Math.min((c[0]-2*u)/l.width,(c[1]-2*u)/l.height);o=d*l.width,r=d*l.height,s=[(c[0]-o)/2,(c[1]-r)/2]}try{a=l?l.toDataURL(e,i):null}catch(p){return void this.dispatchEvent({type:"error",canvas:l})}var p=Object.assign({type:"print",print:{format:h,orientation:A,unit:"mm",size:c,position:s,imageWidth:o,imageHeight:r},image:a,imageType:e,quality:i,canvas:l},t);this.dispatchEvent(p)}.bind(this)),this.getMap().render()}}},nO=class extends tO{constructor(t){t=t||{},super({element:IN.create("DIV",{className:(t.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}}),style:t.style}),this.setTitle(t.title||""),this.setVisible(!1!==t.visible),this.element.style.font=this.getTextFont()}setStyle(t){super.setStyle(t),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()}setTitle(t){if(this.element.textContent=t,this.set("title",t),this.getMap())try{this.getMap().renderSync()}catch(e){}}getTitle(){return this.get("title")}setVisible(t){if(this.element.style.display=t?"block":"none",this.getMap())try{this.getMap().renderSync()}catch(e){}}getVisible(){return"none"!==this.element.style.display}_draw(t){if(this.getVisible()){var e=this.getContext(t);if(e){var i=t.frameState.pixelRatio;e.save(),e.scale(i,i);var n=this.element.getBoundingClientRect(),o=this.getMap().getViewport().getBoundingClientRect(),r=this.getMap().getSize()[0]/o.width;e.translate(Math.round((n.left-o.left)*r),Math.round((n.top-o.top)*r));var s=this.element.clientHeight,a=this.element.clientWidth,l=a/2;e.beginPath(),e.fillStyle=b_(this.getFill().getColor()),e.rect(0,0,a,s),e.fill(),e.closePath(),e.beginPath(),e.fillStyle=b_(this.getTextFill().getColor()),e.strokeStyle=b_(this.getTextStroke().getColor()),e.lineWidth=this.getTextStroke().getWidth(),e.textAlign="center",e.textBaseline="middle",e.font=this.getTextFont(),e.lineJoin="round",e.lineWidth&&e.strokeText(this.getTitle(),l,s/2),e.fillText(this.getTitle(),l,s/2),e.closePath(),e.restore()}}}},oO=function(t,e){var i=t.getView(),n=i.getProjection(),o=i.getCenter(),r=t.getPixelFromCoordinate(o);r[1]+=1;var s=t.getCoordinateFromPixel(r),a=fy(My(o,n,"EPSG:4326"),My(s,n,"EPSG:4326"));return a*=96/.0254},rO=class extends tO{constructor(t){t=t||{};var e=document.createElement("div");e.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(t.className?" "+t.className:""),e.style.position="absolute",e.style.visibility="hidden";var i=t.style instanceof IC?new MC({stroke:t.style}):t.style;t.style||(i=new MC({stroke:new IC({width:0})})),super({element:e,style:i}),this.set("rotateVithView",!1!==t.rotateWithView),this.setVisible(!1!==t.visible),this.setImage(t.image||t.src)}setImage(t){if(t instanceof Image)this.img_=t,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch(t){}}.bind(this);else if("string"==typeof t)switch(t){case"compact":this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break;case"default":this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break;default:this.img_=new Image,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch(t){}}.bind(this),this.img_.src=t}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())}compactCompass_(t,e){var i=document.createElement("canvas"),n=i.getContext("2d"),o=(t=i.width=i.height=t||150)/2;return n.translate(o,o),n.fillStyle=e||"#963",n.lineWidth=5,n.lineJoin=n.lineCap="round",n.font="bold "+.4*o+"px sans-serif",n.textBaseline="bottom",n.textAlign="center",n.strokeStyle="#fff",n.globalAlpha=.75,n.strokeText("N",0,-o/2),n.globalAlpha=1,n.fillText("N",0,-o/2),n.beginPath(),n.moveTo(0,o/4),n.lineTo(o/3,o/2),n.lineTo(0,-o/2),n.lineTo(-o/3,o/2),n.lineTo(0,o/4),n.lineWidth=12,n.fillStyle="#fff",n.globalAlpha=.75,n.fill(),n.stroke(),n.globalAlpha=1,n.fillStyle=n.strokeStyle=e||"#963",n.lineWidth=5,n.beginPath(),n.moveTo(0,o/4),n.lineTo(0,-o/2),n.lineTo(o/3,o/2),n.lineTo(0,o/4),n.fill(),n.stroke(),n.beginPath(),n.moveTo(0,o/4),n.lineTo(0,-o/2),n.lineTo(-o/3,o/2),n.lineTo(0,o/4),n.stroke(),i}defaultCompass_(t,e){var i=document.createElement("canvas"),n=i.getContext("2d"),o=(t=i.width=i.height=t||150)/2,r=.22*o;function s(t,i){n.fillStyle=e||"#963",n.beginPath(),n.moveTo(0,0),n.lineTo(t,0),n.lineTo(i,i),n.moveTo(0,0),n.lineTo(-t,0),n.lineTo(-i,-i),n.moveTo(0,0),n.lineTo(0,t),n.lineTo(-i,i),n.moveTo(0,0),n.lineTo(0,-t),n.lineTo(i,-i),n.moveTo(0,0),n.fill(),n.stroke()}function a(t,e){n.globalCompositeOperation="destination-out",n.fillStyle="#fff",n.beginPath(),n.moveTo(0,0),n.lineTo(t,0),n.lineTo(e,-e),n.moveTo(0,0),n.lineTo(-t,0),n.lineTo(-e,e),n.moveTo(0,0),n.lineTo(0,t),n.lineTo(e,e),n.moveTo(0,0),n.lineTo(0,-t),n.lineTo(-e,-e),n.moveTo(0,0),n.fill(),n.globalCompositeOperation="source-over",n.beginPath(),n.moveTo(0,0),n.lineTo(t,0),n.lineTo(e,-e),n.moveTo(0,0),n.lineTo(-t,0),n.lineTo(-e,e),n.moveTo(0,0),n.lineTo(0,t),n.lineTo(e,e),n.moveTo(0,0),n.lineTo(0,-t),n.lineTo(-e,-e),n.moveTo(0,0),n.stroke()}return n.translate(o,o),n.strokeStyle=e||"#963",n.lineWidth=1.5,n.beginPath(),n.arc(0,0,.41*t,0,2*Math.PI),n.arc(0,0,.44*t,0,2*Math.PI),n.stroke(),n.rotate(Math.PI/4),s(.9*o,.8*r),a(.9*o,.8*r),n.rotate(-Math.PI/4),s(o,r),a(o,r),i}getVisible(){return"block"===IN.getStyle(this.element,"display")}setVisible(t){t?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()}_draw(t){var e=this.getContext(t);if(e&&this.getVisible()){var i,n=e.canvas,o=[];for(i=0;i<8;i++)o[i]=[Math.cos(Math.PI*i/8),Math.sin(Math.PI*i/8)];var r=t.frameState.pixelRatio;e.save(),e.scale(r,r);var s=this.element.clientWidth,a=this.element.clientHeight,l=this.element.offsetLeft,c=this.element.offsetTop,h=this.img_,A=t.frameState.viewState.rotation;if(e.beginPath(),e.translate(l+s/2,c+a/2),this.get("rotateVithView")&&e.rotate(A),this.getStroke().getWidth()){e.beginPath(),e.strokeStyle=this.getStroke().getColor(),e.lineWidth=this.getStroke().getWidth();var u=Math.max(n.width,n.height);for(i=0;i<8;i++)e.moveTo(-o[i][0]*u,-o[i][1]*u),e.lineTo(o[i][0]*u,o[i][1]*u);e.stroke()}h.width&&e.drawImage(h,-s/2,-a/2,s,a),e.closePath(),e.restore()}}},sO=class extends wS{constructor(t){t=t||{};var e=IN.create("DIV",{className:(t.className||"ol-print")+" ol-unselectable ol-control"});super({element:e}),this._lang=t.lang||"en",t.target||IN.create("BUTTON",{type:"button",title:t.title||"Print",click:function(){this.print()}.bind(this),parent:e}),t.openWindow&&this.on("print",(function(t){t.canvas&&window.open().document.write('<img src="'+t.canvas.toDataURL()+'"/>')})),t.target=IN.create("DIV");var i=this._printCtrl=new iO(t);i.on(["print","error","printing"],function(t){this._printing(t)}.bind(this)),this._compass=new rO({src:t.northImage||"compact",visible:!1,className:"olext-print-compass",style:new IC({color:"#333",width:0})});var n=this._printDialog=new JN({target:t.targetDialog||document.body,closeBox:!0,className:"ol-ext-print-dialog"}),o=n.getContentElement();this._input={};var r=IN.create("DIV",{className:"ol-print-param",parent:o});this._pages=[IN.create("DIV",{className:"ol-page"})];var s=IN.create("DIV",{className:"ol-map",parent:this._pages[0]});IN.create("DIV",{html:this._pages[0],className:"ol-print-map",parent:o}),IN.create("H2",{html:this.i18n("title"),parent:r});var a=IN.create("UL",{parent:r}),l=IN.create("LI",{className:"ol-orientation",parent:a});this._input.orientation={list:l};var c,h=IN.create("LABEL",{className:"portrait",parent:l});this._input.orientation.portrait=IN.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:function(t){this.setOrientation(t.target.value)}.bind(this)},parent:h}),IN.create("SPAN",{html:this.i18n("portrait"),parent:h}),h=IN.create("LABEL",{className:"landscape",parent:l}),this._input.orientation.landscape=IN.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:function(t){this.setOrientation(t.target.value)}.bind(this)},parent:h}),IN.create("SPAN",{html:this.i18n("landscape"),parent:h}),l=IN.create("LI",{html:IN.create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:a});var A=this._input.size=IN.create("SELECT",{on:{change:function(){this.setSize(A.value||_)}.bind(this)},parent:l});for(c in this.paperSize)IN.create("OPTION",{html:c+(this.paperSize[c]?" - "+this.paperSize[c][0]+"x"+this.paperSize[c][1]+" mm":this.i18n("custom")),value:c,parent:A});l=IN.create("LI",{html:IN.create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:a});var u=this._input.margin=IN.create("SELECT",{on:{change:function(){this.setMargin(u.value)}.bind(this)},parent:l});for(c in this.marginSize)IN.create("OPTION",{html:this.i18n(c)+" - "+this.marginSize[c]+" mm",value:this.marginSize[c],parent:u});l=IN.create("LI",{html:IN.create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:a});var d=this._input.scale=IN.create("SELECT",{on:{change:function(){this.setScale(parseInt(d.value))}.bind(this)},parent:l});Object.keys(this.scales).forEach(function(t){IN.create("OPTION",{html:this.scales[t],value:t,parent:d})}.bind(this)),l=IN.create("LI",{className:"ol-legend",parent:a});var p=IN.createSwitch({html:this.i18n("legend"),checked:!1,on:{change:function(){S.legend.control.setCanvas(p.checked)}.bind(this)},parent:l});l=IN.create("LI",{className:"ol-print-north",parent:a});var g=this._input.north=IN.createSwitch({html:this.i18n("north"),checked:"checked",on:{change:function(){g.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}.bind(this)},parent:l});l=IN.create("LI",{className:"ol-print-title",parent:a});var f=IN.createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:function(t){S.title.control.setVisible(t.target.checked)}.bind(this)},parent:l}),m=IN.create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(t){13===t.keyCode&&t.preventDefault()},keyup:function(){S.title.control.setTitle(m.value)},change:function(){S.title.control.setTitle(m.value)}.bind(this)},parent:l}),b=IN.create("DIV",{className:"ol-user-param",parent:r});l=IN.create("LI",{className:"ol-saveas",parent:a}),IN.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:l});var v=IN.create("SELECT",{on:{change:function(){var t=v.value;if(v.value="",!this.formats[t].clipboard||!this._copyMap(t)){var e="string"==typeof this.getSize()?this.getSize():null,n=Object.assign({format:e,size:e?this.paperSize[e]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[t]);i.print(n)}}.bind(this)},parent:l});IN.create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:v}),this.formats.forEach(function(e,i){if(e.pdf){if(!1===t.pdf)return}else if(e.clipboard){if(!1===t.copy)return}else if(!1===t.save)return;IN.create("OPTION",{html:this.i18n(e.title),value:i,parent:v})}.bind(this)),1===v.querySelectorAll("option").length&&(v.style.display="none"),l=IN.create("LI",{className:"ol-savelegend",parent:a});var y=IN.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:l}),w=IN.create("SELECT",{on:{change:function(){var t=S.legend.control.getLegend().getCanvas(),e=document.createElement("CANVAS");e.width=t.width,e.height=t.height;var i,n=e.getContext("2d");if(n.fillStyle="#fff",n.fillRect(0,0,e.width,e.height),n.drawImage(t,0,0),this.formats[w.value].clipboard)e.toBlob((function(t){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},t.type,{value:t,enumerable:!0}))]),y.classList.add("visible"),setTimeout((function(){y.classList.remove("visible")}),1e3)}catch(Gr){}}),"image/png");else try{i=e.toDataURL(this.formats[w.value].imageType,this.formats[w.value].quality);var o="string"==typeof this.getSize()?this.getSize():"A4",r=e.width/96*25.4,s=e.height/96*25.4,a=this.paperSize[o];"landscape"===this.getOrientation()&&(a=[a[1],a[0]]);var l=[(a[0]-r)/2,(a[1]-s)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:o,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[o],position:l,imageWidth:r,imageHeight:s},image:i,imageType:this.formats[w.value].imageType,pdf:this.formats[w.value].pdf,quality:this.formats[w.value].quality,canvas:e})}catch(Gr){}w.value=""}.bind(this)},parent:l});IN.create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:w}),this.formats.forEach(function(t,e){IN.create("OPTION",{html:this.i18n(t.title),value:e,parent:w})}.bind(this));var x,_,C,B=IN.create("DIV",{className:"ol-ext-buttons",parent:r});IN.create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(t){t.preventDefault(),window.print()},parent:B}),IN.create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){n.hide()},parent:B}),IN.create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:r});var S={};n.on("show",function(){this.dispatchEvent({type:"show",userElement:b,dialog:this._printDialog,page:this.getPage()});var t=this.getMap();t&&(document.body.classList.add("ol-print-document"),x=t.getTargetElement(),_=t.getSize(),"string"==typeof this.getSize()?this.setSize(this.getSize()):this.setSize(_),t.setTarget(s),C&&mb(C),C=t.on("moveend",function(){this.setScale(oO(t))}.bind(this)),this.setScale(oO(t)),S={},this.getMap().getControls().forEach(function(t){t instanceof eO&&(S.legend={control:t}),t instanceof nO&&(S.title={control:t}),t instanceof rO&&(S.compass?t.element.classList.remove("ol-print-compass"):(this._input.north.checked?t.element.classList.add("ol-print-compass"):t.element.classList.remove("ol-print-compass"),this._compass=t,S.compass={control:t}))}.bind(this)),S.title?(f.checked=S.title.isVisible=S.title.control.getVisible(),m.value=S.title.control.getTitle(),f.parentNode.parentNode.classList.remove("hidden")):f.parentNode.parentNode.classList.add("hidden"),S.legend?(S.legend.ison=S.legend.control.onCanvas(),S.legend.collapsed=S.legend.control.isCollapsed(),S.legend.control.collapse(!1),w.parentNode.classList.remove("hidden"),p.parentNode.parentNode.classList.remove("hidden"),p.checked=!S.legend.collapsed,S.legend.control.setCanvas(!S.legend.collapsed)):(w.parentNode.classList.add("hidden"),p.parentNode.parentNode.classList.add("hidden")))}.bind(this)),n.on("hide",function(){document.body.classList.remove("ol-print-document"),x&&(this.getMap().setTarget(x),x=null,C&&mb(C),S.title&&S.title.control.setVisible(S.title.isVisible),S.legend&&(S.legend.control.setCanvas(S.legend.ison),S.legend.control.collapse(S.legend.collapsed)),this.dispatchEvent({type:"hide"}))}.bind(this)),window.addEventListener("resize",function(){this.setSize()}.bind(this)),t.saveAs&&this.on("print",(function(e){e.pdf||e.canvas.toBlob((function(i){var n=(e.print.legend?"legend.":"map.")+e.imageType.replace("image/","");t.saveAs(i,n)}),e.imageType,e.quality)})),t.jsPDF&&this.on("print",(function(e){if(e.pdf){var i=new t.jsPDF({orientation:e.print.orientation,unit:e.print.unit,format:e.print.size});i.addImage(e.image,"JPEG",e.print.position[0],e.print.position[0],e.print.imageWidth,e.print.imageHeight),i.save(e.print.legend?"legend.pdf":"map.pdf")}}))}static addLang(t,e){sO.prototype._labels[t]=e}isOpen(){return this._printDialog.isOpen()}i18n(t){var e=this._labels.en[t]||t;return this._labels[this._lang]&&this._labels[this._lang][t]&&(e=this._labels[this._lang][t]),e}getOrientation(){return this._orientation||"portrait"}setOrientation(t){this._orientation="landscape"===t?"landscape":"portrait",this._printDialog.element.dataset.orientation=this._orientation,this._input.orientation[this._orientation].checked=!0,this.setSize()}getMargin(){return this._margin||0}setMargin(t){this._margin=t,this._input.margin.value=t,this.setSize()}getSize(){return this._size}setSize(t){if(this._printDialog.getContentElement().dataset.status="",t?this._size=t:t=this._size,t){if("string"==typeof t){for(var e in this.paperSize)e&&new RegExp(e,"i").test(t)&&(t=e);this.paperSize[t]||(t=this._size="A4"),this._input.size.value=t,t=[Math.trunc(96*this.paperSize[t][0]/25.4),Math.trunc(96*this.paperSize[t][1]/25.4)],"landscape"===this.getOrientation()&&(t=[t[1],t[0]]),this.getPage().classList.remove("margin")}else this._input.size.value="",this.getPage().classList.add("margin");var i=this.getPage(),n=i.parentNode.getBoundingClientRect(),o=(n.width-40)/t[0],r=(n.height-40)/t[1],s=Math.min(o,r,1);i.style.width=t[0]+"px",i.style.height=t[1]+"px",i.style["-webkit-transform"]=i.style.transform="translate(-50%,-50%) scale("+s+")";var a=Math.round(5/s);i.style["-webkit-box-shadow"]=i.style["box-shadow"]=a+"px "+a+"px "+a+"px rgba(0,0,0,.6)",i.style.padding=96*this.getMargin()/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}}_printing(t){this._printDialog.getContentElement().dataset.status=t.type,t.clipboard||this.dispatchEvent(t)}_copyMap(t){var e=this._printDialog.element.querySelector(".ol-clipboard-copy");return this._printCtrl.copyMap(this.formats[t],(function(t){t&&(e.classList.add("visible"),setTimeout((function(){e.classList.remove("visible")}),1e3))})),!0}getContentElement(){return this._printDialog.getContentElement()}getUserElement(){return this._printDialog.getContentElement().querySelector(".ol-user-param")}getPage(){return this._pages[0]}setMap(t){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),super.setMap(t),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))}setScale(t){!function(t,e,i){if(t&&e){var n=e;if("string"==typeof e&&((n=(e=e.replace(":","/").split("/"))[1])||(n=e[0]||""),n=n.replace(/[^\d]/g,""),n=parseInt(n),e[1])){var o=parseInt(e[0]);o&&(n/=o)}if(!n)return;var r=t.getView(),s=r.getProjection(),a=r.getCenter(),l=t.getPixelFromCoordinate(a);l[1]+=1;var c=t.getCoordinateFromPixel(l),h=fy(My(a,s,"EPSG:4326"),My(c,s,"EPSG:4326"));h*=96/.0254,r.setResolution(r.getResolution()*n/h)}}(this.getMap(),t),this._input.scale.value=" "+100*Math.round(t/100)}getScale(){return oO(this.getMap())}print(t){(t=t||{}).size&&this.setSize(t.size),t.scale&&this.setScale(t.scale),t.orientation&&this.setOrientation(t.orientation),t.margin&&this.setMargin(t.margin),this._printDialog.show()}getPrintControl(){return this._printCtrl}};sO.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:" Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",clipboardFormat:"copy to clipboard...",jpegFormat:"save as jpeg",pngFormat:"save as png",pdfFormat:"save as pdf",none:"none",small:"small",large:"large",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille cran",margin:"Marges",scale:"Echelle",legend:"Lgende",north:"Flche du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la lgende...",copied:" Carte copie",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",clipboardFormat:"copier dans le presse-papier...",jpegFormat:"enregistrer un jpeg",pngFormat:"enregistrer un png",pdfFormat:"enregistrer un pdf",none:"aucune",small:"petites",large:"larges",cancel:"annuler"},de:{title:"Drucken",orientation:"Ausrichtung",portrait:"Hochformat",landscape:"Querformat",size:"Papierformat",custom:"Bildschirmgre",margin:"Rand",scale:"Mastab",legend:"Legende",north:"Nordpfeil",mapTitle:"Kartentitel",saveas:"Speichern als...",saveLegend:"Legende speichern...",copied:" In die Zwischenablage kopiert",errorMsg:"Kann Karte nicht speichern...",printBt:"Drucken...",clipboardFormat:"in die Zwischenablage kopieren...",jpegFormat:"speichern als jpeg",pngFormat:"speichern als png",pdfFormat:"speichern als pdf",none:"kein",small:"klein",large:"gro",cancel:"abbrechen"},zh:{title:"",orientation:"",portrait:"",landscape:"",size:"",custom:"",margin:"",scale:"",legend:"",north:"",mapTitle:"",saveas:"...",saveLegend:"...",copied:" ",errorMsg:"...",printBt:"...",cancel:""}},sO.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],"US Letter":[215.9,279.4],A5:[148,210],B4:[257,364],B5:[182,257]},sO.prototype.marginSize={none:0,small:5,large:10},sO.prototype.formats=[{title:"clipboardFormat",imageType:"image/png",clipboard:!0},{title:"jpegFormat",imageType:"image/jpeg",quality:.8},{title:"pngFormat",imageType:"image/png",quality:.8},{title:"pdfFormat",imageType:"image/jpeg",pdf:!0}],sO.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"};var aO,lO=function(t,e){var i=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(i*i+n*n)},cO=function(t,e){return t[0]==e[0]&&t[1]==e[1]};!function(){function t(t,e){var i;for(let n=t.length-1;n>0;n--)(t[n][0]>e&&t[n-1][0]<e||t[n][0]<e&&t[n-1][0]>e)&&(i=[e,(e-t[n][0])/(t[n-1][0]-t[n][0])*(t[n-1][1]-t[n][1])+t[n][1]],t.splice(n,0,i))}function e(t,e){var i;for(let n=t.length-1;n>0;n--)(t[n][1]>e&&t[n-1][1]<e||t[n][1]<e&&t[n-1][1]>e)&&(i=[(e-t[n][1])/(t[n-1][1]-t[n][1])*(t[n-1][0]-t[n][0])+t[n][0],e],t.splice(n,0,i))}aO=function(i,n){var o="Polygon"===n.getType();if(!o&&"MultiPolygon"!==n.getType())return null;var r=n.getCoordinates();return o&&(r=[r]),r.forEach((function(n){n.forEach((function(n){t(n,i[0]),t(n,i[2]),e(n,i[1]),e(n,i[3])}))})),r.forEach((function(t){t.forEach((function(t){t.forEach((function(t){t[0]<i[0]?t[0]=i[0]:t[0]>i[2]&&(t[0]=i[2]),t[1]<i[1]?t[1]=i[1]:t[1]>i[3]&&(t[1]=i[3])}))}))})),o?new Pw(r[0]):new _k(r)}}();var hO=function(t,e,i,n){var o=[];!1!==n&&o.push(t);var r=lO(t,e);if(r){var s=Math.round(r/i);if(s>1)for(var a=(e[0]-t[0])/s,l=(e[1]-t[1])/s,c=1;c<s;c++)o.push([t[0]+a*c,t[1]+l*c])}return o.push(e),o};vk.prototype.sampleAt=function(t){for(var e=this.getCoordinates(),i=[],n=1;n<e.length;n++)i=i.concat(hO(e[n-1],e[n],t,1===n));return new vk(i)},yk.prototype.sampleAt=function(t){var e=this.getCoordinates(),i=[];return e.forEach((function(e){for(var n=[],o=1;o<e.length;o++)n=n.concat(hO(e[o-1],e[o],t,1===o));i.push(n)})),new yk(i)},Pw.prototype.sampleAt=function(t){var e=this.getCoordinates(),i=[];return e.forEach((function(e){for(var n=[],o=1;o<e.length;o++)n=n.concat(hO(e[o-1],e[o],t,1===o));i.push(n)})),new Pw(i)},_k.prototype.sampleAt=function(t){var e=this.getCoordinates(),i=[];return e.forEach((function(e){var n=[];i.push(n),e.forEach((function(e){for(var i=[],o=1;o<e.length;o++)i=i.concat(hO(e[o-1],e[o],t,1===o));n.push(i)}))})),new _k(i)},uk.prototype.intersection=function(t,e){if(t.sampleAt){var i=Ub(this.getCenter().concat(this.getCenter()),this.getRadius());t=(t=aO(i,t)).simplify(e);var n=this.getCenter(),o=this.getRadius(),r=t.sampleAt(e).getCoordinates();switch(t.getType()){case"Polygon":r=[r];case"MultiPolygon":var s=!1,a=[];return r.forEach((function(t){var e=[];a.push(e),t.forEach((function(t){var i=[];e.push(i),t.forEach((function(t){var e=lO(n,t);e>o?(s=!0,i.push([n[0]+o/e*(t[0]-n[0]),n[1]+o/e*(t[1]-n[1])])):i.push(t)}))}))})),s?"Polygon"===t.getType()?new Pw(a[0]):new _k(a):t}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+t.getType());return t};var AO=class extends wS{constructor(t){t=t||{};var e=document.createElement("div");super({element:e,target:t.target});var i=this;if(this.info=t.info||AO.prototype.info,t.target)e.classList.add(t.className||"ol-profile");else{e.className=((t.className||"ol-profile")+" ol-unselectable ol-control ol-collapsed").trim(),this.button=document.createElement("button"),this.button.title=t.title||"Profile",this.button.setAttribute("type","button");var n=function(t){i.toggle(),t.preventDefault()};this.button.addEventListener("click",n),this.button.addEventListener("touchstart",n),e.appendChild(this.button),IN.create("I",{parent:this.button})}t.style instanceof MC?this._style=t.style:this._style=new MC({text:new QC,stroke:new IC({width:1.5,color:"#369"})}),this._style.getText()||this._style.setText(new QC),t.selectStyle instanceof MC?this._selectStyle=t.selectStyle:this._selectStyle=new MC({fill:new LC({color:"#369"})});var o=document.createElement("div");o.classList.add("ol-inner"),e.appendChild(o);var r=document.createElement("div");r.style.position="relative",o.appendChild(r);var s=this.ratio=2;this.canvas_=document.createElement("canvas"),this.canvas_.width=(t.width||300)*s,this.canvas_.height=(t.height||150)*s;var a={msTransform:"scale(0.5,0.5)",msTransformOrigin:"0 0",webkitTransform:"scale(0.5,0.5)",webkitTransformOrigin:"0 0",mozTransform:"scale(0.5,0.5)",mozTransformOrigin:"0 0",transform:"scale(0.5,0.5)",transformOrigin:"0 0"};Object.keys(a).forEach((function(t){t in i.canvas_.style&&(i.canvas_.style[t]=a[t])}));var l=document.createElement("div");r.appendChild(l),l.style.width=this.canvas_.width/s+"px",l.style.height=this.canvas_.height/s+"px",l.appendChild(this.canvas_),l.addEventListener("pointerdown",this.onMove.bind(this)),document.addEventListener("pointerup",this.onMove.bind(this)),l.addEventListener("mousemove",this.onMove.bind(this)),l.addEventListener("touchmove",this.onMove.bind(this)),this.set("selectable",t.selectable),this.margin_={top:10*s,left:45*s,bottom:30*s,right:10*s},this.info.ytitle||(this.margin_.left-=20*s),this.info.xtitle||(this.margin_.bottom-=20*s),this.bar_=document.createElement("div"),this.bar_.classList.add("ol-profilebar"),this.bar_.style.top=this.margin_.top/s+"px",this.bar_.style.height=(this.canvas_.height-this.margin_.top-this.margin_.bottom)/s+"px",r.appendChild(this.bar_),this.cursor_=document.createElement("div"),this.cursor_.classList.add("ol-profilecursor"),r.appendChild(this.cursor_),this.popup_=document.createElement("div"),this.popup_.classList.add("ol-profilepopup"),this.cursor_.appendChild(this.popup_);var c=document.createElement("table");c.cellPadding="0",c.cellSpacing="0",c.style.clientWidth=this.canvas_.width/s+"px",r.appendChild(c);var h=document.createElement("tr");h.classList.add("track-info"),c.appendChild(h);var A=document.createElement("td");A.innerHTML=(this.info.zmin||"Zmin")+': <span class="zmin">',h.appendChild(A);var u=document.createElement("td");u.innerHTML=(this.info.zmax||"Zmax")+': <span class="zmax">',h.appendChild(u);var d=document.createElement("td");d.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',h.appendChild(d);var p=document.createElement("td");p.innerHTML=(this.info.time||"Time")+': <span class="time">',h.appendChild(p);var g=document.createElement("tr");g.classList.add("point-info"),c.appendChild(g);var f=document.createElement("td");f.innerHTML=(this.info.altitude||"Altitude")+': <span class="z">',g.appendChild(f);var m=document.createElement("td");m.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',g.appendChild(m);var b,v,y=document.createElement("td");(y.innerHTML=(this.info.time||"Time")+': <span class="time">',g.appendChild(y),this.tab_=[],t.feature&&this.setGeometry(t.feature),t.zoomable)&&(this.set("selectable",!0),this.on("change:geometry",(function(){v=null})),this.on("dragstart",(function(t){b=t.index})),this.on("dragend",function(t){if(Math.abs(b-t.index)>10){if(!v)var i=IN.create("BUTTON",{parent:e,className:"ol-zoom-out",click:function(t){t.stopPropagation(),t.preventDefault(),v&&(this.dispatchEvent({type:"zoom"}),this.setGeometry(v,this._geometry[1])),e.removeChild(i)}.bind(this)});var n=v||this._geometry[0],o=new vk(this.getSelection(b,t.index));this.setGeometry(o,this._geometry[1]),v=n,this.dispatchEvent({type:"zoom",geometry:o,start:b,end:t.index})}}.bind(this)))}popup(t){this.popup_.innerHTML=t}_drawAt(t,e){t?(this.cursor_.style.left=e+"px",this.cursor_.style.top=(this.canvas_.height-this.margin_.bottom+t[1]*this.scale_[1]+this.dy_)/this.ratio+"px",this.cursor_.style.display="block",this.bar_.parentElement.classList.add("over"),this.bar_.style.left=e+"px",this.bar_.style.display="block",this.element.querySelector(".point-info .z").textContent=t[1]+this.info.altitudeUnits,this.element.querySelector(".point-info .dist").textContent=(t[0]/1e3).toFixed(1)+this.info.distanceUnitsKM,this.element.querySelector(".point-info .time").textContent=t[2],e>this.canvas_.width/this.ratio/2?this.popup_.classList.add("ol-left"):this.popup_.classList.remove("ol-left")):(this.cursor_.style.display="none",this.bar_.style.display="none",this.cursor_.style.display="none",this.bar_.parentElement.classList.remove("over"))}showAt(t){var e,i,n,o=1/0;if(void 0===t)this.bar_.parentElement.classList.contains("over")&&this._drawAt();else if(t.length)for(e=1;i=this.tab_[e];e++){var r=lO(i[3],t);r<o&&(n=i,o=r)}else for(e=0;(i=this.tab_[e])&&(n=i,!(i[0]>=t));e++);if(n){var s=(n[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(n,s),n[3]}return null}showAtTime(t,e){var i,n,o;if(t instanceof Date?t=t.getTime()/1e3:e&&(t+=this.tab_[0][3][3]),void 0===t)this.bar_.parentElement.classList.contains("over")&&this._drawAt();else for(i=0;(n=this.tab_[i])&&(o=n,!(n[3][3]>=t));i++);if(o){var r=(o[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(o,r),o[3]}return null}pointAtTime(t){var e,i;for(e=1;i=this.tab_[e];e++){var n=i[3][3];if(n>=t){var o=this.tab_[e-1][3];return(o[3]+n)/2<t?o:i}}return this.tab_[this.tab_.length-1][3]}onMove(t){if(this.tab_.length){var e=this.canvas_.getBoundingClientRect(),i=e.top+window.pageYOffset-document.documentElement.clientTop,n=e.left+window.pageXOffset-document.documentElement.clientLeft,o=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX,r=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY,s=o-n,a=r-i,l=this.ratio;if(s>this.margin_.left/l-20&&s<(this.canvas_.width-this.margin_.right)/l+8&&a>this.margin_.top/l&&a<(this.canvas_.height-this.margin_.bottom)/l){var c,h,A=(s*l-this.margin_.left)/this.scale_[0],u=this.tab_[0];for(c=1;h=this.tab_[c];c++)if(h[0]>=A){A<(h[0]+u[0])/2&&(c=0,h=u);break}switch(h||(h=this.tab_[this.tab_.length-1]),s=Math.max(this.margin_.left/l,Math.min(s,(this.canvas_.width-this.margin_.right)/l)),this._drawAt(h,s),this.dispatchEvent({type:"over",click:"click"===t.type,index:c,coord:h[3],time:h[2],distance:h[0]}),t.type){case"pointerdown":this._dragging={event:{type:"dragstart",index:c,coord:h[3],time:h[2],distance:h[0]},pageX:o,pageY:r};break;case"pointerup":this._dragging&&this._dragging.pageX?Math.abs(this._dragging.pageX-o)<3&&Math.abs(this._dragging.pageY-r)<3&&(this.dispatchEvent({type:"click",index:c,coord:h[3],time:h[2],distance:h[0]}),this.refresh()):this.dispatchEvent({type:"dragend",index:c,coord:h[3],time:h[2],distance:h[0]}),this._dragging=!1;break;default:if(this._dragging)if(this._dragging.pageX)(Math.abs(this._dragging.pageX-o)>3||Math.abs(this._dragging.pageY-r)>3)&&(this._dragging.pageX=this._dragging.pageY=!1,this.dispatchEvent(this._dragging.event));else{this.dispatchEvent({type:"dragging",index:c,coord:h[3],time:h[2],distance:h[0]});var d=Math.min(this._dragging.event.index,c),p=Math.max(this._dragging.event.index,c);this.refresh(),this.get("selectable")&&this._drawGraph(this.tab_.slice(d,p),this._selectStyle)}}}else this.bar_.parentElement.classList.contains("over")&&(this._drawAt(),this.dispatchEvent({type:"out"})),"pointerup"===t.type&&this._dragging&&(this.dispatchEvent({type:"dragcancel"}),this._dragging=!1)}}show(){this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"show",show:!0})}hide(){this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"show",show:!1})}toggle(){this.element.classList.toggle("ol-collapsed");var t=this.element.classList.contains("ol-collapsed");this.dispatchEvent({type:"show",show:!t})}isShown(){return!this.element.classList.contains("ol-collapsed")}getSelection(t,e){for(var i=[],n=Math.max(Math.min(t,e),0),o=Math.min(Math.max(t,e),this.tab_.length-1),r=n;r<=o;r++)i.push(this.tab_[r][3]);return i}_drawGraph(t,e){if(t.length){var i,n,o=this.canvas_.getContext("2d"),r=this.scale_[0],s=this.scale_[1],a=this.dy_,l=this.ratio;for(o.beginPath(),i=0;n=t[i];i++)0==i?o.moveTo(n[0]*r,n[1]*s+a):o.lineTo(n[0]*r,n[1]*s+a);e.getStroke()&&(o.strokeStyle=e.getStroke().getColor()||"#000",o.lineWidth=e.getStroke().getWidth()*l,o.setLineDash([]),o.stroke()),e.getFill()&&(o.fillStyle=e.getFill().getColor()||"#000",o.Style=e.getFill().getColor()||"#000",o.lineTo(t[t.length-1][0]*r,0),o.lineTo(t[0][0]*r,0),o.fill())}}setGeometry(t,e){if(e||(e={}),t instanceof Cb&&(t=t.getGeometry()),this._geometry=[t,e],/Z/.test(t.getLayout())){/M/.test(t.getLayout())?this.element.querySelector(".time").parentElement.style.display="block":this.element.querySelector(".time").parentElement.style.display="none";var i=t.getCoordinates();switch(t.getType()){case"LineString":break;case"MultiLineString":i=i[0];break;default:return}var n,o,r,s,a,l=e.projection||this.getMap().getView().getProjection(),c=1/0,h=-1/0,A=this.tab_=[];for(n=0;o=i[n];n++)(s=o[2])<c&&(c=s),s>h&&(h=s),0==n?r=0:r+=u(i[n-1],o),a=d(i[0][3],o[3]),A.push([r,s,a,o]);this._z=[c,h],this.set("graduation",e.graduation||100),this.set("zmin",e.zmin),this.set("zmax",e.zmax),this.set("amplitude",e.amplitude),this.set("unit",e.unit),this.set("zunit",e.zunit),this.set("zDigits",e.zDigits),this.set("zMaxChars",e.zMaxChars),this.dispatchEvent({type:"change:geometry",geometry:t}),this.refresh()}function u(t,e){return fy(My(t,l,"EPSG:4326"),My(e,l,"EPSG:4326"))}function d(t,e){if(!t||!e)return"-";var i=(e-t)/60,n=Math.trunc(i/60),o=Math.trunc(i-60*n);return n+"h"+(o<10?"0":"")+o+"mn"}}refresh(){var t=this.canvas_,e=t.getContext("2d"),i=t.width,n=t.height;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,i,n);var o,r=this._z[0],s=this._z[1],a=this.tab_,l=a[a.length-1][0],c=a[a.length-1][2];if(l){e.setTransform(1,0,0,1,this.margin_.left,n-this.margin_.bottom);var h=this.ratio;i-=this.margin_.right+this.margin_.left,n-=this.margin_.top+this.margin_.bottom,e.strokeStyle=this._style.getText().getFill().getColor()||"#000",e.lineWidth=.5*h,e.beginPath(),e.moveTo(0,0),e.lineTo(0,-n),e.moveTo(0,0),e.lineTo(i,0),e.stroke(),this.element.querySelector(".track-info .zmin").textContent=r.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .zmax").textContent=s.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .dist").textContent=l>1e3?(l/1e3).toFixed(1)+this.info.distanceUnitsKM:l.toFixed(1)+this.info.distanceUnitsM,this.element.querySelector(".track-info .time").textContent=c;for(var A=this.get("graduation");;){if(!(n/(((s=Math.ceil(s/A)*A)-(r=Math.floor(r/A)*A))/A)<15*h))break;A*=2}"number"==typeof this.get("zmin")&&r>this.get("zmin")&&(r=this.get("zmin")),"number"==typeof this.get("zmax")&&s<this.get("zmax")&&(s=this.get("zmax"));var u=this.get("amplitude");u&&(s=Math.max(r+u,s));var d=i/l,p=-n/(s-r),g=this.dy_=-r*p;this.scale_=[d,p],this._drawGraph(a,this._style),e.textAlign="right",e.textBaseline="top",e.fillStyle=this._style.getText().getFill().getColor()||"#000",e.beginPath();var f,m=this.get("zDigits")||0,b=null;if("number"==typeof this.get("zMaxChars"))if(f="km"!=this.get("zunit")?Math.max(r.toFixed(m).length,s.toFixed(m).length):Math.max((r/1e3).toFixed(1).length,(s/1e3).toFixed(1).length),this.get("zMaxChars")<f){b=Math.floor(Math.log10(Math.max(Math.abs(r),Math.abs(s),Number.MIN_VALUE))),e.font="bold "+9*h+"px arial",e.fillText(b.toString(),-8*h,8*h);var v=e.measureText(b.toString()),y=v.width,w=v.actualBoundingBoxAscent+v.actualBoundingBoxDescent;e.font="bold "+12*h+"px arial",e.fillText("10",-8*h-y,8*h+.5*w)}for(e.font=10*h+"px arial",e.textBaseline="middle",o=r;o<=s;o+=A){if(null!==b){var x=o/Math.pow(10,b);"km"==this.get("zunit")&&(x/=1e3);var _=this.get("zMaxChars")-Math.floor(Math.log10(Math.max(Math.abs(x),1))+1)-1;x<0&&(_-=1),this.get("zunit"),e.fillText(x.toFixed(Math.max(_,0)),-4*h,o*p+g)}else"km"!=this.get("zunit")?e.fillText(o.toFixed(m),-4*h,o*p+g):e.fillText((o/1e3).toFixed(1),-4*h,o*p+g);e.moveTo(-2*h,o*p+g),0!=o?e.lineTo(l*d,o*p+g):e.lineTo(0,o*p+g)}e.textAlign="center",e.textBaseline="top",e.setLineDash([h,3*h]);var C,B=this.get("unit")||"km";for(l>1e3?(C=100*Math.round(l/1e3))>1e3&&(C=1e3*Math.ceil(C/1e3)):(B="m",C=l>100?10*Math.round(l/100):l>10?Math.round(l/10):l>1?Math.round(l)/10:l),o=0;o<=l;o+=C){var S="m"==B?o:o/1e3;e.fillText(Math.round(10*S)/10,o*d,4*h),e.moveTo(o*d,2*h),e.lineTo(o*d,0)}e.font=12*h+"px arial",e.fillText(this.info.xtitle.replace("(km)","("+B+")"),i/2,18*h),e.save(),e.rotate(-Math.PI/2),e.fillText(this.info.ytitle,n/2,-this.margin_.left),e.restore(),e.stroke()}else console.error("[ol/control/Profile] no data...",a)}getImage(t,e){return"canvas"===t?this.canvas_:this.canvas_.toDataURL(t,e)}};AO.prototype.info={zmin:"Zmin",zmax:"Zmax",ytitle:"Altitude (m)",xtitle:"Distance (km)",time:"Time",altitude:"Altitude",distance:"Distance",altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"};var uO=class extends wS{constructor(t){var e=((t=t||{}).className||"")+" ol-search"+(t.target?"":" ol-unselectable ol-control"),i=IN.create("DIV",{className:e});super({element:i,target:t.target});var n=this;if(null==t.typing&&(t.typing=300),this._classname=t.className||"search",!1!==t.collapsed&&i.classList.add("ol-collapsed"),t.target||(this.button=document.createElement("BUTTON"),this.button.setAttribute("type","button"),this.button.setAttribute("title",t.title||t.label||"Search"),this.button.addEventListener("click",(function(){if(i.classList.toggle("ol-collapsed"),!i.classList.contains("ol-collapsed")){i.querySelector("input.search").focus();for(var t=i.querySelectorAll("li"),e=0;e<t.length;e++)t[e].classList.remove("select");a.value||n.drawList_()}})),i.appendChild(this.button)),t.inputLabel){var o=document.createElement("LABEL");o.innerText=t.inputLabel,i.appendChild(o)}var r,s="",a=this._input=document.createElement("INPUT");a.setAttribute("type","search"),a.setAttribute("class","search"),a.setAttribute("autocomplete","off"),a.setAttribute("placeholder",t.placeholder||"Search..."),a.addEventListener("change",(function(t){n.dispatchEvent({type:"change:input",input:t,value:a.value})}));var l=function(e){var o=i.querySelector("ul.autocomplete li.select"),l=a.value;if("ArrowDown"==e.key||"ArrowUp"==e.key||"Down"==e.key||"Up"==e.key)o?(o.classList.remove("select"),(o=/Down/.test(e.key)?o.nextElementSibling:o.previousElementSibling)&&o.classList.add("select")):i.querySelector("ul.autocomplete li").classList.add("select");else if("input"!=e.type||l)if(!o||"search"!=e.type&&"Enter"!=e.key)if("search"==e.type||"Enter"==e.key||s!=l&&t.typing>=0)if(s=l){r&&clearTimeout(r);var c=n.get("minLength");r=setTimeout((function(){if(s.length>=c){var t=n.autocomplete(s,(function(t){n.drawList_(t)}));t&&n.drawList_(t)}else n.drawList_()}),t.typing)}else n.drawList_();else(o=i.querySelector("ul.autocomplete li"))&&o.classList.remove("select");else i.classList.contains("ol-control")&&a.blur(),o.classList.remove("select"),s=l,n._handleSelect(n._list[o.getAttribute("data-search")]);else setTimeout((function(){n.drawList_()}),200)};if(a.addEventListener("keyup",l),a.addEventListener("search",l),a.addEventListener("cut",l),a.addEventListener("paste",l),a.addEventListener("input",l),t.noCollapse||(a.addEventListener("blur",function(){setTimeout(function(){a!==document.activeElement&&(i.classList.add("ol-collapsed"),this.set("reverse",!1),i.classList.remove("ol-revers"))}.bind(this),200)}.bind(this)),a.addEventListener("focus",function(){this.get("reverse")||(i.classList.remove("ol-collapsed"),i.classList.remove("ol-revers"))}.bind(this))),i.appendChild(a),t.reverse){var c=IN.create("BUTTON",{type:"button",class:"ol-revers",title:t.reverseTitle||"click on the map",click:function(){this.get("reverse")?this.set("reverse",!1):(this.set("reverse",!this.get("reverse")),a.focus(),i.classList.add("ol-revers"))}.bind(this)});i.appendChild(c)}var h=document.createElement("UL");h.classList.add("autocomplete"),i.appendChild(h),"function"==typeof t.getTitle&&(this.getTitle=t.getTitle),"function"==typeof t.autocomplete&&(this.autocomplete=t.autocomplete),this.set("copy",t.copy),this.set("minLength",t.minLength||1),this.set("maxItems",t.maxItems||10),this.set("maxHistory",t.maxHistory||t.maxItems||10),t.onselect&&this.on("select",t.onselect),t.centerOnSelect&&this.on("select",function(t){var e=this.getMap();e&&e.getView().setCenter(t.coordinate)}.bind(this)),t.zoomOnSelect&&this.on("select",function(e){var i=this.getMap();i&&(i.getView().setCenter(e.coordinate),i.getView().getZoom()<t.zoomOnSelect&&i.getView().setZoom(t.zoomOnSelect))}.bind(this)),this.restoreHistory(),this.drawList_()}setMap(t){this._listener&&mb(this._listener),this._listener=null,super.setMap(t),t&&(this._listener=t.on("click",this._handleClick.bind(this)))}collapse(t){!1===t?this.element.classList.remove("ol-collapsed"):this.element.classList.add("ol-collapsed")}getInputField(){return this._input}getTitle(t){return t.name||"No title"}_getTitleTxt(t){return IN.create("DIV",{html:this.getTitle(t)}).innerText}search(){var t=this.element.querySelector("input.search");this._triggerCustomEvent("search",t)}_handleClick(t){this.get("reverse")&&(document.activeElement.blur(),this.reverseGeocode(t.coordinate))}reverseGeocode(){}_triggerCustomEvent(t,e){IN.dispatchEvent(t,e)}setInput(t,e){var i=this.element.querySelector("input.search");i.value=t,e&&this._triggerCustomEvent("keyup",i)}select(t,e,i,n){var o={type:"select",search:t,reverse:!!e,coordinate:i};if(n)for(var r in n)o[r]=n[r];this.dispatchEvent(o)}_handleSelect(t,e,i){if(t){var n,o=this.get("history");try{var r=JSON.stringify(t);for(n=o.length-1;n>=0;n--)o[n]&&JSON.stringify(o[n])!==r||o.splice(n,1)}catch(a){for(n=o.length-1;n>=0;n--)o[n]===t&&o.splice(n,1)}o.unshift(t);for(var s=Math.max(0,this.get("maxHistory")||10)||0;o.length>s;)o.pop();this.saveHistory(),this.select(t,e,null,i),e&&(this.setInput(this._getTitleTxt(t)),this.drawList_(),setTimeout(function(){this.collapse(!1)}.bind(this),300))}}saveHistory(){try{this.get("maxHistory")>=0?localStorage["ol@search-"+this._classname]=JSON.stringify(this.get("history")):localStorage.removeItem("ol@search-"+this._classname)}catch(t){console.warn("Failed to access localStorage...")}}restoreHistory(){if(this._history[this._classname])this.set("history",this._history[this._classname]);else try{this._history[this._classname]=JSON.parse(localStorage["ol@search-"+this._classname]),this.set("history",this._history[this._classname])}catch(t){this.set("history",[])}}clearHistory(){this.set("history",[]),this.saveHistory(),this.drawList_()}getHistory(){return this.get("history")}autocomplete(t,e){return e([]),!1}drawList_(t){var e=this,i=this.element.querySelector("ul.autocomplete");if(i.innerHTML="",this._list=[],t)i.setAttribute("class","autocomplete");else{if(this.element.querySelector("input.search").value)return;t=this.get("history"),i.setAttribute("class","autocomplete history")}for(var n,o=Math.min(e.get("maxItems"),t.length),r=0;r<o;r++)if(t[r]&&(!r||!e.equalFeatures(t[r],t[r-1]))){(n=document.createElement("LI")).setAttribute("data-search",this._list.length),this._list.push(t[r]),n.addEventListener("click",(function(t){e._handleSelect(e._list[t.currentTarget.getAttribute("data-search")])}));var s=e.getTitle(t[r]);s instanceof Element?n.appendChild(s):n.innerHTML=s,i.appendChild(n)}o&&this.get("copy")&&((n=document.createElement("LI")).classList.add("copy"),n.innerHTML=this.get("copy"),i.appendChild(n))}equalFeatures(){return!1}};uO.prototype._history={};var dO=class extends wS{constructor(t){t=t||{};var e=document.createElement("div");super({element:e}),e.className=(t.className||"ol-swipe")+" ol-unselectable ol-control";var i=document.createElement("button");e.appendChild(i),e.addEventListener("mousedown",this.move.bind(this)),e.addEventListener("touchstart",this.move.bind(this)),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],t.layers&&this.addLayer(t.layers,!1),t.rightLayers&&this.addLayer(t.rightLayers,!0),this.on("propertychange",function(t){if(this.getMap())try{this.getMap().renderSync()}catch(t){}"horizontal"===this.get("orientation")?(this.element.style.top=100*this.get("position")+"%",this.element.style.left=""):("vertical"!==this.get("orientation")&&this.set("orientation","vertical"),this.element.style.left=100*this.get("position")+"%",this.element.style.top=""),"orientation"===t.key&&(this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))),this.isMoving||this.layers.forEach((function(t){t.layer.getImageRatio&&t.layer.changed()}))}.bind(this)),this.set("position",t.position||.5),this.set("orientation",t.orientation||"vertical")}setMap(t){var e,i;if(this.getMap()){for(e=0;e<this.layers.length;e++)(i=this.layers[e]).right?i.layer.un(["precompose","prerender"],this.precomposeRight_):i.layer.un(["precompose","prerender"],this.precomposeLeft_),i.layer.un(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch(n){}}if(super.setMap(t),t){for(this._listener=[],e=0;e<this.layers.length;e++)(i=this.layers[e]).right?i.layer.on(["precompose","prerender"],this.precomposeRight_):i.layer.on(["precompose","prerender"],this.precomposeLeft_),i.layer.on(["postcompose","postrender"],this.postcompose_);try{t.renderSync()}catch(n){}}}isLayer_(t){for(var e=0;e<this.layers.length;e++)if(this.layers[e].layer===t)return e;return-1}addLayer(t,e){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i];if(this.isLayer_(n)<0&&(this.layers.push({layer:n,right:e}),this.getMap())){e?n.on(["precompose","prerender"],this.precomposeRight_):n.on(["precompose","prerender"],this.precomposeLeft_),n.on(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch(o){}}}}removeLayers(){var t=[];this.layers.forEach((function(e){t.push(e.layer)})),this.removeLayer(t)}removeLayer(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++){var i=this.isLayer_(t[e]);i>=0&&this.getMap()&&(this.layers[i].right?t[e].un(["precompose","prerender"],this.precomposeRight_):t[e].un(["precompose","prerender"],this.precomposeLeft_),t[e].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(i,1))}if(this.getMap())try{this.getMap().renderSync()}catch(n){}}getRectangle(){var t;return"vertical"===this.get("orientation")?[0,0,(t=this.getMap().getSize())[0]*this.get("position"),t[1]]:[0,0,(t=this.getMap().getSize())[0],t[1]*this.get("position")]}move(t){var e,i=this;switch(this._movefn||(this._movefn=this.move.bind(this)),t.type){case"touchcancel":case"touchend":case"mouseup":i.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach((function(t){document.removeEventListener(t,i._movefn)})),this.layers.forEach((function(t){t.layer.getImageRatio&&t.layer.changed()}));break;case"mousedown":case"touchstart":i.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach((function(t){document.addEventListener(t,i._movefn)}));case"mousemove":case"touchmove":if(i.isMoving)if("vertical"===i.get("orientation")){var n=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX;if(!n)break;n-=i.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft;var o=(e=i.getMap().getSize()[0])-Math.min(Math.max(0,e-n),e);e=o/e,i.set("position",e),i.dispatchEvent({type:"moving",size:[o,i.getMap().getSize()[1]],position:[e,0]})}else{var r=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY;if(!r)break;r-=i.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop;var s=(e=i.getMap().getSize()[1])-Math.min(Math.max(0,e-r),e);e=s/e,i.set("position",e),i.dispatchEvent({type:"moving",size:[i.getMap().getSize()[0],s],position:[0,e]})}}}_transformPt(t,e){var i=t.inversePixelTransform,n=e[0],o=e[1];return e[0]=i[0]*n+i[2]*o+i[4],e[1]=i[1]*n+i[3]*o+i[5],e}_drawRect(t,e){var i=t.inversePixelTransform;if(i){var n=[[e[0][0],e[0][1]],[e[0][0],e[1][1]],[e[1][0],e[1][1]],[e[1][0],e[0][1]],[e[0][0],e[0][1]]];if(t.context.save(),t.target.getImageRatio){var o=-Math.atan2(t.frameState.pixelToCoordinateTransform[1],t.frameState.pixelToCoordinateTransform[0]);t.context.translate(t.frameState.size[0]/2,t.frameState.size[1]/2),t.context.rotate(o),t.context.translate(-t.frameState.size[0]/2,-t.frameState.size[1]/2)}n.forEach((function(e,n){e=[e[0]*i[0]-e[1]*i[1]+i[4],-e[0]*i[2]+e[1]*i[3]+i[5]],n?t.context.lineTo(e[0],e[1]):t.context.moveTo(e[0],e[1])})),t.context.restore()}else{var r=t.frameState.pixelRatio;t.context.rect(e[0][0]*r,e[0][1]*r,e[1][0]*r,e[1][1]*r)}}precomposeLeft(t){var e=t.context;if(e instanceof WebGLRenderingContext){if("prerender"===t.type){e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST);var i,n,o=this.getMap().getSize(),r=this._transformPt(t,[0,o[1]]),s=this._transformPt(t,[o[0],0]),a=s[0]-r[0],l=s[1]-r[1];"vertical"===this.get("orientation")?(i=Math.round(a*this.get("position")),n=l):(i=a,n=Math.round(l*this.get("position")),r[1]+=l-n),e.scissor(r[0],r[1],i,n)}}else{var c=t.frameState.size;e.save(),e.beginPath();var h=[[0,0],[c[0],c[1]]];"vertical"===this.get("orientation")?h[1]=[.5*c[0]+this.getMap().getSize()[0]*(this.get("position")-.5),c[1]]:h[1]=[c[0],.5*c[1]+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(t,h),e.clip()}}precomposeRight(t){var e=t.context;if(e instanceof WebGLRenderingContext){if("prerender"===t.type){e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST);var i,n,o=this.getMap().getSize(),r=this._transformPt(t,[0,o[1]]),s=this._transformPt(t,[o[0],0]),a=s[0]-r[0],l=s[1]-r[1];"vertical"===this.get("orientation")?(n=l,i=Math.round(a*(1-this.get("position"))),r[0]+=a-i):(i=a,n=Math.round(l*(1-this.get("position")))),e.scissor(r[0],r[1],i,n)}}else{var c=t.frameState.size;e.save(),e.beginPath();var h=[[0,0],[c[0],c[1]]];"vertical"===this.get("orientation")?h[0]=[.5*c[0]+this.getMap().getSize()[0]*(this.get("position")-.5),0]:h[0]=[0,.5*c[1]+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(t,h),e.clip()}}postcompose(t){if(t.context instanceof WebGLRenderingContext){if("postrender"===t.type){var e=t.context;e.disable(e.SCISSOR_TEST)}}else t.target.getClassName&&"ol-layer"!==t.target.getClassName()&&t.target.get("declutter")?setTimeout((function(){t.context.restore()}),0):t.context.restore()}},pO=class extends MN{constructor(t){(t=t||{}).toggleFn&&(t.onToggle=t.toggleFn),t.handleClick=function(){e.toggle(),t.onToggle&&t.onToggle.call(e,e.getActive())},t.className=(t.className||"")+" ol-toggle",super(t);var e=this;this.interaction_=t.interaction,this.interaction_&&(this.interaction_.setActive(t.active),this.interaction_.on("change:active",(function(){e.setActive(e.interaction_.getActive())}))),this.set("title",t.title),this.set("autoActivate",t.autoActivate),t.bar&&this.setSubBar(t.bar),this.setActive(t.active),this.setDisable(t.disable)}setMap(t){!t&&this.getMap()&&(this.interaction_&&this.getMap().removeInteraction(this.interaction_),this.subbar_&&this.getMap().removeControl(this.subbar_)),super.setMap(t),t&&(this.interaction_&&t.addInteraction(this.interaction_),this.subbar_&&t.addControl(this.subbar_))}getSubBar(){return this.subbar_}setSubBar(t){var e=this.getMap();e&&this.subbar_&&e.removeControl(this.subbar_),this.subbar_=t,t&&(this.subbar_.setTarget(this.element),this.subbar_.element.classList.add("ol-option-bar"),e&&e.addControl(this.subbar_))}getDisable(){var t=this.element.querySelector("button");return t&&t.disabled}setDisable(t){this.getDisable()!=t&&(this.element.querySelector("button").disabled=t,t&&this.getActive()&&this.setActive(!1),this.dispatchEvent({type:"change:disable",key:"disable",oldValue:!t,disable:t}))}getActive(){return this.element.classList.contains("ol-active")}toggle(){this.getActive()?this.setActive(!1):this.setActive(!0)}setActive(t){this.interaction_&&this.interaction_.setActive(t),this.subbar_&&this.subbar_.setActive(t),this.getActive()!==t&&(t?this.element.classList.add("ol-active"):this.element.classList.remove("ol-active"),this.dispatchEvent({type:"change:active",key:"active",oldValue:!t,active:t}))}setInteraction(t){this.interaction_=t}getInteraction(){return this.interaction_}},gO=class extends wS{constructor(t){t=t||{};var e=IN.create("DIV",{className:(t.className||"ol-videorec")+" ol-unselectable ol-control"});super({element:e,target:t.target}),IN.create("BUTTON",{type:"button",className:"ol-start",title:gO.prototype.tips.start,click:function(){this.start()}.bind(this),parent:e}),IN.create("BUTTON",{type:"button",className:"ol-stop",title:gO.prototype.tips.stop,click:function(){this.stop()}.bind(this),parent:e}),IN.create("BUTTON",{type:"button",className:"ol-pause",title:gO.prototype.tips.pause,click:function(){this.pause()}.bind(this),parent:e}),IN.create("BUTTON",{type:"button",className:"ol-resume",title:gO.prototype.tips.resume,click:function(){this.resume()}.bind(this),parent:e}),this.set("framerate",30),this.set("videoBitsPerSecond",5e6),"DIALOG"===t.videoTarget?(this._dialog=new JN({className:"ol-fullscreen-dialog",target:document.body,closeBox:!0}),this._videoTarget=this._dialog.getContentElement()):this._videoTarget=t.videoTarget,this._printCtrl=new iO({target:IN.create("DIV")})}setTooltip(t,e){var i=this.element.querySelector("button.ol-"+t);i&&(i.title=e)}setMap(t){this.getMap()&&(this.getMap().removeControl(this._printCtrl),this._dialog&&this.getMap().removeControl(this._dialog)),super.setMap(t),this.getMap()&&(this.getMap().addControl(this._printCtrl),this._dialog&&this.getMap().addControl(this._dialog))}start(){var t=this._printCtrl,e=!1;function i(n){e||t.fastPrint({canvas:n},i)}t.fastPrint({},function(t){var n;try{n=t.captureStream(this.get("framerate")||30)}catch(r){return void this.dispatchEvent({type:"error",error:r})}this._mediaRecorder=new MediaRecorder(n,{videoBitsPerSecond:this.get("videoBitsPerSecond")||5e6});var o=[];this._mediaRecorder.ondataavailable=function(t){o.push(t.data)},this._mediaRecorder.onstop=function(){e=!0;var t,i=new Blob(o,{type:"video/mp4"});(o=[],this._videoTarget instanceof Element)?("VIDEO"===this._videoTarget.tagName?t=this._videoTarget:(t=this._videoTarget.querySelector("video"))||(t=IN.create("VIDEO",{controls:"",parent:this._videoTarget})),this._dialog&&this._dialog.show(),t.src=URL.createObjectURL(i),this.dispatchEvent({type:"stop",videoURL:t.src})):this.dispatchEvent({type:"stop",videoURL:URL.createObjectURL(i)})}.bind(this),this._mediaRecorder.onpause=function(){e=!0,this.dispatchEvent({type:"pause"})}.bind(this),this._mediaRecorder.onresume=function(){e=!1,i(t),this.dispatchEvent({type:"resume"})}.bind(this),this._mediaRecorder.onerror=function(t){this.dispatchEvent({type:"error",error:t})}.bind(this),e=!1,i(t),this._mediaRecorder.start(),this.dispatchEvent({type:"start",canvas:t}),this.element.setAttribute("data-state","rec")}.bind(this))}stop(){this._mediaRecorder&&(this._mediaRecorder.stop(),this._mediaRecorder=null,this.element.setAttribute("data-state","inactive"))}pause(){this._mediaRecorder&&(this._mediaRecorder.pause(),this.element.setAttribute("data-state","pause"))}resume(){this._mediaRecorder&&(this._mediaRecorder.resume(),this.element.setAttribute("data-state","rec"))}};gO.prototype.tips={start:"start video",stop:"stop",pause:"pause",resume:"resume"};var fO=class extends wS{constructor(t){t=t||{};var e=e=IN.create("DIV",{className:t.className||"ol-mapzone"});if(super({element:e,target:t.target}),!t.target){["ol-unselectable","ol-control","ol-collapsed"].forEach((function(t){e.classList.add(t)}));var i=IN.create("BUTTON",{type:"button",on:{click:function(){e.classList.toggle("ol-collapsed"),n.forEach((function(t){t.updateSize()}))}.bind(this)},parent:e});IN.create("I",{parent:i})}this.set("centerOnClick",t.centerOnClick);var n=this._maps=[];this._projection=t.projection,this._layer=t.layer,t.zones.forEach(this.addZone.bind(this)),setTimeout((function(){n.forEach((function(t){t.updateSize()}))}))}setCollapsed(t){t?(this.element.classList.remove("ol-collapsed"),this.getMaps().forEach((function(t){t.updateSize()}))):this.element.classList.add("ol-collapsed")}setVisible(t){this.setCollapsed(!t)}getCollapsed(){return this.element.classList.contains("ol-collapsed")}getMaps(){return this._maps}getLength(){return this._maps.length}addZone(t){var e,i=new Px({zoom:6,center:[0,0],projection:this._projection});e=t.map?Py(t.map.getView().calculateExtent(),t.map.getView().getProjection(),i.getProjection()):Py(t.extent,"EPSG:4326",i.getProjection());var n,o=IN.create("DIV",{className:"ol-mapzonezone",parent:this.element,click:function(){var i=-1;this._maps.forEach((function(e,n){e.get("zone")===t&&(i=n)})),this.dispatchEvent({type:"select",zone:t,index:i,coordinate:av(e),extent:e}),!1!==this.get("centerOnClick")&&this.getMap().getView().fit(e),this.setVisible(!1)}.bind(this)});n=t.layer?t.layer:"function"==typeof this._layer?this._layer(t):new this._layer.constructor({source:this._layer.getSource()});var r=new gE({target:o,view:i,controls:[],interactions:[],layers:[n]});r.set("zone",t),this._maps.push(r),i.fit(e),IN.create("P",{html:t.title,parent:o})}removeZone(t){var e=this.element.querySelectorAll(".ol-mapzonezone")[t];e&&(e.remove(),this._maps.splice(t,1))}};fO.zones={},fO.zones.DOM=[{title:"Guadeloupe",extent:[-61.898594315312444,15.75623038647845,-60.957887532935324,16.575317670979473]},{title:"Guyane",extent:[-54.72525931072715,2.1603763430019,-51.528236062921344,5.7984307809552575]},{title:"Martinique",extent:[-61.257556528564756,14.387506317407514,-60.76934912110432,14.895067461729951]},{title:"Mayotte",extent:[44.959844536967815,-13.01674138212816,45.35328866510648,-12.65521942207829]},{title:"La runion",extent:[55.17059012967656,-21.407680069231688,55.88195702001797,-20.85560221637526]}],fO.zones.TOM=[{title:"Polynsie Franaise",extent:[206.23664226630862,-22.189040615809787,221.85920743981987,-10.835039595040698]},{title:"Nouvelle Caldonie",extent:[163.76420580160925,-22.581641092751838,167.66984709498706,-19.816411635668445]},{title:"St-Pierre et Miquelon",extent:[-56.453698765748676,46.74449858188555,-56.0980198121544,47.14669874229787]},{title:"Wallis et Futuna",extent:[181.7588623143665,-14.7341169873267,183.95612353301715,-13.134720799175085]},{title:"St-Martin St-Barthlemy",extent:[-63.1726389501678,17.806097291313506,-62.7606535945649,18.13267688837938]}],fO.zones.DOMTOM=[{title:"Mtropole",extent:[-5.318421740712579,41.16082274292913,9.73284186155716,51.21957336557702]}].concat(fO.zones.DOM,fO.zones.TOM);const mO="drawstart",bO="drawend",vO="drawabort";class yO extends Dm{constructor(t,e){super(t),this.feature=e}}function wO(t,e){return Wv(t[0],t[1],e[0],e[1])}function xO(t,e){const i=t.length;return e<0?t[e+i]:e>=i?t[e-i]:t[e]}function _O(t,e,i){let n,o;e<i?(n=e,o=i):(n=i,o=e);const r=Math.ceil(n),s=Math.floor(o);if(r>s){return wO(FO(t,n),FO(t,o))}let a=0;if(n<r){a+=wO(FO(t,n),xO(t,r))}if(s<o){a+=wO(xO(t,s),FO(t,o))}for(let l=r;l<s-1;++l){a+=wO(xO(t,l),xO(t,l+1))}return a}function CO(t,e,i){if(e instanceof vk)SO(t,e.getCoordinates(),!1,i);else if(e instanceof yk){const n=e.getCoordinates();for(let e=0,o=n.length;e<o;++e)SO(t,n[e],!1,i)}else if(e instanceof Pw){const n=e.getCoordinates();for(let e=0,o=n.length;e<o;++e)SO(t,n[e],!0,i)}else if(e instanceof _k){const n=e.getCoordinates();for(let e=0,o=n.length;e<o;++e){const o=n[e];for(let e=0,n=o.length;e<n;++e)SO(t,o[e],!0,i)}}else if(e instanceof gk){const n=e.getGeometries();for(let e=0;e<n.length;++e)CO(t,n[e],i)}else;}const BO={index:-1,endIndex:NaN};function SO(t,e,i,n){const o=t[0],r=t[1];for(let s=0,a=e.length-1;s<a;++s){const t=kO(o,r,e[s],e[s+1]);if(0===t.squaredDistance){const o=s+t.along;return void n.push({coordinates:e,ring:i,startIndex:o,endIndex:o})}}}const EO={along:0,squaredDistance:0};function kO(t,e,i,n){const o=i[0],r=i[1],s=n[0]-o,a=n[1]-r;let l=0,c=o,h=r;return 0===s&&0===a||(l=Kv(((t-o)*s+(e-r)*a)/(s*s+a*a),0,1),c+=s*l,h+=a*l),EO.along=l,EO.squaredDistance=Jv(Wv(t,e,c,h),10),EO}function FO(t,e){const i=t.length;let n=Math.floor(e);const o=e-n;n>=i?n-=i:n<0&&(n+=i);let r=n+1;r>=i&&(r-=i);const s=t[n],a=s[0],l=s[1],c=t[r];return[a+(c[0]-a)*o,l+(c[1]-l)*o]}class TO extends FS{constructor(t){const e=t;e.stopDown||(e.stopDown=$m),super(e),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=function(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+t)}}(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:Xm,this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY";let i=t.geometryFunction;if(!i){const t=this.mode_;if("Circle"===t)i=function(t,e,i){const n=e||new uk([NaN,NaN]),o=Oy(t[0]),r=Ay(o,Oy(t[t.length-1]));return n.setCenterAndRadius(o,Math.sqrt(r),this.geometryLayout_),n};else{let e;"Point"===t?e=mw:"LineString"===t?e=vk:"Polygon"===t&&(e=Pw),i=function(i,n,o){return n?"Polygon"===t?i[0].length?n.setCoordinates([i[0].concat([i[0][0]])],this.geometryLayout_):n.setCoordinates([],this.geometryLayout_):n.setCoordinates(i,this.geometryLayout_):n=new e(i,this.geometryLayout_),n}}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new IM({source:new Qk({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:LO(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:QS,this.freehandCondition_,t.freehand?this.freehandCondition_=NS:this.freehandCondition_=t.freehandCondition?t.freehandCondition:zS,this.traceCondition_,this.setTrace(t.trace||!1),this.traceState_={active:!1},this.traceSource_=t.traceSource||t.source||null,this.addChangeListener(BS,this.updateState_)}setTrace(t){let e;e=t?!0===t?NS:t:US,this.traceCondition_=e}setMap(t){super.setMap(t),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(t){t.originalEvent.type===rb&&t.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(t);let e=t.type===ZB.POINTERMOVE,i=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===ZB.POINTERDRAG){Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===ZB.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),i=!1):this.freehand_&&t.type===ZB.POINTERDOWN?i=!1:e&&this.getPointerCount()<2?(i=t.type===ZB.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===ZB.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t)):t.type===ZB.DBLCLICK&&(i=!1),super.handleEvent(t)&&i}handleDownEvent(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((()=>{this.handlePointerMove_(new YB(ZB.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(t){if(!this.traceSource_||!this.traceCondition_(t))return;if(this.traceState_.active)return void this.deactivateTrace_();const e=this.getMap(),i=Ob([e.getCoordinateFromPixel([t.pixel[0]-this.snapTolerance_,t.pixel[1]+this.snapTolerance_]),e.getCoordinateFromPixel([t.pixel[0]+this.snapTolerance_,t.pixel[1]-this.snapTolerance_])]),n=this.traceSource_.getFeaturesInExtent(i);if(0===n.length)return;const o=function(t,e){const i=[];for(let n=0;n<e.length;++n)CO(t,e[n].getGeometry(),i);return i}(t.coordinate,n);o.length&&(this.traceState_={active:!0,startPx:t.pixel.slice(),targets:o,targetIndex:-1})}addOrRemoveTracedCoordinates_(t,e){const i=t.startIndex<=t.endIndex;i===t.startIndex<=e?i&&e>t.endIndex||!i&&e<t.endIndex?this.addTracedCoordinates_(t,t.endIndex,e):(i&&e<t.endIndex||!i&&e>t.endIndex)&&this.removeTracedCoordinates_(e,t.endIndex):(this.removeTracedCoordinates_(t.startIndex,t.endIndex),this.addTracedCoordinates_(t,t.startIndex,e))}removeTracedCoordinates_(t,e){if(t===e)return;let i=0;if(t<e){const n=Math.ceil(t);let o=Math.floor(e);o===e&&(o-=1),i=o-n+1}else{const n=Math.floor(t);let o=Math.ceil(e);o===e&&(o+=1),i=n-o+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(t,e,i){if(e===i)return;const n=[];if(e<i){const o=Math.ceil(e);let r=Math.floor(i);r===i&&(r-=1);for(let e=o;e<=r;++e)n.push(xO(t.coordinates,e))}else{const o=Math.floor(e);let r=Math.ceil(i);r===i&&(r+=1);for(let e=o;e>=r;--e)n.push(xO(t.coordinates,e))}n.length&&this.appendCoordinates(n)}updateTrace_(t){const e=this.traceState_;if(!e.active)return;if(-1===e.targetIndex&&uy(e.startPx,t.pixel)<this.snapTolerance_)return;const i=function(t,e,i,n){const o=t[0],r=t[1];let s=1/0,a=-1,l=NaN;for(let A=0;A<e.targets.length;++A){const t=e.targets[A],i=t.coordinates;let n,c=1/0;for(let e=0;e<i.length-1;++e){const t=kO(o,r,i[e],i[e+1]);t.squaredDistance<c&&(c=t.squaredDistance,n=e+t.along)}c<s&&(s=c,t.ring&&e.targetIndex===A&&(t.endIndex>t.startIndex?n<t.startIndex&&(n+=i.length):t.endIndex<t.startIndex&&n>t.startIndex&&(n-=i.length)),l=n,a=A)}const c=e.targets[a];let h=c.ring;if(e.targetIndex===a&&h){const t=FO(c.coordinates,l);uy(i.getPixelFromCoordinate(t),e.startPx)>n&&(h=!1)}if(h){const t=c.coordinates,e=t.length,i=c.startIndex,n=l;if(i<n){const o=_O(t,i,n);_O(t,i,n-e)<o&&(l-=e)}else{const o=_O(t,i,n);_O(t,i,n+e)<o&&(l+=e)}}return BO.index=a,BO.endIndex=l,BO}(t.coordinate,e,this.getMap(),this.snapTolerance_);if(e.targetIndex!==i.index){if(-1!==e.targetIndex){const t=e.targets[e.targetIndex];this.removeTracedCoordinates_(t.startIndex,t.endIndex)}const t=e.targets[i.index];this.addTracedCoordinates_(t,t.startIndex,i.endIndex)}else{const t=e.targets[e.targetIndex];this.addOrRemoveTracedCoordinates_(t,i.endIndex)}e.targetIndex=i.index;const n=e.targets[e.targetIndex];n.endIndex=i.endIndex;const o=FO(n.coordinates,n.endIndex),r=this.getMap().getPixelFromCoordinate(o);t.coordinate=o,t.pixel=[Math.round(r[0]),Math.round(r[1])]}handleUpEvent(t){let e=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);const i=this.traceState_.active;if(this.toggleTraceState_(t),this.shouldHandle_){const n=!this.finishCoordinate_;n&&this.startDrawing_(t.coordinate),!n&&this.freehand_?this.finishDrawing():this.freehand_||n&&"Point"!==this.mode_||(this.atFinish_(t.pixel,i)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e}handlePointerMove_(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const e=this.downPx_,i=t.pixel,n=e[0]-i[0],o=e[1]-i[1],r=n*n+o*o;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(t),this.modifyDrawing_(t.coordinate)):this.createOrUpdateSketchPoint_(t.coordinate.slice())}atFinish_(t,e){let i=!1;if(this.sketchFeature_){let n=!1,o=[this.finishCoordinate_];const r=this.mode_;if("Point"===r)i=!0;else if("Circle"===r)i=2===this.sketchCoords_.length;else if("LineString"===r)n=!e&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===r){const t=this.sketchCoords_;n=t[0].length>this.minPoints_,o=[t[0][0],t[0][t[0].length-2]],o=e?[t[0][0]]:[t[0][0],t[0][t[0].length-2]]}if(n){const e=this.getMap();for(let n=0,r=o.length;n<r;n++){const r=o[n],s=e.getPixelFromCoordinate(r),a=t[0]-s[0],l=t[1]-s[1],c=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(a*a+l*l)<=c,i){this.finishCoordinate_=r;break}}}}return i}createOrUpdateSketchPoint_(t){if(this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(t)}else this.sketchPoint_=new Cb(new mw(t)),this.updateSketchFeatures_()}createOrUpdateCustomSketchLine_(t){this.sketchLine_||(this.sketchLine_=new Cb);const e=t.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),i.changed()):(i=new vk(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(t){const e=this.getMap().getView().getProjection(),i=$y(this.geometryLayout_);for(;t.length<i;)t.push(0);this.finishCoordinate_=t,"Point"===this.mode_?this.sketchCoords_=t.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Cb(new vk(this.sketchLineCoords_)));const n=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Cb,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new yO(mO,this.sketchFeature_))}modifyDrawing_(t){const e=this.getMap(),i=this.sketchFeature_.getGeometry(),n=e.getView().getProjection(),o=$y(this.geometryLayout_);let r,s;for(;t.length<o;)t.push(0);if("Point"===this.mode_?s=this.sketchCoords_:"Polygon"===this.mode_?(r=this.sketchCoords_[0],s=r[r.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(r=this.sketchCoords_,s=r[r.length-1]),s[0]=t[0],s[1]=t[1],this.geometryFunction_(this.sketchCoords_,i,n),this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(t)}if("Polygon"===i.getType()&&"Polygon"!==this.mode_)this.createOrUpdateCustomSketchLine_(i);else if(this.sketchLineCoords_){this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()}addToDrawing_(t){const e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let n,o;const r=this.mode_;return"LineString"===r||"Circle"===r?(this.finishCoordinate_=t.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():n=!0),o.push(t.slice()),this.geometryFunction_(o,e,i)):"Polygon"===r&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():n=!0),o.push(t.slice()),n&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,e,i)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),n?this.finishDrawing():this.sketchFeature_}removeLastPoints_(t){if(!this.sketchFeature_)return;const e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),n=this.mode_;for(let o=0;o<t;++o){let t;if("LineString"===n||"Circle"===n){if(t=this.sketchCoords_,t.splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();const e=this.finishCoordinate_.slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}this.geometryFunction_(t,e,i),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if("Polygon"===n){t=this.sketchCoords_[0],t.splice(-2,1);const n=this.sketchLine_.getGeometry();if(t.length>=2){const e=t[t.length-2].slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}n.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,i)}if(1===t.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const t=this.abortDrawing_();if(!t)return null;let e=this.sketchCoords_;const i=t.getGeometry(),n=this.getMap().getView().getProjection();return"LineString"===this.mode_?(e.pop(),this.geometryFunction_(e,i,n)):"Polygon"===this.mode_&&(e[0].pop(),this.geometryFunction_(e,i,n),e=i.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new wk([e])):"MultiLineString"===this.type_?t.setGeometry(new yk([e])):"MultiPolygon"===this.type_&&t.setGeometry(new _k([e])),this.dispatchEvent(new yO(bO,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t),t}abortDrawing_(){this.finishCoordinate_=null;const t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),t}abortDrawing(){const t=this.abortDrawing_();t&&this.dispatchEvent(new yO(vO,t))}appendCoordinates(t){const e=this.mode_,i=!this.sketchFeature_;let n;if(i&&this.startDrawing_(t[0]),"LineString"===e||"Circle"===e)n=this.sketchCoords_;else{if("Polygon"!==e)return;n=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&n.shift(),n.pop();for(let r=0;r<t.length;r++)this.addToDrawing_(t[r]);const o=t[t.length-1];this.sketchFeature_=this.addToDrawing_(o),this.modifyDrawing_(o)}extend(t){const e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();const i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new Cb(new mw(i)),this.updateSketchFeatures_(),this.dispatchEvent(new yO(mO,this.sketchFeature_))}updateSketchFeatures_(){const t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);const e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)}updateState_(){const t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)}}function LO(){const t=NC();return function(e,i){return t[e.getGeometry().getType()]}}const IO=[0,0,0,0],MO=[],PO="modifystart",RO="modifyend";class NO extends Dm{constructor(t,e,i){super(t),this.features=e,this.mapBrowserEvent=i}}class OO extends FS{constructor(t){let e;if(super(t),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=t.condition?t.condition:VS,this.defaultDeleteCondition_=function(t){return IS(t)&&DS(t)},this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:NS,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new Ak,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new IM({source:new Qk({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:HO(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null,t.features?e=t.features:t.source&&(this.source_=t.source,e=new tx(this.source_.getFeatures()),this.source_.addEventListener(Ek,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(Tk,this.handleSourceRemove_.bind(this))),!e)throw new Error("The modify interaction requires features, a source or a layer");t.hitDetection&&(this.hitDetection_=t.hitDetection),this.features_=e,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener($w,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(Yw,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=void 0===t.snapToPointer?!this.hitDetection_:t.snapToPointer}addFeature_(t){const e=t.getGeometry();if(e){const i=this.SEGMENT_WRITERS_[e.getType()];i&&i(t,e)}const i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),t.addEventListener(nb,this.boundHandleFeatureChange_)}willModifyFeatures_(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new tx;const i=this.featuresBeingModified_.getArray();for(let t=0,n=e.length;t<n;++t){const n=e[t];for(let t=0,e=n.length;t<e;++t){const e=n[t].feature;e&&!i.includes(e)&&this.featuresBeingModified_.push(e)}}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new NO(PO,this.featuresBeingModified_,t))}}removeFeature_(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(nb,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(t){const e=this.rBush_,i=[];e.forEach((function(e){t===e.feature&&i.push(e)}));for(let n=i.length-1;n>=0;--n){const t=i[n];for(let e=this.dragSegments_.length-1;e>=0;--e)this.dragSegments_[e][0]===t&&this.dragSegments_.splice(e,1);e.remove(t)}}setActive(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(t)}setMap(t){this.overlay_.setMap(t),super.setMap(t)}getOverlay(){return this.overlay_}handleSourceAdd_(t){t.feature&&this.features_.push(t.feature)}handleSourceRemove_(t){t.feature&&this.features_.remove(t.feature)}handleFeatureAdd_(t){this.addFeature_(t.element)}handleFeatureChange_(t){if(!this.changingFeature_){const e=t.target;this.removeFeature_(e),this.addFeature_(e)}}handleFeatureRemove_(t){this.removeFeature_(t.element)}writePointGeometry_(t,e){const i=e.getCoordinates(),n={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)}writeMultiPointGeometry_(t,e){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n){const o=i[n],r={feature:t,geometry:e,depth:[n],index:n,segment:[o,o]};this.rBush_.insert(e.getExtent(),r)}}writeLineStringGeometry_(t,e){const i=e.getCoordinates();for(let n=0,o=i.length-1;n<o;++n){const o=i.slice(n,n+2),r={feature:t,geometry:e,index:n,segment:o};this.rBush_.insert(Ob(o),r)}}writeMultiLineStringGeometry_(t,e){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n){const o=i[n];for(let i=0,r=o.length-1;i<r;++i){const r=o.slice(i,i+2),s={feature:t,geometry:e,depth:[n],index:i,segment:r};this.rBush_.insert(Ob(r),s)}}}writePolygonGeometry_(t,e){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n){const o=i[n];for(let i=0,r=o.length-1;i<r;++i){const r=o.slice(i,i+2),s={feature:t,geometry:e,depth:[n],index:i,segment:r};this.rBush_.insert(Ob(r),s)}}}writeMultiPolygonGeometry_(t,e){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n){const o=i[n];for(let i=0,r=o.length;i<r;++i){const r=o[i];for(let o=0,s=r.length-1;o<s;++o){const s=r.slice(o,o+2),a={feature:t,geometry:e,depth:[i,n],index:o,segment:s};this.rBush_.insert(Ob(s),a)}}}}writeCircleGeometry_(t,e){const i=e.getCenter(),n={feature:t,geometry:e,index:0,segment:[i,i]},o={feature:t,geometry:e,index:1,segment:[i,i]},r=[n,o];n.featureSegments=r,o.featureSegments=r,this.rBush_.insert(Wb(i),n);let s=e;this.rBush_.insert(s.getExtent(),o)}writeGeometryCollectionGeometry_(t,e){const i=e.getGeometriesArray();for(let n=0;n<i.length;++n){const e=i[n];(0,this.SEGMENT_WRITERS_[e.getType()])(t,e)}}createOrUpdateVertexFeature_(t,e,i){let n=this.vertexFeature_;if(n){n.getGeometry().setCoordinates(t)}else n=new Cb(new mw(t)),this.vertexFeature_=n,this.overlay_.getSource().addFeature(n);return n.set("features",e),n.set("geometries",i),n}handleEvent(t){if(!t.originalEvent)return!0;let e;return this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=ZB.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(e=!(t.type!=ZB.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==ZB.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(t)&&!e}handleDragEvent(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);const e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],i=[],n=[];for(let o=0,r=this.dragSegments_.length;o<r;++o){const r=this.dragSegments_[o],s=r[0],a=s.feature;i.includes(a)||i.push(a);const l=s.geometry;n.includes(l)||n.push(l);const c=s.depth;let h;const A=s.segment,u=r[1];for(;e.length<l.getStride();)e.push(A[u][e.length]);switch(l.getType()){case"Point":h=e,A[0]=e,A[1]=e;break;case"MultiPoint":h=l.getCoordinates(),h[s.index]=e,A[0]=e,A[1]=e;break;case"LineString":h=l.getCoordinates(),h[s.index+u]=e,A[u]=e;break;case"MultiLineString":case"Polygon":h=l.getCoordinates(),h[c[0]][s.index+u]=e,A[u]=e;break;case"MultiPolygon":h=l.getCoordinates(),h[c[1]][c[0]][s.index+u]=e,A[u]=e;break;case"Circle":if(A[0]=e,A[1]=e,0===s.index)this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0,t.map.getView().getProjection();let i=uy(Oy(l.getCenter()),Oy(e));l.setRadius(i),this.changingFeature_=!1}}h&&this.setGeometryCoordinates_(l,h)}this.createOrUpdateVertexFeature_(e,i,n)}handleDownEvent(t){if(!this.condition_(t))return!1;const e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;const i=this.vertexFeature_;if(i){t.map.getView().getProjection();const n=[],o=i.getGeometry().getCoordinates(),r=Ob([o]),s=this.rBush_.getInExtent(r),a={};s.sort(UO);for(let i=0,l=s.length;i<l;++i){const r=s[i],l=r.segment;let c=yb(r.geometry);const h=r.depth;if(h&&(c+="-"+h.join("-")),a[c]||(a[c]=new Array(2)),"Circle"!==r.geometry.getType()||1!==r.index)if(!ly(l[0],o)||a[c][0])if(!ly(l[1],o)||a[c][1])yb(l)in this.vertexSegments_&&!a[c][0]&&!a[c][1]&&this.insertVertexCondition_(t)&&n.push(r);else{if(a[c][0]&&0===a[c][0].index){let t=r.geometry.getCoordinates();switch(r.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":t=t[h[1]];case"Polygon":if(r.index!==t[h[0]].length-2)continue}}this.dragSegments_.push([r,1]),a[c][1]=r}else this.dragSegments_.push([r,0]),a[c][0]=r;else{ly(QO(e,r),o)&&!a[c][0]&&(this.dragSegments_.push([r,0]),a[c][0]=r)}}n.length&&this.willModifyFeatures_(t,[n]);for(let t=n.length-1;t>=0;--t)this.insertVertex_(n[t],o)}return!!this.vertexFeature_}handleUpEvent(t){for(let e=this.dragSegments_.length-1;e>=0;--e){const t=this.dragSegments_[e][0],i=t.geometry;if("Circle"===i.getType()){const e=i.getCenter(),n=t.featureSegments[0],o=t.featureSegments[1];n.segment[0]=e,n.segment[1]=e,o.segment[0]=e,o.segment[1]=e,this.rBush_.update(Wb(e),n);let r=i;this.rBush_.update(r.getExtent(),o)}else this.rBush_.update(Ob(t.segment),t)}return this.featuresBeingModified_&&(this.dispatchEvent(new NO(RO,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1}handlePointerMove_(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)}handlePointerAtPixel_(t,e,i){const n=i||e.getCoordinateFromPixel(t);e.getView().getProjection();const o=function(t,e){return DO(n,t)-DO(n,e)};let r,s;if(this.hitDetection_){const i="object"==typeof this.hitDetection_?t=>t===this.hitDetection_:void 0;e.forEachFeatureAtPixel(t,((t,e,i)=>{i&&"Point"===i.getType()&&(i=new mw(Ny(i.getCoordinates())));const n=i||t.getGeometry();if(t instanceof Cb&&this.features_.getArray().includes(t)){s=n;const e=t.getGeometry().getFlatCoordinates().slice(0,2);r=[{feature:t,geometry:s,segment:[e,e]}]}return!0}),{layerFilter:i})}if(!r){const t=Uy(Ub(Dy(Wb(n,IO)),e.getView().getResolution()*this.pixelTolerance_,IO));r=this.rBush_.getInExtent(t)}if(r&&r.length>0){const i=r.sort(o)[0],a=i.segment;let l=QO(n,i);const c=e.getPixelFromCoordinate(l);let h=uy(t,c);if(s||h<=this.pixelTolerance_){const t={};if(t[yb(a)]=!0,this.snapToPointer_||(this.delta_[0]=l[0]-n[0],this.delta_[1]=l[1]-n[1]),"Circle"===i.geometry.getType()&&1===i.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(l,[i.feature],[i.geometry]);else{const n=e.getPixelFromCoordinate(a[0]),o=e.getPixelFromCoordinate(a[1]),s=Ay(c,n),A=Ay(c,o);h=Math.sqrt(Math.min(s,A)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(l=s>A?a[1]:a[0]),this.createOrUpdateVertexFeature_(l,[i.feature],[i.geometry]);const u={};u[yb(i.geometry)]=!0;for(let e=1,i=r.length;e<i;++e){const i=r[e].segment;if(!(ly(a[0],i[0])&&ly(a[1],i[1])||ly(a[0],i[1])&&ly(a[1],i[0])))break;{const n=yb(r[e].geometry);n in u||(u[n]=!0,t[yb(i)]=!0)}}}return void(this.vertexSegments_=t)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(t,e){const i=t.segment,n=t.feature,o=t.geometry,r=t.depth,s=t.index;let a;for(;e.length<o.getStride();)e.push(0);switch(o.getType()){case"MultiLineString":case"Polygon":a=o.getCoordinates(),a[r[0]].splice(s+1,0,e);break;case"MultiPolygon":a=o.getCoordinates(),a[r[1]][r[0]].splice(s+1,0,e);break;case"LineString":a=o.getCoordinates(),a.splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,a);const l=this.rBush_;l.remove(t),this.updateSegmentIndices_(o,s,r,1);const c={segment:[i[0],e],feature:n,geometry:o,depth:r,index:s};l.insert(Ob(c.segment),c),this.dragSegments_.push([c,1]);const h={segment:[e,i[1]],feature:n,geometry:o,depth:r,index:s+1};l.insert(Ob(h.segment),h),this.dragSegments_.push([h,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ZB.POINTERDRAG){const t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);const e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new NO(RO,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1}removeVertex_(){const t=this.dragSegments_,e={};let i,n,o,r,s,a,l,c,h,A,u,d=!1;for(s=t.length-1;s>=0;--s)o=t[s],A=o[0],u=yb(A.feature),A.depth&&(u+="-"+A.depth.join("-")),u in e||(e[u]={}),0===o[1]?(e[u].right=A,e[u].index=A.index):1==o[1]&&(e[u].left=A,e[u].index=A.index+1);for(u in e){switch(h=e[u].right,l=e[u].left,a=e[u].index,c=a-1,A=void 0!==l?l:h,c<0&&(c=0),r=A.geometry,n=r.getCoordinates(),i=n,d=!1,r.getType()){case"MultiLineString":n[A.depth[0]].length>2&&(n[A.depth[0]].splice(a,1),d=!0);break;case"LineString":n.length>2&&(n.splice(a,1),d=!0);break;case"MultiPolygon":i=i[A.depth[1]];case"Polygon":i=i[A.depth[0]],i.length>4&&(a==i.length-1&&(a=0),i.splice(a,1),d=!0,0===a&&(i.pop(),i.push(i[0]),c=i.length-1))}if(d){this.setGeometryCoordinates_(r,n);const e=[];if(void 0!==l&&(this.rBush_.remove(l),e.push(l.segment[0])),void 0!==h&&(this.rBush_.remove(h),e.push(h.segment[1])),void 0!==l&&void 0!==h){const t={depth:A.depth,feature:A.feature,geometry:A.geometry,index:c,segment:e};this.rBush_.insert(Ob(t.segment),t)}this.updateSegmentIndices_(r,a,A.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return d}setGeometryCoordinates_(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1}updateSegmentIndices_(t,e,i,n){this.rBush_.forEachInExtent(t.getExtent(),(function(o){o.geometry===t&&(void 0===i||void 0===o.depth||Wm(o.depth,i))&&o.index>e&&(o.index+=n)}))}}function UO(t,e){return t.index-e.index}function DO(t,e,i){const n=e.geometry;if("Circle"===n.getType()){let i=n;if(1===e.index){const e=Ay(i.getCenter(),Oy(t)),n=Math.sqrt(e)-i.getRadius();return n*n}}const o=Oy(t);return MO[0]=Oy(e.segment[0]),MO[1]=Oy(e.segment[1]),function(t,e){return Ay(t,ay(t,e))}(o,MO)}function QO(t,e,i){const n=e.geometry;if("Circle"===n.getType()&&1===e.index){return Ny(n.getClosestPoint(Oy(t)))}const o=Oy(t);return MO[0]=Oy(e.segment[0]),MO[1]=Oy(e.segment[1]),Ny(ay(o,MO))}function HO(){const t=NC();return function(e,i){return t.Point}}vk.prototype.splitAt=function(t,e){var i;if(!t)return[this];if(e||(e=1e-10),t.length&&t[0].length){var n=[this];for(i=0;i<t.length;i++){for(var o=[],r=0;r<n.length;r++){var s=n[r].splitAt(t[i],e);o=o.concat(s)}n=o}return n}if(cO(t,this.getFirstCoordinate())||cO(t,this.getLastCoordinate()))return[this];var a=this.getCoordinates(),l=[a[0]],c=[];for(i=0;i<a.length-1;i++)if(!cO(a[i],a[i+1])){if(cO(t,a[i+1]))l.push(a[i+1]),c.push(new vk(l)),l=[];else if(!cO(t,a[i])){var h,A,u=!1;a[i][0]==a[i+1][0]?(h=(a[i][1]-t[1])/(a[i][1]-a[i+1][1]),u=a[i][0]==t[0]&&0<h&&h<=1):a[i][1]==a[i+1][1]?(h=(a[i][0]-t[0])/(a[i][0]-a[i+1][0]),u=a[i][1]==t[1]&&0<h&&h<=1):(h=(a[i][0]-t[0])/(a[i][0]-a[i+1][0]),A=(a[i][1]-t[1])/(a[i][1]-a[i+1][1]),u=Math.abs(h-A)<=e&&0<h&&h<=1),u&&(l.push(t),c.push(new vk(l)),l=[t])}l.push(a[i+1])}return l.length>1&&c.push(new vk(l)),c.length?c:[this]};var zO=class extends MC{constructor(t){super({stroke:(t=t||{}).stroke,text:t.text,zIndex:t.zIndex,geometry:t.geometry}),this.setRenderer(this._render.bind(this)),this._visible=!1!==t.visible,"function"==typeof t.width?this._widthFn=t.width:this.setWidth(t.width),this.setWidth2(t.width2),"function"==typeof t.color?this._colorFn=t.color:this.setColor(t.color),this.setColor2(t.color2),this.setLineCap(t.lineCap),this.setArrow(t.arrow),this.setArrowSize(t.arrowSize),this.setArrowColor(t.arrowColor),this._offset=[0,0],this.setOffset(t.offset0,0),this.setOffset(t.offset1,1),this._noOverlap=t.noOverlap}setWidth(t){this._width=t||0}setWidth2(t){this._width2=t}getOffset(t){return this._offset[t]}setOffset(t,e){switch(t=Math.max(0,parseFloat(t)),e){case 0:this._offset[0]=t;break;case 1:this._offset[1]=t}}setLineCap(t){this._lineCap="round"===t?"round":"butt"}getWidth(t,e){if(this._widthFn)return this._widthFn(t,e);var i="number"==typeof this._width2?this._width2:this._width;return this._width+(i-this._width)*e}setColor(t){try{this._color=B_(t)}catch(e){this._color=[0,0,0,1]}}setColor2(t){try{this._color2=B_(t)}catch(e){this._color2=null}}setArrowColor(t){try{this._acolor=b_(t)}catch(e){this._acolor=null}}getColor(t,e){if(this._colorFn)return b_(this._colorFn(t,e));var i=this._color,n=this._color2||this._color;return"rgba("+ +Math.round(i[0]+(n[0]-i[0])*e)+","+Math.round(i[1]+(n[1]-i[1])*e)+","+Math.round(i[2]+(n[2]-i[2])*e)+","+(i[3]+(n[3]-i[3])*e)+")"}getArrow(){return this._arrow}setArrow(t){this._arrow=parseInt(t),(this._arrow<-1||this._arrow>2)&&(this._arrow=0)}getArrowSize(){return this._arrowSize||[16,16]}setArrowSize(t){Array.isArray(t)?this._arrowSize=t:"number"==typeof t&&(this._arrowSize=[t,t])}drawArrow(t,e,i,n,o){var r=this.getArrowSize()[0]*o,s=lO(e,i),a=(e[0]-i[0])/s,l=(e[1]-i[1])/s;n=Math.max(this.getArrowSize()[1]/2,n/2)*o,t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[0]-r*a+n*l,e[1]-r*l-n*a),t.lineTo(e[0]-r*a-n*l,e[1]-r*l+n*a),t.lineTo(e[0],e[1]),t.fill()}_render(t,e){if("LineString"===e.geometry.getType()){var i,n,o,r=e.context;if(!this._visible){var s=e.pixelRatio/e.resolution,a=Math.cos(e.rotation),l=Math.sin(e.rotation);n=e.geometry.getCoordinates();var c=t[0][0]-n[0][0]*s*a-n[0][1]*s*l,h=t[0][1]-n[0][0]*s*l+n[0][1]*s*a;for(t=[],i=0;o=n[i];i++)t[i]=[c+o[0]*s*a+o[1]*s*l,h+o[0]*s*l-o[1]*s*a,o[2]]}var A=this.getArrowSize()[0]*e.pixelRatio;r.save(),this.getOffset(0)&&this._splitAsize(t,this.getOffset(0)*e.pixelRatio),this.getOffset(1)&&this._splitAsize(t,this.getOffset(1)*e.pixelRatio,!0),t.length>1&&(-1===this.getArrow()||2===this.getArrow())&&(o=this._splitAsize(t,A),this._acolor?r.fillStyle=this._acolor:r.fillStyle=this.getColor(e.feature,0),this.drawArrow(r,o[0],o[1],this.getWidth(e.feature,0),e.pixelRatio)),t.length>1&&this.getArrow()>0&&(o=this._splitAsize(t,A,!0),this._acolor?r.fillStyle=this._acolor:r.fillStyle=this.getColor(e.feature,1),this.drawArrow(r,o[0],o[1],this.getWidth(e.feature,1),e.pixelRatio));var u=this._splitInto(t,255,2),d=0,p=u.length;if(r.lineJoin="round",r.lineCap=this._lineCap||"butt",u.length>1)for(d=0;d<u.length;d++){var g=d/p;for(n=u[d],r.lineWidth=this.getWidth(e.feature,g)*e.pixelRatio,r.strokeStyle=this.getColor(e.feature,g),r.beginPath(),r.moveTo(n[0][0],n[0][1]),i=1;o=n[i];i++)r.lineTo(o[0],o[1]);r.stroke()}r.restore()}}_splitAsize(t,e,i){var n,o,r,s,a=0;for(n=r=i?t.pop():t.shift();t.length;){if(o=i?t.pop():t.shift(),a+(s=lO(n,o))>e){n=[n[0]+(o[0]-n[0])*(e-a)/s,n[1]+(o[1]-n[1])*(e-a)/s],s=lO(n,r),i?(t.push(o),t.push(n),t.push([n[0]+(r[0]-n[0])/s,n[1]+(r[1]-n[1])/s])):(t.unshift(o),t.unshift(n),t.unshift([n[0]+(r[0]-n[0])/s,n[1]+(r[1]-n[1])/s]));break}a+=s,n=o}return[r,n]}_splitInto(t,e,i){var n,o,r,s=this._noOverlap?1:.9,a=[],l=0;for(n=1;o=t[n];n++)l+=lO(t[n-1],o);var c=Math.max(i||2,l/(e||255)),h=t[0];l=0;var A=[h];for(n=1,o=t[1];n<t.length;){var u=o[0]-h[0],d=o[1]-h[1];if(l+(r=Math.sqrt(u*u+d*d))>c){var p=(c-l)/r;A.push([h[0]+u*p,h[1]+d*p]),a.push(A),A=[h=[h[0]+u*p*s,h[1]+d*p*s]],l=0}else l+=r,h=o,A.push(h),o=t[++n]}return a.push(A),a}};const jO="select";class GO extends Dm{constructor(t,e,i,n){super(t),this.selected=e,this.deselected=i,this.mapBrowserEvent=n}}const VO={};class KO extends SS{constructor(t){let e;if(super(),this.on,this.once,this.un,t=t||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=t.condition?t.condition:DS,this.addCondition_=t.addCondition?t.addCondition:US,this.removeCondition_=t.removeCondition?t.removeCondition:US,this.toggleCondition_=t.toggleCondition?t.toggleCondition:zS,this.multi_=!!t.multi&&t.multi,this.filter_=t.filter?t.filter:Xm,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.style_=void 0!==t.style?t.style:function(){const t=NC();return qm(t.Polygon,t.LineString),qm(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}(),this.features_=t.features||new tx,t.layers)if("function"==typeof t.layers)e=t.layers;else{const i=t.layers;e=function(t){return i.includes(t)}}else e=Xm;this.layerFilter_=e,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(t,e){this.featureLayerAssociation_[yb(t)]=e}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(t){return this.featureLayerAssociation_[yb(t)]}setHitTolerance(t){this.hitTolerance_=t}setMap(t){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(t),t?(this.features_.addEventListener($w,this.boundAddFeature_),this.features_.addEventListener(Yw,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener($w,this.boundAddFeature_),this.features_.removeEventListener(Yw,this.boundRemoveFeature_))}addFeature_(t){const e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){const t=this.getMap().getAllLayers().find((function(t){if(t instanceof IM&&t.getSource()&&t.getSource().hasFeature(e))return t}));t&&this.addFeatureLayerAssociation_(e,t)}}removeFeature_(t){this.style_&&this.restorePreviousStyle_(t.element)}getStyle(){return this.style_}applySelectedStyle_(t){const e=yb(t);e in VO||(VO[e]=t.getStyle()),t.setStyle(this.style_)}restorePreviousStyle_(t){const e=this.getMap().getInteractions().getArray();for(let n=e.length-1;n>=0;--n){const i=e[n];if(i!==this&&i instanceof KO&&i.getStyle()&&-1!==i.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(i.getStyle())}const i=yb(t);t.setStyle(VO[i]),delete VO[i]}removeFeatureLayerAssociation_(t){delete this.featureLayerAssociation_[yb(t)]}handleEvent(t){if(!this.condition_(t))return!0;const e=this.addCondition_(t),i=this.removeCondition_(t),n=this.toggleCondition_(t),o=!e&&!i&&!n,r=t.map,s=this.getFeatures(),a=[],l=[];if(o){tb(this.featureLayerAssociation_),r.forEachFeatureAtPixel(t.pixel,((t,e)=>{if(t instanceof Cb&&this.filter_(t,e))return this.addFeatureLayerAssociation_(t,e),l.push(t),!this.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=s.getLength()-1;t>=0;--t){const e=s.item(t),i=l.indexOf(e);i>-1?l.splice(i,1):(s.remove(e),a.push(e))}0!==l.length&&s.extend(l)}else{r.forEachFeatureAtPixel(t.pixel,((t,o)=>{if(t instanceof Cb&&this.filter_(t,o))return!e&&!n||s.getArray().includes(t)?(i||n)&&s.getArray().includes(t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(this.addFeatureLayerAssociation_(t,o),l.push(t)),!this.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=a.length-1;t>=0;--t)s.remove(a[t]);s.extend(l)}return(l.length>0||a.length>0)&&this.dispatchEvent(new GO(jO,l,a,t)),!0}}var qO=class extends KO{constructor(t){t=t||{};var e=new IM({source:new Qk({features:new tx,wrapX:t.wrapX,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:t.featureStyle});if(t.layers)if("function"==typeof t.layers){var i=t.layers;t.layers=function(t){return t===e||i(t)}}else t.layers.push&&t.layers.push(e);if(t.filter){var n=t.filter;t.filter=function(t,e){return!(!e&&t.get("selectclusterlink"))&&n(t,e)}}else t.filter=function(t,e){return!(!e&&t.get("selectclusterlink"))};!1!==t.autoClose||t.toggleCondition||(t.toggleCondition=DS),super(t),this.overlayLayer_=e,this.filter_=t.filter,this.pointRadius=t.pointRadius||12,this.circleMaxObjects=t.circleMaxObjects||10,this.maxObjects=t.maxObjects||60,this.spiral=!1!==t.spiral,this.animate=t.animate,this.animationDuration=t.animationDuration||500,this.selectCluster_=!1!==t.selectCluster,this._autoClose=!1!==t.autoClose,this.on("select",this.selectCluster.bind(this))}setMap(t){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),this._listener&&mb(this._listener),this._listener=null,super.setMap(t),this.overlayLayer_.setMap(t),t&&t.getView()&&(this._listener=t.getView().on("change:resolution",this.clear.bind(this)))}clear(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()}getLayer(){return this.overlayLayer_}selectCluster(t){if(t instanceof Cb&&(t={selected:[t]}),t.selected.length){var e=t.selected[0];if(!e.get("selectclusterfeature")){var i=this.overlayLayer_.getSource();this._autoClose&&i.clear();var n=e.get("features");if(n&&1!=n.length){this.selectCluster_||this.getFeatures().clear();var o,r,s,a,l,c,h,A=e.getGeometry().getCoordinates(),u=this.getMap().getView().getResolution(),d=[];if(!this.spiral||n.length<=this.circleMaxObjects)for(a=Math.min(n.length,this.circleMaxObjects),o=u*this.pointRadius*(.5+a/4),s=0;s<a;s++)r=2*Math.PI*s/a,2!=a&&4!=a||(r+=Math.PI/4),l=[A[0]+o*Math.sin(r),A[1]+o*Math.cos(r)],(c=new Cb({selectclusterfeature:!0,features:[n[s]],geometry:new mw(l)})).setStyle(n[s].getStyle()),d.push(c),h=new Cb({selectclusterlink:!0,geometry:new vk([A,l])}),d.push(h);else{r=0;var p=2*this.pointRadius;for(a=Math.min(this.maxObjects,n.length),s=0;s<a;s++){r+=(p+.1)/(o=p/2+p*r/(2*Math.PI));var g=u*o*Math.sin(r),f=u*o*Math.cos(r);l=[A[0]+g,A[1]+f],(c=new Cb({selectclusterfeature:!0,features:[n[s]],geometry:new mw(l)})).setStyle(n[s].getStyle()),d.push(c),h=new Cb({selectclusterlink:!0,geometry:new vk([A,l])}),d.push(h)}}e.set("selectcluserfeatures",d),this.animate?this.animateCluster_(A,d):i.addFeatures(d)}}}else{this._autoClose?this.clear():t.deselected.forEach((t=>{var e=t.get("selectcluserfeatures");e&&e.forEach((t=>{this.overlayLayer_.getSource().removeFeature(t)}))}))}}animateCluster_(t,e){if(this.listenerKey_&&mb(this.listenerKey_),e.length){var i=this.overlayLayer_.getStyle(),n="function"==typeof i?i:i.length?function(){return i}:function(){return[i]},o=this.animationDuration||500,r=(new Date).getTime();this.listenerKey_=this.overlayLayer_.on(["postcompose","postrender"],function(i){for(var s,a=i.vectorContext||MM(i),l=i.frameState.pixelRatio,c=this.getMap().getView().getResolution(),h=Tx((i.frameState.time-r)/o),A=0;s=e[A];A++)if(s.get("features")){var u=s.getGeometry().getCoordinates();u[0]=t[0]+h*(u[0]-t[0]),u[1]=t[1]+h*(u[1]-t[1]);for(var d=new mw(u),p=n(s,c),g=0;g<p.length;g++){var f,m=!gE.prototype.getFeaturesAtPixel&&p[g].getImage();m&&(f=m.getScale(),m.setScale(l)),a.setStyle?(a.setStyle(p[g]),a.drawGeometry(d)):(a.setImageStyle(m),a.drawPointGeometry(d)),m&&m.setScale(f)}}if(h>1)return mb(this.listenerKey_),this.overlayLayer_.getSource().addFeatures(e),void this.overlayLayer_.changed();i.frameState.animate=!0}.bind(this));var s=new Cb(new mw(this.getMap().getView().getCenter()));s.setStyle(new MC({image:new TC({})})),this.overlayLayer_.getSource().addFeature(s)}}getClusterExtent(t){if(!t.get("features"))return null;var e=[1/0,1/0,-1/0,-1/0];return t.get("features").forEach((function(t){e=Yb(e,t.getGeometry().getExtent())})),e[0]===e[2]&&e[1]===e[3]?null:e}};class WO extends FS{constructor(t){super(t=t||{}),this.condition_=t.condition?t.condition:zS,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==t.duration?t.duration:400}handleDragEvent(t){if(!GS(t))return;const e=t.map,i=e.getSize(),n=t.pixel,o=n[0]-i[0]/2,r=i[1]/2-n[1],s=Math.atan2(r,o),a=Math.sqrt(o*o+r*r),l=e.getView();if(void 0!==this.lastAngle_){const t=this.lastAngle_-s;l.adjustRotationInternal(t)}this.lastAngle_=s,void 0!==this.lastMagnitude_&&l.adjustResolutionInternal(this.lastMagnitude_/a),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/a),this.lastMagnitude_=a}handleUpEvent(t){if(!GS(t))return!0;const e=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,i),this.lastScaleDelta_=0,!1}handleDownEvent(t){return!!GS(t)&&(!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))}}function XO(t){return parseFloat(t)}function $O(t){return function(t){return Jv(t,5)}(t).toString()}function YO(t,e){return!isNaN(t)&&t!==XO($O(e))}class ZO extends SS{constructor(t){let e;super(),e=!0===(t=Object.assign({animate:!0,params:["x","y","z","r","l"],replace:!1,prefix:""},t||{})).animate?{duration:250}:t.animate?t.animate:null,this.animationOptions_=e,this.params_=t.params.reduce(((t,e)=>(t[e]=!0,t)),{}),this.replace_=t.replace,this.prefix_=t.prefix,this.listenerKeys_=[],this.initial_=!0,this.updateState_=this.updateState_.bind(this),this.trackedCallbacks_={},this.trackedValues_={}}getParamName_(t){return this.prefix_?this.prefix_+t:t}get_(t,e){return t.get(this.getParamName_(e))}set_(t,e,i){e in this.params_&&t.set(this.getParamName_(e),i)}delete_(t,e){e in this.params_&&t.delete(this.getParamName_(e))}setMap(t){const e=this.getMap();super.setMap(t),t!==e&&(e&&this.unregisterListeners_(e),t&&(this.initial_=!0,this.updateState_(),this.registerListeners_(t)))}registerListeners_(t){this.listenerKeys_.push(db(t,sS,this.updateUrl_,this),db(t.getLayerGroup(),nb,this.updateUrl_,this),db(t,"change:layergroup",this.handleChangeLayerGroup_,this)),this.replace_||addEventListener("popstate",this.updateState_)}unregisterListeners_(t){for(let n=0,o=this.listenerKeys_.length;n<o;++n)gb(this.listenerKeys_[n]);this.listenerKeys_.length=0,this.replace_||removeEventListener("popstate",this.updateState_);const e=new URL(window.location.href),i=e.searchParams;this.delete_(i,"x"),this.delete_(i,"y"),this.delete_(i,"z"),this.delete_(i,"r"),this.delete_(i,"l"),window.history.replaceState(null,"",e)}handleChangeLayerGroup_(){const t=this.getMap();t&&(this.unregisterListeners_(t),this.registerListeners_(t),this.initial_=!0,this.updateUrl_())}updateState_(){const t=new URL(window.location.href).searchParams;for(const h in this.trackedCallbacks_){const e=t.get(h);h in this.trackedCallbacks_&&e!==this.trackedValues_[h]&&(this.trackedValues_[h]=e,this.trackedCallbacks_[h](e))}const e=this.getMap();if(!e)return;const i=e.getView();if(!i)return;let n=!1;const o={},r=XO(this.get_(t,"z"));"z"in this.params_&&YO(r,i.getZoom())&&(n=!0,o.zoom=r);const s=XO(this.get_(t,"r"));"r"in this.params_&&YO(s,i.getRotation())&&(n=!0,o.rotation=s);const a=[XO(this.get_(t,"x")),XO(this.get_(t,"y"))];("x"in this.params_||"y"in this.params_)&&function(t,e){return YO(t[0],e[0])||YO(t[1],e[1])}(a,i.getCenter())&&(n=!0,o.center=a),n&&(!this.initial_&&this.animationOptions_?i.animate(Object.assign(o,this.animationOptions_)):(o.center&&i.setCenter(o.center),"zoom"in o&&i.setZoom(o.zoom),"rotation"in o&&i.setRotation(o.rotation)));const l=e.getAllLayers(),c=this.get_(t,"l");if("l"in this.params_&&c&&c.length===l.length)for(let h=0,A=l.length;h<A;++h){const t=parseInt(c[h]);if(!isNaN(t)){const e=Boolean(t),i=l[h];i.getVisible()!==e&&i.setVisible(e)}}}track(t,e){this.trackedCallbacks_[t]=e;const i=new URL(window.location.href).searchParams.get(t);return this.trackedValues_[t]=i,i}update(t,e){const i=new URL(window.location.href),n=i.searchParams;null===e?n.delete(t):n.set(t,e),t in this.trackedValues_&&(this.trackedValues_[t]=e),this.updateHistory_(i)}updateUrl_(){const t=this.getMap();if(!t)return;const e=t.getView();if(!e)return;const i=e.getCenter(),n=e.getZoom(),o=e.getRotation(),r=t.getAllLayers(),s=new Array(r.length);for(let c=0,h=r.length;c<h;++c)s[c]=r[c].getVisible()?"1":"0";const a=new URL(window.location.href),l=a.searchParams;this.set_(l,"x",$O(i[0])),this.set_(l,"y",$O(i[1])),this.set_(l,"z",$O(n)),this.set_(l,"r",$O(o)),this.set_(l,"l",s.join("")),this.updateHistory_(a),this.initial_=!1}updateHistory_(t){t.href!==window.location.href&&(this.initial_||this.replace_?window.history.replaceState(history.state,"",t):window.history.pushState(null,"",t))}}const JO="snap";class tU extends Dm{constructor(t,e){super(t),this.vertex=e.vertex,this.vertexPixel=e.vertexPixel,this.feature=e.feature,this.segment=e.segment}}function eU(t){return t.feature?t.feature:t.element?t.element:null}const iU=[];class nU extends FS{constructor(t){const e=t=t||{};e.handleDownEvent||(e.handleDownEvent=Xm),e.stopDown||(e.stopDown=$m),super(e),this.on,this.once,this.un,this.source_=t.source?t.source:null,this.vertex_=void 0===t.vertex||t.vertex,this.edge_=void 0===t.edge||t.edge,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.rBush_=new Ak,this.GEOMETRY_SEGMENTERS_={Point:this.segmentPointGeometry_.bind(this),LineString:this.segmentLineStringGeometry_.bind(this),LinearRing:this.segmentLineStringGeometry_.bind(this),Polygon:this.segmentPolygonGeometry_.bind(this),MultiPoint:this.segmentMultiPointGeometry_.bind(this),MultiLineString:this.segmentMultiLineStringGeometry_.bind(this),MultiPolygon:this.segmentMultiPolygonGeometry_.bind(this),GeometryCollection:this.segmentGeometryCollectionGeometry_.bind(this),Circle:this.segmentCircleGeometry_.bind(this)}}addFeature(t,e){e=void 0===e||e;const i=yb(t),n=t.getGeometry();if(n){const e=this.GEOMETRY_SEGMENTERS_[n.getType()];if(e){this.indexedFeaturesExtents_[i]=n.getExtent([1/0,1/0,-1/0,-1/0]);const o=[];if(e(o,n),1===o.length)this.rBush_.insert(Ob(o[0]),{feature:t,segment:o[0]});else if(o.length>1){const e=o.map((t=>Ob(t))),i=o.map((e=>({feature:t,segment:e})));this.rBush_.load(e,i)}}}e&&(this.featureChangeListenerKeys_[i]=db(t,nb,this.handleFeatureChange_,this))}getFeatures_(){let t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t}handleEvent(t){const e=this.snapTo(t.pixel,t.coordinate,t.map);return e&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel,this.dispatchEvent(new tU(JO,{vertex:t.coordinate,vertexPixel:t.pixel,feature:e.feature,segment:e.segment}))),super.handleEvent(t)}handleFeatureAdd_(t){const e=eU(t);e&&this.addFeature(e)}handleFeatureRemove_(t){const e=eU(t);e&&this.removeFeature(e)}handleFeatureChange_(t){const e=t.target;if(this.handlingDownUpSequence){const t=yb(e);t in this.pendingFeatures_||(this.pendingFeatures_[t]=e)}else this.updateFeature_(e)}handleUpEvent(t){const e=Object.values(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1}removeFeature(t,e){const i=void 0===e||e,n=yb(t),o=this.indexedFeaturesExtents_[n];if(o){const e=this.rBush_,i=[];e.forEachInExtent(o,(function(e){t===e.feature&&i.push(e)}));for(let t=i.length-1;t>=0;--t)e.remove(i[t])}i&&(gb(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])}setMap(t){const e=this.getMap(),i=this.featuresListenerKeys_,n=this.getFeatures_();e&&(i.forEach(gb),i.length=0,this.rBush_.clear(),Object.values(this.featureChangeListenerKeys_).forEach(gb),this.featureChangeListenerKeys_={}),super.setMap(t),t&&(this.features_?i.push(db(this.features_,$w,this.handleFeatureAdd_,this),db(this.features_,Yw,this.handleFeatureRemove_,this)):this.source_&&i.push(db(this.source_,Ek,this.handleFeatureAdd_,this),db(this.source_,Tk,this.handleFeatureRemove_,this)),n.forEach((t=>this.addFeature(t))))}snapTo(t,e,i){i.getView().getProjection();const n=Oy(e),o=Uy(Ub(Ob([n]),i.getView().getResolution()*this.pixelTolerance_)),r=this.rBush_.getInExtent(o),s=r.length;if(0===s)return null;let a,l,c=1/0,h=null;const A=this.pixelTolerance_*this.pixelTolerance_,u=()=>{if(a){const e=i.getPixelFromCoordinate(a);if(Ay(t,e)<=A)return{vertex:a,vertexPixel:[Math.round(e[0]),Math.round(e[1])],feature:l,segment:h}}return null};if(this.vertex_){for(let e=0;e<s;++e){const t=r[e];"Circle"!==t.feature.getGeometry().getType()&&t.segment.forEach((e=>{const i=Oy(e),o=Ay(n,i);o<c&&(a=e,c=o,l=t.feature)}))}const t=u();if(t)return t}if(this.edge_){for(let e=0;e<s;++e){let t=null;const i=r[e];if("Circle"===i.feature.getGeometry().getType()){let e=i.feature.getGeometry();t=sy(n,e)}else{const[e,o]=i.segment;o&&(iU[0]=Oy(e),iU[1]=Oy(o),t=ay(n,iU))}if(t){const e=Ay(n,t);e<c&&(a=Ny(t),h="Circle"===i.feature.getGeometry().getType()?null:i.segment,c=e,l=i.feature)}}const t=u();if(t)return t}return null}updateFeature_(t){this.removeFeature(t,!1),this.addFeature(t,!1)}segmentCircleGeometry_(t,e){this.getMap().getView().getProjection();const i=Nw(e).getCoordinates()[0];for(let n=0,o=i.length-1;n<o;++n)t.push(i.slice(n,n+2))}segmentGeometryCollectionGeometry_(t,e){const i=e.getGeometriesArray();for(let n=0;n<i.length;++n){const e=this.GEOMETRY_SEGMENTERS_[i[n].getType()];e&&e(t,i[n])}}segmentLineStringGeometry_(t,e){const i=e.getCoordinates();for(let n=0,o=i.length-1;n<o;++n)t.push(i.slice(n,n+2))}segmentMultiLineStringGeometry_(t,e){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n){const e=i[n];for(let i=0,n=e.length-1;i<n;++i)t.push(e.slice(i,i+2))}}segmentMultiPointGeometry_(t,e){e.getCoordinates().forEach((e=>{t.push([e])}))}segmentMultiPolygonGeometry_(t,e){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n){const e=i[n];for(let i=0,n=e.length;i<n;++i){const n=e[i];for(let e=0,i=n.length-1;e<i;++e)t.push(n.slice(e,e+2))}}}segmentPointGeometry_(t,e){t.push([e.getCoordinates()])}segmentPolygonGeometry_(t,e){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n){const e=i[n];for(let i=0,n=e.length-1;i<n;++i)t.push(e.slice(i,i+2))}}}var oU=class extends FS{constructor(t){t=t||{},super({handleDownEvent:function(t){return e.handleDownEvent_(t)},handleDragEvent:function(t){return this.handleDragEvent_(t)},handleMoveEvent:function(t){return this.handleMoveEvent_(t)},handleUpEvent:function(t){return this.handleUpEvent_(t)}});var e=this;this.selection_=new tx,this.handles_=new tx,this.overlayLayer_=new IM({source:new Qk({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(t){return e.style[(t.get("handle")||"default")+(t.get("constraint")||"")+(t.get("option")||"")]},updateWhileAnimating:!0,updateWhileInteracting:!0}),this.features_=t.features,"function"==typeof t.filter&&(this._filter=t.filter),this.layers_=t.layers?t.layers instanceof Array?t.layers:[t.layers]:null,this._handleEvent=t.condition||function(){return!0},this.addFn_=t.addCondition||function(){return!1},this.setPointRadius(t.pointRadius),this.set("translateFeature",!1!==t.translateFeature),this.set("translate",!1!==t.translate),this.set("translateBBox",!0===t.translateBBox),this.set("stretch",!1!==t.stretch),this.set("scale",!1!==t.scale),this.set("rotate",!1!==t.rotate),this.set("keepAspectRatio",t.keepAspectRatio||function(t){return t.originalEvent.shiftKey}),this.set("modifyCenter",t.modifyCenter||function(t){return t.originalEvent.metaKey||t.originalEvent.ctrlKey}),this.set("noFlip",t.noFlip||!1),this.set("selection",!1!==t.selection),this.set("hitTolerance",t.hitTolerance||0),this.set("enableRotatedTransform",t.enableRotatedTransform||!1),this.set("keepRectangle",t.keepRectangle||!1),this.set("buffer",t.buffer||0),this.on("propertychange",(function(){this.drawSketch_()})),this.setDefaultStyle()}setMap(t){var e=this.getMap();if(e){var i=e.getTargetElement();e.removeLayer(this.overlayLayer_),this.previousCursor_&&i&&(i.style.cursor=this.previousCursor_),this.previousCursor_=void 0}super.setMap(t),this.overlayLayer_.setMap(t),null===t&&this.select(null),null!==t&&(this.isTouch=/touch/.test(t.getViewport().className),this.setDefaultStyle())}setActive(t){this.select(null),this.overlayLayer_&&this.overlayLayer_.setVisible(t),super.setActive(t)}setDefaultStyle(t){var e=(t=t||{}).pointStroke||new IC({color:[255,0,0,1],width:1}),i=t.stroke||new IC({color:[255,0,0,1],width:1,lineDash:[4,4]}),n=t.fill||new LC({color:[255,0,0,.01]}),o=t.pointFill||new LC({color:[255,255,255,.8]}),r=new FC({fill:o,stroke:e,radius:this.isTouch?12:6,displacement:this.isTouch?[24,-24]:[12,-12],points:15});r.setDisplacement||(r.getAnchor()[0]=this.isTouch?-10:-5);var s=new FC({fill:o,stroke:e,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),a=new FC({fill:o,stroke:e,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function l(t,e,i){return[new MC({image:t,stroke:e,fill:i})]}this.style={default:l(s,i,n),translate:l(s,e,o),rotate:l(r,e,o),rotate0:l(s,e,o),scale:l(s,e,o),scale1:l(s,e,o),scale2:l(s,e,o),scale3:l(s,e,o),scalev:l(a,e,o),scaleh1:l(a,e,o),scalev2:l(a,e,o),scaleh3:l(a,e,o)},this.drawSketch_()}setStyle(t,e){if(e){this.style[t]=e instanceof Array?e:[e];for(var i=0;i<this.style[t].length;i++){var n=this.style[t][i].getImage();n&&("rotate"==t&&(n.getAnchor()[0]=-5),this.isTouch&&n.setScale(1.8));var o=this.style[t][i].getText();o&&("rotate"==t&&o.setOffsetX(this.isTouch?14:7),this.isTouch&&o.setScale(1.8))}this.drawSketch_()}}getFeatureAtPixel_(t){var e=this;return this.getMap().forEachFeatureAtPixel(t,(function(t,i){var n=!1;if(!i){if(t===e.bbox_)return!!e.get("translateBBox")&&{feature:t,handle:"translate",constraint:"",option:""};if(e.handles_.forEach((function(e){e===t&&(n=!0)})),n)return{feature:t,handle:t.get("handle"),constraint:t.get("constraint"),option:t.get("option")}}if(!e.get("selection"))return e.selection_.getArray().some((function(e){return t===e}))?{feature:t}:null;if(e._filter)return e._filter(t,i)?{feature:t}:null;if(e.layers_){for(var o=0;o<e.layers_.length;o++)if(e.layers_[o]===i)return{feature:t};return null}return e.features_?(e.features_.forEach((function(e){e===t&&(n=!0)})),n?{feature:t}:null):{feature:t}}),{hitTolerance:this.get("hitTolerance")})||{}}getGeometryRotateToZero_(t,e){var i=t.getGeometry(),n=this.getMap().getView().getRotation();if(0===n||!this.get("enableRotatedTransform"))return e?i.clone():i;var o=i.clone();return o.rotate(-1*n,this.getMap().getView().getCenter()),o}_isRectangle(t){return!(!this.get("keepRectangle")||"Polygon"!==t.getType())&&5===t.getCoordinates()[0].length}drawSketch_(t){var e,i,n,o=this.selection_.item(0)&&this._isRectangle(this.selection_.item(0).getGeometry());if(this.overlayLayer_.getSource().clear(),this.selection_.getLength()){var r,s=this.getMap().getView().getRotation(),a=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent();o&&(r=this.getGeometryRotateToZero_(this.selection_.item(0)).getCoordinates()[0].slice(0,4)).unshift(r[3]),a=Ub(a,this.get("buffer")),this.selection_.forEach(function(t){var e=this.getGeometryRotateToZero_(t).getExtent();Yb(a,e)}.bind(this));var l=1===this.selection_.getLength()?this._pointRadius(this.selection_.item(0)):0;if(!l||l instanceof Array||(l=[l,l]),!0===t)this.ispt_||(this.overlayLayer_.getSource().addFeature(new Cb({geometry:new mw(this.center_),handle:"rotate0"})),n=Rw(a),this.get("enableRotatedTransform")&&0!==s&&n.rotate(s,this.getMap().getView().getCenter()),i=this.bbox_=new Cb(n),this.overlayLayer_.getSource().addFeature(i));else{if(this.ispt_){var c=this.getMap().getPixelFromCoordinate([a[0],a[1]]);if(c){var h=l&&l[0]||10,A=l&&l[1]||10;a=Ob([this.getMap().getCoordinateFromPixel([c[0]-h,c[1]-A]),this.getMap().getCoordinateFromPixel([c[0]+h,c[1]+A])])}}n=o?new Pw([r]):Rw(a),this.get("enableRotatedTransform")&&0!==s&&n.rotate(s,this.getMap().getView().getCenter()),i=this.bbox_=new Cb(n);var u=[],d=n.getCoordinates()[0];if(!this.ispt_||l){if(u.push(i),!this.iscircle_&&!this.ispt_&&this.get("stretch")&&this.get("scale"))for(e=0;e<d.length-1;e++)i=new Cb({geometry:new mw([(d[e][0]+d[e+1][0])/2,(d[e][1]+d[e+1][1])/2]),handle:"scale",constraint:e%2?"h":"v",option:e}),u.push(i);if(this.get("scale"))for(e=0;e<d.length-1;e++)i=new Cb({geometry:new mw(d[e]),handle:"scale",option:e}),u.push(i);this.get("translate")&&!this.get("translateFeature")&&(i=new Cb({geometry:new mw([(d[0][0]+d[2][0])/2,(d[0][1]+d[2][1])/2]),handle:"translate"}),u.push(i))}!this.iscircle_&&this.get("rotate")&&(i=new Cb({geometry:new mw(d[3]),handle:"rotate"}),u.push(i)),this.overlayLayer_.getSource().addFeatures(u)}}}select(t,e){if(t){if(t.getGeometry&&t.getGeometry()){if(e)this.selection_.push(t);else{var i=this.selection_.getArray().indexOf(t);this.selection_.removeAt(i)}this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:t,features:this.selection_})}}else this.selection_&&(this.selection_.clear(),this.drawSketch_())}setSelection(t){this.selection_.clear(),t.forEach(function(t){this.selection_.push(t)}.bind(this)),this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})}watchFeatures_(){this._featureListeners&&this._featureListeners.forEach((function(t){mb(t)})),this._featureListeners=[],this.selection_.forEach(function(t){this._featureListeners.push(t.on("change",function(){this.isUpdating_||this.drawSketch_()}.bind(this)))}.bind(this))}handleDownEvent_(t){if(this._handleEvent(t,this.selection_)){var e=this.getFeatureAtPixel_(t.pixel),i=e.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(i)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(e.handle="translate"),e.handle){this.mode_=e.handle,this.opt_=e.option,this.constraint_=e.constraint;var n=this.getMap().getView().getRotation();this.coordinate_=i.get("handle")?i.getGeometry().getCoordinates():t.coordinate,this.pixel_=this.getMap().getCoordinateFromPixel(this.coordinate_),this.geoms_=[],this.rotatedGeoms_=[];for(var o,r=[1/0,1/0,-1/0,-1/0],s=[1/0,1/0,-1/0,-1/0],a=0;o=this.selection_.item(a);a++)if(this.geoms_.push(o.getGeometry().clone()),r=Yb(r,o.getGeometry().getExtent()),this.get("enableRotatedTransform")&&0!==n){var l=this.getGeometryRotateToZero_(o,!0);this.rotatedGeoms_.push(l),s=Yb(s,l.getExtent())}if(this.extent_=Rw(r).getCoordinates()[0],this.get("enableRotatedTransform")&&0!==n&&(this.rotatedExtent_=Rw(s).getCoordinates()[0]),"rotate"===this.mode_){this.center_=this.getCenter()||av(r);var c=t.map.getTargetElement();c.style.cursor=this.Cursors.rotate0,this.previousCursor_=c.style.cursor}else this.center_=av(r);return this.angle_=Math.atan2(this.center_[1]-t.coordinate[1],this.center_[0]-t.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:t.pixel,coordinate:t.coordinate}),!0}if(this.get("selection")){if(i){this.addFn_(t)||this.selection_.clear();var h=this.selection_.getArray().indexOf(i);h<0?this.selection_.push(i):this.selection_.removeAt(h)}else this.selection_.clear();return this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:i,features:this.selection_,pixel:t.pixel,coordinate:t.coordinate}),!1}}}getCenter(){return this.get("center")}setCenter(t){return this.set("center",t)}handleDragEvent_(t){if(this._handleEvent(t,this.features_)){var e,i,n,o,r=this.getMap().getView().getRotation(),s=[this.coordinate_[0],this.coordinate_[1]],a=[t.coordinate[0],t.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":var l=Math.atan2(this.center_[1]-a[1],this.center_[0]-a[0]);if(!this.ispt)for(e=0;n=this.selection_.item(e);e++)(o=this.geoms_[e].clone()).rotate(l-this.angle_,this.center_),"Circle"==o.getType()&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),n.setGeometry(o);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:l-this.angle_,pixel:t.pixel,coordinate:t.coordinate});break;case"translate":var c=a[0]-s[0],h=a[1]-s[1];for(e=0;n=this.selection_.item(e);e++)n.getGeometry().translate(c,h);this.handles_.forEach((function(t){t.getGeometry().translate(c,h)})),this.coordinate_=t.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[c,h],pixel:t.pixel,coordinate:t.coordinate});break;case"scale":var A=this.center_;if(this.get("modifyCenter")(t)){var u=this.extent_;this.get("enableRotatedTransform")&&0!==r&&(u=this.rotatedExtent_),A=u[(Number(this.opt_)+2)%4]}var d=1==this.geoms_.length&&this._isRectangle(this.geoms_[0]),p=this.constraint_,g=this.opt_,f=this.coordinate_,m=t.coordinate;if(this.get("enableRotatedTransform")&&0!==r){var b=new mw(this.coordinate_);b.rotate(-1*r,A),f=b.getCoordinates();var v=new mw(t.coordinate);v.rotate(-1*r,A),m=v.getCoordinates()}var y=(m[0]-A[0])/(f[0]-A[0]),w=(m[1]-A[1])/(f[1]-A[1]),x=[m[0]-f[0],m[1]-f[1]];if(this.get("enableRotatedTransform")&&0!==r){var _=new mw(A);_.rotate(-1*r,this.getMap().getView().getCenter()),A=_.getCoordinates()}for(this.get("noFlip")&&(y<0&&(y=-y),w<0&&(w=-w)),this.constraint_?"h"==this.constraint_?y=1:w=1:this.get("keepAspectRatio")(t)&&(y=w=Math.min(y,w)),e=0;n=this.selection_.item(e);e++)(o=0!==r&&this.get("enableRotatedTransform")?this.rotatedGeoms_[e].clone():this.geoms_[e].clone()).applyTransform(function(t,e,n){if(n<2)return e;if(d){var r=[[6],[0,8],[2],[4]],s=[t[0],t[1]],a=[t[2],t[3]],l=[t[4],t[5]],c=[t[6],t[7]],h=[t[8],t[9]];if(p){var u=g%2==0?this._countVector(s,a):this._countVector(c,s),f=this._projectVectorOnVector(x,u),b=[...r[g],...r[g+1<r.length?g+1:0]];for(i=0;i<t.length;i+=n)e[i]=b.includes(i)?t[i]+f[0]:t[i],e[i+1]=b.includes(i)?t[i+1]+f[1]:t[i+1]}else{var v,_;switch(g){case 0:x=this._countVector(c,m),v=this._projectVectorOnVector(x,this._countVector(l,c)),_=this._projectVectorOnVector(x,this._countVector(s,c)),[e[0],e[1]]=this._movePoint(s,v),[e[4],e[5]]=this._movePoint(l,_),[e[6],e[7]]=this._movePoint(c,x),[e[8],e[9]]=this._movePoint(h,v);break;case 1:x=this._countVector(s,m),v=this._projectVectorOnVector(x,this._countVector(c,s)),_=this._projectVectorOnVector(x,this._countVector(a,s)),[e[0],e[1]]=this._movePoint(s,x),[e[2],e[3]]=this._movePoint(a,v),[e[6],e[7]]=this._movePoint(c,_),[e[8],e[9]]=this._movePoint(h,x);break;case 2:x=this._countVector(a,m),v=this._projectVectorOnVector(x,this._countVector(s,a)),_=this._projectVectorOnVector(x,this._countVector(l,a)),[e[0],e[1]]=this._movePoint(s,_),[e[2],e[3]]=this._movePoint(a,x),[e[4],e[5]]=this._movePoint(l,v),[e[8],e[9]]=this._movePoint(h,_);break;case 3:x=this._countVector(l,m),v=this._projectVectorOnVector(x,this._countVector(a,l)),_=this._projectVectorOnVector(x,this._countVector(c,l)),[e[2],e[3]]=this._movePoint(a,_),[e[4],e[5]]=this._movePoint(l,x),[e[6],e[7]]=this._movePoint(c,v)}}}else for(i=0;i<t.length;i+=n)1!=y&&(e[i]=A[0]+(t[i]-A[0])*y),1!=w&&(e[i+1]=A[1]+(t[i+1]-A[1])*w);return"Circle"==o.getType()&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),e}.bind(this)),this.get("enableRotatedTransform")&&0!==r&&o.rotate(r,this.getMap().getView().getCenter()),n.setGeometry(o);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[y,w],pixel:t.pixel,coordinate:t.coordinate})}this.isUpdating_=!1}}handleMoveEvent_(t){if(this._handleEvent(t,this.features_)&&!this.mode_){var e=this.getFeatureAtPixel_(t.pixel),i=t.map.getTargetElement();if(e.feature){var n=e.handle?this.Cursors[(e.handle||"default")+(e.constraint||"")+(e.option||"")]:this.Cursors.select;void 0===this.previousCursor_&&(this.previousCursor_=i.style.cursor),i.style.cursor=n}else void 0!==this.previousCursor_&&(i.style.cursor=this.previousCursor_),this.previousCursor_=void 0}}handleUpEvent_(t){"rotate"===this.mode_&&(t.map.getTargetElement().style.cursor=this.Cursors.default,this.previousCursor_=void 0);return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1}setPointRadius(t){this._pointRadius="function"==typeof t?t:function(){return t}}getFeatures(){return this.selection_}_projectVectorOnVector(t,e){var i=(t[0]*e[0]+t[1]*e[1])/(e[0]*e[0]+e[1]*e[1]);return[e[0]*i,e[1]*i]}_countVector(t,e){return[e[0]-t[0],e[1]-t[1]]}_movePoint(t,e){return[t[0]+e[0],t[1]+e[1]]}};oU.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"};var rU=class extends xb{constructor(t){t=t||{},super(),this.duration_="number"==typeof t.duration?t.duration>=0?t.duration:0:1e3,this.fade_="function"==typeof t.fade?t.fade:null,this.repeat_=Number(t.repeat);var e="function"==typeof t.easing?t.easing:Ix;t.revers?this.easing_=function(t){return 1-e(t)}:this.easing_=e,this.hiddenStyle=t.hiddenStyle}drawGeom_(t,e,i){var n={type:"drawing",time:t.time,feature:t.feature,start:t.start,stop:t.stop,rotation:t.rotation,style:t.style,extra:t.extra};this.dispatchEvent(n);var o=n.style instanceof Array?n.style:[n.style];this.fade_&&(t.context.globalAlpha=this.fade_(1-t.elapsed));for(var r=0;r<o.length;r++)try{var s=t.vectorContext||MM(t),a=RM(t,o[r]);s.setStyle(a),a.getZIndex()<0?s.drawGeometry(i||e):s.drawGeometry(e)}catch(vy){}}animate(){return!1}};rU.hiddenStyle=new MC({image:new TC({}),stroke:new IC({color:"transparent"})}),gE.prototype.animateFeature=function(t,e){var i=this._featureAnimationLayer;i||(i=this._featureAnimationLayer=new IM({source:new Qk})).setMap(this),i.getSource().addFeature(t);var n=e.on("animationend",(function(e){e.feature===t&&(i.getSource().removeFeature(t),mb(n))}));i.animateFeature(t,e)},Ax.prototype.animateFeature=function(t,e,i){var n,o=this,r=t.getStyle(),s=r||(this.getStyleFunction?this.getStyleFunction()(t):null);s||(s=[]),s instanceof Array||(s=[s]);var a={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:t,geom:t.getGeometry(),typeGeom:t.getGeometry().getType(),bbox:t.getGeometry().getExtent(),coord:av(t.getGeometry().getExtent()),style:s};e instanceof Array||(e=[e]);for(var l=e.length-1;l>=0;l--)0===e[l].duration_&&e.splice(l,1);var c=0,h=0,A=i&&this.getFilters?this.getFilters():[];function u(i){a.type=i.type;try{a.vectorContext=i.vectorContext||MM(i)}catch(i){}if(a.frameState=i.frameState,a.inversePixelTransform=i.inversePixelTransform,a.extent||(a.extent=i.frameState.extent,a.start=i.frameState.time,a.context=i.context),a.time=i.frameState.time-a.start,a.elapsed=a.time/e[h].duration_,a.elapsed>1&&(a.elapsed=1),i.context.save(),A.forEach((function(t){t.get("active")&&t.precompose(i)})),this.getOpacity&&(i.context.globalAlpha=this.getOpacity()),e[h].animate(a)){var n={type:"animating",step:h,start:a.start,time:a.time,elapsed:a.elapsed,rotation:a.rotation||0,geom:a.geom,coordinate:a.coord,feature:t,extra:a.extra||{},style:s};e[h].dispatchEvent(n),o.dispatchEvent(n)}else++c<e[h].repeat_?a.extent=!1:h<e.length-1?(e[h].dispatchEvent({type:"animationend",feature:t}),h++,c=0,a.extent=!1):d();A.forEach((function(t){t.get("active")&&t.postcompose(i)})),i.context.restore(),i.frameState.animate=!0}function d(i){mb(n),n=null,t.setStyle(r),a.stop=(new Date).getTime();var s={type:"animationend",feature:t};if(i)for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l]);e[h].dispatchEvent(s),o.dispatchEvent(s)}function p(i){if(e.length&&!n){if(a.stop&&(a.start=(new Date).getTime()-a.stop+a.start,a.stop=0),n=o.on(["postcompose","postrender"],u.bind(o)),o.renderSync)try{o.renderSync()}catch(l){}else o.changed();t.setStyle(e[h].hiddenStyle||rU.hiddenStyle);var r={type:"animationstart",feature:t};if(i)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s]);e[h].dispatchEvent(r),o.dispatchEvent(r)}}return p(),{start:p,stop:d,isPlaying:function(){return!!n}}};var sU=class extends rU{constructor(t){super(t=t||{}),this.speed_=t.speed||0,this.side_=t.side||"top"}animate(t){if(!t.time){var e=t.frameState.viewState.rotation,i=t.frameState.size[1]*t.frameState.viewState.resolution;"top"!=this.side_&&(i*=-1),this.dx=-Math.sin(e)*i,this.dy=Math.cos(e)*i,this.speed_&&(this.duration_=i/this.speed_/t.frameState.viewState.resolution)}var n=t.geom.clone();return n.translate(this.dx*(1-this.easing_(t.elapsed)),this.dy*(1-this.easing_(t.elapsed))),this.drawGeom_(t,n,t.geom),t.time<=this.duration_}},aU=class extends rU{constructor(t){super(t=t||{}),this.speed_=t.speed||0}animate(t){return t.context.globalAlpha=this.easing_(t.elapsed),this.drawGeom_(t,t.geom),t.time<=this.duration_}},lU=class extends rU{constructor(t){switch(super(t=t||{}),this.speed_=t.speed||0,this.path_=t.path,t.rotate){case!0:case 0:this.rotate_=0;break;default:this.rotate_=t.rotate||!1}this.path_&&this.path_.getGeometry&&(this.path_=this.path_.getGeometry()),this.path_&&this.path_.getLineString&&(this.path_=this.path_.getLineString()),this.path_.getLength?(this.dist_=this.path_.getLength(),this.path_&&this.path_.getCoordinates&&(this.path_=this.path_.getCoordinates())):this.dist_=0,this.speed_>0&&(this.duration_=this.dist_/this.speed_)}animate(t){if(!t.time&&!this.dist_)return!1;var e,i,n,o,r,s,a=this.dist_*this.easing_(t.elapsed),l=0;i=this.path_[0];for(var c=1;c<this.path_.length;c++){if(e=i,o=(i=this.path_[c])[0]-e[0],r=i[1]-e[1],(s=Math.sqrt(o*o+r*r))&&l+s>=a){t.extra={index:c,coordinates:i},n=(a-l)/s,i=[e[0]+(i[0]-e[0])*n,e[1]+(i[1]-e[1])*n];break}l+=s}var h=t.style;if(t.rotation=Math.PI/2+Math.atan2(e[1]-i[1],e[0]-i[0]),!1!==this.rotate_){var A=[],u=this.rotate_-t.rotation+t.frameState.viewState.rotation;t.rotation=Math.PI/2+Math.atan2(e[1]-i[1],e[0]-i[0]);for(var d=0;n=t.style[d];d++)n.getImage()&&n.getImage().setRotation(u),A.push(n);t.style=A}return t.geom.setCoordinates(i),this.drawGeom_(t,t.geom),t.style=h,t.time<=this.duration_}},cU=class extends rU{constructor(t){super(t=t||{}),this.amplitude_=t.amplitude||40,this.bounce_=-Math.PI*(t.bounce||6),this.horizontal_=t.horizontal}animate(t){var e=t.geom.clone(),i=t.geom.clone(),n=this.easing_(t.elapsed);return n=Math.sin(this.bounce_*n)*this.amplitude_*(1-n)*t.frameState.viewState.resolution,this.horizontal_?(e.translate(n,0),i.translate(n,0)):e.translate(0,n),this.drawGeom_(t,e,i),t.time<=this.duration_}},hU=class extends rU{constructor(t){super(t=t||{}),this.speed_=t.speed||0,this.side_=t.side||"left"}animate(t){t.time||("left"==this.side_?this.dx=t.extent[0]-t.bbox[2]:this.dx=t.extent[2]-t.bbox[0],this.speed_&&(this.duration_=Math.abs(this.dx)/this.speed_/t.frameState.viewState.resolution));var e=t.geom.clone();return e.translate(this.dx*(1-this.easing_(t.elapsed)),0),this.drawGeom_(t,e),t.time<=this.duration_}},AU=class extends rU{constructor(t){super(t)}animate(t){var e=this.easing_(t.elapsed);if(e){t.context.save();var i=t.frameState.pixelRatio;t.context.globalAlpha=e,t.context.scale(e,1/e);var n=t.frameState.coordinateToPixelTransform,o=(1/e-1)*i*(n[0]*t.coord[0]+n[1]*t.coord[1]+n[4]),r=(e-1)*i*(n[2]*t.coord[0]+n[3]*t.coord[1]+n[5]);t.context.translate(o,r),this.drawGeom_(t,t.geom),t.context.restore()}return t.time<=this.duration_}},uU=class extends rU{constructor(t){super(t=t||{}),this.set("zoomout",t.zoomOut)}animate(t){var e=this.easing_(t.elapsed);if(e){this.get("zoomout")&&(e=1/e);var i,n,o=t.style,r=[];for(i=0;i<o.length;i++)(n=o[i].getImage())&&(r[i]=n.getScale(),"postrender"===t.type?n.setScale(r[i]*e/t.frameState.pixelRatio):n.setScale(r[i]*e));for(this.drawGeom_(t,t.geom),i=0;i<o.length;i++)(n=o[i].getImage())&&n.setScale(r[i])}return t.time<=this.duration_}};const dU=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Cb,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let i=e.dataProjection?Cy(e.dataProjection):this.readProjection(t);e.extent&&i&&"tile-pixels"===i.getUnits()&&(i=Cy(i),i.setWorldExtent(e.extent)),e={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return bb()}readFeature(t,e){return bb()}readFeatures(t,e){return bb()}readGeometry(t,e){return bb()}readProjection(t){return bb()}writeFeature(t,e){return bb()}writeFeatures(t,e){return bb()}writeGeometry(t,e){return bb()}};function pU(t,e,i){const n=i?Cy(i.featureProjection):null,o=i?Cy(i.dataProjection):null;let r=t;if(n&&o&&!Ty(n,o)){e&&(r=t.clone());const i=e?n:o,s=e?o:n;"tile-pixels"===i.getUnits()?r.transform(i,s):r.applyTransform(Iy(i,s))}if(e&&i&&void 0!==i.decimals){const e=Math.pow(10,i.decimals),n=function(t){for(let i=0,n=t.length;i<n;++i)t[i]=Math.round(t[i]*e)/e;return t};r===t&&(r=t.clone()),r.applyTransform(n)}return r}function gU(t,e){const i=e?Cy(e.featureProjection):null,n=e?Cy(e.dataProjection):null;return i&&n&&!Ty(i,n)?Py(t,n,i):t}const fU={Point:mw,LineString:vk,Polygon:Pw,MultiPoint:wk,MultiLineString:yk,MultiPolygon:_k};function mU(t,e){var i;const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map((e=>mU({...t,geometry:e}))).flat();const o="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===o||"Circle"===o)throw new Error("Unsupported geometry type: "+o);const r=n.layout.length;return pU(new Sk(o,"Polygon"===o?function(t,e,i){return Array.isArray(e[0])?(Tw(t,0,e,i)||Iw(t=t.slice(),0,e,i),t):(Fw(t,0,e,i)||Lw(t=t.slice(),0,e,i),t)}(n.flatCoordinates,n.ends,r):n.flatCoordinates,null===(i=n.ends)||void 0===i?void 0:i.flat(),r,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function bU(t,e){if(!t)return null;if(Array.isArray(t)){const i=t.map((t=>bU(t,e)));return new gk(i)}return pU(new(0,fU[t.type])(t.flatCoordinates,t.layout,t.ends),!1,e)}class vU extends dU{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(yU(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(yU(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return bb()}readFeaturesFromObject(t,e){return bb()}readGeometry(t,e){return this.readGeometryFromObject(yU(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return bb()}readProjection(t){return this.readProjectionFromObject(yU(t))}readProjectionFromObject(t){return bb()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return bb()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return bb()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return bb()}}function yU(t){if("string"==typeof t){const e=JSON.parse(t);return e||null}return null!==t?t:null}const wU={Point:function(t){let e;e=void 0!==t.m&&void 0!==t.z?new mw([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new mw([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new mw([t.x,t.y,t.m],"XYM"):new mw([t.x,t.y]);return e},LineString:function(t){const e=CU(t);return new vk(t.paths[0],e)},Polygon:function(t){const e=CU(t);return new Pw(t.rings,e)},MultiPoint:function(t){const e=CU(t);return new wk(t.points,e)},MultiLineString:function(t){const e=CU(t);return new yk(t.paths,e)},MultiPolygon:function(t){const e=CU(t);return new _k(t.rings,e)}},xU={Point:function(t,e){const i=t.getCoordinates();let n;const o=t.getLayout();if("XYZ"===o)n={x:i[0],y:i[1],z:i[2]};else if("XYM"===o)n={x:i[0],y:i[1],m:i[2]};else if("XYZM"===o)n={x:i[0],y:i[1],z:i[2],m:i[3]};else{if("XY"!==o)throw new Error("Invalid geometry layout");n={x:i[0],y:i[1]}}return n},LineString:function(t,e){const i=BU(t);return{hasZ:i.hasZ,hasM:i.hasM,paths:[t.getCoordinates()]}},Polygon:function(t,e){const i=BU(t);return{hasZ:i.hasZ,hasM:i.hasM,rings:t.getCoordinates(!1)}},MultiPoint:function(t,e){const i=BU(t);return{hasZ:i.hasZ,hasM:i.hasM,points:t.getCoordinates()}},MultiLineString:function(t,e){const i=BU(t);return{hasZ:i.hasZ,hasM:i.hasM,paths:t.getCoordinates()}},MultiPolygon:function(t,e){const i=BU(t),n=t.getCoordinates(!1),o=[];for(let r=0;r<n.length;r++)for(let t=n[r].length-1;t>=0;t--)o.push(n[r][t]);return{hasZ:i.hasZ,hasM:i.hasM,rings:o}}};function _U(t,e){if(!t)return null;let i;if("number"==typeof t.x&&"number"==typeof t.y)i="Point";else if(t.points)i="MultiPoint";else if(t.paths){i=1===t.paths.length?"LineString":"MultiLineString"}else if(t.rings){const e=t,n=CU(e),o=function(t,e){const i=[],n=[],o=[];let r,s;for(r=0,s=t.length;r<s;++r){i.length=0,nw(i,0,t[r],e.length);kw(i,0,i.length,e.length)?n.push([t[r]]):o.push(t[r])}for(;o.length;){const t=o.shift();let e=!1;for(r=n.length-1;r>=0;r--){const i=n[r][0];if(zb(new fw(i).getExtent(),new fw(t).getExtent())){n[r].push(t),e=!0;break}}e||n.push([t.reverse()])}return n}(e.rings,n);1===o.length?(i="Polygon",t=Object.assign({},t,{rings:o[0]})):(i="MultiPolygon",t=Object.assign({},t,{rings:o}))}return pU((0,wU[i])(t),!1,e)}function CU(t){let e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function BU(t){const e=t.getLayout();return{hasZ:"XYZ"===e||"XYZM"===e,hasM:"XYM"===e||"XYZM"===e}}function SU(t,e){return(0,xU[t.getType()])(pU(t,!0,e),e)}const EU=class extends vU{constructor(t){t=t||{},super(),this.geometryName_=t.geometryName}readFeatureFromObject(t,e,i){const n=t,o=_U(n.geometry,e),r=new Cb;if(this.geometryName_&&r.setGeometryName(this.geometryName_),r.setGeometry(o),n.attributes){r.setProperties(n.attributes,!0);const t=n.attributes[i];void 0!==t&&r.setId(t)}return r}readFeaturesFromObject(t,e){if(e=e||{},t.features){const i=[],n=t.features;for(let o=0,r=n.length;o<r;++o)i.push(this.readFeatureFromObject(n[o],e,t.objectIdFieldName));return i}return[this.readFeatureFromObject(t,e)]}readGeometryFromObject(t,e){return _U(t,e)}readProjectionFromObject(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){return Cy("EPSG:"+t.spatialReference.wkid)}return null}writeGeometryObject(t,e){return SU(t,this.adaptOptions(e))}writeFeatureObject(t,e){e=this.adaptOptions(e);const i={};if(!t.hasProperties())return i.attributes={},i;const n=t.getProperties(),o=t.getGeometry();if(o){i.geometry=SU(o,e);const r=e&&(e.dataProjection||e.featureProjection);r&&(i.geometry.spatialReference={wkid:Number(Cy(r).getCode().split(":").pop())}),delete n[t.getGeometryName()]}return eb(n)?i.attributes={}:i.attributes=n,i}writeFeaturesObject(t,e){e=this.adaptOptions(e);const i=[];for(let n=0,o=t.length;n<o;++n)i.push(this.writeFeatureObject(t[n],e));return{features:i}}};function kU(t,e){if(!t)return null;let i;switch(t.type){case"Point":i=function(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:Xy(e.length)}}(t);break;case"LineString":i=function(t){var e;const i=t.coordinates,n=i.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:Xy((null===(e=i[0])||void 0===e?void 0:e.length)||2)}}(t);break;case"Polygon":i=function(t){var e;const i=t.coordinates,n=[],o=null===(e=i[0])||void 0===e||null===(e=e[0])||void 0===e?void 0:e.length,r=ow(n,0,i,o);return{type:"Polygon",flatCoordinates:n,ends:r,layout:Xy(o)}}(t);break;case"MultiPoint":i=function(t){var e;const i=t.coordinates;return{type:"MultiPoint",flatCoordinates:i.flat(),layout:Xy((null===(e=i[0])||void 0===e?void 0:e.length)||2)}}(t);break;case"MultiLineString":i=function(t){var e;const i=t.coordinates,n=(null===(e=i[0])||void 0===e||null===(e=e[0])||void 0===e?void 0:e.length)||2,o=[],r=ow(o,0,i,n);return{type:"MultiLineString",flatCoordinates:o,ends:r,layout:Xy(n)}}(t);break;case"MultiPolygon":i=function(t){var e;const i=t.coordinates,n=[],o=(null===(e=i[0])||void 0===e||null===(e=e[0])||void 0===e?void 0:e[0].length)||2,r=rw(n,0,i,o);return{type:"MultiPolygon",flatCoordinates:n,ends:r,layout:Xy(o)}}(t);break;case"GeometryCollection":i=function(t,e){const i=t.geometries.map((function(t){return kU(t)}));return i}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return i}function FU(t,e){const i=(t=pU(t,!0,e)).getType();let n;switch(i){case"Point":n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":n=function(t,e){let i;e&&(i=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(i)}}(t,e);break;case"MultiPoint":n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":n=function(t,e){let i;e&&(i=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(i)}}(t,e);break;case"GeometryCollection":n=function(t,e){e=Object.assign({},e),delete e.featureProjection;const i=t.getGeometriesArray().map((function(t){return FU(t,e)}));return{type:"GeometryCollection",geometries:i}}(t,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}const TU=class extends vU{constructor(t){t=t||{},super(),this.dataProjection=Cy(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=Cy(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let i=null;i="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};const n=kU(i.geometry);if(this.featureClass===Sk)return mU({geometry:n,id:i.id,properties:i.properties},e);const o=new Cb;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&o.setGeometryName(i.geometry_name),o.setGeometry(bU(n,e)),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(t,e){let i=null;if("FeatureCollection"===t.type){i=[];const n=t.features;for(let t=0,o=n.length;t<o;++t){const o=this.readFeatureFromObject(n[t],e);o&&i.push(o)}}else i=[this.readFeatureFromObject(t,e)];return i.flat()}readGeometryFromObject(t,e){return function(t,e){const i=kU(t);return bU(i,e)}(t,e)}readProjectionFromObject(t){const e=t.crs;let i;if(e)if("name"==e.type)i=Cy(e.properties.name);else{if("EPSG"!==e.type)throw new Error("Unknown SRS type");i=Cy("EPSG:"+e.properties.code)}else i=this.dataProjection;return i}writeFeatureObject(t,e){e=this.adaptOptions(e);const i={type:"Feature",geometry:null,properties:null},n=t.getId();if(void 0!==n&&(i.id=n),!t.hasProperties())return i;const o=t.getProperties(),r=t.getGeometry();return r&&(i.geometry=FU(r,e),delete o[t.getGeometryName()]),eb(o)||(i.properties=o),i}writeFeaturesObject(t,e){e=this.adaptOptions(e);const i=[];for(let n=0,o=t.length;n<o;++n)i.push(this.writeFeatureObject(t[n],e));return{type:"FeatureCollection",features:i}}writeGeometryObject(t,e){return FU(t,this.adaptOptions(e))}},LU="http://www.w3.org/2001/XMLSchema-instance";function IU(t,e){return tD().createElementNS(t,e)}function MU(t,e){return PU(t,e,[]).join("")}function PU(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)i.push(t.nodeValue);else{let n;for(n=t.firstChild;n;n=n.nextSibling)PU(n,e,i)}return i}function RU(t){return"documentElement"in t}function NU(t){return(new DOMParser).parseFromString(t,"application/xml")}function OU(t,e){return function(i,n){const o=t.call(void 0!==e?e:this,i,n);if(void 0!==o){qm(n[n.length-1],o)}}}function UU(t,e){return function(i,n){const o=t.call(void 0!==e?e:this,i,n);if(void 0!==o){n[n.length-1].push(o)}}}function DU(t,e){return function(i,n){const o=t.call(void 0!==e?e:this,i,n);void 0!==o&&(n[n.length-1]=o)}}function QU(t,e,i){return function(e,i){const n=t.call(this,e,i);if(void 0!==n){const t=i[i.length-1],o=e.localName;let r;o in t?r=t[o]:(r=[],t[o]=r),r.push(n)}}}function HU(t,e,i){return function(i,n){const o=t.call(this,i,n);if(void 0!==o){n[n.length-1][void 0!==e?e:i.localName]=o}}}function zU(t,e){return function(i,n,o){t.call(void 0!==e?e:this,i,n,o);o[o.length-1].node.appendChild(i)}}function jU(t,e){let i,n;return function(e,o,r){if(void 0===i){i={};const o={};o[e.localName]=t,i[e.namespaceURI]=o,n=GU(e.localName)}$U(i,n,o,r)}}function GU(t,e){return function(i,n,o){const r=n[n.length-1].node;let s=t;void 0===s&&(s=o);return IU(void 0!==e?e:r.namespaceURI,s)}}const VU=GU();function KU(t,e){const i=e.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=t[e[o]];return n}function qU(t,e,i){let n,o;for(i=void 0!==i?i:{},n=0,o=t.length;n<o;++n)i[t[n]]=e;return i}function WU(t,e,i,n){let o;for(o=e.firstElementChild;o;o=o.nextElementSibling){const e=t[o.namespaceURI];if(void 0!==e){const t=e[o.localName];void 0!==t&&t.call(n,o,i)}}}function XU(t,e,i,n,o){return n.push(t),WU(e,i,n,o),n.pop()}function $U(t,e,i,n,o,r){const s=(void 0!==o?o:i).length;let a,l;for(let c=0;c<s;++c)a=i[c],void 0!==a&&(l=e.call(void 0!==r?r:this,a,n,void 0!==o?o[c]:void 0),void 0!==l&&t[l.namespaceURI][l.localName].call(r,l,a,n))}function YU(t,e,i,n,o,r,s){return o.push(t),$U(e,i,n,o,r,s),o.pop()}let ZU,JU;function tD(){return void 0===JU&&"undefined"!=typeof document&&(JU=document.implementation.createDocument("","",null)),JU}class eD extends dU{constructor(){super(),this.xmlSerializer_=(void 0===ZU&&"undefined"!=typeof XMLSerializer&&(ZU=new XMLSerializer),ZU)}getType(){return"xml"}readFeature(t,e){if(!t)return null;if("string"==typeof t){const i=NU(t);return this.readFeatureFromDocument(i,e)}return RU(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}readFeatureFromDocument(t,e){const i=this.readFeaturesFromDocument(t,e);return i.length>0?i[0]:null}readFeatureFromNode(t,e){return null}readFeatures(t,e){if(!t)return[];if("string"==typeof t){const i=NU(t);return this.readFeaturesFromDocument(i,e)}return RU(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}readFeaturesFromDocument(t,e){const i=[];for(let n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&qm(i,this.readFeaturesFromNode(n,e));return i}readFeaturesFromNode(t,e){return bb()}readGeometry(t,e){if(!t)return null;if("string"==typeof t){const i=NU(t);return this.readGeometryFromDocument(i,e)}return RU(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}readGeometryFromDocument(t,e){return null}readGeometryFromNode(t,e){return null}readProjection(t){if(!t)return null;if("string"==typeof t){const e=NU(t);return this.readProjectionFromDocument(e)}return RU(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}readProjectionFromDocument(t){return this.dataProjection}readProjectionFromNode(t){return this.dataProjection}writeFeature(t,e){const i=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(i)}writeFeatureNode(t,e){return null}writeFeatures(t,e){const i=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(i)}writeFeaturesNode(t,e){return null}writeGeometry(t,e){const i=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(i)}writeGeometryNode(t,e){return null}}const iD="http://www.opengis.net/gml",nD=/^\s*$/;class oD extends eD{constructor(t){super(),t=t||{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:UU(this.readFeaturesInternal),featureMembers:DU(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(t,e){const i=t.localName;let n=null;if("FeatureCollection"==i)n=XU([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==i||"featureMember"==i||"member"==i){const o=e[0];let r=o.featureType,s=o.featureNS;const a="p",l="p0";if(!r&&t.childNodes){r=[],s={};for(let e=0,i=t.childNodes.length;e<i;++e){const i=t.childNodes[e];if(1===i.nodeType){const t=i.nodeName.split(":").pop();if(!r.includes(t)){let e="",n=0;const o=i.namespaceURI;for(const t in s){if(s[t]===o){e=t;break}++n}e||(e=a+n,s[e]=o),r.push(e+":"+t)}}}"featureMember"!=i&&(o.featureType=r,o.featureNS=s)}if("string"==typeof s){const t=s;s={},s[l]=t}const c={},h=Array.isArray(r)?r:[r];for(const t in s){const e={};for(let n=0,o=h.length;n<o;++n){(h[n].includes(":")?h[n].split(":")[0]:l)===t&&(e[h[n].split(":").pop()]="featureMembers"==i?UU(this.readFeatureElement,this):DU(this.readFeatureElement,this))}c[s[t]]=e}n=XU("featureMember"==i||"member"==i?void 0:[],c,t,e)}return null===n&&(n=[]),n}readGeometryOrExtent(t,e){const i=e[0];return i.srsName=t.firstElementChild.getAttribute("srsName"),i.srsDimension=t.firstElementChild.getAttribute("srsDimension"),XU(null,this.GEOMETRY_PARSERS,t,e,this)}readExtentElement(t,e){const i=e[0],n=this.readGeometryOrExtent(t,e);return n?gU(n,i):void 0}readGeometryElement(t,e){const i=e[0],n=this.readGeometryOrExtent(t,e);return n?pU(n,!1,i):void 0}readFeatureElementInternal(t,e,i){let n;const o={};for(let a=t.firstElementChild;a;a=a.nextElementSibling){let t;const r=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(t=MU(a,!1),nD.test(t)&&(t=void 0)):(i&&(t="boundedBy"===r?this.readExtentElement(a,e):this.readGeometryElement(a,e)),t?"boundedBy"!==r&&(n=r):t=this.readFeatureElementInternal(a,e,!1));const s=a.attributes.length;if(s>0&&!(t instanceof qy)){t={_content_:t};for(let e=0;e<s;e++){t[a.attributes[e].name]=a.attributes[e].value}}o[r]?(o[r]instanceof Array||(o[r]=[o[r]]),o[r].push(t)):o[r]=t}if(!i)return o;const r=new Cb(o);n&&r.setGeometryName(n);const s=t.getAttribute("fid")||function(t,e,i){return t.getAttributeNS(e,i)||""}(t,this.namespace,"id");return s&&r.setId(s),r}readFeatureElement(t,e){return this.readFeatureElementInternal(t,e,!0)}readPoint(t,e){const i=this.readFlatCoordinatesFromNode(t,e);if(i)return new mw(i,"XYZ")}readMultiPoint(t,e){const i=XU([],this.MULTIPOINT_PARSERS,t,e,this);if(i)return new wk(i)}readMultiLineString(t,e){const i=XU([],this.MULTILINESTRING_PARSERS,t,e,this);if(i)return new yk(i)}readMultiPolygon(t,e){const i=XU([],this.MULTIPOLYGON_PARSERS,t,e,this);if(i)return new _k(i)}pointMemberParser(t,e){WU(this.POINTMEMBER_PARSERS,t,e,this)}lineStringMemberParser(t,e){WU(this.LINESTRINGMEMBER_PARSERS,t,e,this)}polygonMemberParser(t,e){WU(this.POLYGONMEMBER_PARSERS,t,e,this)}readLineString(t,e){const i=this.readFlatCoordinatesFromNode(t,e);if(i){return new vk(i,"XYZ")}}readFlatLinearRing(t,e){const i=XU(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);if(i)return i}readLinearRing(t,e){const i=this.readFlatCoordinatesFromNode(t,e);if(i)return new fw(i,"XYZ")}readPolygon(t,e){const i=XU([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(i&&i[0]){const t=i[0],e=[t.length];let n,o;for(n=1,o=i.length;n<o;++n)qm(t,i[n]),e.push(t.length);return new Pw(t,"XYZ",e)}}readFlatCoordinatesFromNode(t,e){return XU(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)}readGeometryFromNode(t,e){const i=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return i||null}readFeaturesFromNode(t,e){const i={featureType:this.featureType,featureNS:this.featureNS};i&&Object.assign(i,this.getReadOptions(t,e));return this.readFeaturesInternal(t,[i])||[]}readProjectionFromNode(t){return Cy(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))}}function rD(t){return sD(MU(t,!1))}function sD(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return void 0!==e[1]||!1}function aD(t){const e=MU(t,!1),i=Date.parse(e);return isNaN(i)?void 0:i/1e3}function lD(t){return cD(MU(t,!1))}function cD(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function hD(t){return AD(MU(t,!1))}function AD(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function uD(t){return MU(t,!1).trim()}function dD(t,e){fD(t,e?"1":"0")}function pD(t,e){const i=e.toPrecision();t.appendChild(tD().createTextNode(i))}function gD(t,e){const i=e.toString();t.appendChild(tD().createTextNode(i))}function fD(t,e){t.appendChild(tD().createTextNode(e))}oD.prototype.namespace=iD,oD.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},oD.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},oD.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},oD.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:UU(oD.prototype.pointMemberParser),pointMembers:UU(oD.prototype.pointMemberParser)}},oD.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:UU(oD.prototype.lineStringMemberParser),lineStringMembers:UU(oD.prototype.lineStringMemberParser)}},oD.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:UU(oD.prototype.polygonMemberParser),polygonMembers:UU(oD.prototype.polygonMemberParser)}},oD.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:UU(oD.prototype.readFlatCoordinatesFromNode)}},oD.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:UU(oD.prototype.readLineString)}},oD.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:UU(oD.prototype.readPolygon)}},oD.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:DU(oD.prototype.readFlatLinearRing)}};const mD=iD+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",bD={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class vD extends oD{constructor(t){super(t=t||{}),this.FEATURE_COLLECTION_PARSERS[iD].featureMember=UU(this.readFeaturesInternal),this.schemaLocation=t.schemaLocation?t.schemaLocation:mD}readFlatCoordinates(t,e){const i=MU(t,!1).replace(/^\s*|\s*$/g,""),n=e[0].srsName;let o="enu";if(n){const t=Cy(n);t&&(o=t.getAxisOrientation())}const r=i.trim().split(/\s+/),s=[];for(let a=0,l=r.length;a<l;a++){const t=r[a].split(/,+/),e=parseFloat(t[0]),i=parseFloat(t[1]),n=3===t.length?parseFloat(t[2]):0;"en"===o.substr(0,2)?s.push(e,i,n):s.push(i,e,n)}return s}readBox(t,e){const i=XU([null],this.BOX_PARSERS_,t,e,this);return Kb(i[1][0],i[1][1],i[1][3],i[1][4])}innerBoundaryIsParser(t,e){const i=XU(void 0,this.RING_PARSERS,t,e,this);if(i){e[e.length-1].push(i)}}outerBoundaryIsParser(t,e){const i=XU(void 0,this.RING_PARSERS,t,e,this);if(i){e[e.length-1][0]=i}}GEOMETRY_NODE_FACTORY_(t,e,i){const n=e[e.length-1],o=n.multiSurface,r=n.surface,s=n.multiCurve;return Array.isArray(t)?i="Envelope":"MultiPolygon"===(i=t.getType())&&!0===o?i="MultiSurface":"Polygon"===i&&!0===r?i="Surface":"MultiLineString"===i&&!0===s&&(i="MultiCurve"),IU("http://www.opengis.net/gml",i)}writeFeatureElement(t,e,i){const n=e.getId();n&&t.setAttribute("fid",n);const o=i[i.length-1],r=o.featureNS,s=e.getGeometryName();o.serializers||(o.serializers={},o.serializers[r]={});const a=[],l=[];if(e.hasProperties()){const t=e.getProperties();for(const e in t){const i=t[e];null!==i&&(a.push(e),l.push(i),e==s||"function"==typeof i.getSimplifiedGeometry?e in o.serializers[r]||(o.serializers[r][e]=zU(this.writeGeometryElement,this)):e in o.serializers[r]||(o.serializers[r][e]=zU(fD)))}}const c=Object.assign({},o);c.node=t,YU(c,o.serializers,GU(void 0,r),l,i,a)}writeCurveOrLineString(t,e,i){const n=i[i.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){const n=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(n),this.writeCoordinates_(n,e,i)}else if("Curve"===t.nodeName){const n=IU(t.namespaceURI,"segments");t.appendChild(n),this.writeCurveSegments_(n,e,i)}}writeLineStringOrCurveMember(t,e,i){const n=this.GEOMETRY_NODE_FACTORY_(e,i);n&&(t.appendChild(n),this.writeCurveOrLineString(n,e,i))}writeMultiCurveOrLineString(t,e,i){const n=i[i.length-1],o=n.hasZ,r=n.srsName,s=n.curve;r&&t.setAttribute("srsName",r);const a=e.getLineStrings();YU({node:t,hasZ:o,srsName:r,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,i,void 0,this)}writeGeometryElement(t,e,i){const n=i[i.length-1],o=Object.assign({},n);let r;o.node=t,r=Array.isArray(e)?gU(e,n):pU(e,!0,n),YU(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[r],i,void 0,this)}createCoordinatesNode_(t){const e=IU(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e}writeCoordinates_(t,e,i){const n=i[i.length-1],o=n.hasZ,r=n.srsName,s=e.getCoordinates(),a=s.length,l=new Array(a);for(let c=0;c<a;++c){const t=s[c];l[c]=this.getCoords_(t,r,o)}fD(t,l.join(" "))}writeCurveSegments_(t,e,i){const n=IU(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString(n,e,i)}writeSurfaceOrPolygon(t,e,i){const n=i[i.length-1],o=n.hasZ,r=n.srsName;if("PolygonPatch"!==t.nodeName&&r&&t.setAttribute("srsName",r),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){const n=e.getLinearRings();YU({node:t,hasZ:o,srsName:r},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,n,i,void 0,this)}else if("Surface"===t.nodeName){const n=IU(t.namespaceURI,"patches");t.appendChild(n),this.writeSurfacePatches_(n,e,i)}}RING_NODE_FACTORY_(t,e,i){const n=e[e.length-1],o=n.node,r=n.exteriorWritten;return void 0===r&&(n.exteriorWritten=!0),IU(o.namespaceURI,void 0!==r?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(t,e,i){const n=IU(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon(n,e,i)}writeRing(t,e,i){const n=IU(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing(n,e,i)}getCoords_(t,e,i){let n="enu";e&&(n=Cy(e).getAxisOrientation());let o="en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];if(i){o+=","+(t[2]||0)}return o}writePoint(t,e,i){const n=i[i.length-1],o=n.hasZ,r=n.srsName;r&&t.setAttribute("srsName",r);const s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s);const a=e.getCoordinates();fD(s,this.getCoords_(a,r,o))}writeMultiPoint(t,e,i){const n=i[i.length-1],o=n.hasZ,r=n.srsName;r&&t.setAttribute("srsName",r);const s=e.getPoints();YU({node:t,hasZ:o,srsName:r},this.POINTMEMBER_SERIALIZERS,GU("pointMember"),s,i,void 0,this)}writePointMember(t,e,i){const n=IU(t.namespaceURI,"Point");t.appendChild(n),this.writePoint(n,e,i)}writeLinearRing(t,e,i){const n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n);const o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,i)}writeMultiSurfaceOrPolygon(t,e,i){const n=i[i.length-1],o=n.hasZ,r=n.srsName,s=n.surface;r&&t.setAttribute("srsName",r);const a=e.getPolygons();YU({node:t,hasZ:o,srsName:r,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,i,void 0,this)}writeSurfaceOrPolygonMember(t,e,i){const n=this.GEOMETRY_NODE_FACTORY_(e,i);n&&(t.appendChild(n),this.writeSurfaceOrPolygon(n,e,i))}writeEnvelope(t,e,i){const n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n);const o=[e[0]+" "+e[1],e[2]+" "+e[3]];YU({node:t},this.ENVELOPE_SERIALIZERS,VU,o,i,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(t,e,i){const n=e[e.length-1].node;return IU("http://www.opengis.net/gml",bD[n.nodeName])}}vD.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:DU(vD.prototype.readFlatCoordinates)}},vD.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:vD.prototype.innerBoundaryIsParser,outerBoundaryIs:vD.prototype.outerBoundaryIsParser}},vD.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:UU(vD.prototype.readFlatCoordinates)}},vD.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:DU(oD.prototype.readPoint),MultiPoint:DU(oD.prototype.readMultiPoint),LineString:DU(oD.prototype.readLineString),MultiLineString:DU(oD.prototype.readMultiLineString),LinearRing:DU(oD.prototype.readLinearRing),Polygon:DU(oD.prototype.readPolygon),MultiPolygon:DU(oD.prototype.readMultiPolygon),Box:DU(vD.prototype.readBox)}},vD.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:zU(vD.prototype.writeCurveOrLineString),MultiCurve:zU(vD.prototype.writeMultiCurveOrLineString),Point:zU(vD.prototype.writePoint),MultiPoint:zU(vD.prototype.writeMultiPoint),LineString:zU(vD.prototype.writeCurveOrLineString),MultiLineString:zU(vD.prototype.writeMultiCurveOrLineString),LinearRing:zU(vD.prototype.writeLinearRing),Polygon:zU(vD.prototype.writeSurfaceOrPolygon),MultiPolygon:zU(vD.prototype.writeMultiSurfaceOrPolygon),Surface:zU(vD.prototype.writeSurfaceOrPolygon),MultiSurface:zU(vD.prototype.writeMultiSurfaceOrPolygon),Envelope:zU(vD.prototype.writeEnvelope)}},vD.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:zU(vD.prototype.writeLineStringOrCurveMember),curveMember:zU(vD.prototype.writeLineStringOrCurveMember)}},vD.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:zU(vD.prototype.writeRing),innerBoundaryIs:zU(vD.prototype.writeRing)}},vD.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:zU(vD.prototype.writePointMember)}},vD.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:zU(vD.prototype.writeSurfaceOrPolygonMember),polygonMember:zU(vD.prototype.writeSurfaceOrPolygonMember)}},vD.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:zU(fD),upperCorner:zU(fD)}};const yD=iD+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",wD={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class xD extends oD{constructor(t){super(t=t||{}),this.surface_=void 0!==t.surface&&t.surface,this.curve_=void 0!==t.curve&&t.curve,this.multiCurve_=void 0===t.multiCurve||t.multiCurve,this.multiSurface_=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:yD,this.hasZ=void 0!==t.hasZ&&t.hasZ}readMultiCurve(t,e){const i=XU([],this.MULTICURVE_PARSERS,t,e,this);if(i){return new yk(i)}}readFlatCurveRing(t,e){const i=XU([],this.MULTICURVE_PARSERS,t,e,this),n=[];for(let o=0,r=i.length;o<r;++o)qm(n,i[o].getFlatCoordinates());return n}readMultiSurface(t,e){const i=XU([],this.MULTISURFACE_PARSERS,t,e,this);if(i)return new _k(i)}curveMemberParser(t,e){WU(this.CURVEMEMBER_PARSERS,t,e,this)}surfaceMemberParser(t,e){WU(this.SURFACEMEMBER_PARSERS,t,e,this)}readPatch(t,e){return XU([null],this.PATCHES_PARSERS,t,e,this)}readSegment(t,e){return XU([],this.SEGMENTS_PARSERS,t,e,this)}readPolygonPatch(t,e){return XU([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)}readLineStringSegment(t,e){return XU([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)}interiorParser(t,e){const i=XU(void 0,this.RING_PARSERS,t,e,this);if(i){e[e.length-1].push(i)}}exteriorParser(t,e){const i=XU(void 0,this.RING_PARSERS,t,e,this);if(i){e[e.length-1][0]=i}}readSurface(t,e){const i=XU([null],this.SURFACE_PARSERS,t,e,this);if(i&&i[0]){const t=i[0],e=[t.length];let n,o;for(n=1,o=i.length;n<o;++n)qm(t,i[n]),e.push(t.length);return new Pw(t,"XYZ",e)}}readCurve(t,e){const i=XU([null],this.CURVE_PARSERS,t,e,this);if(i){return new vk(i,"XYZ")}}readEnvelope(t,e){const i=XU([null],this.ENVELOPE_PARSERS,t,e,this);return Kb(i[1][0],i[1][1],i[2][0],i[2][1])}readFlatPos(t,e){let i=MU(t,!1);const n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];let r;for(;r=n.exec(i);)o.push(parseFloat(r[1])),i=i.substr(r[0].length);if(""!==i)return;const s=e[0].srsName;let a="enu";if(s){a=Cy(s).getAxisOrientation()}if("neu"===a){let t,e;for(t=0,e=o.length;t<e;t+=3){const e=o[t],i=o[t+1];o[t]=i,o[t+1]=e}}const l=o.length;return 2==l&&o.push(0),0!==l?o:void 0}readFlatPosList(t,e){const i=MU(t,!1).replace(/^\s*|\s*$/g,""),n=e[0],o=n.srsName,r=n.srsDimension;let s="enu";if(o){s=Cy(o).getAxisOrientation()}const a=i.split(/\s+/);let l,c,h,A=2;t.getAttribute("srsDimension")?A=AD(t.getAttribute("srsDimension")):t.getAttribute("dimension")?A=AD(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?A=AD(t.parentNode.getAttribute("srsDimension")):r&&(A=AD(r));const u=[];for(let d=0,p=a.length;d<p;d+=A)l=parseFloat(a[d]),c=parseFloat(a[d+1]),h=3===A?parseFloat(a[d+2]):0,"en"===s.substr(0,2)?u.push(l,c,h):u.push(c,l,h);return u}writePos_(t,e,i){const n=i[i.length-1],o=n.hasZ,r=o?"3":"2";t.setAttribute("srsDimension",r);const s=n.srsName;let a="enu";s&&(a=Cy(s).getAxisOrientation());const l=e.getCoordinates();let c;if(c="en"===a.substr(0,2)?l[0]+" "+l[1]:l[1]+" "+l[0],o){c+=" "+(l[2]||0)}fD(t,c)}getCoords_(t,e,i){let n="enu";e&&(n=Cy(e).getAxisOrientation());let o="en"===n.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];if(i){o+=" "+(t[2]||0)}return o}writePosList_(t,e,i){const n=i[i.length-1],o=n.hasZ,r=o?"3":"2";t.setAttribute("srsDimension",r);const s=n.srsName,a=e.getCoordinates(),l=a.length,c=new Array(l);let h;for(let A=0;A<l;++A)h=a[A],c[A]=this.getCoords_(h,s,o);fD(t,c.join(" "))}writePoint(t,e,i){const n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n);const o=IU(t.namespaceURI,"pos");t.appendChild(o),this.writePos_(o,e,i)}writeEnvelope(t,e,i){const n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n);const o=[e[0]+" "+e[1],e[2]+" "+e[3]];YU({node:t},this.ENVELOPE_SERIALIZERS,VU,o,i,["lowerCorner","upperCorner"],this)}writeLinearRing(t,e,i){const n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n);const o=IU(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,i)}RING_NODE_FACTORY_(t,e,i){const n=e[e.length-1],o=n.node,r=n.exteriorWritten;return void 0===r&&(n.exteriorWritten=!0),IU(o.namespaceURI,void 0!==r?"interior":"exterior")}writeSurfaceOrPolygon(t,e,i){const n=i[i.length-1],o=n.hasZ,r=n.srsName;if("PolygonPatch"!==t.nodeName&&r&&t.setAttribute("srsName",r),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){const n=e.getLinearRings();YU({node:t,hasZ:o,srsName:r},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,n,i,void 0,this)}else if("Surface"===t.nodeName){const n=IU(t.namespaceURI,"patches");t.appendChild(n),this.writeSurfacePatches_(n,e,i)}}writeCurveOrLineString(t,e,i){const n=i[i.length-1].srsName;if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){const n=IU(t.namespaceURI,"posList");t.appendChild(n),this.writePosList_(n,e,i)}else if("Curve"===t.nodeName){const n=IU(t.namespaceURI,"segments");t.appendChild(n),this.writeCurveSegments_(n,e,i)}}writeMultiSurfaceOrPolygon(t,e,i){const n=i[i.length-1],o=n.hasZ,r=n.srsName,s=n.surface;r&&t.setAttribute("srsName",r);const a=e.getPolygons();YU({node:t,hasZ:o,srsName:r,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,i,void 0,this)}writeMultiPoint(t,e,i){const n=i[i.length-1],o=n.srsName,r=n.hasZ;o&&t.setAttribute("srsName",o);const s=e.getPoints();YU({node:t,hasZ:r,srsName:o},this.POINTMEMBER_SERIALIZERS,GU("pointMember"),s,i,void 0,this)}writeMultiCurveOrLineString(t,e,i){const n=i[i.length-1],o=n.hasZ,r=n.srsName,s=n.curve;r&&t.setAttribute("srsName",r);const a=e.getLineStrings();YU({node:t,hasZ:o,srsName:r,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,i,void 0,this)}writeRing(t,e,i){const n=IU(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing(n,e,i)}writeSurfaceOrPolygonMember(t,e,i){const n=this.GEOMETRY_NODE_FACTORY_(e,i);n&&(t.appendChild(n),this.writeSurfaceOrPolygon(n,e,i))}writePointMember(t,e,i){const n=IU(t.namespaceURI,"Point");t.appendChild(n),this.writePoint(n,e,i)}writeLineStringOrCurveMember(t,e,i){const n=this.GEOMETRY_NODE_FACTORY_(e,i);n&&(t.appendChild(n),this.writeCurveOrLineString(n,e,i))}writeSurfacePatches_(t,e,i){const n=IU(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon(n,e,i)}writeCurveSegments_(t,e,i){const n=IU(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString(n,e,i)}writeGeometryElement(t,e,i){const n=i[i.length-1],o=Object.assign({},n);let r;o.node=t,r=Array.isArray(e)?gU(e,n):pU(e,!0,n),YU(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[r],i,void 0,this)}writeFeatureElement(t,e,i){const n=e.getId();n&&t.setAttribute("fid",n);const o=i[i.length-1],r=o.featureNS,s=e.getGeometryName();o.serializers||(o.serializers={},o.serializers[r]={});const a=[],l=[];if(e.hasProperties()){const t=e.getProperties();for(const e in t){const i=t[e];null!==i&&(a.push(e),l.push(i),e==s||"function"==typeof i.getSimplifiedGeometry?e in o.serializers[r]||(o.serializers[r][e]=zU(this.writeGeometryElement,this)):e in o.serializers[r]||(o.serializers[r][e]=zU(fD)))}}const c=Object.assign({},o);c.node=t,YU(c,o.serializers,GU(void 0,r),l,i,a)}writeFeatureMembers_(t,e,i){const n=i[i.length-1],o=n.featureType,r=n.featureNS,s={};s[r]={},s[r][o]=zU(this.writeFeatureElement,this);const a=Object.assign({},n);a.node=t,YU(a,s,GU(o,r),e,i)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(t,e,i){const n=e[e.length-1].node;return IU(this.namespace,wD[n.nodeName])}GEOMETRY_NODE_FACTORY_(t,e,i){const n=e[e.length-1],o=n.multiSurface,r=n.surface,s=n.curve,a=n.multiCurve;return Array.isArray(t)?i="Envelope":"MultiPolygon"===(i=t.getType())&&!0===o?i="MultiSurface":"Polygon"===i&&!0===r?i="Surface":"LineString"===i&&!0===s?i="Curve":"MultiLineString"===i&&!0===a&&(i="MultiCurve"),IU(this.namespace,i)}writeGeometryNode(t,e){e=this.adaptOptions(e);const i=IU(this.namespace,"geom"),n={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object.assign(n,e),this.writeGeometryElement(i,t,[n]),i}writeFeaturesNode(t,e){e=this.adaptOptions(e);const i=IU(this.namespace,"featureMembers");i.setAttributeNS(LU,"xsi:schemaLocation",this.schemaLocation);const n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object.assign(n,e),this.writeFeatureMembers_(i,t,[n]),i}}xD.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:DU(xD.prototype.readFlatPos),posList:DU(xD.prototype.readFlatPosList),coordinates:DU(vD.prototype.readFlatCoordinates)}},xD.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:xD.prototype.interiorParser,exterior:xD.prototype.exteriorParser}},xD.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:DU(oD.prototype.readPoint),MultiPoint:DU(oD.prototype.readMultiPoint),LineString:DU(oD.prototype.readLineString),MultiLineString:DU(oD.prototype.readMultiLineString),LinearRing:DU(oD.prototype.readLinearRing),Polygon:DU(oD.prototype.readPolygon),MultiPolygon:DU(oD.prototype.readMultiPolygon),Surface:DU(xD.prototype.readSurface),MultiSurface:DU(xD.prototype.readMultiSurface),Curve:DU(xD.prototype.readCurve),MultiCurve:DU(xD.prototype.readMultiCurve),Envelope:DU(xD.prototype.readEnvelope)}},xD.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:UU(xD.prototype.curveMemberParser),curveMembers:UU(xD.prototype.curveMemberParser)}},xD.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:UU(xD.prototype.surfaceMemberParser),surfaceMembers:UU(xD.prototype.surfaceMemberParser)}},xD.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:UU(oD.prototype.readLineString),Curve:UU(xD.prototype.readCurve)}},xD.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:UU(oD.prototype.readPolygon),Surface:UU(xD.prototype.readSurface)}},xD.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:DU(xD.prototype.readPatch)}},xD.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:DU(xD.prototype.readSegment)}},xD.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:UU(xD.prototype.readFlatPosList),upperCorner:UU(xD.prototype.readFlatPosList)}},xD.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:DU(xD.prototype.readPolygonPatch)}},xD.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:OU(xD.prototype.readLineStringSegment)}},oD.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:DU(oD.prototype.readFlatLinearRing),Ring:DU(xD.prototype.readFlatCurveRing)}},xD.prototype.writeFeatures,xD.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:zU(xD.prototype.writeRing),interior:zU(xD.prototype.writeRing)}},xD.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:zU(fD),upperCorner:zU(fD)}},xD.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:zU(xD.prototype.writeSurfaceOrPolygonMember),polygonMember:zU(xD.prototype.writeSurfaceOrPolygonMember)}},xD.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:zU(xD.prototype.writePointMember)}},xD.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:zU(xD.prototype.writeLineStringOrCurveMember),curveMember:zU(xD.prototype.writeLineStringOrCurveMember)}},xD.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:zU(xD.prototype.writeCurveOrLineString),MultiCurve:zU(xD.prototype.writeMultiCurveOrLineString),Point:zU(xD.prototype.writePoint),MultiPoint:zU(xD.prototype.writeMultiPoint),LineString:zU(xD.prototype.writeCurveOrLineString),MultiLineString:zU(xD.prototype.writeMultiCurveOrLineString),LinearRing:zU(xD.prototype.writeLinearRing),Polygon:zU(xD.prototype.writeSurfaceOrPolygon),MultiPolygon:zU(xD.prototype.writeMultiSurfaceOrPolygon),Surface:zU(xD.prototype.writeSurfaceOrPolygon),MultiSurface:zU(xD.prototype.writeMultiSurfaceOrPolygon),Envelope:zU(xD.prototype.writeEnvelope)}};const _D=xD;_D.prototype.writeFeatures,_D.prototype.writeFeaturesNode;const CD=_D,BD=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],SD={rte:iQ,trk:nQ,wpt:oQ},ED=qU(BD,{rte:UU(iQ),trk:UU(nQ),wpt:UU(oQ)}),kD=qU(BD,{text:HU(uD,"linkText"),type:HU(uD,"linkType")}),FD=qU(BD,{name:HU(uD),email:function(t,e){const i=e[e.length-1],n=t.getAttribute("id"),o=t.getAttribute("domain");null!==n&&null!==o&&(i.email=`${n}@${o}`)},link:tQ}),TD=qU(BD,{name:HU(uD),desc:HU(uD),author:HU((function(t,e){const i=XU({},FD,t,e);if(i)return i;return})),copyright:HU((function(t,e){const i=XU({},LD,t,e);if(i){const e=t.getAttribute("author");return null!==e&&(i.author=e),i}return})),link:tQ,time:HU(aD),keywords:HU(uD),bounds:function(t,e){const i=e[e.length-1],n=t.getAttribute("minlat"),o=t.getAttribute("minlon"),r=t.getAttribute("maxlat"),s=t.getAttribute("maxlon");null!==o&&null!==n&&null!==s&&null!==r&&(i.bounds=[[parseFloat(o),parseFloat(n)],[parseFloat(s),parseFloat(r)]])},extensions:eQ}),LD=qU(BD,{year:HU(hD),license:HU(uD)}),ID=qU(BD,{rte:zU((function(t,e,i){const n=i[0],o=e.getProperties(),r={node:t};r.properties=o;const s=e.getGeometry();if("LineString"==s.getType()){const t=pU(s,!0,n);r.geometryLayout=t.getLayout(),o.rtept=t.getCoordinates()}const a=i[i.length-1].node,l=HD[a.namespaceURI],c=KU(o,l);YU(r,zD,VU,c,i,l)})),trk:zU((function(t,e,i){const n=i[0],o=e.getProperties(),r={node:t};r.properties=o;const s=e.getGeometry();if("MultiLineString"==s.getType()){const t=pU(s,!0,n);o.trkseg=t.getLineStrings()}const a=i[i.length-1].node,l=GD[a.namespaceURI],c=KU(o,l);YU(r,VD,VU,c,i,l)})),wpt:zU((function(t,e,i){const n=i[0],o=i[i.length-1];o.properties=e.getProperties();const r=e.getGeometry();if("Point"==r.getType()){const e=pU(r,!0,n);o.geometryLayout=e.getLayout(),sQ(t,e.getCoordinates(),i)}}))});const MD=qU(BD,{name:HU(uD),cmt:HU(uD),desc:HU(uD),src:HU(uD),link:tQ,number:HU(hD),extensions:eQ,type:HU(uD),rtept:function(t,e){const i=XU({},PD,t,e);if(i){const n=e[e.length-1];ZD(n.flatCoordinates,n.layoutOptions,t,i)}}}),PD=qU(BD,{ele:HU(lD),time:HU(aD)}),RD=qU(BD,{name:HU(uD),cmt:HU(uD),desc:HU(uD),src:HU(uD),link:tQ,number:HU(hD),type:HU(uD),extensions:eQ,trkseg:function(t,e){const i=e[e.length-1];WU(ND,t,e);const n=i.flatCoordinates,o=i.ends;o.push(n.length)}}),ND=qU(BD,{trkpt:function(t,e){const i=XU({},OD,t,e);if(i){const n=e[e.length-1];ZD(n.flatCoordinates,n.layoutOptions,t,i)}}}),OD=qU(BD,{ele:HU(lD),time:HU(aD)}),UD=qU(BD,{ele:HU(lD),time:HU(aD),magvar:HU(lD),geoidheight:HU(lD),name:HU(uD),cmt:HU(uD),desc:HU(uD),src:HU(uD),link:tQ,sym:HU(uD),type:HU(uD),fix:HU(uD),sat:HU(hD),hdop:HU(lD),vdop:HU(lD),pdop:HU(lD),ageofdgpsdata:HU(lD),dgpsid:HU(hD),extensions:eQ}),DD=["text","type"],QD=qU(BD,{text:zU(fD),type:zU(fD)}),HD=qU(BD,["name","cmt","desc","src","link","number","type","rtept"]),zD=qU(BD,{name:zU(fD),cmt:zU(fD),desc:zU(fD),src:zU(fD),link:zU(rQ),number:zU(gD),type:zU(fD),rtept:jU(zU(sQ))}),jD=qU(BD,["ele","time"]),GD=qU(BD,["name","cmt","desc","src","link","number","type","trkseg"]),VD=qU(BD,{name:zU(fD),cmt:zU(fD),desc:zU(fD),src:zU(fD),link:zU(rQ),number:zU(gD),type:zU(fD),trkseg:jU(zU((function(t,e,i){const n={node:t};n.geometryLayout=e.getLayout(),n.properties={},YU(n,qD,KD,e.getCoordinates(),i)})))}),KD=GU("trkpt"),qD=qU(BD,{trkpt:zU(sQ)}),WD=qU(BD,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),XD=qU(BD,{ele:zU(pD),time:zU((function(t,e){const i=new Date(1e3*e),n=i.getUTCFullYear()+"-"+ny(i.getUTCMonth()+1,2)+"-"+ny(i.getUTCDate(),2)+"T"+ny(i.getUTCHours(),2)+":"+ny(i.getUTCMinutes(),2)+":"+ny(i.getUTCSeconds(),2)+"Z";t.appendChild(tD().createTextNode(n))})),magvar:zU(pD),geoidheight:zU(pD),name:zU(fD),cmt:zU(fD),desc:zU(fD),src:zU(fD),link:zU(rQ),sym:zU(fD),type:zU(fD),fix:zU(fD),sat:zU(gD),hdop:zU(pD),vdop:zU(pD),pdop:zU(pD),ageofdgpsdata:zU(pD),dgpsid:zU(gD)}),$D={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function YD(t,e,i){const n=t.getGeometry();if(n){const t=$D[n.getType()];if(t){return IU(e[e.length-1].node.namespaceURI,t)}}}function ZD(t,e,i,n){return t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function JD(t,e,i){let n="XY",o=2;if(t.hasZ&&t.hasM?(n="XYZM",o=4):t.hasZ?(n="XYZ",o=3):t.hasM&&(n="XYM",o=3),4!==o){for(let i=0,n=e.length/4;i<n;i++)e[i*o]=e[4*i],e[i*o+1]=e[4*i+1],t.hasZ&&(e[i*o+2]=e[4*i+2]),t.hasM&&(e[i*o+2]=e[4*i+3]);if(e.length=e.length/4*o,i)for(let t=0,e=i.length;t<e;t++)i[t]=i[t]/4*o}return n}function tQ(t,e){const i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),WU(kD,t,e)}function eQ(t,e){e[e.length-1].extensionsNode_=t}function iQ(t,e){const i=e[0],n=XU({flatCoordinates:[],layoutOptions:{}},MD,t,e);if(!n)return;const o=n.flatCoordinates;delete n.flatCoordinates;const r=n.layoutOptions;delete n.layoutOptions;const s=JD(r,o),a=new vk(o,s);pU(a,!1,i);const l=new Cb(a);return l.setProperties(n,!0),l}function nQ(t,e){const i=e[0],n=XU({flatCoordinates:[],ends:[],layoutOptions:{}},RD,t,e);if(!n)return;const o=n.flatCoordinates;delete n.flatCoordinates;const r=n.ends;delete n.ends;const s=n.layoutOptions;delete n.layoutOptions;const a=JD(s,o,r),l=new yk(o,a,r);pU(l,!1,i);const c=new Cb(l);return c.setProperties(n,!0),c}function oQ(t,e){const i=e[0],n=XU({},UD,t,e);if(!n)return;const o={},r=ZD([],o,t,n),s=JD(o,r),a=new mw(r,s);pU(a,!1,i);const l=new Cb(a);return l.setProperties(n,!0),l}function rQ(t,e,i){t.setAttribute("href",e);const n=i[i.length-1].properties,o=[n.linkText,n.linkType];YU({node:t},QD,VU,o,i,DD)}function sQ(t,e,i){const n=i[i.length-1],o=n.node.namespaceURI,r=n.properties;t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0]));switch(n.geometryLayout){case"XYZM":0!==e[3]&&(r.time=e[3]);case"XYZ":0!==e[2]&&(r.ele=e[2]);break;case"XYM":0!==e[2]&&(r.time=e[2])}const s="rtept"==t.nodeName?jD[o]:WD[o],a=KU(r,s);YU({node:t,properties:r},XD,VU,a,i,s)}const aQ=class extends eD{constructor(t){super(),t=t||{},this.dataProjection=Cy("EPSG:4326"),this.readExtensions_=t.readExtensions}handleReadExtensions_(t){t||(t=[]);for(let e=0,i=t.length;e<i;++e){const i=t[e];if(this.readExtensions_){const t=i.get("extensionsNode_")||null;this.readExtensions_(i,t)}i.set("extensionsNode_",void 0)}}readMetadata(t){return t?"string"==typeof t?this.readMetadataFromDocument(NU(t)):RU(t)?this.readMetadataFromDocument(t):this.readMetadataFromNode(t):null}readMetadataFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType===Node.ELEMENT_NODE){const t=this.readMetadataFromNode(e);if(t)return t}return null}readMetadataFromNode(t){if(!BD.includes(t.namespaceURI))return null;for(let e=t.firstElementChild;e;e=e.nextElementSibling)if(BD.includes(e.namespaceURI)&&"metadata"===e.localName)return XU({},TD,e,[]);return null}readFeatureFromNode(t,e){if(!BD.includes(t.namespaceURI))return null;const i=SD[t.localName];if(!i)return null;const n=i(t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_([n]),n):null}readFeaturesFromNode(t,e){if(!BD.includes(t.namespaceURI))return[];if("gpx"==t.localName){const i=XU([],ED,t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_(i),i):[]}return[]}writeFeaturesNode(t,e){e=this.adaptOptions(e);const i=IU("http://www.topografix.com/GPX/1/1","gpx");return i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",LU),i.setAttributeNS(LU,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),YU({node:i},ID,YD,t,[e]),i}};class lQ extends dU{constructor(){super()}getType(){return"text"}readFeature(t,e){return this.readFeatureFromText(cQ(t),this.adaptOptions(e))}readFeatureFromText(t,e){return bb()}readFeatures(t,e){return this.readFeaturesFromText(cQ(t),this.adaptOptions(e))}readFeaturesFromText(t,e){return bb()}readGeometry(t,e){return this.readGeometryFromText(cQ(t),this.adaptOptions(e))}readGeometryFromText(t,e){return bb()}readProjection(t){return this.readProjectionFromText(cQ(t))}readProjectionFromText(t){return this.dataProjection}writeFeature(t,e){return this.writeFeatureText(t,this.adaptOptions(e))}writeFeatureText(t,e){return bb()}writeFeatures(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))}writeFeaturesText(t,e){return bb()}writeGeometry(t,e){return this.writeGeometryText(t,this.adaptOptions(e))}writeGeometryText(t,e){return bb()}}function cQ(t){return"string"==typeof t?t:""}const hQ=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,AQ=/^H.([A-Z]{3}).*?:(.*)/,uQ=/^HFDTE(\d{2})(\d{2})(\d{2})/,dQ=/^HFDTEDATE:(\d{2})(\d{2})(\d{2}),(\d{2})/,pQ=/\r\n|\r|\n/;const gQ=class extends lQ{constructor(t){super(),t=t||{},this.dataProjection=Cy("EPSG:4326"),this.altitudeMode_=t.altitudeMode?t.altitudeMode:"none",this.lad_=!1,this.lod_=!1,this.ladStart_=0,this.ladStop_=0,this.lodStart_=0,this.lodStop_=0}readFeatureFromText(t,e){const i=this.altitudeMode_,n=t.split(pQ),o={},r=[];let s,a,l=2e3,c=0,h=1,A=-1;for(s=0,a=n.length;s<a;++s){const t=n[s];let e;if("B"==t.charAt(0)){if(e=hQ.exec(t),e){const n=parseInt(e[1],10),o=parseInt(e[2],10),s=parseInt(e[3],10);let a=parseInt(e[4],10)+parseInt(e[5],10)/6e4;this.lad_&&(a+=parseInt(t.slice(this.ladStart_,this.ladStop_),10)/6e4/10**(this.ladStop_-this.ladStart_)),"S"==e[6]&&(a=-a);let u=parseInt(e[7],10)+parseInt(e[8],10)/6e4;if(this.lod_&&(u+=parseInt(t.slice(this.lodStart_,this.lodStop_),10)/6e4/10**(this.lodStop_-this.lodStart_)),"W"==e[9]&&(u=-u),r.push(u,a),"none"!=i){let t;t="gps"==i?parseInt(e[11],10):"barometric"==i?parseInt(e[12],10):0,r.push(t)}let d=Date.UTC(l,c,h,n,o,s);d<A&&(d=Date.UTC(l,c,h+1,n,o,s)),r.push(d/1e3),A=d}}else if("H"==t.charAt(0))e=dQ.exec(t),e?(h=parseInt(e[1],10),c=parseInt(e[2],10)-1,l=2e3+parseInt(e[3],10)):(e=uQ.exec(t),e?(h=parseInt(e[1],10),c=parseInt(e[2],10)-1,l=2e3+parseInt(e[3],10)):(e=AQ.exec(t),e&&(o[e[1]]=e[2].trim())));else if("I"==t.charAt(0)){const e=parseInt(t.slice(1,3),10);for(let i=0;i<e;i++){const e=t.slice(7+7*i,10+7*i);if("LAD"===e||"LOD"===e){const n=parseInt(t.slice(3+7*i,5+7*i),10)-1,o=parseInt(t.slice(5+7*i,7+7*i),10);"LAD"===e?(this.lad_=!0,this.ladStart_=n,this.ladStop_=o):"LOD"===e&&(this.lod_=!0,this.lodStart_=n,this.lodStop_=o)}}}}if(0===r.length)return null;const u=new vk(r,"none"==i?"XYM":"XYZM"),d=new Cb(pU(u,!1,e));return d.setProperties(o,!0),d}readFeaturesFromText(t,e){const i=this.readFeatureFromText(t,e);return i?[i]:[]}},fQ=["http://www.google.com/kml/ext/2.2"],mQ=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],bQ={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},vQ=qU(mQ,{ExtendedData:xH,Region:_H,MultiGeometry:HU(dH,"geometry"),LineString:HU(hH,"geometry"),LinearRing:HU(AH,"geometry"),Point:HU(pH,"geometry"),Polygon:HU(fH,"geometry"),Style:HU(bH),StyleMap:function(t,e){const i=$Q.call(this,t,e);if(!i)return;const n=e[e.length-1];if(Array.isArray(i))n.Style=i;else{if("string"!=typeof i)throw new Error("`styleMapValue` has an unknown type");n.styleUrl=i}},address:HU(uD),description:HU(uD),name:HU(uD),open:HU(rD),phoneNumber:HU(uD),styleUrl:HU(qQ),visibility:HU(rD)},qU(fQ,{MultiTrack:HU((function(t,e){const i=XU([],nH,t,e);if(!i)return;return new yk(i)}),"geometry"),Track:HU(rH,"geometry")})),yQ=qU(mQ,{ExtendedData:xH,Region:_H,Link:function(t,e){WU(wQ,t,e)},address:HU(uD),description:HU(uD),name:HU(uD),open:HU(rD),phoneNumber:HU(uD),visibility:HU(rD)}),wQ=qU(mQ,{href:HU(KQ)}),xQ=qU(mQ,{Altitude:HU(lD),Longitude:HU(lD),Latitude:HU(lD),Tilt:HU(lD),AltitudeMode:HU(uD),Heading:HU(lD),Roll:HU(lD)}),_Q=qU(mQ,{LatLonAltBox:function(t,e){const i=XU({},SH,t,e);if(!i)return;const n=e[e.length-1],o=[parseFloat(i.west),parseFloat(i.south),parseFloat(i.east),parseFloat(i.north)];n.extent=o,n.altitudeMode=i.altitudeMode,n.minAltitude=parseFloat(i.minAltitude),n.maxAltitude=parseFloat(i.maxAltitude)},Lod:function(t,e){const i=XU({},EH,t,e);if(!i)return;const n=e[e.length-1];n.minLodPixels=parseFloat(i.minLodPixels),n.maxLodPixels=parseFloat(i.maxLodPixels),n.minFadeExtent=parseFloat(i.minFadeExtent),n.maxFadeExtent=parseFloat(i.maxFadeExtent)}}),CQ=qU(mQ,["Document","Placemark"]),BQ=qU(mQ,{Document:zU((function(t,e,i){const n={node:t};YU(n,IH,MH,e,i,void 0,this)})),Placemark:zU(nz)});let SQ,EQ,kQ,FQ,TQ,LQ,IQ,MQ,PQ,RQ=null,NQ=null,OQ=null,UQ=null,DQ=null,QQ=null;function HQ(t){return 32/Math.min(t[0],t[1])}function zQ(t){return t}function jQ(t,e,i){return Array.isArray(t)?t:"string"==typeof t?jQ(i[t],e,i):e}function GQ(t){const e=MU(t,!1),i=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(i){const t=i[1];return[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}}function VQ(t){let e=MU(t,!1);const i=[];e=e.replace(/\s*,\s*/g,",");const n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let o;for(;o=n.exec(e);){const t=parseFloat(o[1]),n=parseFloat(o[2]),r=o[3]?parseFloat(o[3]):0;i.push(t,n,r),e=e.substr(o[0].length)}if(""===e)return i}function KQ(t){const e=MU(t,!1).trim();let i=t.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i){return new URL(e,i).href}return e}function qQ(t){const e=MU(t,!1).trim().replace(/^(?!.*#)/,"#");let i=t.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i){return new URL(e,i).href}return e}function WQ(t){return lD(t)}const XQ=qU(mQ,{Pair:function(t,e){const i=XU({},CH,t,e,this);if(!i)return;const n=i.key;if(n&&"normal"==n){const t=i.styleUrl;t&&(e[e.length-1]=t);const n=i.Style;n&&(e[e.length-1]=n)}}});function $Q(t,e){return XU(void 0,XQ,t,e,this)}const YQ=qU(mQ,{Icon:HU((function(t,e){const i=XU({},sH,t,e);if(i)return i;return null})),color:HU(GQ),heading:HU(lD),hotSpot:HU((function(t){const e=t.getAttribute("xunits"),i=t.getAttribute("yunits");let n;return n="insetPixels"!==e?"insetPixels"!==i?"bottom-left":"top-left":"insetPixels"!==i?"bottom-right":"top-right",{x:parseFloat(t.getAttribute("x")),xunits:bQ[e],y:parseFloat(t.getAttribute("y")),yunits:bQ[i],origin:n}})),scale:HU(WQ)});const ZQ=qU(mQ,{color:HU(GQ),scale:HU(WQ)});const JQ=qU(mQ,{color:HU(GQ),width:HU(lD)});const tH=qU(mQ,{color:HU(GQ),fill:HU(rD),outline:HU(rD)});const eH=qU(mQ,{coordinates:DU(VQ)});function iH(t,e){return XU(null,eH,t,e)}const nH=qU(fQ,{Track:UU(rH)});const oH=qU(mQ,{when:function(t,e){const i=e[e.length-1].whens,n=MU(t,!1),o=Date.parse(n);i.push(isNaN(o)?0:o)}},qU(fQ,{coord:function(t,e){const i=e[e.length-1].coordinates,n=MU(t,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(o){const t=parseFloat(o[1]),e=parseFloat(o[2]),n=parseFloat(o[3]);i.push([t,e,n])}else i.push([])}}));function rH(t,e){const i=XU({coordinates:[],whens:[]},oH,t,e);if(!i)return;const n=[],o=i.coordinates,r=i.whens;for(let s=0,a=Math.min(o.length,r.length);s<a;++s)3==o[s].length&&n.push(o[s][0],o[s][1],o[s][2],r[s]);return new vk(n,"XYZM")}const sH=qU(mQ,{href:HU(KQ)},qU(fQ,{x:HU(lD),y:HU(lD),w:HU(lD),h:HU(lD)}));const aH=qU(mQ,{coordinates:DU(VQ)});function lH(t,e){return XU(null,aH,t,e)}const cH=qU(mQ,{extrude:HU(rD),tessellate:HU(rD),altitudeMode:HU(uD)});function hH(t,e){const i=XU({},cH,t,e),n=lH(t,e);if(n){const t=new vk(n,"XYZ");return t.setProperties(i,!0),t}}function AH(t,e){const i=XU({},cH,t,e),n=lH(t,e);if(n){const t=new Pw(n,"XYZ",[n.length]);return t.setProperties(i,!0),t}}const uH=qU(mQ,{LineString:UU(hH),LinearRing:UU(AH),MultiGeometry:UU(dH),Point:UU(pH),Polygon:UU(fH)});function dH(t,e){const i=XU([],uH,t,e);if(!i)return null;if(0===i.length)return new gk(i);let n,o=!0;const r=i[0].getType();let s;for(let a=1,l=i.length;a<l;++a)if(s=i[a],s.getType()!=r){o=!1;break}if(o){let t,e;if("Point"==r){const o=i[0];t=o.getLayout(),e=o.getFlatCoordinates();for(let t=1,n=i.length;t<n;++t)s=i[t],qm(e,s.getFlatCoordinates());n=new wk(e,t),vH(n,i)}else if("LineString"==r)n=new yk(i),vH(n,i);else if("Polygon"==r)n=new _k(i),vH(n,i);else{if("GeometryCollection"!=r)throw new Error("Unknown geometry type found");n=new gk(i)}}else n=new gk(i);return n}function pH(t,e){const i=XU({},cH,t,e),n=lH(t,e);if(n){const t=new mw(n,"XYZ");return t.setProperties(i,!0),t}}const gH=qU(mQ,{innerBoundaryIs:function(t,e){const i=XU([],kH,t,e);if(i.length>0){e[e.length-1].push(...i)}},outerBoundaryIs:function(t,e){const i=XU(void 0,FH,t,e);if(i){e[e.length-1][0]=i}}});function fH(t,e){const i=XU({},cH,t,e),n=XU([null],gH,t,e);if(n&&n[0]){const t=n[0],e=[t.length];for(let i=1,r=n.length;i<r;++i)qm(t,n[i]),e.push(t.length);const o=new Pw(t,"XYZ",e);return o.setProperties(i,!0),o}}const mH=qU(mQ,{IconStyle:function(t,e){const i=XU({},YQ,t,e);if(!i)return;const n=e[e.length-1],o="Icon"in i?i.Icon:{},r=!("Icon"in i)||Object.keys(o).length>0;let s;const a=o.href;let l,c,h;a?s=a:r&&(s=LQ);let A="bottom-left";const u=i.hotSpot;let d;u?(l=[u.x,u.y],c=u.xunits,h=u.yunits,A=u.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(s)&&(s.includes("pushpin")?(l=EQ,c=kQ,h=FQ):s.includes("arrow-reverse")?(l=[54,42],c=kQ,h=FQ):s.includes("paddle")&&(l=[32,1],c=kQ,h=FQ));const p=o.x,g=o.y;let f;void 0!==p&&void 0!==g&&(d=[p,g]);const m=o.w,b=o.h;let v;void 0!==m&&void 0!==b&&(f=[m,b]);const y=i.heading;void 0!==y&&(v=$v(y));const w=i.scale,x=i.color;if(r){s==LQ&&(f=TQ);const t=new DC({anchor:l,anchorOrigin:A,anchorXUnits:c,anchorYUnits:h,crossOrigin:this.crossOrigin_,offset:d,offsetOrigin:"bottom-left",rotation:v,scale:w,size:f,src:this.iconUrlFunction_(s),color:x}),e=t.getScaleArray()[0],i=t.getSize();if(null===i){const i=t.getImageState();if(i===r_.IDLE||i===r_.LOADING){const n=function(){const i=t.getImageState();if(i!==r_.IDLE&&i!==r_.LOADING){const i=t.getSize();if(i&&2==i.length){const n=HQ(i);t.setScale(e*n)}t.unlistenImageChange(n)}};t.listenImageChange(n),i===r_.IDLE&&t.load()}}else if(2==i.length){const n=HQ(i);t.setScale(e*n)}n.imageStyle=t}else n.imageStyle=IQ},LabelStyle:function(t,e){const i=XU({},ZQ,t,e);if(!i)return;const n=e[e.length-1],o=new QC({fill:new LC({color:"color"in i?i.color:SQ}),scale:i.scale});n.textStyle=o},LineStyle:function(t,e){const i=XU({},JQ,t,e);if(!i)return;const n=e[e.length-1],o=new IC({color:"color"in i?i.color:SQ,width:"width"in i?i.width:1});n.strokeStyle=o},PolyStyle:function(t,e){const i=XU({},tH,t,e);if(!i)return;const n=e[e.length-1],o=new LC({color:"color"in i?i.color:SQ});n.fillStyle=o;const r=i.fill;void 0!==r&&(n.fill=r);const s=i.outline;void 0!==s&&(n.outline=s)}});function bH(t,e){const i=XU({},mH,t,e,this);if(!i)return null;let n="fillStyle"in i?i.fillStyle:RQ;const o=i.fill;let r;void 0===o||o||(n=null),"imageStyle"in i?i.imageStyle!=IQ&&(r=i.imageStyle):r=NQ;const s="textStyle"in i?i.textStyle:UQ,a="strokeStyle"in i?i.strokeStyle:OQ,l=i.outline;return void 0===l||l?[new MC({fill:n,image:r,stroke:a,text:s,zIndex:void 0})]:[new MC({geometry:function(t){const e=t.getGeometry(),i=e.getType();if("GeometryCollection"===i){return new gk(e.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Polygon"!==e&&"MultiPolygon"!==e})))}if("Polygon"!==i&&"MultiPolygon"!==i)return e},fill:n,image:r,stroke:a,text:s,zIndex:void 0}),new MC({geometry:function(t){const e=t.getGeometry(),i=e.getType();if("GeometryCollection"===i){return new gk(e.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Polygon"===e||"MultiPolygon"===e})))}if("Polygon"===i||"MultiPolygon"===i)return e},fill:n,stroke:null,zIndex:void 0})]}function vH(t,e){const i=e.length,n=new Array(e.length),o=new Array(e.length),r=new Array(e.length);let s,a,l;s=!1,a=!1,l=!1;for(let c=0;c<i;++c){const t=e[c];n[c]=t.get("extrude"),o[c]=t.get("tessellate"),r[c]=t.get("altitudeMode"),s=s||void 0!==n[c],a=a||void 0!==o[c],l=l||r[c]}s&&t.set("extrude",n),a&&t.set("tessellate",o),l&&t.set("altitudeMode",r)}const yH=qU(mQ,{displayName:HU(uD),value:HU(uD)});const wH=qU(mQ,{Data:function(t,e){const i=t.getAttribute("name");WU(yH,t,e);const n=e[e.length-1];i&&n.displayName?n[i]={value:n.value,displayName:n.displayName,toString:function(){return n.value}}:null!==i?n[i]=n.value:null!==n.displayName&&(n[n.displayName]=n.value),delete n.value},SchemaData:function(t,e){WU(BH,t,e)}});function xH(t,e){WU(wH,t,e)}function _H(t,e){WU(_Q,t,e)}const CH=qU(mQ,{Style:HU(bH),key:HU(uD),styleUrl:HU(qQ)});const BH=qU(mQ,{SimpleData:function(t,e){const i=t.getAttribute("name");if(null!==i){const n=uD(t);e[e.length-1][i]=n}}});const SH=qU(mQ,{altitudeMode:HU(uD),minAltitude:HU(lD),maxAltitude:HU(lD),north:HU(lD),south:HU(lD),east:HU(lD),west:HU(lD)});const EH=qU(mQ,{minLodPixels:HU(lD),maxLodPixels:HU(lD),minFadeExtent:HU(lD),maxFadeExtent:HU(lD)});const kH=qU(mQ,{LinearRing:UU(iH)});const FH=qU(mQ,{LinearRing:DU(iH)});function TH(t,e){const i=B_(e),n=[255*(4==i.length?i[3]:1),i[2],i[1],i[0]];for(let o=0;o<4;++o){const t=Math.floor(n[o]).toString(16);n[o]=1==t.length?"0"+t:t}fD(t,n.join(""))}const LH=qU(mQ,{Data:zU((function(t,e,i){t.setAttribute("name",e.name);const n={node:t},o=e.value;"object"==typeof o?(null!==o&&o.displayName&&YU(n,LH,VU,[o.displayName],i,["displayName"]),null!==o&&o.value&&YU(n,LH,VU,[o.value],i,["value"])):YU(n,LH,VU,[o],i,["value"])})),value:zU((function(t,e){fD(t,e)})),displayName:zU((function(t,e){!function(t,e){t.appendChild(tD().createCDATASection(e))}(t,e)}))});const IH=qU(mQ,{Placemark:zU(nz)}),MH=function(t,e,i){return IU(e[e.length-1].node.namespaceURI,"Placemark")};const PH=GU("Data");const RH=qU(mQ,["href"],qU(fQ,["x","y","w","h"])),NH=qU(mQ,{href:zU(fD)},qU(fQ,{x:zU(pD),y:zU(pD),w:zU(pD),h:zU(pD)})),OH=function(t,e,i){return IU(fQ[0],"gx:"+i)};const UH=qU(mQ,["scale","heading","Icon","color","hotSpot"]),DH=qU(mQ,{Icon:zU((function(t,e,i){const n={node:t},o=i[i.length-1].node;let r=RH[o.namespaceURI],s=KU(e,r);YU(n,NH,VU,s,i,r),r=RH[fQ[0]],s=KU(e,r),YU(n,NH,OH,s,i,r)})),color:zU(TH),heading:zU(pD),hotSpot:zU((function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)})),scale:zU(dz)});const QH=qU(mQ,["color","scale"]),HH=qU(mQ,{color:zU(TH),scale:zU(dz)});const zH=qU(mQ,["color","width"]),jH=qU(mQ,{color:zU(TH),width:zU(pD)});const GH={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},VH=function(t,e,i){if(t){return IU(e[e.length-1].node.namespaceURI,GH[t.getType()])}},KH=GU("Point"),qH=GU("LineString"),WH=GU("LinearRing"),XH=GU("Polygon"),$H=qU(mQ,{LineString:zU(sz),Point:zU(sz),Polygon:zU(Az),GeometryCollection:zU(YH)});function YH(t,e,i){const n={node:t},o=e.getType();let r,s=[];if("GeometryCollection"===o)e.getGeometriesArrayRecursive().forEach((function(t){const e=t.getType();if("MultiPoint"===e)s=s.concat(t.getPoints());else if("MultiLineString"===e)s=s.concat(t.getLineStrings());else if("MultiPolygon"===e)s=s.concat(t.getPolygons());else{if("Point"!==e&&"LineString"!==e&&"Polygon"!==e)throw new Error("Unknown geometry type");s.push(t)}})),r=VH;else if("MultiPoint"===o)s=e.getPoints(),r=KH;else if("MultiLineString"===o)s=e.getLineStrings(),r=qH;else{if("MultiPolygon"!==o)throw new Error("Unknown geometry type");s=e.getPolygons(),r=XH}YU(n,$H,r,s,i)}const ZH=qU(mQ,{LinearRing:zU(sz)});function JH(t,e,i){YU({node:t},ZH,WH,[e],i)}const tz=qU(mQ,{ExtendedData:zU((function(t,e,i){const n={node:t},o=e.names,r=e.values,s=o.length;for(let a=0;a<s;a++)YU(n,LH,PH,[{name:o[a],value:r[a]}],i)})),MultiGeometry:zU(YH),LineString:zU(sz),LinearRing:zU(sz),Point:zU(sz),Polygon:zU(Az),Style:zU((function(t,e,i){const n={node:t},o={};if(e.pointStyles.length){const t=e.pointStyles[0].getText();t&&(o.LabelStyle=t);const i=e.pointStyles[0].getImage();i&&"function"==typeof i.getSrc&&(o.IconStyle=i)}if(e.lineStyles.length){const t=e.lineStyles[0].getStroke();t&&(o.LineStyle=t)}if(e.polyStyles.length){const t=e.polyStyles[0].getStroke();t&&!o.LineStyle&&(o.LineStyle=t),o.PolyStyle=e.polyStyles[0]}const r=i[i.length-1].node,s=pz[r.namespaceURI],a=KU(o,s);YU(n,gz,VU,a,i,s)})),address:zU(fD),description:zU(fD),name:zU(fD),open:zU(dD),phoneNumber:zU(fD),styleUrl:zU(fD),visibility:zU(dD)}),ez=qU(mQ,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),iz=GU("ExtendedData");function nz(t,e,i){const n={node:t};e.getId()&&t.setAttribute("id",e.getId());const o=e.getProperties(),r={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};r[e.getGeometryName()]=1;const s=Object.keys(o||{}).sort().filter((function(t){return!r[t]})),a=e.getStyleFunction();if(a){const t=a(e,0);if(t){const i=Array.isArray(t)?t:[t];let n=i;if(e.getGeometry()&&(n=i.filter((function(t){const i=t.getGeometryFunction()(e);if(i){const t=i.getType();return"GeometryCollection"===t?i.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Point"===e||"MultiPoint"===e})).length:"Point"===t||"MultiPoint"===t}}))),this.writeStyles_){let t=i,r=i;e.getGeometry()&&(t=i.filter((function(t){const i=t.getGeometryFunction()(e);if(i){const t=i.getType();return"GeometryCollection"===t?i.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"LineString"===e||"MultiLineString"===e})).length:"LineString"===t||"MultiLineString"===t}})),r=i.filter((function(t){const i=t.getGeometryFunction()(e);if(i){const t=i.getType();return"GeometryCollection"===t?i.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Polygon"===e||"MultiPolygon"===e})).length:"Polygon"===t||"MultiPolygon"===t}}))),o.Style={pointStyles:n,lineStyles:t,polyStyles:r}}if(n.length&&void 0===o.name){const t=n[0].getText();t&&(o.name=t.getText())}}}const l=i[i.length-1].node,c=ez[l.namespaceURI],h=KU(o,c);if(YU(n,tz,VU,h,i,c),s.length>0){const t=KU(o,s);YU(n,tz,iz,[{names:s,values:t}],i)}const A=i[0];let u=e.getGeometry();u&&(u=pU(u,!0,A)),YU(n,tz,VH,[u],i)}const oz=qU(mQ,["extrude","tessellate","altitudeMode","coordinates"]),rz=qU(mQ,{extrude:zU(dD),tessellate:zU(dD),altitudeMode:zU(fD),coordinates:zU((function(t,e,i){const n=i[i.length-1],o=n.layout,r=n.stride;let s;if("XY"==o||"XYM"==o)s=2;else{if("XYZ"!=o&&"XYZM"!=o)throw new Error("Invalid geometry layout");s=3}const a=e.length;let l="";if(a>0){l+=e[0];for(let t=1;t<s;++t)l+=","+e[t];for(let t=r;t<a;t+=r){l+=" "+e[t];for(let i=1;i<s;++i)l+=","+e[t+i]}}fD(t,l)}))});function sz(t,e,i){const n=e.getFlatCoordinates(),o={node:t};o.layout=e.getLayout(),o.stride=e.getStride();const r=e.getProperties();r.coordinates=n;const s=i[i.length-1].node,a=oz[s.namespaceURI],l=KU(r,a);YU(o,rz,VU,l,i,a)}const az=qU(mQ,["color","fill","outline"]),lz=qU(mQ,{outerBoundaryIs:zU(JH),innerBoundaryIs:zU(JH)}),cz=GU("innerBoundaryIs"),hz=GU("outerBoundaryIs");function Az(t,e,i){const n=e.getLinearRings(),o=n.shift(),r={node:t};YU(r,lz,cz,n,i),YU(r,lz,hz,[o],i)}const uz=qU(mQ,{color:zU(TH),fill:zU(dD),outline:zU(dD)});function dz(t,e){pD(t,Math.round(1e6*e)/1e6)}const pz=qU(mQ,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),gz=qU(mQ,{IconStyle:zU((function(t,e,i){const n={node:t},o={},r=e.getSrc(),s=e.getSize(),a=e.getImageSize(),l={href:r};if(s){l.w=s[0],l.h=s[1];const t=e.getAnchor(),i=e.getOrigin();if(i&&a&&0!==i[0]&&i[1]!==s[1]&&(l.x=i[0],l.y=a[1]-(i[1]+s[1])),t&&(t[0]!==s[0]/2||t[1]!==s[1]/2)){const e={x:t[0],xunits:"pixels",y:s[1]-t[1],yunits:"pixels"};o.hotSpot=e}}o.Icon=l;let c=e.getScaleArray()[0],h=s;if(null===h&&(h=TQ),2==h.length){c/=HQ(h)}1!==c&&(o.scale=c);const A=e.getRotation();0!==A&&(o.heading=A);const u=e.getColor();u&&(o.color=u);const d=i[i.length-1].node,p=UH[d.namespaceURI],g=KU(o,p);YU(n,DH,VU,g,i,p)})),LabelStyle:zU((function(t,e,i){const n={node:t},o={},r=e.getFill();r&&(o.color=r.getColor());const s=e.getScale();s&&1!==s&&(o.scale=s);const a=i[i.length-1].node,l=QH[a.namespaceURI],c=KU(o,l);YU(n,HH,VU,c,i,l)})),LineStyle:zU((function(t,e,i){const n={node:t},o={color:e.getColor(),width:Number(e.getWidth())||1},r=i[i.length-1].node,s=zH[r.namespaceURI],a=KU(o,s);YU(n,jH,VU,a,i,s)})),PolyStyle:zU((function(t,e,i){const n={node:t},o=e.getFill(),r=e.getStroke(),s={color:o?o.getColor():void 0,fill:!!o&&void 0,outline:!!r&&void 0},a=i[i.length-1].node,l=az[a.namespaceURI],c=KU(s,l);YU(n,uz,VU,c,i,l)}))});const fz=class extends eD{constructor(t){super(),t=t||{},QQ||(SQ=[255,255,255,1],RQ=new LC({color:SQ}),EQ=[20,2],kQ="pixels",FQ="pixels",TQ=[64,64],LQ="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",NQ=new DC({anchor:EQ,anchorOrigin:"bottom-left",anchorXUnits:kQ,anchorYUnits:FQ,crossOrigin:"anonymous",rotation:0,scale:HQ(TQ),size:TQ,src:LQ}),IQ="NO_IMAGE",OQ=new IC({color:SQ,width:1}),MQ=new IC({color:[51,51,51,1],width:2}),UQ=new QC({font:"bold 16px Helvetica",fill:RQ,stroke:MQ,scale:.8}),DQ=new MC({fill:RQ,image:NQ,text:UQ,stroke:OQ,zIndex:0}),QQ=[DQ]),this.dataProjection=Cy("EPSG:4326"),this.defaultStyle_=t.defaultStyle?t.defaultStyle:QQ,this.extractStyles_=void 0===t.extractStyles||t.extractStyles,this.writeStyles_=void 0===t.writeStyles||t.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===t.showPointNames||t.showPointNames,this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",this.iconUrlFunction_=t.iconUrlFunction?t.iconUrlFunction:zQ,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(t,e){const i=XU([],qU(mQ,{Document:OU(this.readDocumentOrFolder_,this),Folder:OU(this.readDocumentOrFolder_,this),Placemark:UU(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),t,e,this);if(i)return i}readPlacemark_(t,e){const i=XU({geometry:null},vQ,t,e,this);if(!i)return;const n=new Cb,o=t.getAttribute("id");null!==o&&n.setId(o);const r=e[0],s=i.geometry;if(s&&pU(s,!1,r),n.setGeometry(s),delete i.geometry,this.extractStyles_){const t=function(t,e,i,n,o){return function(r,s){let a=o,l="",c=[];if(a){const t=r.getGeometry();if(t)if(t instanceof gk)c=t.getGeometriesArrayRecursive().filter((function(t){const e=t.getType();return"Point"===e||"MultiPoint"===e})),a=c.length>0;else{const e=t.getType();a="Point"===e||"MultiPoint"===e}}a&&(l=r.get("name"),a=a&&!!l,a&&/&[^&]+;/.test(l)&&(PQ||(PQ=document.createElement("textarea")),PQ.innerHTML=l,l=PQ.value));let h=i;if(t?h=t:e&&(h=jQ(e,i,n)),a){const t=function(t,e){const i=[0,0];let n="start";const o=t.getImage();if(o){const t=o.getSize();if(t&&2==t.length){const e=o.getScaleArray(),r=o.getAnchor();i[0]=e[0]*(t[0]-r[0]),i[1]=e[1]*(t[1]/2-r[1]),n="left"}}let r=t.getText();r?(r=r.clone(),r.setFont(r.getFont()||UQ.getFont()),r.setScale(r.getScale()||UQ.getScale()),r.setFill(r.getFill()||UQ.getFill()),r.setStroke(r.getStroke()||MQ)):r=UQ.clone();r.setText(e),r.setOffsetX(i[0]),r.setOffsetY(i[1]),r.setTextAlign(n);const s=new MC({image:o,text:r});return s}(h[0],l);if(c.length>0){t.setGeometry(new gk(c));return[t,new MC({geometry:h[0].getGeometry(),image:null,fill:h[0].getFill(),stroke:h[0].getStroke(),text:null})].concat(h.slice(1))}return t}return h}}(i.Style,i.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(t)}return delete i.Style,n.setProperties(i,!0),n}readSharedStyle_(t,e){const i=t.getAttribute("id");if(null!==i){const n=bH.call(this,t,e);if(n){let e,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){e=new URL("#"+i,o).href}else e="#"+i;this.sharedStyles_[e]=n}}}readSharedStyleMap_(t,e){const i=t.getAttribute("id");if(null===i)return;const n=$Q.call(this,t,e);if(!n)return;let o,r=t.baseURI;if(r&&"about:blank"!=r||(r=window.location.href),r){o=new URL("#"+i,r).href}else o="#"+i;this.sharedStyles_[o]=n}readFeatureFromNode(t,e){if(!mQ.includes(t.namespaceURI))return null;const i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i||null}readFeaturesFromNode(t,e){if(!mQ.includes(t.namespaceURI))return[];let i;const n=t.localName;if("Document"==n||"Folder"==n)return i=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),i||[];if("Placemark"==n){const i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i?[i]:[]}if("kml"==n){i=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling){const t=this.readFeaturesFromNode(n,e);t&&qm(i,t)}return i}return[]}readName(t){if(t){if("string"==typeof t){const e=NU(t);return this.readNameFromDocument(e)}return RU(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}}readNameFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){const t=this.readNameFromNode(e);if(t)return t}}readNameFromNode(t){for(let e=t.firstElementChild;e;e=e.nextElementSibling)if(mQ.includes(e.namespaceURI)&&"name"==e.localName)return uD(e);for(let e=t.firstElementChild;e;e=e.nextElementSibling){const t=e.localName;if(mQ.includes(e.namespaceURI)&&("Document"==t||"Folder"==t||"Placemark"==t||"kml"==t)){const t=this.readNameFromNode(e);if(t)return t}}}readNetworkLinks(t){const e=[];if("string"==typeof t){const i=NU(t);qm(e,this.readNetworkLinksFromDocument(i))}else RU(t)?qm(e,this.readNetworkLinksFromDocument(t)):qm(e,this.readNetworkLinksFromNode(t));return e}readNetworkLinksFromDocument(t){const e=[];for(let i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&qm(e,this.readNetworkLinksFromNode(i));return e}readNetworkLinksFromNode(t){const e=[];for(let i=t.firstElementChild;i;i=i.nextElementSibling)if(mQ.includes(i.namespaceURI)&&"NetworkLink"==i.localName){const t=XU({},yQ,i,[]);e.push(t)}for(let i=t.firstElementChild;i;i=i.nextElementSibling){const t=i.localName;!mQ.includes(i.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||qm(e,this.readNetworkLinksFromNode(i))}return e}readRegion(t){const e=[];if("string"==typeof t){const i=NU(t);qm(e,this.readRegionFromDocument(i))}else RU(t)?qm(e,this.readRegionFromDocument(t)):qm(e,this.readRegionFromNode(t));return e}readRegionFromDocument(t){const e=[];for(let i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&qm(e,this.readRegionFromNode(i));return e}readRegionFromNode(t){const e=[];for(let i=t.firstElementChild;i;i=i.nextElementSibling)if(mQ.includes(i.namespaceURI)&&"Region"==i.localName){const t=XU({},_Q,i,[]);e.push(t)}for(let i=t.firstElementChild;i;i=i.nextElementSibling){const t=i.localName;!mQ.includes(i.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||qm(e,this.readRegionFromNode(i))}return e}readCamera(t){const e=[];if("string"==typeof t){const i=NU(t);qm(e,this.readCameraFromDocument(i))}else RU(t)?qm(e,this.readCameraFromDocument(t)):qm(e,this.readCameraFromNode(t));return e}readCameraFromDocument(t){const e=[];for(let i=t.firstChild;i;i=i.nextSibling)i.nodeType===Node.ELEMENT_NODE&&qm(e,this.readCameraFromNode(i));return e}readCameraFromNode(t){const e=[];for(let i=t.firstElementChild;i;i=i.nextElementSibling)if(mQ.includes(i.namespaceURI)&&"Camera"===i.localName){const t=XU({},xQ,i,[]);e.push(t)}for(let i=t.firstElementChild;i;i=i.nextElementSibling){const t=i.localName;!mQ.includes(i.namespaceURI)||"Document"!==t&&"Folder"!==t&&"Placemark"!==t&&"kml"!==t||qm(e,this.readCameraFromNode(i))}return e}writeFeaturesNode(t,e){e=this.adaptOptions(e);const i=IU(mQ[4],"kml"),n="http://www.w3.org/2000/xmlns/";i.setAttributeNS(n,"xmlns:gx",fQ[0]),i.setAttributeNS(n,"xmlns:xsi",LU),i.setAttributeNS(LU,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");const o={node:i},r={};t.length>1?r.Document=t:1==t.length&&(r.Placemark=t[0]);const s=CQ[i.namespaceURI],a=KU(r,s);return YU(o,BQ,VU,a,[e],s,this),i}};var mz={/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */read:function(t,e,i,n,o){var r,s,a=8*o-n-1,l=(1<<a)-1,c=l>>1,h=-7,A=i?o-1:0,u=i?-1:1,d=t[e+A];for(A+=u,r=d&(1<<-h)-1,d>>=-h,h+=a;h>0;r=256*r+t[e+A],A+=u,h-=8);for(s=r&(1<<-h)-1,r>>=-h,h+=n;h>0;s=256*s+t[e+A],A+=u,h-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),r-=c}return(d?-1:1)*s*Math.pow(2,r-n)},write:function(t,e,i,n,o,r){var s,a,l,c=8*r-o-1,h=(1<<c)-1,A=h>>1,u=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:r-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+A>=1?u/l:u*Math.pow(2,1-A))*l>=2&&(s++,l/=2),s+A>=h?(a=0,s=h):s+A>=1?(a=(e*l-1)*Math.pow(2,o),s+=A):(a=e*Math.pow(2,A-1)*Math.pow(2,o),s=0));o>=8;t[i+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[i+d]=255&s,d+=p,s/=256,c-=8);t[i+d-p]|=128*g}},bz=yz,vz=mz;function yz(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}yz.Varint=0,yz.Fixed64=1,yz.Bytes=2,yz.Fixed32=5;var wz=4294967296,xz=1/wz,_z="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Cz(t){return t.type===yz.Bytes?t.readVarint()+t.pos:t.pos+1}function Bz(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Sz(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var o=i.pos-1;o>=t;o--)i.buf[o+n]=i.buf[o]}function Ez(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function kz(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function Fz(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function Tz(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function Lz(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function Iz(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function Mz(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function Pz(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function Rz(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function Nz(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Oz(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function Uz(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}yz.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),o=n>>3,r=this.pos;this.type=7&n,t(o,e,this),this.pos===r&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Nz(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Uz(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Nz(this.buf,this.pos)+Nz(this.buf,this.pos+4)*wz;return this.pos+=8,t},readSFixed64:function(){var t=Nz(this.buf,this.pos)+Uz(this.buf,this.pos+4)*wz;return this.pos+=8,t},readFloat:function(){var t=vz.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=vz.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return e=127&(i=n[this.pos++]),i<128?e:(e|=(127&(i=n[this.pos++]))<<7,i<128?e:(e|=(127&(i=n[this.pos++]))<<14,i<128?e:(e|=(127&(i=n[this.pos++]))<<21,i<128?e:function(t,e,i){var n,o,r=i.buf;if(o=r[i.pos++],n=(112&o)>>4,o<128)return Bz(t,n,e);if(o=r[i.pos++],n|=(127&o)<<3,o<128)return Bz(t,n,e);if(o=r[i.pos++],n|=(127&o)<<10,o<128)return Bz(t,n,e);if(o=r[i.pos++],n|=(127&o)<<17,o<128)return Bz(t,n,e);if(o=r[i.pos++],n|=(127&o)<<24,o<128)return Bz(t,n,e);if(o=r[i.pos++],n|=(1&o)<<31,o<128)return Bz(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&_z?function(t,e,i){return _z.decode(t.subarray(e,i))}(this.buf,e,t):function(t,e,i){var n="",o=e;for(;o<i;){var r,s,a,l=t[o],c=null,h=l>239?4:l>223?3:l>191?2:1;if(o+h>i)break;1===h?l<128&&(c=l):2===h?128==(192&(r=t[o+1]))&&(c=(31&l)<<6|63&r)<=127&&(c=null):3===h?(r=t[o+1],s=t[o+2],128==(192&r)&&128==(192&s)&&((c=(15&l)<<12|(63&r)<<6|63&s)<=2047||c>=55296&&c<=57343)&&(c=null)):4===h&&(r=t[o+1],s=t[o+2],a=t[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&((c=(15&l)<<18|(63&r)<<12|(63&s)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,h=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),o+=h}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==yz.Bytes)return t.push(this.readVarint(e));var i=Cz(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==yz.Bytes)return t.push(this.readSVarint());var e=Cz(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==yz.Bytes)return t.push(this.readBoolean());var e=Cz(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==yz.Bytes)return t.push(this.readFloat());var e=Cz(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==yz.Bytes)return t.push(this.readDouble());var e=Cz(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==yz.Bytes)return t.push(this.readFixed32());var e=Cz(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==yz.Bytes)return t.push(this.readSFixed32());var e=Cz(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==yz.Bytes)return t.push(this.readFixed64());var e=Cz(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==yz.Bytes)return t.push(this.readSFixed64());var e=Cz(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===yz.Varint)for(;this.buf[this.pos++]>127;);else if(e===yz.Bytes)this.pos=this.readVarint()+this.pos;else if(e===yz.Fixed32)this.pos+=4;else{if(e!==yz.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Oz(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Oz(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Oz(this.buf,-1&t,this.pos),Oz(this.buf,Math.floor(t*xz),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Oz(this.buf,-1&t,this.pos),Oz(this.buf,Math.floor(t*xz),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,n;t>=0?(i=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,n=n+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos]=127&t}(i,0,e),function(t,e){var i=(7&t)<<4;if(e.buf[e.pos++]|=i|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var n,o,r=0;r<e.length;r++){if((n=e.charCodeAt(r))>55295&&n<57344){if(!o){n>56319||r+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):o=n;continue}if(n<56320){t[i++]=239,t[i++]=191,t[i++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(t[i++]=239,t[i++]=191,t[i++]=189,o=null);n<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:(n<65536?t[i++]=n>>12|224:(t[i++]=n>>18|240,t[i++]=n>>12&63|128),t[i++]=n>>6&63|128),t[i++]=63&n|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&Sz(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),vz.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),vz.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&Sz(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,yz.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Ez,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,kz,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Lz,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Fz,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Tz,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Iz,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Mz,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Pz,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Rz,e)},writeBytesField:function(t,e){this.writeTag(t,yz.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,yz.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,yz.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,yz.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,yz.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,yz.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,yz.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,yz.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,yz.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,yz.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};const Dz=WF(bz);function Qz(t,e,i){if(3===t){const t={keys:[],values:[],features:[]},n=i.readVarint()+i.pos;i.readFields(Hz,t,n),t.length=t.features.length,t.length&&(e[t.name]=t)}}function Hz(t,e,i){if(15===t)e.version=i.readVarint();else if(1===t)e.name=i.readString();else if(5===t)e.extent=i.readVarint();else if(2===t)e.features.push(i.pos);else if(3===t)e.keys.push(i.readString());else if(4===t){let n=null;const o=i.readVarint()+i.pos;for(;i.pos<o;)n=1===(t=i.readVarint()>>3)?i.readString():2===t?i.readFloat():3===t?i.readDouble():4===t?i.readVarint64():5===t?i.readVarint():6===t?i.readSVarint():7===t?i.readBoolean():null;e.values.push(n)}}function zz(t,e,i){if(1==t)e.id=i.readVarint();else if(2==t){const t=i.readVarint()+i.pos;for(;i.pos<t;){const t=e.layer.keys[i.readVarint()],n=e.layer.values[i.readVarint()];e.properties[t]=n}}else 3==t?e.type=i.readVarint():4==t&&(e.geometry=i.pos)}function jz(t,e,i){t.pos=e.features[i];const n=t.readVarint()+t.pos,o={layer:e,type:0,properties:{}};return t.readFields(zz,o,n),o}const Gz=class extends dU{constructor(t){super(),t=t||{},this.dataProjection=new kv({code:"",units:"tile-pixels"}),this.featureClass=t.featureClass?t.featureClass:Sk,this.geometryName_=t.geometryName,this.layerName_=t.layerName?t.layerName:"layer",this.layers_=t.layers?t.layers:null,this.idProperty_=t.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(t,e,i,n){t.pos=e.geometry;const o=t.readVarint()+t.pos;let r=1,s=0,a=0,l=0,c=0,h=0;for(;t.pos<o;){if(!s){const e=t.readVarint();r=7&e,s=e>>3}if(s--,1===r||2===r)a+=t.readSVarint(),l+=t.readSVarint(),1===r&&c>h&&(n.push(c),h=c),i.push(a,l),c+=2;else{if(7!==r)throw new Error("Invalid command found in the PBF");c>h&&(i.push(i[h],i[h+1]),c+=2)}}c>h&&(n.push(c),h=c)}createFeature_(t,e,i){const n=e.type;if(0===n)return null;let o;const r=e.properties;let s;this.idProperty_?(s=r[this.idProperty_],delete r[this.idProperty_]):s=e.id,r[this.layerName_]=e.layer.name;const a=[],l=[];this.readRawGeometry_(t,e,a,l);const c=function(t,e){let i;1===t?i=1===e?"Point":"MultiPoint":2===t?i=1===e?"LineString":"MultiLineString":3===t&&(i="Polygon");return i}(n,l.length);if(this.featureClass===Sk)o=new this.featureClass(c,a,l,2,r,s),o.transform(i.dataProjection);else{let t;if("Polygon"==c){const e=Mw(a,l);t=e.length>1?new _k(a,"XY",e):new Pw(a,"XY",l)}else t="Point"===c?new mw(a,"XY"):"LineString"===c?new vk(a,"XY"):"MultiPoint"===c?new wk(a,"XY"):"MultiLineString"===c?new yk(a,"XY",l):null;o=new(0,this.featureClass),this.geometryName_&&o.setGeometryName(this.geometryName_);const e=pU(t,!1,i);o.setGeometry(e),void 0!==s&&o.setId(s),o.setProperties(r,!0)}return o}getType(){return"arraybuffer"}readFeatures(t,e){const i=this.layers_,n=Cy((e=this.adaptOptions(e)).dataProjection);n.setWorldExtent(e.extent),e.dataProjection=n;const o=new Dz(t),r=o.readFields(Qz,{}),s=[];for(const a in r){if(i&&!i.includes(a))continue;const t=r[a],l=t?[0,0,t.extent,t.extent]:null;n.setExtent(l);for(let i=0,n=t.length;i<n;++i){const n=jz(o,t,i),r=this.createFeature_(o,n,e);null!==r&&s.push(r)}}return s}readProjection(t){return this.dataProjection}setLayers(t){this.layers_=t}};class Vz{read(t){if(!t)return null;if("string"==typeof t){const e=NU(t);return this.readFromDocument(e)}return RU(t)?this.readFromDocument(t):this.readFromNode(t)}readFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}readFromNode(t){bb()}}const Kz="http://www.w3.org/1999/xlink";function qz(t){return t.getAttributeNS(Kz,"href")}const Wz=[null,"http://www.opengis.net/ows/1.1"],Xz=qU(Wz,{ServiceIdentification:HU((function(t,e){return XU({},aj,t,e)})),ServiceProvider:HU((function(t,e){return XU({},lj,t,e)})),OperationsMetadata:HU((function(t,e){return XU({},nj,t,e)}))});const $z=qU(Wz,{DeliveryPoint:HU(uD),City:HU(uD),AdministrativeArea:HU(uD),PostalCode:HU(uD),Country:HU(uD),ElectronicMailAddress:HU(uD)}),Yz=qU(Wz,{Value:QU((function(t,e){return uD(t)}))}),Zz=qU(Wz,{AllowedValues:HU((function(t,e){return XU({},Yz,t,e)}))}),Jz=qU(Wz,{Phone:HU((function(t,e){return XU({},oj,t,e)})),Address:HU((function(t,e){return XU({},$z,t,e)}))}),tj=qU(Wz,{HTTP:HU((function(t,e){return XU({},ej,t,e)}))}),ej=qU(Wz,{Get:QU((function(t,e){const i=qz(t);if(!i)return;return XU({href:i},rj,t,e)})),Post:void 0}),ij=qU(Wz,{DCP:HU((function(t,e){return XU({},tj,t,e)}))}),nj=qU(Wz,{Operation:function(t,e){const i=t.getAttribute("name"),n=XU({},ij,t,e);if(!n)return;e[e.length-1][i]=n}}),oj=qU(Wz,{Voice:HU(uD),Facsimile:HU(uD)}),rj=qU(Wz,{Constraint:QU((function(t,e){const i=t.getAttribute("name");if(!i)return;return XU({name:i},Zz,t,e)}))}),sj=qU(Wz,{IndividualName:HU(uD),PositionName:HU(uD),ContactInfo:HU((function(t,e){return XU({},Jz,t,e)}))}),aj=qU(Wz,{Abstract:HU(uD),AccessConstraints:HU(uD),Fees:HU(uD),Title:HU(uD),ServiceTypeVersion:HU(uD),ServiceType:HU(uD)}),lj=qU(Wz,{ProviderName:HU(uD),ProviderSite:HU(qz),ServiceContact:HU((function(t,e){return XU({},sj,t,e)}))});const cj=class extends Vz{constructor(){super()}readFromNode(t){const e=XU({},Xz,t,[]);return e||null}};function hj(t,e,i,n,o,r){void 0!==o?r=void 0!==r?r:0:(o=[],r=0);let s=e;for(;s<i;){const e=t[s++];o[r++]=t[s++],o[r++]=e;for(let i=2;i<n;++i)o[r++]=t[s++]}return o.length=r,o}function Aj(t){let e,i="";for(;t>=32;)e=63+(32|31&t),i+=String.fromCharCode(e),t>>=5;return e=t+63,i+=String.fromCharCode(e),i}const uj=class extends lQ{constructor(t){super(),t=t||{},this.dataProjection=Cy("EPSG:4326"),this.factor_=t.factor?t.factor:1e5,this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY"}readFeatureFromText(t,e){const i=this.readGeometryFromText(t,e);return new Cb(i)}readFeaturesFromText(t,e){return[this.readFeatureFromText(t,e)]}readGeometryFromText(t,e){const i=$y(this.geometryLayout_),n=function(t,e,i){let n;i=i||1e5;const o=new Array(e);for(n=0;n<e;++n)o[n]=0;const r=function(t,e){e=e||1e5;const i=function(t){const e=function(t){const e=[];let i=0,n=0;for(let o=0,r=t.length;o<r;++o){const r=t.charCodeAt(o)-63;i|=(31&r)<<n,r<32?(e.push(i),i=0,n=0):n+=5}return e}(t);for(let i=0,n=e.length;i<n;++i){const t=e[i];e[i]=1&t?~(t>>1):t>>1}return e}(t);for(let n=0,o=i.length;n<o;++n)i[n]/=e;return i}(t,i);for(let s=0,a=r.length;s<a;)for(n=0;n<e;++n,++s)o[n]+=r[s],r[s]=o[n];return r}(t,i,this.factor_);hj(n,0,n.length,i,n);const o=Aw(n,0,n.length,i);return pU(new vk(o,this.geometryLayout_),!1,this.adaptOptions(e))}writeFeatureText(t,e){const i=t.getGeometry();if(i)return this.writeGeometryText(i,e);throw new Error("Expected `feature` to have a geometry")}writeFeaturesText(t,e){return this.writeFeatureText(t[0],e)}writeGeometryText(t,e){const i=(t=pU(t,!0,this.adaptOptions(e))).getFlatCoordinates(),n=t.getStride();return hj(i,0,i.length,n,i),function(t,e,i){let n;i=i||1e5;const o=new Array(e);for(n=0;n<e;++n)o[n]=0;for(let r=0,s=t.length;r<s;)for(n=0;n<e;++n,++r){const e=t[r],i=e-o[n];o[n]=e,t[r]=i}return function(t,e){e=e||1e5;for(let i=0,n=t.length;i<n;++i)t[i]=Math.round(t[i]*e);return function(t){for(let e=0,i=t.length;e<i;++e){const i=t[e];t[e]=i<0?~(i<<1):i<<1}return function(t){let e="";for(let i=0,n=t.length;i<n;++i)e+=Aj(t[i]);return e}(t)}(t)}(t,i)}(i,n,this.factor_)}};const dj={Point:function(t,e,i){const n=t.coordinates;e&&i&&bj(n,e,i);return new mw(n)},LineString:function(t,e){const i=pj(t.arcs,e);return new vk(i)},Polygon:function(t,e){const i=[];for(let n=0,o=t.arcs.length;n<o;++n)i[n]=pj(t.arcs[n],e);return new Pw(i)},MultiPoint:function(t,e,i){const n=t.coordinates;if(e&&i)for(let o=0,r=n.length;o<r;++o)bj(n[o],e,i);return new wk(n)},MultiLineString:function(t,e){const i=[];for(let n=0,o=t.arcs.length;n<o;++n)i[n]=pj(t.arcs[n],e);return new yk(i)},MultiPolygon:function(t,e){const i=[];for(let n=0,o=t.arcs.length;n<o;++n){const o=t.arcs[n],r=[];for(let t=0,i=o.length;t<i;++t)r[t]=pj(o[t],e);i[n]=r}return new _k(i)}};function pj(t,e){const i=[];let n;for(let o=0,r=t.length;o<r;++o)if(n=t[o],o>0&&i.pop(),n>=0){const t=e[n];for(let e=0,n=t.length;e<n;++e)i.push(t[e].slice(0))}else{const t=e[~n];for(let e=t.length-1;e>=0;--e)i.push(t[e].slice(0))}return i}function gj(t,e,i,n,o,r,s){const a=t.geometries,l=[];for(let c=0,h=a.length;c<h;++c)l[c]=fj(a[c],e,i,n,o,r,s);return l}function fj(t,e,i,n,o,r,s){let a=null;const l=t.type;if(l){const o=dj[l];a="Point"===l||"MultiPoint"===l?o(t,i,n):o(t,e),a=pU(a,!1,s)}const c=new Cb({geometry:a});void 0!==t.id&&c.setId(t.id);let h=t.properties;return o&&(h||(h={}),h[o]=r),h&&c.setProperties(h,!0),c}function mj(t,e,i){let n=0,o=0;for(let r=0,s=t.length;r<s;++r){const s=t[r];n+=s[0],o+=s[1],s[0]=n,s[1]=o,bj(s,e,i)}}function bj(t,e,i){t[0]=t[0]*e[0]+i[0],t[1]=t[1]*e[1]+i[1]}const vj=class extends vU{constructor(t){super(),t=t||{},this.layerName_=t.layerName,this.layers_=t.layers?t.layers:null,this.dataProjection=Cy(t.dataProjection?t.dataProjection:"EPSG:4326")}readFeaturesFromObject(t,e){if("Topology"==t.type){const i=t;let n,o=null,r=null;i.transform&&(n=i.transform,o=n.scale,r=n.translate);const s=i.arcs;n&&function(t,e,i){for(let n=0,o=t.length;n<o;++n)mj(t[n],e,i)}(s,o,r);const a=[],l=i.objects,c=this.layerName_;let h;for(const t in l)this.layers_&&!this.layers_.includes(t)||("GeometryCollection"===l[t].type?(h=l[t],a.push.apply(a,gj(h,s,o,r,c,t,e))):(h=l[t],a.push(fj(h,s,o,r,c,t,e))));return a}return[]}readProjectionFromObject(t){return this.dataProjection}};class yj extends xD{constructor(t){super(t=t||{}),this.schemaLocation=t.schemaLocation?t.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(t,e,i){const n=i[i.length-1];i[i.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},n),super.writeGeometryElement(t,e,i)}}yj.prototype.namespace="http://www.opengis.net/gml/3.2",yj.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:DU(xD.prototype.readFlatPos),posList:DU(xD.prototype.readFlatPosList),coordinates:DU(vD.prototype.readFlatCoordinates)}},yj.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:xD.prototype.interiorParser,exterior:xD.prototype.exteriorParser}},yj.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:DU(oD.prototype.readPoint),MultiPoint:DU(oD.prototype.readMultiPoint),LineString:DU(oD.prototype.readLineString),MultiLineString:DU(oD.prototype.readMultiLineString),LinearRing:DU(oD.prototype.readLinearRing),Polygon:DU(oD.prototype.readPolygon),MultiPolygon:DU(oD.prototype.readMultiPolygon),Surface:DU(yj.prototype.readSurface),MultiSurface:DU(xD.prototype.readMultiSurface),Curve:DU(yj.prototype.readCurve),MultiCurve:DU(xD.prototype.readMultiCurve),Envelope:DU(yj.prototype.readEnvelope)}},yj.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:UU(xD.prototype.curveMemberParser),curveMembers:UU(xD.prototype.curveMemberParser)}},yj.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:UU(xD.prototype.surfaceMemberParser),surfaceMembers:UU(xD.prototype.surfaceMemberParser)}},yj.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:UU(oD.prototype.readLineString),Curve:UU(xD.prototype.readCurve)}},yj.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:UU(oD.prototype.readPolygon),Surface:UU(xD.prototype.readSurface)}},yj.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:DU(xD.prototype.readPatch)}},yj.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:DU(xD.prototype.readSegment)}},yj.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:UU(xD.prototype.readFlatPosList),upperCorner:UU(xD.prototype.readFlatPosList)}},yj.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:DU(xD.prototype.readPolygonPatch)}},yj.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:OU(xD.prototype.readLineStringSegment)}},yj.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:UU(oD.prototype.pointMemberParser),pointMembers:UU(oD.prototype.pointMemberParser)}},yj.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:UU(oD.prototype.lineStringMemberParser),lineStringMembers:UU(oD.prototype.lineStringMemberParser)}},yj.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:UU(oD.prototype.polygonMemberParser),polygonMembers:UU(oD.prototype.polygonMemberParser)}},yj.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:UU(oD.prototype.readFlatCoordinatesFromNode)}},yj.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:UU(oD.prototype.readLineString)}},yj.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:UU(oD.prototype.readPolygon)}},yj.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:DU(oD.prototype.readFlatLinearRing),Ring:DU(yj.prototype.readFlatCurveRing)}},yj.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:zU(xD.prototype.writeRing),interior:zU(xD.prototype.writeRing)}},yj.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:zU(fD),upperCorner:zU(fD)}},yj.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:zU(xD.prototype.writeSurfaceOrPolygonMember),polygonMember:zU(xD.prototype.writeSurfaceOrPolygonMember)}},yj.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:zU(xD.prototype.writePointMember)}},yj.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:zU(xD.prototype.writeLineStringOrCurveMember),curveMember:zU(xD.prototype.writeLineStringOrCurveMember)}},yj.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:zU(xD.prototype.writeCurveOrLineString),MultiCurve:zU(xD.prototype.writeMultiCurveOrLineString),Point:zU(yj.prototype.writePoint),MultiPoint:zU(xD.prototype.writeMultiPoint),LineString:zU(xD.prototype.writeCurveOrLineString),MultiLineString:zU(xD.prototype.writeMultiCurveOrLineString),LinearRing:zU(xD.prototype.writeLinearRing),Polygon:zU(xD.prototype.writeSurfaceOrPolygon),MultiPolygon:zU(xD.prototype.writeMultiSurfaceOrPolygon),Surface:zU(xD.prototype.writeSurfaceOrPolygon),MultiSurface:zU(xD.prototype.writeMultiSurfaceOrPolygon),Envelope:zU(xD.prototype.writeEnvelope)}};class wj{constructor(t){this.tagName_=t}getTagName(){return this.tagName_}}class xj extends wj{constructor(t,e){super(t),this.conditions=e,_b(this.conditions.length>=2,"At least 2 conditions are required")}}class _j extends xj{constructor(t){super("And",Array.prototype.slice.call(arguments))}}class Cj extends wj{constructor(t,e,i){if(super("BBOX"),this.geometryName=t,this.extent=e,4!==e.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=i}}const Bj={"http://www.opengis.net/gml":{boundedBy:HU(oD.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:UU(oD.prototype.readFeaturesInternal)}},Sj={"http://www.opengis.net/wfs":{totalInserted:HU(hD),totalUpdated:HU(hD),totalDeleted:HU(hD)},"http://www.opengis.net/wfs/2.0":{totalInserted:HU(hD),totalUpdated:HU(hD),totalDeleted:HU(hD)}},Ej={"http://www.opengis.net/wfs":{TransactionSummary:HU(Uj,"transactionSummary"),InsertResults:HU(zj,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:HU(Uj,"transactionSummary"),InsertResults:HU(zj,"insertIds")}},kj={"http://www.opengis.net/wfs":{PropertyName:zU(fD)},"http://www.opengis.net/wfs/2.0":{PropertyName:zU(fD)}},Fj={"http://www.opengis.net/wfs":{Insert:zU(jj),Update:zU(qj),Delete:zU(Kj),Property:zU(Wj),Native:zU(Xj)},"http://www.opengis.net/wfs/2.0":{Insert:zU(jj),Update:zU(qj),Delete:zU(Kj),Property:zU(Wj),Native:zU(Xj)}},Tj="feature",Lj="http://www.w3.org/2000/xmlns/",Ij={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},Mj={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},Pj={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},Rj={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},Nj={"2.0.0":yj,"1.1.0":xD,"1.0.0":vD};function Oj(t,e,i,n){YU(n,Fj,GU(t),e,i)}function Uj(t,e){return XU({},Sj,t,e)}const Dj={"http://www.opengis.net/ogc":{FeatureId:UU((function(t,e){return t.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:UU((function(t,e){return t.getAttribute("fid")}))}};function Qj(t,e){WU(Dj,t,e)}const Hj={"http://www.opengis.net/wfs":{Feature:Qj},"http://www.opengis.net/wfs/2.0":{Feature:Qj}};function zj(t,e){return XU([],Hj,t,e)}function jj(t,e,i){const n=i[i.length-1],o=n.featureType,r=n.featureNS,s=n.gmlVersion,a=IU(r,o);t.appendChild(a),2===s?vD.prototype.writeFeatureElement(a,e,i):3===s?xD.prototype.writeFeatureElement(a,e,i):yj.prototype.writeFeatureElement(a,e,i)}function Gj(t,e,i){const n=i[i.length-1].version,o=Ij[n],r=IU(o,"Filter"),s=IU(o,"FeatureId");r.appendChild(s),s.setAttribute("fid",e),t.appendChild(r)}function Vj(t,e){const i=(t=t||Tj)+":";return e.startsWith(i)?e:i+e}function Kj(t,e,i){const n=i[i.length-1];_b(void 0!==e.getId(),"Features must have an id set");const o=n.featureType,r=n.featurePrefix,s=n.featureNS,a=Vj(r,o);t.setAttribute("typeName",a),t.setAttributeNS(Lj,"xmlns:"+r,s);const l=e.getId();void 0!==l&&Gj(t,l,i)}function qj(t,e,i){const n=i[i.length-1];_b(void 0!==e.getId(),"Features must have an id set");const o=n.version,r=n.featureType,s=n.featurePrefix,a=n.featureNS,l=Vj(s,r),c=e.getGeometryName();t.setAttribute("typeName",l),t.setAttributeNS(Lj,"xmlns:"+s,a);const h=e.getId();if(void 0!==h){const r=e.getKeys(),s=[];for(let t=0,i=r.length;t<i;t++){const i=e.get(r[t]);if(void 0!==i){let e=r[t];i&&"function"==typeof i.getSimplifiedGeometry&&(e=c),s.push({name:e,value:i})}}YU({version:o,gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},Fj,GU("Property"),s,i),Gj(t,h,i)}}function Wj(t,e,i){const n=i[i.length-1],o=n.version,r=Mj[o],s=IU(r,"2.0.0"===o?"ValueReference":"Name"),a=n.gmlVersion;if(t.appendChild(s),fD(s,e.name),void 0!==e.value&&null!==e.value){const n=IU(r,"Value");t.appendChild(n),e.value&&"function"==typeof e.value.getSimplifiedGeometry?2===a?vD.prototype.writeGeometryElement(n,e.value,i):3===a?xD.prototype.writeGeometryElement(n,e.value,i):yj.prototype.writeGeometryElement(n,e.value,i):fD(n,e.value)}}function Xj(t,e,i){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&fD(t,e.value)}const $j={"http://www.opengis.net/wfs":{Query:zU(Yj)},"http://www.opengis.net/wfs/2.0":{Query:zU(Yj)},"http://www.opengis.net/ogc":{During:zU(eG),And:zU(iG),Or:zU(iG),Not:zU(nG),BBOX:zU(Zj),Contains:zU(Jj),Intersects:zU(Jj),Within:zU(Jj),DWithin:zU(tG),PropertyIsEqualTo:zU(oG),PropertyIsNotEqualTo:zU(oG),PropertyIsLessThan:zU(oG),PropertyIsLessThanOrEqualTo:zU(oG),PropertyIsGreaterThan:zU(oG),PropertyIsGreaterThanOrEqualTo:zU(oG),PropertyIsNull:zU(rG),PropertyIsBetween:zU(sG),PropertyIsLike:zU(aG)},"http://www.opengis.net/fes/2.0":{During:zU(eG),And:zU(iG),Or:zU(iG),Not:zU(nG),BBOX:zU(Zj),Contains:zU(Jj),Disjoint:zU(Jj),Intersects:zU(Jj),ResourceId:zU((function(t,e,i){t.setAttribute("rid",e.rid)})),Within:zU(Jj),DWithin:zU(tG),PropertyIsEqualTo:zU(oG),PropertyIsNotEqualTo:zU(oG),PropertyIsLessThan:zU(oG),PropertyIsLessThanOrEqualTo:zU(oG),PropertyIsGreaterThan:zU(oG),PropertyIsGreaterThanOrEqualTo:zU(oG),PropertyIsNull:zU(rG),PropertyIsBetween:zU(sG),PropertyIsLike:zU(aG)}};function Yj(t,e,i){const n=i[i.length-1],o=n.version,r=n.featurePrefix,s=n.featureNS,a=n.propertyNames,l=n.srsName;let c,h;c=r?Vj(r,e):e,h="2.0.0"===o?"typeNames":"typeName",t.setAttribute(h,c),l&&t.setAttribute("srsName",l),s&&t.setAttributeNS(Lj,"xmlns:"+r,s);const A=Object.assign({},n);A.node=t,YU(A,kj,GU("PropertyName"),a,i);const u=n.filter;if(u){const e=IU(dG(o),"Filter");t.appendChild(e),function(t,e,i){const n=i[i.length-1],o={node:t};Object.assign(o,{context:n}),YU(o,$j,GU(e.getTagName()),[e],i)}(e,u,i)}}function Zj(t,e,i){const n=i[i.length-1],o=n.context.version;n.srsName=e.srsName;const r=Nj[o];hG(o,t,e.geometryName),r.prototype.writeGeometryElement(t,e.extent,i)}function Jj(t,e,i){const n=i[i.length-1],o=n.context.version;n.srsName=e.srsName;const r=Nj[o];hG(o,t,e.geometryName),r.prototype.writeGeometryElement(t,e.geometry,i)}function tG(t,e,i){const n=i[i.length-1].context.version;Jj(t,e,i);const o=IU(dG(n),"Distance");fD(o,e.distance.toString()),"2.0.0"===n?o.setAttribute("uom",e.unit):o.setAttribute("units",e.unit),t.appendChild(o)}function eG(t,e,i){const n=i[i.length-1].context.version;lG(Pj[n],"ValueReference",t,e.propertyName);const o=IU(iD,"TimePeriod");t.appendChild(o);const r=IU(iD,"begin");o.appendChild(r),AG(r,e.begin);const s=IU(iD,"end");o.appendChild(s),AG(s,e.end)}function iG(t,e,i){const n=i[i.length-1].context,o={node:t};Object.assign(o,{context:n});const r=e.conditions;for(let s=0,a=r.length;s<a;++s){const t=r[s];YU(o,$j,GU(t.getTagName()),[t],i)}}function nG(t,e,i){const n=i[i.length-1].context,o={node:t};Object.assign(o,{context:n});const r=e.condition;YU(o,$j,GU(r.getTagName()),[r],i)}function oG(t,e,i){const n=i[i.length-1].context.version;void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),hG(n,t,e.propertyName),cG(n,t,""+e.expression)}function rG(t,e,i){hG(i[i.length-1].context.version,t,e.propertyName)}function sG(t,e,i){const n=i[i.length-1].context.version,o=dG(n);hG(n,t,e.propertyName);const r=IU(o,"LowerBoundary");t.appendChild(r),cG(n,r,""+e.lowerBoundary);const s=IU(o,"UpperBoundary");t.appendChild(s),cG(n,s,""+e.upperBoundary)}function aG(t,e,i){const n=i[i.length-1].context.version;t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),hG(n,t,e.propertyName),cG(n,t,""+e.pattern)}function lG(t,e,i,n){const o=IU(t,e);fD(o,n),i.appendChild(o)}function cG(t,e,i){lG(dG(t),"Literal",e,i)}function hG(t,e,i){"2.0.0"===t?lG(Pj[t],"ValueReference",e,i):lG(Ij[t],"PropertyName",e,i)}function AG(t,e){const i=IU(iD,"TimeInstant");t.appendChild(i);const n=IU(iD,"timePosition");i.appendChild(n),fD(n,e)}function uG(t,e,i){const n=i[i.length-1],o=Object.assign({},n);o.node=t,YU(o,$j,GU("Query"),e,i)}function dG(t){let e;return e="2.0.0"===t?Pj[t]:Ij[t],e}const pG=class extends eD{constructor(t){super(),t=t||{},this.version_=t.version?t.version:"1.1.0",this.featureType_=t.featureType,this.featureNS_=t.featureNS,this.gmlFormat_=t.gmlFormat?t.gmlFormat:new Nj[this.version_],this.schemaLocation_=t.schemaLocation?t.schemaLocation:Rj[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(t){this.featureType_=t}readFeaturesFromNode(t,e){const i={node:t};Object.assign(i,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(i,this.getReadOptions(t,e||{}));const n=[i];let o;o="2.0.0"===this.version_?Bj:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let r=XU([],o,t,n,this.gmlFormat_);return r||(r=[]),r}readTransactionResponse(t){if(t){if("string"==typeof t){const e=NU(t);return this.readTransactionResponseFromDocument(e)}return RU(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}}readFeatureCollectionMetadata(t){if(t){if("string"==typeof t){const e=NU(t);return this.readFeatureCollectionMetadataFromDocument(e)}return RU(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}}readFeatureCollectionMetadataFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)}readFeatureCollectionMetadataFromNode(t){const e={},i=AD(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=i,XU(e,Bj,t,[],this.gmlFormat_)}readTransactionResponseFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)}readTransactionResponseFromNode(t){return XU({},Ej,t,[])}writeGetFeature(t){const e=IU(Mj[this.version_],"GetFeature");e.setAttribute("service","WFS"),e.setAttribute("version",this.version_),t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&e.setAttribute("count",String(t.count)),void 0!==t.viewParams&&e.setAttribute("viewParams",t.viewParams),e.setAttributeNS(LU,"xsi:schemaLocation",this.schemaLocation_);const i={node:e};if(Object.assign(i,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),_b(Array.isArray(t.featureTypes),"`options.featureTypes` must be an Array"),"string"==typeof t.featureTypes[0]){let n=t.filter;t.bbox&&(_b(t.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),n=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,n)),Object.assign(i,{geometryName:t.geometryName,filter:n}),uG(e,t.featureTypes,[i])}else t.featureTypes.forEach((n=>{const o=this.combineBboxAndFilter(n.geometryName,n.bbox,t.srsName,t.filter);Object.assign(i,{geometryName:n.geometryName,filter:o}),uG(e,[n.name],[i])}));return e}combineBboxAndFilter(t,e,i,n){const o=function(t,e,i){return new Cj(t,e,i)}(t,e,i);return n?function(t){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(_j,e))}(n,o):o}writeTransaction(t,e,i,n){const o=[],r=n.version?n.version:this.version_,s=IU(Mj[r],"Transaction");let a;s.setAttribute("service","WFS"),s.setAttribute("version",r),n&&(a=n.gmlOptions?n.gmlOptions:{},n.handle&&s.setAttribute("handle",n.handle)),s.setAttributeNS(LU,"xsi:schemaLocation",Rj[r]);const l=function(t,e,i,n){const o=n.featurePrefix?n.featurePrefix:Tj;let r;"1.0.0"===i?r=2:"1.1.0"===i?r=3:"2.0.0"===i&&(r=3.2);const s=Object.assign({node:t},{version:i,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:o,gmlVersion:r,hasZ:n.hasZ,srsName:n.srsName},e);return s}(s,a,r,n);return t&&Oj("Insert",t,o,l),e&&Oj("Update",e,o,l),i&&Oj("Delete",i,o,l),n.nativeElements&&Oj("Native",n.nativeElements,o,l),s}readProjectionFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null}readProjectionFromNode(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(let e=(t=t.firstElementChild.firstElementChild).firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){const t=[{}];return this.gmlFormat_.readGeometryElement(e,t),Cy(t.pop().srsName)}return null}},gG=1,fG=2,mG=3,bG=4,vG=5,yG=6,wG=7,xG=15,_G=16,CG=17;class BG{constructor(t){this.view_=t,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_="XY"}readUint8(){return this.view_.getUint8(this.pos_++)}readUint32(t){return this.view_.getUint32((this.pos_+=4)-4,void 0!==t?t:this.isLittleEndian_)}readDouble(t){return this.view_.getFloat64((this.pos_+=8)-8,void 0!==t?t:this.isLittleEndian_)}readPoint(){const t=[];return t.push(this.readDouble()),t.push(this.readDouble()),this.hasZ_&&t.push(this.readDouble()),this.hasM_&&t.push(this.readDouble()),t}readLineString(){const t=this.readUint32(),e=[];for(let i=0;i<t;i++)e.push(this.readPoint());return e}readPolygon(){const t=this.readUint32(),e=[];for(let i=0;i<t;i++)e.push(this.readLineString());return e}readWkbHeader(t){const e=this.readUint8()>0,i=this.readUint32(e),n=Math.floor((268435455&i)/1e3),o=Boolean(2147483648&i)||1===n||3===n,r=Boolean(1073741824&i)||2===n||3===n,s=Boolean(536870912&i),a=(268435455&i)%1e3,l=["XY",o?"Z":"",r?"M":""].join(""),c=s?this.readUint32(e):null;if(void 0!==t&&t!==a)throw new Error("Unexpected WKB geometry type "+a);if(this.initialized_){if(this.isLittleEndian_!==e)throw new Error("Inconsistent endian");if(this.layout_!==l)throw new Error("Inconsistent geometry layout");if(c&&this.srid_!==c)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=e,this.hasZ_=o,this.hasM_=r,this.layout_=l,this.srid_=c,this.initialized_=!0;return a}readWkbPayload(t){switch(t){case gG:return this.readPoint();case fG:return this.readLineString();case mG:case CG:return this.readPolygon();case bG:return this.readMultiPoint();case vG:return this.readMultiLineString();case yG:case xG:case _G:return this.readMultiPolygon();case wG:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+t+" is found")}}readWkbBlock(t){return this.readWkbPayload(this.readWkbHeader(t))}readWkbCollection(t,e){const i=this.readUint32(),n=[];for(let o=0;o<i;o++){const i=t.call(this,e);i&&n.push(i)}return n}readMultiPoint(){return this.readWkbCollection(this.readWkbBlock,gG)}readMultiLineString(){return this.readWkbCollection(this.readWkbBlock,fG)}readMultiPolygon(){return this.readWkbCollection(this.readWkbBlock,mG)}readGeometryCollection(){return this.readWkbCollection(this.readGeometry)}readGeometry(){const t=this.readWkbHeader(),e=this.readWkbPayload(t);switch(t){case gG:return new mw(e,this.layout_);case fG:return new vk(e,this.layout_);case mG:case CG:return new Pw(e,this.layout_);case bG:return new wk(e,this.layout_);case vG:return new yk(e,this.layout_);case yG:case xG:case _G:return new _k(e,this.layout_);case wG:return new gk(e);default:return null}}getSrid(){return this.srid_}}class SG{constructor(t){t=t||{},this.layout_=t.layout,this.isLittleEndian_=!1!==t.littleEndian,this.isEWKB_=!1!==t.ewkb,this.writeQueue_=[],this.nodata_=Object.assign({X:0,Y:0,Z:0,M:0},t.nodata)}writeUint8(t){this.writeQueue_.push([1,t])}writeUint32(t){this.writeQueue_.push([4,t])}writeDouble(t){this.writeQueue_.push([8,t])}writePoint(t,e){const i=Object.assign.apply(null,e.split("").map(((e,i)=>({[e]:t[i]}))));for(const n of this.layout_)this.writeDouble(n in i?i[n]:this.nodata_[n])}writeLineString(t,e){this.writeUint32(t.length);for(let i=0;i<t.length;i++)this.writePoint(t[i],e)}writePolygon(t,e){this.writeUint32(t.length);for(let i=0;i<t.length;i++)this.writeLineString(t[i],e)}writeWkbHeader(t,e){t%=1e3,this.layout_.includes("Z")&&(t+=this.isEWKB_?2147483648:1e3),this.layout_.includes("M")&&(t+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(e)&&(t|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(t),this.isEWKB_&&Number.isInteger(e)&&this.writeUint32(e)}writeMultiPoint(t,e){this.writeUint32(t.length);for(let i=0;i<t.length;i++)this.writeWkbHeader(1),this.writePoint(t[i],e)}writeMultiLineString(t,e){this.writeUint32(t.length);for(let i=0;i<t.length;i++)this.writeWkbHeader(2),this.writeLineString(t[i],e)}writeMultiPolygon(t,e){this.writeUint32(t.length);for(let i=0;i<t.length;i++)this.writeWkbHeader(3),this.writePolygon(t[i],e)}writeGeometryCollection(t){this.writeUint32(t.length);for(let e=0;e<t.length;e++)this.writeGeometry(t[e])}findMinimumLayout(t,e="XYZM"){if(t instanceof Wy)return((t,e)=>t===e?t:"XYZM"===t?e:"XYZM"===e?t:"XY")(t.getLayout(),e);if(t instanceof gk){const i=t.getGeometriesArray();for(let t=0;t<i.length&&"XY"!==e;t++)e=this.findMinimumLayout(i[t],e)}return e}writeGeometry(t,e){const i={Point:gG,LineString:fG,Polygon:mG,MultiPoint:bG,MultiLineString:vG,MultiPolygon:yG,GeometryCollection:wG},n=t.getType(),o=i[n];if(!o)throw new Error("GeometryType "+n+" is not supported");if(this.layout_||(this.layout_=this.findMinimumLayout(t)),this.writeWkbHeader(o,e),t instanceof Wy){({Point:this.writePoint,LineString:this.writeLineString,Polygon:this.writePolygon,MultiPoint:this.writeMultiPoint,MultiLineString:this.writeMultiLineString,MultiPolygon:this.writeMultiPolygon})[n].call(this,t.getCoordinates(),t.getLayout())}else t instanceof gk&&this.writeGeometryCollection(t.getGeometriesArray())}getBuffer(){const t=this.writeQueue_.reduce(((t,e)=>t+e[0]),0),e=new ArrayBuffer(t),i=new DataView(e);let n=0;return this.writeQueue_.forEach((t=>{switch(t[0]){case 1:i.setUint8(n,t[1]);break;case 4:i.setUint32(n,t[1],this.isLittleEndian_);break;case 8:i.setFloat64(n,t[1],this.isLittleEndian_)}n+=t[0]})),e}}function EG(t){return"string"==typeof t?function(t){const e=new Uint8Array(t.length/2);for(let i=0;i<t.length/2;i++)e[i]=parseInt(t.substr(2*i,2),16);return new DataView(e.buffer)}(t):ArrayBuffer.isView(t)?t instanceof DataView?t:new DataView(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new DataView(t):null}const kG=class extends dU{constructor(t){super(),t=t||{},this.splitCollection=Boolean(t.splitCollection),this.viewCache_=null,this.hex_=!1!==t.hex,this.littleEndian_=!1!==t.littleEndian,this.ewkb_=!1!==t.ewkb,this.layout_=t.geometryLayout,this.nodataZ_=t.nodataZ||0,this.nodataM_=t.nodataM||0,this.srid_=t.srid}getType(){return this.hex_?"text":"arraybuffer"}readFeature(t,e){return new Cb({geometry:this.readGeometry(t,e)})}readFeatures(t,e){let i=[];const n=this.readGeometry(t,e);return i=this.splitCollection&&n instanceof gk?n.getGeometriesArray():[n],i.map((t=>new Cb({geometry:t})))}readGeometry(t,e){const i=EG(t);if(!i)return null;const n=new BG(i).readGeometry();return this.viewCache_=i,e=this.getReadOptions(t,e),this.viewCache_=null,pU(n,!1,e)}readProjection(t){const e=this.viewCache_||EG(t);if(!e)return;const i=new BG(e);return i.readWkbHeader(),i.getSrid()&&Cy("EPSG:"+i.getSrid())||void 0}writeFeature(t,e){return this.writeGeometry(t.getGeometry(),e)}writeFeatures(t,e){return this.writeGeometry(new gk(t.map((t=>t.getGeometry()))),e)}writeGeometry(t,e){e=this.adaptOptions(e);const i=new SG({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}});let n=Number.isInteger(this.srid_)?Number(this.srid_):null;if(!1!==this.srid_&&!Number.isInteger(this.srid_)){const t=e.dataProjection&&Cy(e.dataProjection);if(t){const e=t.getCode();e.startsWith("EPSG:")&&(n=Number(e.substring(5)))}}i.writeGeometry(pU(t,!0,e),n);const o=i.getBuffer();return this.hex_?function(t){const e=new Uint8Array(t);return Array.from(e.values()).map((t=>(t<16?"0":"")+Number(t).toString(16).toUpperCase())).join("")}(o):o}},FG={POINT:mw,LINESTRING:vk,POLYGON:Pw,MULTIPOINT:wk,MULTILINESTRING:yk,MULTIPOLYGON:_k},TG="EMPTY",LG="Z",IG="M",MG=0,PG=1,RG=2,NG=3,OG=4,UG=5,DG=6,QG={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class HG{constructor(t){this.wkt=t,this.index_=-1}isAlpha_(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}isNumeric_(t,e){return e=void 0!==e&&e,t>="0"&&t<="9"||"."==t&&!e}isWhiteSpace_(t){return" "==t||"\t"==t||"\r"==t||"\n"==t}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){const t=this.nextChar_(),e=this.index_;let i,n=t;if("("==t)i=RG;else if(","==t)i=UG;else if(")"==t)i=NG;else if(this.isNumeric_(t)||"-"==t)i=OG,n=this.readNumber_();else if(this.isAlpha_(t))i=PG,n=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);i=DG}return{position:e,value:n,type:i}}readNumber_(){let t;const e=this.index_;let i=!1,n=!1;do{"."==t?i=!0:"e"!=t&&"E"!=t||(n=!0),t=this.nextChar_()}while(this.isNumeric_(t,i)||!n&&("e"==t||"E"==t)||n&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))}readText_(){let t;const e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()}}let zG=class{constructor(t){this.lexer_=t,this.token_={position:0,type:MG},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(t){return this.token_.type==t}match(t){const e=this.isTokenType(t);return e&&this.consume_(),e}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let t="XY";const e=this.token_;if(this.isTokenType(PG)){const i=e.value;i===LG?t="XYZ":i===IG?t="XYM":"ZM"===i&&(t="XYZM"),"XY"!==t&&this.consume_()}return t}parseGeometryCollectionText_(){if(this.match(RG)){const t=[];do{t.push(this.parseGeometry_())}while(this.match(UG));if(this.match(NG))return t}throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(RG)){const t=this.parsePoint_();if(this.match(NG))return t}throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(RG)){const t=this.parsePointList_();if(this.match(NG))return t}throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(RG)){const t=this.parseLineStringTextList_();if(this.match(NG))return t}throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(RG)){let t;if(t=this.token_.type==RG?this.parsePointTextList_():this.parsePointList_(),this.match(NG))return t}throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(RG)){const t=this.parseLineStringTextList_();if(this.match(NG))return t}throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(RG)){const t=this.parsePolygonTextList_();if(this.match(NG))return t}throw new Error(this.formatErrorMessage_())}parsePoint_(){const t=[],e=this.layout_.length;for(let i=0;i<e;++i){const e=this.token_;if(!this.match(OG))break;t.push(e.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())}parsePointList_(){const t=[this.parsePoint_()];for(;this.match(UG);)t.push(this.parsePoint_());return t}parsePointTextList_(){const t=[this.parsePointText_()];for(;this.match(UG);)t.push(this.parsePointText_());return t}parseLineStringTextList_(){const t=[this.parseLineStringText_()];for(;this.match(UG);)t.push(this.parseLineStringText_());return t}parsePolygonTextList_(){const t=[this.parsePolygonText_()];for(;this.match(UG);)t.push(this.parsePolygonText_());return t}isEmptyGeometry_(){const t=this.isTokenType(PG)&&this.token_.value==TG;return t&&this.consume_(),t}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){const t=this.token_;if(this.match(PG)){const e=t.value;this.layout_=this.parseGeometryLayout_();const i=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==e){if(i)return new gk([]);const t=this.parseGeometryCollectionText_();return new gk(t)}const n=FG[e];if(!n)throw new Error("Invalid geometry type: "+e);let o;if(i)o="POINT"==e?[NaN,NaN]:[];else switch(e){case"POINT":o=this.parsePointText_();break;case"LINESTRING":o=this.parseLineStringText_();break;case"POLYGON":o=this.parsePolygonText_();break;case"MULTIPOINT":o=this.parseMultiPointText_();break;case"MULTILINESTRING":o=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":o=this.parseMultiPolygonText_()}return new n(o,this.layout_)}throw new Error(this.formatErrorMessage_())}};function jG(t){const e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function GG(t){const e=t.getCoordinates(),i=[];for(let n=0,o=e.length;n<o;++n)i.push(e[n].join(" "));return i.join(",")}function VG(t){const e=[],i=t.getLinearRings();for(let n=0,o=i.length;n<o;++n)e.push("("+GG(i[n])+")");return e.join(",")}const KG={Point:jG,LineString:GG,Polygon:VG,MultiPoint:function(t){const e=[],i=t.getPoints();for(let n=0,o=i.length;n<o;++n)e.push("("+jG(i[n])+")");return e.join(",")},MultiLineString:function(t){const e=[],i=t.getLineStrings();for(let n=0,o=i.length;n<o;++n)e.push("("+GG(i[n])+")");return e.join(",")},MultiPolygon:function(t){const e=[],i=t.getPolygons();for(let n=0,o=i.length;n<o;++n)e.push("("+VG(i[n])+")");return e.join(",")},GeometryCollection:function(t){const e=[],i=t.getGeometries();for(let n=0,o=i.length;n<o;++n)e.push(qG(i[n]));return e.join(",")}};function qG(t){const e=t.getType(),i=(0,KG[e])(t);let n=QG[e];if("function"==typeof t.getFlatCoordinates){const e=function(t){const e=t.getLayout();let i="";return"XYZ"!==e&&"XYZM"!==e||(i+=LG),"XYM"!==e&&"XYZM"!==e||(i+=IG),i}(t);e.length>0&&(n+=" "+e)}return 0===i.length?n+" "+TG:n+"("+i+")"}const WG=class extends lQ{constructor(t){super(),t=t||{},this.splitCollection_=void 0!==t.splitCollection&&t.splitCollection}parse_(t){const e=new HG(t);return new zG(e).parse()}readFeatureFromText(t,e){const i=this.readGeometryFromText(t,e),n=new Cb;return n.setGeometry(i),n}readFeaturesFromText(t,e){let i=[];const n=this.readGeometryFromText(t,e);i=this.splitCollection_&&"GeometryCollection"==n.getType()?n.getGeometriesArray():[n];const o=[];for(let r=0,s=i.length;r<s;++r){const t=new Cb;t.setGeometry(i[r]),o.push(t)}return o}readGeometryFromText(t,e){return pU(this.parse_(t),!1,e)}writeFeatureText(t,e){const i=t.getGeometry();return i?this.writeGeometryText(i,e):""}writeFeaturesText(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);const i=[];for(let o=0,r=t.length;o<r;++o)i.push(t[o].getGeometry());const n=new gk(i);return this.writeGeometryText(n,e)}writeGeometryText(t,e){return qG(pU(t,!0,e))}},XG=[null,"http://www.opengis.net/wms"],$G=qU(XG,{Service:HU((function(t,e){return XU({},ZG,t,e)})),Capability:HU((function(t,e){return XU({},YG,t,e)}))}),YG=qU(XG,{Request:HU((function(t,e){return XU({},sV,t,e)})),Exception:HU((function(t,e){return XU([],iV,t,e)})),Layer:HU((function(t,e){const i=XU({},nV,t,e);if(void 0===i.Layer)return Object.assign(i,dV(t,e));return i}))});const ZG=qU(XG,{Name:HU(uD),Title:HU(uD),Abstract:HU(uD),KeywordList:HU(mV),OnlineResource:HU(qz),ContactInformation:HU((function(t,e){return XU({},JG,t,e)})),Fees:HU(uD),AccessConstraints:HU(uD),LayerLimit:HU(hD),MaxWidth:HU(hD),MaxHeight:HU(hD)}),JG=qU(XG,{ContactPersonPrimary:HU((function(t,e){return XU({},tV,t,e)})),ContactPosition:HU(uD),ContactAddress:HU((function(t,e){return XU({},eV,t,e)})),ContactVoiceTelephone:HU(uD),ContactFacsimileTelephone:HU(uD),ContactElectronicMailAddress:HU(uD)}),tV=qU(XG,{ContactPerson:HU(uD),ContactOrganization:HU(uD)}),eV=qU(XG,{AddressType:HU(uD),Address:HU(uD),City:HU(uD),StateOrProvince:HU(uD),PostCode:HU(uD),Country:HU(uD)}),iV=qU(XG,{Format:UU(uD)}),nV=qU(XG,{Name:HU(uD),Title:HU(uD),Abstract:HU(uD),KeywordList:HU(mV),CRS:QU(uD),EX_GeographicBoundingBox:HU((function(t,e){const i=XU({},rV,t,e);if(!i)return;const n=i.westBoundLongitude,o=i.southBoundLatitude,r=i.eastBoundLongitude,s=i.northBoundLatitude;if(void 0===n||void 0===o||void 0===r||void 0===s)return;return[n,o,r,s]})),BoundingBox:QU((function(t,e){const i=[cD(t.getAttribute("minx")),cD(t.getAttribute("miny")),cD(t.getAttribute("maxx")),cD(t.getAttribute("maxy"))],n=[cD(t.getAttribute("resx")),cD(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:i,res:n}})),Dimension:QU((function(t,e){const i={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:sD(t.getAttribute("multipleValues")),nearestValue:sD(t.getAttribute("nearestValue")),current:sD(t.getAttribute("current")),values:uD(t)};return i})),Attribution:HU((function(t,e){return XU({},oV,t,e)})),AuthorityURL:QU((function(t,e){const i=pV(t,e);if(i)return i.name=t.getAttribute("name"),i;return})),Identifier:QU(uD),MetadataURL:QU((function(t,e){const i=pV(t,e);if(i)return i.type=t.getAttribute("type"),i;return})),DataURL:QU(pV),FeatureListURL:QU(pV),Style:QU((function(t,e){return XU({},hV,t,e)})),MinScaleDenominator:HU(lD),MaxScaleDenominator:HU(lD),Layer:QU(dV)}),oV=qU(XG,{Title:HU(uD),OnlineResource:HU(qz),LogoURL:HU(fV)}),rV=qU(XG,{westBoundLongitude:HU(lD),eastBoundLongitude:HU(lD),southBoundLatitude:HU(lD),northBoundLatitude:HU(lD)}),sV=qU(XG,{GetCapabilities:HU(gV),GetMap:HU(gV),GetFeatureInfo:HU(gV)}),aV=qU(XG,{Format:QU(uD),DCPType:QU((function(t,e){return XU({},lV,t,e)}))}),lV=qU(XG,{HTTP:HU((function(t,e){return XU({},cV,t,e)}))}),cV=qU(XG,{Get:HU(pV),Post:HU(pV)}),hV=qU(XG,{Name:HU(uD),Title:HU(uD),Abstract:HU(uD),LegendURL:QU(fV),StyleSheetURL:HU(pV),StyleURL:HU(pV)}),AV=qU(XG,{Format:HU(uD),OnlineResource:HU(qz)}),uV=qU(XG,{Keyword:UU(uD)});function dV(t,e){const i=e[e.length-1],n=XU({},nV,t,e);if(!n)return;let o=sD(t.getAttribute("queryable"));void 0===o&&(o=i.queryable),n.queryable=void 0!==o&&o;let r=AD(t.getAttribute("cascaded"));void 0===r&&(r=i.cascaded),n.cascaded=r;let s=sD(t.getAttribute("opaque"));void 0===s&&(s=i.opaque),n.opaque=void 0!==s&&s;let a=sD(t.getAttribute("noSubsets"));void 0===a&&(a=i.noSubsets),n.noSubsets=void 0!==a&&a;let l=cD(t.getAttribute("fixedWidth"));l||(l=i.fixedWidth),n.fixedWidth=l;let c=cD(t.getAttribute("fixedHeight"));c||(c=i.fixedHeight),n.fixedHeight=c;["Style","CRS","AuthorityURL"].forEach((function(t){if(t in i){const e=n[t]||[];n[t]=e.concat(i[t])}}));return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(t){if(!(t in n)){const e=i[t];n[t]=e}})),n}function pV(t,e){return XU({},AV,t,e)}function gV(t,e){return XU({},aV,t,e)}function fV(t,e){const i=pV(t,e);if(i){const e=[AD(t.getAttribute("width")),AD(t.getAttribute("height"))];return i.size=e,i}}function mV(t,e){return XU([],uV,t,e)}const bV=class extends Vz{constructor(){super(),this.version=void 0}readFromNode(t){this.version=t.getAttribute("version").trim();const e=XU({version:this.version},$G,t,[]);return e||null}};const vV=class extends eD{constructor(t){super(),t=t||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new vD,this.layers_=t.layers?t.layers:null}getLayers(){return this.layers_}setLayers(t){this.layers_=t}readFeatures_(t,e){t.setAttribute("namespaceURI",this.featureNS_);const i=t.localName;let n=[];if(0===t.childNodes.length)return n;if("msGMLOutput"==i)for(let o=0,r=t.childNodes.length;o<r;o++){const i=t.childNodes[o];if(i.nodeType!==Node.ELEMENT_NODE)continue;const r=i,s=e[0],a="_layer",l=r.localName.replace(a,"");if(this.layers_&&!this.layers_.includes(l))continue;const c=l+"_feature";s.featureType=c,s.featureNS=this.featureNS_;const h={};h[c]=UU(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const A=qU([s.featureNS,null],h);r.setAttribute("namespaceURI",this.featureNS_);const u=XU([],A,r,e,this.gmlFormat_);u&&qm(n,u)}if("FeatureCollection"==i){const e=XU([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);e&&(n=e)}return n}readFeaturesFromNode(t,e){const i={};return e&&Object.assign(i,this.getReadOptions(t,e)),this.readFeatures_(t,[i])}},yV=[null,"http://www.opengis.net/wmts/1.0"],wV=[null,"http://www.opengis.net/ows/1.1"],xV=qU(yV,{Contents:HU((function(t,e){return XU({},_V,t,e)}))});const _V=qU(yV,{Layer:QU((function(t,e){return XU({},CV,t,e)})),TileMatrixSet:QU((function(t,e){return XU({},LV,t,e)}))}),CV=qU(yV,{Style:QU((function(t,e){const i=XU({},BV,t,e);if(!i)return;const n="true"===t.getAttribute("isDefault");return i.isDefault=n,i})),Format:QU(uD),TileMatrixSetLink:QU((function(t,e){return XU({},SV,t,e)})),Dimension:QU((function(t,e){return XU({},FV,t,e)})),ResourceURL:QU((function(t,e){const i=t.getAttribute("format"),n=t.getAttribute("template"),o=t.getAttribute("resourceType"),r={};i&&(r.format=i);n&&(r.template=n);o&&(r.resourceType=o);return r}))},qU(wV,{Title:HU(uD),Abstract:HU(uD),WGS84BoundingBox:HU(MV),BoundingBox:QU((function(t,e){const i=t.getAttribute("crs"),n=XU([],TV,t,e);if(2!=n.length)return;return{extent:Ob(n),crs:i}})),Identifier:HU(uD)})),BV=qU(yV,{LegendURL:QU((function(t,e){const i={};return i.format=t.getAttribute("format"),i.href=qz(t),i}))},qU(wV,{Title:HU(uD),Identifier:HU(uD)})),SV=qU(yV,{TileMatrixSet:HU(uD),TileMatrixSetLimits:HU((function(t,e){return XU([],EV,t,e)}))}),EV=qU(yV,{TileMatrixLimits:UU((function(t,e){return XU({},kV,t,e)}))}),kV=qU(yV,{TileMatrix:HU(uD),MinTileRow:HU(hD),MaxTileRow:HU(hD),MinTileCol:HU(hD),MaxTileCol:HU(hD)}),FV=qU(yV,{Default:HU(uD),Value:QU(uD)},qU(wV,{Identifier:HU(uD)})),TV=qU(wV,{LowerCorner:UU(PV),UpperCorner:UU(PV)}),LV=qU(yV,{WellKnownScaleSet:HU(uD),TileMatrix:QU((function(t,e){return XU({},IV,t,e)}))},qU(wV,{SupportedCRS:HU(uD),Identifier:HU(uD),BoundingBox:HU(MV)})),IV=qU(yV,{TopLeftCorner:HU(PV),ScaleDenominator:HU(lD),TileWidth:HU(hD),TileHeight:HU(hD),MatrixWidth:HU(hD),MatrixHeight:HU(hD)},qU(wV,{Identifier:HU(uD)}));function MV(t,e){const i=XU([],TV,t,e);if(2==i.length)return Ob(i)}function PV(t,e){const i=uD(t).split(/\s+/);if(!i||2!=i.length)return;const n=+i[0],o=+i[1];return isNaN(n)||isNaN(o)?void 0:[n,o]}const RV=class extends Vz{constructor(){super(),this.owsParser_=new cj}readFromNode(t){let e=t.getAttribute("version");e&&(e=e.trim());let i=this.owsParser_.readFromNode(t);return i?(i.version=e,i=XU(i,xV,t,[]),i||null):null}},NV=Object.freeze(Object.defineProperty({__proto__:null,EsriJSON:EU,GML:CD,GPX:aQ,GeoJSON:TU,IGC:gQ,IIIFInfo:DL,KML:fz,MVT:Gz,OWS:cj,Polyline:uj,TopoJSON:vj,WFS:pG,WKB:kG,WKT:WG,WMSCapabilities:bV,WMSGetFeatureInfo:vV,WMTSCapabilities:RV},Symbol.toStringTag,{value:"Module"}));var OV=Object.defineProperty,UV=(t,e,i)=>(((t,e,i)=>{e in t?OV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof e?e+"":e,i),i);const DV=Si({__name:"OlFeature",props:{properties:{default:()=>[]}},setup(t,{expose:e}){const i=t,n=en("vectorSource"),o=en("vectorLayer",null),r=en("heatmapLayer",null)||o,s=en("animation",null),a=we(new Cb({...i.properties}));return Ln((()=>i.properties),(()=>{a.value.setProperties(i.properties)})),Ln((()=>n),((t,e)=>{var i,n,o;null==(i=null==e?void 0:e.value)||i.removeFeature(a.value),null==(n=null==t?void 0:t.value)||n.addFeature(a.value),null==(o=null==t?void 0:t.value)||o.changed()})),fi((()=>{var t;(null==s?void 0:s.value)&&(null==(t=null==r?void 0:r.value)||t.animateFeature(a.value,s.value)),Ve((()=>{var t;null==(t=null==n?void 0:n.value)||t.addFeature(a.value)}))})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.removeFeature(a.value)})),tn("feature",a),tn("stylable",a),e({feature:a}),(t,e)=>ki(t.$slots,"default")}});function QV(t){const e=en("ol-options"),i=function(t){if("styles"in t){const{styles:e,...i}=Fe(t);return{style:e,...i}}return t}(t),n=se(i);return(null==e?void 0:e.debug)&&console.debug("[Vue3-OpenLayers Debug] PROPS",{in:t,out:n}),n}const HV=["change","error","propertychange"],zV=["tileloadend","tileloaderror","tileloadstart"],jV=["imageloadend","imageloaderror","imageloadstart"],GV=["addFeature","changefeature","clear","featuresloadend","featuresloaderror","featuresloadstart","removefeature"];function VV(t,e){const i=Bo(),n=en("ol-options");fi((()=>{[...HV,...e].forEach((e=>{let o;o=ye(t)?"function"==typeof t.value?t.value():t.value:t,o.on(e,((...o)=>{(null==n?void 0:n.debug)&&console.debug("[Vue3-OpenLayers Debug] EVENT",e,{eventName:e,args:o,source:t}),null==i||i.emit(e,...o)}))}))}))}const KV=Si({inheritAttrs:!1,__name:"OlGeolocation",props:{tracking:{type:Boolean,default:!0},trackingOptions:{default:()=>({enableHighAccuracy:!0})},projection:{default:"EPSG:3857"}},setup(t,{expose:e}){const i=QV(t),n=Do((()=>new Xw(i)));VV(n,["change:accuracy","change:accuracyGeometry","change:altitude","change:altitudeAccuracy","change:heading","change:position","change:projection","change:speed","change:tracking","change:trackingOptions"]);const o=we([]),r=we(0),s=we(0),a=we(0),l=we(0),c=we(0),h=we(null);return e({geoLoc:n,position:o,accuracy:r,altitude:s,altitudeAccuracy:a,speed:l,heading:c,accuracyGeometry:h}),(t,e)=>ki(t.$slots,"default",{position:o.value,speed:l.value,heading:c.value,accuracy:r.value,altitude:s.value,altitudeAccuracy:a.value,accuracyGeometry:h.value})}}),qV=Si({__name:"OlMap",props:{controls:{},pixelRatio:{},interactions:{},keyboardEventTarget:{},layers:{},maxTilesLoading:{},moveTolerance:{},overlays:{},target:{},view:{}},emits:["change:layerGroup","change:size","change:target","change:view","click","dblclick","singleclick","pointerdrag","pointermove","movestart","moveend","postrender","precompose","postcompose","rendercomplete"],setup(t,{expose:e,emit:i}){const n=i,o=QV(t),r=we(void 0);let s=new gE(o);Ln(o,(()=>{null==s||s.setProperties(o)})),fi((()=>{null==s||s.setTarget(r.value)})),yi((()=>{null==s||s.setTarget(void 0),s=void 0})),tn("map",s);return s.on("click",(t=>n("click",t))),s.on("change:size",(t=>n("change:size",t))),s.on("change:target",(t=>n("change:target",t))),s.on("change:view",(t=>n("change:view",t))),s.on("dblclick",(t=>n("dblclick",t))),s.on("singleclick",(t=>n("singleclick",t))),s.on("pointerdrag",(t=>n("pointerdrag",t))),s.on("pointermove",(t=>n("pointermove",t))),s.on("movestart",(t=>n("movestart",t))),s.on("moveend",(t=>n("moveend",t))),s.on("postrender",(t=>n("postrender",t))),s.on("precompose",(t=>n("precompose",t))),s.on("postcompose",(t=>n("postcompose",t))),s.on("rendercomplete",(t=>n("rendercomplete",t))),s.on("loadstart",(()=>{null==s||s.getTargetElement().classList.add("ol-map"),null==s||s.getTargetElement().classList.add("ol-map-loading"),null==s||s.getTargetElement().classList.remove("ol-map-fully-loaded")})),s.on("loadend",(()=>{null==s||s.getTargetElement().classList.add("ol-map-fully-loaded"),null==s||s.getTargetElement().classList.remove("ol-map-loading")})),e({map:s,mapRef:r,forEachFeatureAtPixel:(t,e,i)=>null==s?void 0:s.forEachFeatureAtPixel(t,e,i),getCoordinateFromPixel:t=>null==s?void 0:s.getCoordinateFromPixel(t),render:()=>null==s?void 0:s.render(),updateSize:()=>null==s?void 0:s.updateSize()}),(t,e)=>(io(),so("div",{ref_key:"mapRef",ref:r},[ki(t.$slots,"default")],512))}}),WV=Si({inheritAttrs:!1,__name:"OlOverlay",props:{id:{},element:{},offset:{},position:{},positioning:{default:"top-left"},stopEvent:{type:Boolean,default:!0},insertFirst:{type:Boolean,default:!0},autoPan:{type:[Boolean,Object],default:!1},className:{default:"ol-overlay-container ol-selectable"}},setup(t,{expose:e}){const i=t,n=en("map"),o=we(),r=QV(i),s=xe(new wE(r));VV(s,["change:element","change:map","change:offset","change:position","change:positioning"]);const a=t=>s.value.setElement(t);return fi((()=>{null==n||n.addOverlay(s.value)})),yi((()=>{return t=s.value,void((null==n?void 0:n.removeOverlay(t))||console.warn("couldn't find matching overlay to remove",s.value));var t})),Ln((()=>r),(t=>{for(const e in t){const i=e;t[i]&&s.value.set(e,t[i])}}),{deep:!0}),In((()=>{a(o.value)}),null,{flush:"post"}),e({overlay:s,htmlContent:o,getOffset:()=>s.value.getOffset(),getPosition:()=>s.value.getPosition(),getPositioning:()=>s.value.getPositioning(),panIntoView:t=>s.value.panIntoView(t),setElement:a,setOffset:t=>s.value.setOffset(t),setPosition:t=>s.value.setPosition(t),setPositioning:t=>s.value.setPositioning(t)}),(t,e)=>(io(),so("div",{ref_key:"htmlContent",ref:o},[ki(t.$slots,"default",{position:t.position})],512))}});var XV=1,$V=2,YV=3,ZV=4,JV=5,tK=6378137,eK=6356752.314,iK=.0066943799901413165,nK=484813681109536e-20,oK=Math.PI/2,rK=.16666666666666666,sK=.04722222222222222,aK=.022156084656084655,lK=1e-10,cK=.017453292519943295,hK=57.29577951308232,AK=Math.PI/4,uK=2*Math.PI,dK=3.14159265359,pK={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const gK={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var fK=/[\s_\-\/\(\)]/g;function mK(t,e){if(t[e])return t[e];for(var i,n=Object.keys(t),o=e.toLowerCase().replace(fK,""),r=-1;++r<n.length;)if((i=n[r]).toLowerCase().replace(fK,"")===o)return t[i]}function bK(t){var e,i,n,o={},r=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){o.rf=parseFloat(t)},lat_0:function(t){o.lat0=t*cK},lat_1:function(t){o.lat1=t*cK},lat_2:function(t){o.lat2=t*cK},lat_ts:function(t){o.lat_ts=t*cK},lon_0:function(t){o.long0=t*cK},lon_1:function(t){o.long1=t*cK},lon_2:function(t){o.long2=t*cK},alpha:function(t){o.alpha=parseFloat(t)*cK},gamma:function(t){o.rectified_grid_angle=parseFloat(t)},lonc:function(t){o.longc=t*cK},x_0:function(t){o.x0=parseFloat(t)},y_0:function(t){o.y0=parseFloat(t)},k_0:function(t){o.k0=parseFloat(t)},k:function(t){o.k0=parseFloat(t)},a:function(t){o.a=parseFloat(t)},b:function(t){o.b=parseFloat(t)},r:function(t){o.a=o.b=parseFloat(t)},r_a:function(){o.R_A=!0},zone:function(t){o.zone=parseInt(t,10)},south:function(){o.utmSouth=!0},towgs84:function(t){o.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){o.to_meter=parseFloat(t)},units:function(t){o.units=t;var e=mK(gK,t);e&&(o.to_meter=e.to_meter)},from_greenwich:function(t){o.from_greenwich=t*cK},pm:function(t){var e=mK(pK,t);o.from_greenwich=(e||parseFloat(t))*cK},nadgrids:function(t){"@null"===t?o.datumCode="none":o.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(o.axis=t)},approx:function(){o.approx=!0}};for(e in r)i=r[e],e in s?"function"==typeof(n=s[e])?n(i):o[n]=i:o[e]=i;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o}var vK=1,yK=/\s/,wK=/[A-Za-z]/,xK=/[A-Za-z84_]/,_K=/[,\]]/,CK=/[\d\.E\-\+]/;function BK(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=vK}function SK(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var n=e?{}:t,o=i.reduce((function(t,e){return EK(e,t),t}),n);e&&(t[e]=o)}function EK(t,e){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void EK(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i){if("AXIS"===i)return i in e||(e[i]=[]),void e[i].push(t);var n;switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&EK(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&EK(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void SK(e,i,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return EK(t,e[i]);return SK(e,i,t)}}else e[i]=t;else e[i]=!0}else e[t]=!0}BK.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;yK.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case vK:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},BK.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(_K.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},BK.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=vK)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=vK,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},BK.prototype.number=function(t){if(!CK.test(t)){if(_K.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},BK.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},BK.prototype.keyword=function(t){if(xK.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=vK)}if(!_K.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},BK.prototype.neutral=function(t){if(wK.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(CK.test(t))return this.word=t,void(this.state=3);if(!_K.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},BK.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var kK,FK=.017453292519943295;function TK(t){return t*FK}function LK(t){var e=new BK(t).output(),i=e.shift(),n=e.shift();e.unshift(["name",n]),e.unshift(["type",i]);var o={};return EK(e,o),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",i=0,n=t.AXIS.length;i<n;++i){var o=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?e+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?e+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?e+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var r=t.GEOGCS;function s(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(r=t),r&&(r.DATUM?t.datumCode=r.DATUM.name.toLowerCase():t.datumCode=r.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),r.DATUM&&r.DATUM.SPHEROID&&(t.ellps=r.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=r.DATUM.SPHEROID.a,t.rf=parseFloat(r.DATUM.SPHEROID.rf,10)),r.DATUM&&r.DATUM.TOWGS84&&(t.datum_params=r.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",TK],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",TK],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",TK],["lat0","latitude_of_origin",TK],["lat0","standard_parallel_1",TK],["lat1","standard_parallel_1",TK],["lat2","standard_parallel_2",TK],["azimuth","Azimuth"],["alpha","azimuth",TK],["srsCode","name"]].forEach((function(e){return i=t,o=(n=e)[0],r=n[1],void(!(o in i)&&r in i&&(i[o]=i[r],3===n.length&&(i[o]=n[2](i[o]))));var i,n,o,r})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName?!t.lat_ts&&t.lat0&&"Polar_Stereographic"===t.projName&&(t.lat_ts=t.lat0,t.lat0=TK(t.lat0>0?90:-90)):(t.lat0=TK(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(o),o}function IK(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?IK[t]=bK(arguments[1]):IK[t]=LK(arguments[1]):IK[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?IK.apply(e,t):IK(t)}));if("string"==typeof t){if(t in IK)return IK[t]}else"EPSG"in t?IK["EPSG:"+t.EPSG]=t:"ESRI"in t?IK["ESRI:"+t.ESRI]=t:"IAU2000"in t?IK["IAU2000:"+t.IAU2000]=t:console.log(t);return}}(kK=IK)("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),kK("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),kK("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),kK.WGS84=kK["EPSG:4326"],kK["EPSG:3785"]=kK["EPSG:3857"],kK.GOOGLE=kK["EPSG:3857"],kK["EPSG:900913"]=kK["EPSG:3857"],kK["EPSG:102113"]=kK["EPSG:3857"];var MK=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var PK=["3857","900913","3785","102113"];function RK(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in IK}(t))return IK[t];if(function(t){return MK.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=LK(t);if(function(t){var e=mK(t,"authority");if(e){var i=mK(e,"epsg");return i&&PK.indexOf(i)>-1}}(e))return IK["EPSG:3857"];var i=function(t){var e=mK(t,"extension");if(e)return mK(e,"proj4")}(e);return i?bK(i):e}return function(t){return"+"===t[0]}(t)?bK(t):void 0}function NK(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t}function OK(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}function UK(t){return t<0?-1:1}function DK(t){return Math.abs(t)<=dK?t:t-UK(t)*uK}function QK(t,e,i){var n=t*i,o=.5*t;return n=Math.pow((1-n)/(1+n),o),Math.tan(.5*(oK-e))/n}function HK(t,e){for(var i,n,o=.5*t,r=oK-2*Math.atan(e),s=0;s<=15;s++)if(i=t*Math.sin(r),r+=n=oK-2*Math.atan(e*Math.pow((1-i)/(1+i),o))-r,Math.abs(n)<=1e-10)return r;return-9999}const zK={init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=OK(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,i,n=t.x,o=t.y;if(o*hK>90&&o*hK<-90&&n*hK>180&&n*hK<-180)return null;if(Math.abs(Math.abs(o)-oK)<=lK)return null;if(this.sphere)e=this.x0+this.a*this.k0*DK(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(AK+.5*o));else{var r=Math.sin(o),s=QK(this.e,o,r);e=this.x0+this.a*this.k0*DK(n-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n=t.x-this.x0,o=t.y-this.y0;if(this.sphere)i=oK-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var r=Math.exp(-o/(this.a*this.k0));if(-9999===(i=HK(this.e,r)))return null}return e=DK(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]};function jK(t){return t}var GK=[zK,{init:function(){},forward:jK,inverse:jK,names:["longlat","identity"]}],VK={},KK=[];function qK(t,e){var i=KK.length;return t.names?(KK[i]=t,t.names.forEach((function(t){VK[t.toLowerCase()]=i})),this):(console.log(e),!0)}const WK={start:function(){GK.forEach(qK)},add:qK,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==VK[e]&&KK[VK[e]]?KK[VK[e]]:void 0}};var XK={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},$K=XK.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};XK.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var YK={};YK.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},YK.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},YK.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},YK.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},YK.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},YK.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},YK.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},YK.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},YK.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},YK.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},YK.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},YK.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},YK.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},YK.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},YK.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},YK.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},YK.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},YK.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var ZK={};function JK(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:ZK[t]||null,isNull:!1}}function tq(t){return t/3600*Math.PI/180}function eq(t,e,i){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,i)))}function iq(t){return t.map((function(t){return[tq(t.longitudeShift),tq(t.latitudeShift)]}))}function nq(t,e,i){return{name:eq(t,e+8,e+16).trim(),parent:eq(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,i),upperLatitude:t.getFloat64(e+88,i),lowerLongitude:t.getFloat64(e+104,i),upperLongitude:t.getFloat64(e+120,i),latitudeInterval:t.getFloat64(e+136,i),longitudeInterval:t.getFloat64(e+152,i),gridNodeCount:t.getInt32(e+168,i)}}function oq(t,e,i,n){for(var o=e+176,r=[],s=0;s<i.gridNodeCount;s++){var a={latitudeShift:t.getFloat32(o+16*s,n),longitudeShift:t.getFloat32(o+16*s+4,n),latitudeAccuracy:t.getFloat32(o+16*s+8,n),longitudeAccuracy:t.getFloat32(o+16*s+12,n)};r.push(a)}return r}function rq(t,e){if(!(this instanceof rq))return new rq(t);e=e||function(t){if(t)throw t};var i=RK(t);if("object"==typeof i){var n=rq.projections.get(i.projName);if(n){if(i.datumCode&&"none"!==i.datumCode){var o=mK(YK,i.datumCode);o&&(i.datum_params=i.datum_params||(o.towgs84?o.towgs84.split(","):null),i.ellps=o.ellipse,i.datumName=o.datumName?o.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var r,s,a,l,c,h,A,u=function(t,e,i,n,o){if(!t){var r=mK(XK,n);r||(r=$K),t=r.a,e=r.b,i=r.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||Math.abs(t-e)<lK)&&(o=!0,e=t),{a:t,b:e,rf:i,sphere:o}}(i.a,i.b,i.rf,i.ellps,i.sphere),d=(r=u.a,s=u.b,u.rf,a=i.R_A,h=((l=r*r)-(c=s*s))/l,A=0,a?(l=(r*=1-h*(rK+h*(sK+h*aK)))*r,h=0):A=Math.sqrt(h),{es:h,e:A,ep2:(l-c)/c}),p=function(t){return void 0===t?null:t.split(",").map(JK)}(i.nadgrids),g=i.datum||function(t,e,i,n,o,r,s){var a={};return a.datum_type=void 0===t||"none"===t?JV:ZV,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=XV),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=$V,a.datum_params[3]*=nK,a.datum_params[4]*=nK,a.datum_params[5]*=nK,a.datum_params[6]=a.datum_params[6]/1e6+1))),s&&(a.datum_type=YV,a.grids=s),a.a=i,a.b=n,a.es=o,a.ep2=r,a}(i.datumCode,i.datum_params,u.a,u.b,d.es,d.ep2,p);NK(this,i),NK(this,n),this.a=u.a,this.b=u.b,this.rf=u.rf,this.sphere=u.sphere,this.es=d.es,this.e=d.e,this.ep2=d.ep2,this.datum=g,this.init(),e(null,this)}else e(t)}else e(t)}function sq(t,e,i){var n,o,r,s,a=t.x,l=t.y,c=t.z?t.z:0;if(l<-oK&&l>-1.001*oK)l=-oK;else if(l>oK&&l<1.001*oK)l=oK;else{if(l<-oK)return{x:-1/0,y:-1/0,z:t.z};if(l>oK)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),o=Math.sin(l),s=Math.cos(l),r=o*o,{x:((n=i/Math.sqrt(1-e*r))+c)*s*Math.cos(a),y:(n+c)*s*Math.sin(a),z:(n*(1-e)+c)*o}}function aq(t,e,i,n){var o,r,s,a,l,c,h,A,u,d,p,g,f,m,b,v=1e-12,y=t.x,w=t.y,x=t.z?t.z:0;if(o=Math.sqrt(y*y+w*w),r=Math.sqrt(y*y+w*w+x*x),o/i<v){if(m=0,r/i<v)return b=-n,{x:t.x,y:t.y,z:t.z}}else m=Math.atan2(w,y);s=x/r,A=(a=o/r)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*a*a)),u=s*l,f=0;do{f++,c=e*(h=i/Math.sqrt(1-e*u*u))/(h+(b=o*A+x*u-h*(1-e*u*u))),g=(p=s*(l=1/Math.sqrt(1-c*(2-c)*a*a)))*A-(d=a*(1-c)*l)*u,A=d,u=p}while(g*g>1e-24&&f<30);return{x:m,y:Math.atan(p/Math.abs(d)),z:b}}function lq(t){return t===XV||t===$V}function cq(t,e,i){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===XV?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==$V||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return i;if(t.datum_type===JV||e.datum_type===JV)return i;var n=t.a,o=t.es;if(t.datum_type===YV){if(0!==hq(t,!1,i))return;n=tK,o=iK}var r=e.a,s=e.b,a=e.es;if(e.datum_type===YV&&(r=tK,s=eK,a=iK),o===a&&n===r&&!lq(t.datum_type)&&!lq(e.datum_type))return i;if((i=sq(i,o,n),lq(t.datum_type)&&(i=function(t,e,i){if(e===XV)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===$V){var n=i[0],o=i[1],r=i[2],s=i[3],a=i[4],l=i[5],c=i[6];return{x:c*(t.x-l*t.y+a*t.z)+n,y:c*(l*t.x+t.y-s*t.z)+o,z:c*(-a*t.x+s*t.y+t.z)+r}}}(i,t.datum_type,t.datum_params)),lq(e.datum_type)&&(i=function(t,e,i){if(e===XV)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===$V){var n=i[0],o=i[1],r=i[2],s=i[3],a=i[4],l=i[5],c=i[6],h=(t.x-n)/c,A=(t.y-o)/c,u=(t.z-r)/c;return{x:h+l*A-a*u,y:-l*h+A+s*u,z:a*h-s*A+u}}}(i,e.datum_type,e.datum_params)),i=aq(i,a,r,s),e.datum_type===YV)&&0!==hq(e,!0,i))return;return i}function hq(t,e,i){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;var n={x:-i.x,y:i.y},o={x:Number.NaN,y:Number.NaN},r=[];t:for(var s=0;s<t.grids.length;s++){var a=t.grids[s];if(r.push(a.name),a.isNull){o=n;break}if(a.mandatory,null!==a.grid)for(var l=a.grid.subgrids,c=0,h=l.length;c<h;c++){var A=l[c],u=(Math.abs(A.del[1])+Math.abs(A.del[0]))/1e4,d=A.ll[0]-u,p=A.ll[1]-u,g=A.ll[0]+(A.lim[0]-1)*A.del[0]+u,f=A.ll[1]+(A.lim[1]-1)*A.del[1]+u;if(!(p>n.y||d>n.x||f<n.y||g<n.x)&&(o=Aq(n,e,A),!isNaN(o.x)))break t}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(o.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*hK+" "+n.y*hK+" tried: '"+r+"'"),-1):(i.x=-o.x,i.y=o.y,0)}function Aq(t,e,i){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var o={x:t.x,y:t.y};o.x-=i.ll[0],o.y-=i.ll[1],o.x=DK(o.x-Math.PI)+Math.PI;var r=uq(o,i);if(e){if(isNaN(r.x))return n;r.x=o.x-r.x,r.y=o.y-r.y;var s,a,l=9;do{if(a=uq(r,i),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:o.x-(a.x+r.x),y:o.y-(a.y+r.y)},r.x+=s.x,r.y+=s.y}while(l--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=DK(r.x+i.ll[0]),n.y=r.y+i.ll[1]}else isNaN(r.x)||(n.x=t.x+r.x,n.y=t.y+r.y);return n}function uq(t,e){var i,n={x:t.x/e.del[0],y:t.y/e.del[1]},o=Math.floor(n.x),r=Math.floor(n.y),s=n.x-1*o,a=n.y-1*r,l={x:Number.NaN,y:Number.NaN};if(o<0||o>=e.lim[0])return l;if(r<0||r>=e.lim[1])return l;i=r*e.lim[0]+o;var c=e.cvs[i][0],h=e.cvs[i][1];i++;var A=e.cvs[i][0],u=e.cvs[i][1];i+=e.lim[0];var d=e.cvs[i][0],p=e.cvs[i][1];i--;var g=e.cvs[i][0],f=e.cvs[i][1],m=s*a,b=s*(1-a),v=(1-s)*(1-a),y=(1-s)*a;return l.x=v*c+b*A+y*g+m*d,l.y=v*h+b*u+y*f+m*p,l}function dq(t,e,i){var n,o,r,s=i.x,a=i.y,l=i.z||0,c={};for(r=0;r<3;r++)if(!e||2!==r||void 0!==i.z)switch(0===r?(n=s,o=-1!=="ew".indexOf(t.axis[r])?"x":"y"):1===r?(n=a,o=-1!=="ns".indexOf(t.axis[r])?"y":"x"):(n=l,o="z"),t.axis[r]){case"e":case"n":c[o]=n;break;case"w":case"s":c[o]=-n;break;case"u":void 0!==i[o]&&(c.z=n);break;case"d":void 0!==i[o]&&(c.z=-n);break;default:return null}return c}function pq(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function gq(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function fq(t,e,i,n){var o,r=void 0!==(i=Array.isArray(i)?pq(i):{x:i.x,y:i.y,z:i.z,m:i.m}).z;if(function(t){gq(t.x),gq(t.y)}(i),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===XV||t.datum.datum_type===$V||t.datum.datum_type===YV)&&"WGS84"!==e.datumCode||(e.datum.datum_type===XV||e.datum.datum_type===$V||e.datum.datum_type===YV)&&"WGS84"!==t.datumCode}(t,e)&&(i=fq(t,o=new rq("WGS84"),i,n),t=o),n&&"enu"!==t.axis&&(i=dq(t,!1,i)),"longlat"===t.projName)i={x:i.x*cK,y:i.y*cK,z:i.z||0};else if(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),!(i=t.inverse(i)))return;if(t.from_greenwich&&(i.x+=t.from_greenwich),i=cq(t.datum,e.datum,i))return e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y,z:i.z||0}),"longlat"===e.projName?i={x:i.x*hK,y:i.y*hK,z:i.z||0}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter,z:i.z||0})),n&&"enu"!==e.axis?dq(e,!0,i):(i&&!r&&delete i.z,i)}rq.projections=WK,rq.projections.start();var mq=rq("WGS84");function bq(t,e,i,n){var o,r,s;return Array.isArray(i)?(o=fq(t,e,i,n)||{x:NaN,y:NaN},i.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof o.z?[o.x,o.y,o.z].concat(i.splice(3)):[o.x,o.y,i[2]].concat(i.splice(3)):[o.x,o.y].concat(i.splice(2)):[o.x,o.y]):(r=fq(t,e,i,n),2===(s=Object.keys(i)).length||s.forEach((function(n){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===n||"y"===n||"z"===n)return}else if("x"===n||"y"===n)return;r[n]=i[n]})),r)}function vq(t){return t instanceof rq?t:t.oProj?t.oProj:rq(t)}function yq(t,e,i){t=vq(t);var n,o=!1;return void 0===e?(e=t,t=mq,o=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=mq,o=!0),e=vq(e),i?bq(t,e,i):(n={forward:function(i,n){return bq(t,e,i,n)},inverse:function(i,n){return bq(e,t,i,n)}},o&&(n.oProj=e),n)}var wq=6,xq="AJSAJS",_q="AFAFAF",Cq=65,Bq=73,Sq=79,Eq=86,kq=90;const Fq={forward:Tq,inverse:function(t){var e=Pq(Oq(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:Lq};function Tq(t,e){return e=e||5,function(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(d=t.easting,p=t.northing,g=t.zoneNumber,f=Nq(g),m=Math.floor(d/1e5),b=Math.floor(p/1e5)%20,o=m,r=b,s=f,a=s-1,l=xq.charCodeAt(a),c=_q.charCodeAt(a),h=l+o-1,A=c+r,u=!1,h>kq&&(h=h-kq+Cq-1,u=!0),(h===Bq||l<Bq&&h>Bq||(h>Bq||l<Bq)&&u)&&h++,(h===Sq||l<Sq&&h>Sq||(h>Sq||l<Sq)&&u)&&++h===Bq&&h++,h>kq&&(h=h-kq+Cq-1),A>Eq?(A=A-Eq+Cq-1,u=!0):u=!1,(A===Bq||c<Bq&&A>Bq||(A>Bq||c<Bq)&&u)&&A++,(A===Sq||c<Sq&&A>Sq||(A>Sq||c<Sq)&&u)&&++A===Bq&&A++,A>Eq&&(A=A-Eq+Cq-1),String.fromCharCode(h)+String.fromCharCode(A))+i.substr(i.length-5,e)+n.substr(n.length-5,e);var o,r,s,a,l,c,h,A,u;var d,p,g,f,m,b}(function(t){var e,i,n,o,r,s,a,l,c=t.lat,h=t.lon,A=6378137,u=.00669438,d=.9996,p=Iq(c),g=Iq(h);l=Math.floor((h+180)/6)+1,180===h&&(l=60);c>=56&&c<64&&h>=3&&h<12&&(l=32);c>=72&&c<84&&(h>=0&&h<9?l=31:h>=9&&h<21?l=33:h>=21&&h<33?l=35:h>=33&&h<42&&(l=37));a=Iq(6*(l-1)-180+3),e=u/(1-u),i=A/Math.sqrt(1-u*Math.sin(p)*Math.sin(p)),n=Math.tan(p)*Math.tan(p),o=e*Math.cos(p)*Math.cos(p),r=Math.cos(p)*(g-a),s=A*((1-u/4-3*u*u/64-5*u*u*u/256)*p-(3*u/8+3*u*u/32+45*u*u*u/1024)*Math.sin(2*p)+(15*u*u/256+45*u*u*u/1024)*Math.sin(4*p)-35*u*u*u/3072*Math.sin(6*p));var f=d*i*(r+(1-n+o)*r*r*r/6+(5-18*n+n*n+72*o-58*e)*r*r*r*r*r/120)+5e5,m=d*(s+i*Math.tan(p)*(r*r/2+(5-n+9*o+4*o*o)*r*r*r*r/24+(61-58*n+n*n+600*o-330*e)*r*r*r*r*r*r/720));c<0&&(m+=1e7);return{northing:Math.round(m),easting:Math.round(f),zoneNumber:l,zoneLetter:Rq(c)}}({lat:t[1],lon:t[0]}),e)}function Lq(t){var e=Pq(Oq(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Iq(t){return t*(Math.PI/180)}function Mq(t){return t/Math.PI*180}function Pq(t){var e=t.northing,i=t.easting,n=t.zoneLetter,o=t.zoneNumber;if(o<0||o>60)return null;var r,s,a,l,c,h,A,u,d,p=.9996,g=6378137,f=.00669438,m=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),b=i-5e5,v=e;n<"N"&&(v-=1e7),A=6*(o-1)-180+3,r=.006739496752268451,d=(u=v/p/6367449.145945056)+(3*m/2-27*m*m*m/32)*Math.sin(2*u)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*u)+151*m*m*m/96*Math.sin(6*u),s=g/Math.sqrt(1-f*Math.sin(d)*Math.sin(d)),a=Math.tan(d)*Math.tan(d),l=r*Math.cos(d)*Math.cos(d),c=.99330562*g/Math.pow(1-f*Math.sin(d)*Math.sin(d),1.5),h=b/(s*p);var y=d-s*Math.tan(d)/c*(h*h/2-(5+3*a+10*l-4*l*l-9*r)*h*h*h*h/24+(61+90*a+298*l+45*a*a-1.6983531815716497-3*l*l)*h*h*h*h*h*h/720);y=Mq(y);var w,x=(h-(1+2*a+l)*h*h*h/6+(5-2*l+28*a-3*l*l+8*r+24*a*a)*h*h*h*h*h/120)/Math.cos(d);if(x=A+Mq(x),t.accuracy){var _=Pq({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:_.lat,right:_.lon,bottom:y,left:x}}else w={lat:y,lon:x};return w}function Rq(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Nq(t){var e=t%wq;return 0===e&&(e=wq),e}function Oq(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,o="",r=0;!/[A-Z]/.test(e=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;o+=e,r++}var s=parseInt(o,10);if(0===r||r+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(r++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(r,r+=2);for(var l=Nq(s),c=function(t,e){var i=xq.charCodeAt(e-1),n=1e5,o=!1;for(;i!==t.charCodeAt(0);){if(++i===Bq&&i++,i===Sq&&i++,i>kq){if(o)throw"Bad character: "+t;i=Cq,o=!0}n+=1e5}return n}(n.charAt(0),l),h=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var i=_q.charCodeAt(e-1),n=0,o=!1;for(;i!==t.charCodeAt(0);){if(++i===Bq&&i++,i===Sq&&i++,i>Eq){if(o)throw"Bad character: "+t;i=Cq,o=!0}n+=1e5}return n}(n.charAt(1),l);h<Uq(a);)h+=2e6;var A=i-r;if(A%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var u,d,p,g=A/2,f=0,m=0;return g>0&&(u=1e5/Math.pow(10,g),d=t.substring(r,r+g),f=parseFloat(d)*u,p=t.substring(r+g),m=parseFloat(p)*u),{easting:f+c,northing:m+h,zoneLetter:a,zoneNumber:s,accuracy:u}}function Uq(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Dq(t,e,i){if(!(this instanceof Dq))return new Dq(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Dq.fromMGRS=function(t){return new Dq(Lq(t))},Dq.prototype.toMGRS=function(t){return Tq([this.x,this.y],t)};var Qq=1,Hq=.25,zq=.046875,jq=.01953125,Gq=.01068115234375,Vq=.75,Kq=.46875,qq=.013020833333333334,Wq=.007120768229166667,Xq=.3645833333333333,$q=.005696614583333333,Yq=.3076171875;function Zq(t){var e=[];e[0]=Qq-t*(Hq+t*(zq+t*(jq+t*Gq))),e[1]=t*(Vq-t*(zq+t*(jq+t*Gq)));var i=t*t;return e[2]=i*(Kq-t*(qq+t*Wq)),i*=t,e[3]=i*(Xq-t*$q),e[4]=i*t*Yq,e}function Jq(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var tW=20;function eW(t,e,i){for(var n=1/(1-e),o=t,r=tW;r;--r){var s=Math.sin(o),a=1-e*s*s;if(o-=a=(Jq(o,s,Math.cos(o),i)-t)*(a*Math.sqrt(a))*n,Math.abs(a)<lK)return o}return o}const iW={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Zq(this.es),this.ml0=Jq(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,n,o=t.x,r=t.y,s=DK(o-this.long0),a=Math.sin(r),l=Math.cos(r);if(this.es){var c=l*s,h=Math.pow(c,2),A=this.ep2*Math.pow(l,2),u=Math.pow(A,2),d=Math.abs(l)>lK?Math.tan(r):0,p=Math.pow(d,2),g=Math.pow(p,2);e=1-this.es*Math.pow(a,2),c/=Math.sqrt(e);var f=Jq(r,a,l,this.en);i=this.a*(this.k0*c*(1+h/6*(1-p+A+h/20*(5-18*p+g+14*A-58*p*A+h/42*(61+179*g-g*p-479*p)))))+this.x0,n=this.a*(this.k0*(f-this.ml0+a*s*c/2*(1+h/12*(5-p+9*A+4*u+h/30*(61+g-58*p+270*A-330*p*A+h/56*(1385+543*g-g*p-3111*p))))))+this.y0}else{var m=l*Math.sin(s);if(Math.abs(Math.abs(m)-1)<lK)return 93;if(i=.5*this.a*this.k0*Math.log((1+m)/(1-m))+this.x0,n=l*Math.cos(s)/Math.sqrt(1-Math.pow(m,2)),(m=Math.abs(n))>=1){if(m-1>lK)return 93;n=0}else n=Math.acos(n);r<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=i,t.y=n,t},inverse:function(t){var e,i,n,o,r=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(i=eW(e=this.ml0+s/this.k0,this.es,this.en),Math.abs(i)<oK){var a=Math.sin(i),l=Math.cos(i),c=Math.abs(l)>lK?Math.tan(i):0,h=this.ep2*Math.pow(l,2),A=Math.pow(h,2),u=Math.pow(c,2),d=Math.pow(u,2);e=1-this.es*Math.pow(a,2);var p=r*Math.sqrt(e)/this.k0,g=Math.pow(p,2);n=i-(e*=c)*g/(1-this.es)*.5*(1-g/12*(5+3*u-9*h*u+h-4*A-g/30*(61+90*u-252*h*u+45*d+46*h-g/56*(1385+3633*u+4095*d+1574*d*u)))),o=DK(this.long0+p*(1-g/6*(1+2*u+h-g/20*(5+28*u+24*d+8*h*u+6*h-g/42*(61+662*u+1320*d+720*d*u))))/l)}else n=oK*UK(s),o=0;else{var f=Math.exp(r/this.k0),m=.5*(f-1/f),b=this.lat0+s/this.k0,v=Math.cos(b);e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(m,2))),n=Math.asin(e),s<0&&(n=-n),o=0===m&&0===v?0:DK(Math.atan2(m,v)+this.long0)}return t.x=o,t.y=n,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function nW(t){var e=Math.exp(t);return e=(e-1/e)/2}function oW(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),n=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(n,2))}function rW(t){var e=Math.abs(t);return e=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i}(e*(1+e/(oW(1,e)+1))),t<0?-e:e}function sW(t,e){for(var i,n=2*Math.cos(2*e),o=t.length-1,r=t[o],s=0;--o>=0;)i=n*r-s+t[o],s=r,r=i;return e+i*Math.sin(2*e)}function aW(t,e,i){for(var n,o,r=Math.sin(e),s=Math.cos(e),a=nW(i),l=function(t){var e=Math.exp(t);return(e+1/e)/2}(i),c=2*s*l,h=-2*r*a,A=t.length-1,u=t[A],d=0,p=0,g=0;--A>=0;)n=p,o=d,u=c*(p=u)-n-h*(d=g)+t[A],g=h*p-o+c*d;return[(c=r*l)*u-(h=s*a)*g,c*g+h*u]}const lW={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(iW.init.apply(this),this.forward=iW.forward,this.inverse=iW.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),i*=e,this.cgb[1]=i*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=.6650675310896665*i;var n=sW(this.cbg,this.lat0);this.Zb=-this.Qn*(n+function(t,e){for(var i,n=2*Math.cos(e),o=t.length-1,r=t[o],s=0;--o>=0;)i=n*r-s+t[o],s=r,r=i;return Math.sin(e)*i}(this.gtu,2*n))},forward:function(t){var e=DK(t.x-this.long0),i=t.y;i=sW(this.cbg,i);var n=Math.sin(i),o=Math.cos(i),r=Math.sin(e),s=Math.cos(e);i=Math.atan2(n,s*o),e=Math.atan2(r*o,oW(n,o*s)),e=rW(Math.tan(e));var a,l,c=aW(this.gtu,2*i,2*e);return i+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*i+this.Zb)+this.y0):(a=1/0,l=1/0),t.x=a,t.y=l,t},inverse:function(t){var e,i,n=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(o=(o-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var r=aW(this.utg,2*o,2*n);o+=r[0],n+=r[1],n=Math.atan(nW(n));var s=Math.sin(o),a=Math.cos(o),l=Math.sin(n),c=Math.cos(n);o=Math.atan2(s*c,oW(l,c*a)),e=DK((n=Math.atan2(l,c*a))+this.long0),i=sW(this.cgb,o)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]};const cW={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(DK(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*cK,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,lW.init.apply(this),this.forward=lW.forward,this.inverse=lW.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function hW(t,e){return Math.pow((1-t)/(1+t),e)}const AW={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+AK)/(Math.pow(Math.tan(.5*this.lat0+AK),this.C)*hW(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+AK),this.C)*hW(this.e*Math.sin(i),this.ratexp))-oK,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,n=Math.pow(Math.tan(.5*i+AK)/this.K,1/this.C),o=20;o>0&&(i=2*Math.atan(n*hW(this.e*Math.sin(t.y),-.5*this.e))-oK,!(Math.abs(i-t.y)<1e-14));--o)t.y=i;return o?(t.x=e,t.y=i,t):null},names:["gauss"]};const uW={init:function(){AW.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,n,o;return t.x=DK(t.x-this.long0),AW.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),o=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n),t.x=o*i*Math.sin(t.x),t.y=o*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,n,o,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=oW(t.x,t.y)){var s=2*Math.atan2(r,this.R2);e=Math.sin(s),i=Math.cos(s),o=Math.asin(i*this.sinc0+t.y*e*this.cosc0/r),n=Math.atan2(t.x*e,r*this.cosc0*i-t.y*this.sinc0*e)}else o=this.phic0,n=0;return t.x=n,t.y=o,AW.inverse.apply(this,[t]),t.x=DK(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};const dW={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=lK&&(this.k0=.5*(1+UK(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=lK&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=lK&&Math.abs(Math.cos(this.lat_ts))>lK&&(this.k0=.5*this.cons*OK(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/QK(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=OK(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-oK,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,n,o,r,s,a=t.x,l=t.y,c=Math.sin(l),h=Math.cos(l),A=DK(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=lK&&Math.abs(l+this.lat0)<=lK?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*h*Math.cos(A)),t.x=this.a*e*h*Math.sin(A)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*h*Math.cos(A))+this.y0,t):(i=2*Math.atan(this.ssfn_(l,c,this.e))-oK,o=Math.cos(i),n=Math.sin(i),Math.abs(this.coslat0)<=lK?(r=QK(this.e,l*this.con,this.con*c),s=2*this.a*this.k0*r/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<lK?(e=2*this.a*this.k0/(1+o*Math.cos(A)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*o*Math.cos(A))),t.y=e*(this.cosX0*n-this.sinX0*o*Math.cos(A))+this.y0),t.x=e*o*Math.sin(A)+this.x0,t))},inverse:function(t){var e,i,n,o,r;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,i=this.lat0,s<=lK?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<lK?this.lat0>0?DK(this.long0+Math.atan2(t.x,-1*t.y)):DK(this.long0+Math.atan2(t.x,t.y)):DK(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=lK){if(s<=lK)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,n=s*this.cons/(2*this.a*this.k0),i=this.con*HK(this.e,n),e=this.con*DK(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=lK?r=this.X0:(r=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/s),e=DK(this.long0+Math.atan2(t.x*Math.sin(o),s*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),i=-1*HK(this.e,Math.tan(.5*(oK+r)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ssfn_:function(t,e,i){return e*=i,Math.tan(.5*(oK+t))*Math.pow((1-e)/(1+e),.5*i)}};const pW={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,o=2*n-Math.pow(n,2),r=this.e=Math.sqrt(o);this.R=this.k0*i*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+r*e)/(1-r*e));this.K=s-this.alpha*a+this.alpha*r/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,o=2*(Math.atan(Math.exp(n))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(r))),a=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,o=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(o))),a=this.lambda0+s/this.alpha,l=0,c=r,h=-1e3,A=0;Math.abs(c-h)>1e-7;){if(++A>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),h=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t},names:["somerc"]};var gW=1e-7;const fW={init:function(){var t,e,i,n,o,r,s,a,l,c,h,A,u,d=0,p=0,g=0,f=0,m=0,b=0,v=0;this.no_off=(u="object"==typeof(A=this).PROJECTION?Object.keys(A.PROJECTION)[0]:A.PROJECTION,"no_uoff"in A||"no_off"in A||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(u)),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),y&&(v=this.alpha),w&&(d=this.rectified_grid_angle*cK),y||w)p=this.longc;else if(g=this.long1,m=this.lat1,f=this.long2,b=this.lat2,Math.abs(m-b)<=gW||(t=Math.abs(m))<=gW||Math.abs(t-oK)<=gW||Math.abs(Math.abs(this.lat0)-oK)<=gW||Math.abs(Math.abs(b)-oK)<=gW)throw new Error;var x=1-this.es;e=Math.sqrt(x),Math.abs(this.lat0)>lK?(a=Math.sin(this.lat0),i=Math.cos(this.lat0),t=1-this.es*a*a,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/x),this.A=this.B*this.k0*e/t,(o=(n=this.B*e/(i*Math.sqrt(t)))*n-1)<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=n,this.E*=Math.pow(QK(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=o=1),y||w?(y?(h=Math.asin(Math.sin(v)/n),w||(d=v)):(h=d,v=Math.asin(n*Math.sin(h))),this.lam0=p-Math.asin(.5*(o-1/o)*Math.tan(h))/this.B):(r=Math.pow(QK(this.e,m,Math.sin(m)),this.B),s=Math.pow(QK(this.e,b,Math.sin(b)),this.B),o=this.E/r,l=(s-r)/(s+r),c=((c=this.E*this.E)-s*r)/(c+s*r),(t=g-f)<-Math.pi?f-=uK:t>Math.pi&&(f+=uK),this.lam0=DK(.5*(g+f)-Math.atan(c*Math.tan(.5*this.B*(g-f))/l)/this.B),h=Math.atan(2*Math.sin(this.B*DK(g-this.lam0))/(o-1/o)),d=v=Math.asin(n*Math.sin(h))),this.singam=Math.sin(h),this.cosgam=Math.cos(h),this.sinrot=Math.sin(d),this.cosrot=Math.cos(d),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*h,this.v_pole_n=this.ArB*Math.log(Math.tan(AK-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(AK+o))},forward:function(t){var e,i,n,o,r,s,a,l,c={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-oK)>lK){if(e=.5*((r=this.E/Math.pow(QK(this.e,t.y,Math.sin(t.y)),this.B))-(s=1/r)),i=.5*(r+s),o=Math.sin(this.B*t.x),n=(e*this.singam-o*this.cosgam)/i,Math.abs(Math.abs(n)-1)<lK)throw new Error;l=.5*this.ArB*Math.log((1-n)/(1+n)),s=Math.cos(this.B*t.x),a=Math.abs(s)<gW?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+o*this.singam,s)}else l=t.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*t.y;return this.no_rot?(c.x=a,c.y=l):(a-=this.u_0,c.x=l*this.cosrot+a*this.sinrot,c.y=a*this.cosrot-l*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(t){var e,i,n,o,r,s,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(i=t.y,e=t.x):(i=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),o=.5*((n=Math.exp(-this.BrA*i))-1/n),r=.5*(n+1/n),a=((s=Math.sin(this.BrA*e))*this.cosgam+o*this.singam)/r,Math.abs(Math.abs(a)-1)<lK)l.x=0,l.y=a<0?-oK:oK;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=HK(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(o*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};const mW={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<lK)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=OK(this.e,e,i),o=QK(this.e,this.lat1,e),r=Math.sin(this.lat2),s=Math.cos(this.lat2),a=OK(this.e,r,s),l=QK(this.e,this.lat2,r),c=QK(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>lK?this.ns=Math.log(n/a)/Math.log(o/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=lK&&(i=UK(i)*(oK-2*lK));var n,o,r=Math.abs(Math.abs(i)-oK);if(r>lK)n=QK(this.e,i,Math.sin(i)),o=this.a*this.f0*Math.pow(n,this.ns);else{if((r=i*this.ns)<=0)return null;o=0}var s=this.ns*DK(e-this.long0);return t.x=this.k0*(o*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,t},inverse:function(t){var e,i,n,o,r,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),i=1):(e=-Math.sqrt(s*s+a*a),i=-1);var l=0;if(0!==e&&(l=Math.atan2(i*s,i*a)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(o=HK(this.e,n)))return null}else o=-oK;return r=DK(l/this.ns+this.long0),t.x=r,t.y=o,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};const bW={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,n,o,r,s,a,l=t.x,c=t.y,h=DK(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),n=-h*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),r=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(o)),s=this.n*r,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,n,o,r,s,a,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),r=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),i=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e,a=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,c+=1}while(0===a&&c<15);return c>=15?null:t},names:["Krovak","krovak"]};function vW(t,e,i,n,o){return t*o-e*Math.sin(2*o)+i*Math.sin(4*o)-n*Math.sin(6*o)}function yW(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function wW(t){return.375*t*(1+.25*t*(1+.46875*t))}function xW(t){return.05859375*t*t*(1+.75*t)}function _W(t){return t*t*t*(35/3072)}function CW(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}function BW(t){return Math.abs(t)<oK?t:t-UK(t)*Math.PI}function SW(t,e,i,n,o){var r,s;r=t/e;for(var a=0;a<15;a++)if(r+=s=(t-(e*r-i*Math.sin(2*r)+n*Math.sin(4*r)-o*Math.sin(6*r)))/(e-2*i*Math.cos(2*r)+4*n*Math.cos(4*r)-6*o*Math.cos(6*r)),Math.abs(s)<=1e-10)return r;return NaN}const EW={init:function(){this.sphere||(this.e0=yW(this.es),this.e1=wW(this.es),this.e2=xW(this.es),this.e3=_W(this.es),this.ml0=this.a*vW(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,n=t.x,o=t.y;if(n=DK(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(o),Math.cos(n))-this.lat0);else{var r=Math.sin(o),s=Math.cos(o),a=CW(this.a,this.e,r),l=Math.tan(o)*Math.tan(o),c=n*Math.cos(o),h=c*c,A=this.es*s*s/(1-this.es);e=a*c*(1-h*l*(1/6-(8-l+8*A)*h/120)),i=this.a*vW(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*r/s*h*(.5+(5-l+6*A)*h/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,o=t.y/this.a;if(this.sphere){var r=o+this.lat0;e=Math.asin(Math.sin(r)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(r))}else{var s=SW(this.ml0/this.a+o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-oK)<=lK)return t.x=this.long0,t.y=oK,o<0&&(t.y*=-1),t;var a=CW(this.a,this.e,Math.sin(s)),l=a*a*a/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),h=n*this.a/a,A=h*h;e=s-a*Math.tan(s)/l*h*h*(.5-(1+3*c)*h*h/24),i=h*(1-A*(c/3+(1+3*c)*c*A/15))/Math.cos(s)}return t.x=DK(i+this.long0),t.y=BW(e),t},names:["Cassini","Cassini_Soldner","cass"]};function kW(t,e){var i;return t>1e-7?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e}var FW=.3333333333333333,TW=.17222222222222222,LW=.10257936507936508,IW=.06388888888888888,MW=.0664021164021164,PW=.016415012942191543;const RW={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-oK)<lK?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<lK?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=kW(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,i=[];return i[0]=t*FW,e=t*t,i[0]+=e*TW,i[1]=e*IW,e*=t,i[0]+=e*LW,i[1]+=e*MW,i[2]=e*PW,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=kW(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,n,o,r,s,a,l,c,h,A=t.x,u=t.y;if(A=DK(A-this.long0),this.sphere){if(r=Math.sin(u),h=Math.cos(u),n=Math.cos(A),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+h*n:1+this.sinph0*r+this.cosph0*h*n)<=lK)return null;e=(i=Math.sqrt(2/i))*h*Math.sin(A),i*=this.mode===this.EQUIT?r:this.cosph0*r-this.sinph0*h*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(u+this.lat0)<lK)return null;i=AK-.5*u,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(A),i*=n}}else{switch(a=0,l=0,c=0,n=Math.cos(A),o=Math.sin(A),r=Math.sin(u),s=kW(this.e,r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*n;break;case this.EQUIT:c=1+l*n;break;case this.N_POLE:c=oK+u,s=this.qp-s;break;case this.S_POLE:c=u-oK,s=this.qp+s}if(Math.abs(c)<lK)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),i=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*l*n):(c=Math.sqrt(2/(1+l*n)))*a*this.ymf,e=this.xmf*c*l*o;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*o,i=n*(this.mode===this.S_POLE?c:-c)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,o,r,s,a,l,c,h,A=t.x/this.a,u=t.y/this.a;if(this.sphere){var d,p=0,g=0;if((i=.5*(d=Math.sqrt(A*A+u*u)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=lK?0:Math.asin(u*g/d),A*=g,u=p*d;break;case this.OBLIQ:i=Math.abs(d)<=lK?this.lat0:Math.asin(p*this.sinph0+u*g*this.cosph0/d),A*=g*this.cosph0,u=(p-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:u=-u,i=oK-i;break;case this.S_POLE:i-=oK}e=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(A,u):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(A/=this.dd,u*=this.dd,(s=Math.sqrt(A*A+u*u))<lK)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*s/this.rq),n=Math.cos(o),A*=o=Math.sin(o),this.mode===this.OBLIQ?(a=n*this.sinb1+u*o*this.cosb1/s,r=this.qp*a,u=s*this.cosb1*n-u*this.sinb1*o):(a=u*o/s,r=this.qp*a,u=s*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),!(r=A*A+u*u))return t.x=this.long0,t.y=this.lat0,t;a=1-r/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(A,u),l=Math.asin(a),c=this.apa,h=l+l,i=l+c[0]*Math.sin(h)+c[1]*Math.sin(h+h)+c[2]*Math.sin(h+h+h)}return t.x=DK(this.long0+e),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function NW(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}const OW={init:function(){Math.abs(this.lat1+this.lat2)<lK||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=OK(this.e3,this.sin_po,this.cos_po),this.qs1=kW(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=OK(this.e3,this.sin_po,this.cos_po),this.qs2=kW(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=kW(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>lK?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=kW(this.e3,this.sin_phi),o=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,r=this.ns0*DK(e-this.long0),s=o*Math.sin(r)+this.x0,a=this.rh-o*Math.cos(r)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,i,n,o,r,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),o=0,0!==e&&(o=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,i)),r=DK(o/this.ns0+this.long0),t.x=r,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,n,o,r,s=NW(.5*e);if(t<lK)return s;for(var a=t*t,l=1;l<=25;l++)if(s+=r=.5*(o=1-(n=t*(i=Math.sin(s)))*n)*o/Math.cos(s)*(e/(1-a)-i/o+.5/t*Math.log((1-n)/(1+n))),Math.abs(r)<=1e-7)return s;return null}};const UW={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,n,o,r,s,a,l=t.x,c=t.y;return n=DK(l-this.long0),e=Math.sin(c),i=Math.cos(c),o=Math.cos(n),(r=this.sin_p14*e+this.cos_p14*i*o)>0||Math.abs(r)<=lK?(s=this.x0+1*this.a*i*Math.sin(n)/r,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*o)/r):(s=this.x0+this.infinity_dist*i*Math.sin(n),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*o)),t.x=s,t.y=a,t},inverse:function(t){var e,i,n,o,r,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(o=Math.atan2(e,this.rc),i=Math.sin(o),s=NW((n=Math.cos(o))*this.sin_p14+t.y*i*this.cos_p14/e),r=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),r=DK(this.long0+r)):(s=this.phic0,r=0),t.x=r,t.y=s,t},names:["gnom"]};const DW={init:function(){this.sphere||(this.k0=OK(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,n=t.x,o=t.y,r=DK(n-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var s=kW(this.e,Math.sin(o));e=this.x0+this.a*this.k0*r,i=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=DK(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*oK:oK;for(var n,o,r,s,a=Math.asin(.5*e),l=0;l<30;l++)if(o=Math.sin(a),r=Math.cos(a),s=t*o,a+=n=Math.pow(1-s*s,2)/(2*r)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(n)<=1e-10)return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=DK(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]};const QW={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,i=t.y,n=DK(e-this.long0),o=BW(i-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*o,t},inverse:function(t){var e=t.x,i=t.y;return t.x=DK(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=BW(this.lat0+(i-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};const HW={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=yW(this.es),this.e1=wW(this.es),this.e2=xW(this.es),this.e3=_W(this.es),this.ml0=this.a*vW(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,n,o=t.x,r=t.y,s=DK(o-this.long0);if(n=s*Math.sin(r),this.sphere)Math.abs(r)<=lK?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(r),i=this.a*(BW(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=lK)e=this.a*s,i=-1*this.ml0;else{var a=CW(this.a,this.e,Math.sin(r))/Math.tan(r);e=a*Math.sin(n),i=this.a*vW(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,n,o,r,s,a,l,c;if(n=t.x-this.x0,o=t.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=lK)e=DK(n/this.a+this.long0),i=0;else{var h;for(s=this.lat0+o/this.a,a=n*n/this.a/this.a+s*s,l=s,r=20;r;--r)if(l+=c=-1*(s*(l*(h=Math.tan(l))+1)-l-.5*(l*l+a)*h)/((l-s)/h-1),Math.abs(c)<=lK){i=l;break}e=DK(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(i))}else if(Math.abs(o+this.ml0)<=lK)i=0,e=DK(this.long0+n/this.a);else{var A,u,d,p,g;for(s=(this.ml0+o)/this.a,a=n*n/this.a/this.a+s*s,l=s,r=20;r;--r)if(g=this.e*Math.sin(l),A=Math.sqrt(1-g*g)*Math.tan(l),u=this.a*vW(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(s*(A*(p=u/this.a)+1)-p-.5*A*(p*p+a))/(this.es*Math.sin(2*l)*(p*p+a-2*s*p)/(4*A)+(s-p)*(A*d-2/Math.sin(2*l))-d),Math.abs(c)<=lK){i=l;break}A=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=DK(this.long0+Math.asin(n*A/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","poly"]};const zW={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i=t.x,n=t.y-this.lat0,o=i-this.long0,r=n/nK*1e-5,s=o,a=1,l=0;for(e=1;e<=10;e++)a*=r,l+=this.A[e]*a;var c,h=l,A=s,u=1,d=0,p=0,g=0;for(e=1;e<=6;e++)c=d*h+u*A,u=u*h-d*A,d=c,p=p+this.B_re[e]*u-this.B_im[e]*d,g=g+this.B_im[e]*u+this.B_re[e]*d;return t.x=g*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var e,i,n=t.x,o=t.y,r=n-this.x0,s=(o-this.y0)/this.a,a=r/this.a,l=1,c=0,h=0,A=0;for(e=1;e<=6;e++)i=c*s+l*a,l=l*s-c*a,c=i,h=h+this.C_re[e]*l-this.C_im[e]*c,A=A+this.C_im[e]*l+this.C_re[e]*c;for(var u=0;u<this.iterations;u++){var d,p=h,g=A,f=s,m=a;for(e=2;e<=6;e++)d=g*h+p*A,p=p*h-g*A,g=d,f+=(e-1)*(this.B_re[e]*p-this.B_im[e]*g),m+=(e-1)*(this.B_im[e]*p+this.B_re[e]*g);p=1,g=0;var b=this.B_re[1],v=this.B_im[1];for(e=2;e<=6;e++)d=g*h+p*A,p=p*h-g*A,g=d,b+=e*(this.B_re[e]*p-this.B_im[e]*g),v+=e*(this.B_im[e]*p+this.B_re[e]*g);var y=b*b+v*v;h=(f*b+m*v)/y,A=(m*b-f*v)/y}var w=h,x=A,_=1,C=0;for(e=1;e<=9;e++)_*=w,C+=this.D[e]*_;var B=this.lat0+C*nK*1e5,S=this.long0+x;return t.x=S,t.y=B,t},names:["New_Zealand_Map_Grid","nzmg"]};const jW={init:function(){},forward:function(t){var e=t.x,i=t.y,n=DK(e-this.long0),o=this.x0+this.a*n,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=o,t.y=r,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=DK(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]};const GW={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Zq(this.es)},forward:function(t){var e,i,n=t.x,o=t.y;if(n=DK(n-this.long0),this.sphere){if(this.m)for(var r=this.n*Math.sin(o),s=20;s;--s){var a=(this.m*o+Math.sin(o)-r)/(this.m+Math.cos(o));if(o-=a,Math.abs(a)<lK)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*n*(this.m+Math.cos(o)),i=this.a*this.C_y*o}else{var l=Math.sin(o),c=Math.cos(o);i=this.a*Jq(o,l,c,this.en),e=this.a*n*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=NW((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=NW(Math.sin(e)/this.n)),i=DK(i+this.long0),e=BW(e)):(e=eW(t.y/this.a,this.es,this.en),(n=Math.abs(e))<oK?(n=Math.sin(e),i=DK(this.long0+t.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)))):n-lK<oK&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]};const VW={init:function(){},forward:function(t){for(var e=t.x,i=t.y,n=DK(e-this.long0),o=i,r=Math.PI*Math.sin(i);;){var s=-(o+Math.sin(o)-r)/(1+Math.cos(o));if(o+=s,Math.abs(s)<lK)break}o/=2,Math.PI/2-Math.abs(i)<lK&&(n=0);var a=.900316316158*this.a*n*Math.cos(o)+this.x0,l=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=a,t.y=l,t},inverse:function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var n=DK(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var o=Math.asin(i);return t.x=n,t.y=o,t},names:["Mollweide","moll"]};const KW={init:function(){Math.abs(this.lat1+this.lat2)<lK||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=yW(this.es),this.e1=wW(this.es),this.e2=xW(this.es),this.e3=_W(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=OK(this.e,this.sinphi,this.cosphi),this.ml1=vW(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<lK?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=OK(this.e,this.sinphi,this.cosphi),this.ml2=vW(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=vW(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var o=vW(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-o)}var r=this.ns*DK(i-this.long0),s=this.x0+e*Math.sin(r),a=this.y0+this.rh-e*Math.cos(r);return t.x=s,t.y=a,t},inverse:function(t){var e,i,n,o;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var r=0;return 0!==i&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere?(o=DK(this.long0+r/this.ns),n=BW(this.g-i/this.a),t.x=o,t.y=n,t):(n=SW(this.g-i/this.a,this.e0,this.e1,this.e2,this.e3),o=DK(this.long0+r/this.ns),t.x=o,t.y=n,t)},names:["Equidistant_Conic","eqdc"]};const qW={init:function(){this.R=this.a},forward:function(t){var e,i,n=t.x,o=t.y,r=DK(n-this.long0);Math.abs(o)<=lK&&(e=this.x0+this.R*r,i=this.y0);var s=NW(2*Math.abs(o/Math.PI));(Math.abs(r)<=lK||Math.abs(Math.abs(o)-oK)<=lK)&&(e=this.x0,i=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(s),h=Math.cos(s),A=h/(c+h-1),u=A*A,d=A*(2/c-1),p=d*d,g=Math.PI*this.R*(a*(A-p)+Math.sqrt(l*(A-p)*(A-p)-(p+l)*(u-p)))/(p+l);r<0&&(g=-g),e=this.x0+g;var f=l+A;return g=Math.PI*this.R*(d*f-a*Math.sqrt((p+l)*(l+1)-f*f))/(p+l),i=o>=0?this.y0+g:this.y0-g,t.x=e,t.y=i,t},inverse:function(t){var e,i,n,o,r,s,a,l,c,h,A,u;return t.x-=this.x0,t.y-=this.y0,A=Math.PI*this.R,r=(n=t.x/A)*n+(o=t.y/A)*o,A=3*(o*o/(l=-2*(s=-Math.abs(o)*(1+r))+1+2*o*o+r*r)+(2*(a=s-2*o*o+n*n)*a*a/l/l/l-9*s*a/l/l)/27)/(c=(s-a*a/3/l)/l)/(h=2*Math.sqrt(-c/3)),Math.abs(A)>1&&(A=A>=0?1:-1),u=Math.acos(A)/3,i=t.y>=0?(-h*Math.cos(u+Math.PI/3)-a/3/l)*Math.PI:-(-h*Math.cos(u+Math.PI/3)-a/3/l)*Math.PI,e=Math.abs(n)<lK?this.long0:DK(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(n*n-o*o)+r*r))/2/n),t.x=e,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};const WW={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,i,n,o,r,s,a,l,c,h,A,u,d,p,g,f,m,b,v,y,w,x,_=t.x,C=t.y,B=Math.sin(t.y),S=Math.cos(t.y),E=DK(_-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=lK?(t.x=this.x0+this.a*(oK-C)*Math.sin(E),t.y=this.y0-this.a*(oK-C)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=lK?(t.x=this.x0+this.a*(oK+C)*Math.sin(E),t.y=this.y0+this.a*(oK+C)*Math.cos(E),t):(b=this.sin_p12*B+this.cos_p12*S*Math.cos(E),m=(f=Math.acos(b))?f/Math.sin(f):1,t.x=this.x0+this.a*m*S*Math.sin(E),t.y=this.y0+this.a*m*(this.cos_p12*B-this.sin_p12*S*Math.cos(E)),t):(e=yW(this.es),i=wW(this.es),n=xW(this.es),o=_W(this.es),Math.abs(this.sin_p12-1)<=lK?(r=this.a*vW(e,i,n,o,oK),s=this.a*vW(e,i,n,o,C),t.x=this.x0+(r-s)*Math.sin(E),t.y=this.y0-(r-s)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=lK?(r=this.a*vW(e,i,n,o,oK),s=this.a*vW(e,i,n,o,C),t.x=this.x0+(r+s)*Math.sin(E),t.y=this.y0+(r+s)*Math.cos(E),t):(a=B/S,l=CW(this.a,this.e,this.sin_p12),c=CW(this.a,this.e,B),h=Math.atan((1-this.es)*a+this.es*l*this.sin_p12/(c*S)),v=0===(A=Math.atan2(Math.sin(E),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(E)))?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(A)-Math.PI)<=lK?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(E)*Math.cos(h)/Math.sin(A)),u=this.e*this.sin_p12/Math.sqrt(1-this.es),f=l*v*(1-(y=v*v)*(g=(d=this.e*this.cos_p12*Math.cos(A)/Math.sqrt(1-this.es))*d)*(1-g)/6+(w=y*v)/8*(p=u*d)*(1-2*g)+(x=w*v)/120*(g*(4-7*g)-3*u*u*(1-7*g))-x*v/48*p),t.x=this.x0+f*Math.sin(A),t.y=this.y0+f*Math.cos(A),t))},inverse:function(t){var e,i,n,o,r,s,a,l,c,h,A,u,d,p,g,f,m,b,v,y,w,x,_;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*oK*this.a)return;return i=e/this.a,n=Math.sin(i),o=Math.cos(i),r=this.long0,Math.abs(e)<=lK?s=this.lat0:(s=NW(o*this.sin_p12+t.y*n*this.cos_p12/e),a=Math.abs(this.lat0)-oK,r=Math.abs(a)<=lK?this.lat0>=0?DK(this.long0+Math.atan2(t.x,-t.y)):DK(this.long0-Math.atan2(-t.x,t.y)):DK(this.long0+Math.atan2(t.x*n,e*this.cos_p12*o-t.y*this.sin_p12*n))),t.x=r,t.y=s,t}return l=yW(this.es),c=wW(this.es),h=xW(this.es),A=_W(this.es),Math.abs(this.sin_p12-1)<=lK?(s=SW(((u=this.a*vW(l,c,h,A,oK))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,l,c,h,A),r=DK(this.long0+Math.atan2(t.x,-1*t.y)),t.x=r,t.y=s,t):Math.abs(this.sin_p12+1)<=lK?(u=this.a*vW(l,c,h,A,oK),s=SW(((e=Math.sqrt(t.x*t.x+t.y*t.y))-u)/this.a,l,c,h,A),r=DK(this.long0+Math.atan2(t.x,t.y)),t.x=r,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),d=CW(this.a,this.e,this.sin_p12),f=Math.cos(g),b=-(m=this.e*this.cos_p12*f)*m/(1-this.es),v=3*this.es*(1-b)*this.sin_p12*this.cos_p12*f/(1-this.es),x=1-b*(w=(y=e/d)-b*(1+b)*Math.pow(y,3)/6-v*(1+3*b)*Math.pow(y,4)/24)*w/2-y*w*w*w/6,p=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*f),r=DK(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(p))),_=Math.sin(p),s=Math.atan2((_-this.es*x*this.sin_p12)*Math.tan(p),_*(1-this.es)),t.x=r,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};const XW={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,n,o,r,s,a,l=t.x,c=t.y;return n=DK(l-this.long0),e=Math.sin(c),i=Math.cos(c),o=Math.cos(n),((r=this.sin_p14*e+this.cos_p14*i*o)>0||Math.abs(r)<=lK)&&(s=1*this.a*i*Math.sin(n),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*o)),t.x=s,t.y=a,t},inverse:function(t){var e,i,n,o,r,s,a;return t.x-=this.x0,t.y-=this.y0,i=NW((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),n=Math.sin(i),o=Math.cos(i),s=this.long0,Math.abs(e)<=lK?(a=this.lat0,t.x=s,t.y=a,t):(a=NW(o*this.sin_p14+t.y*n*this.cos_p14/e),r=Math.abs(this.lat0)-oK,Math.abs(r)<=lK?(s=this.lat0>=0?DK(this.long0+Math.atan2(t.x,-t.y)):DK(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=DK(this.long0+Math.atan2(t.x*n,e*this.cos_p14*o-t.y*this.sin_p14*n)),t.x=s,t.y=a,t))},names:["ortho"]};var $W=1,YW=2,ZW=3,JW=4,tX=5,eX=6,iX={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function nX(t,e,i,n){var o;return t<lK?(n.value=iX.AREA_0,o=0):(o=Math.atan2(e,i),Math.abs(o)<=AK?n.value=iX.AREA_0:o>AK&&o<=oK+AK?(n.value=iX.AREA_1,o-=oK):o>oK+AK||o<=-(oK+AK)?(n.value=iX.AREA_2,o=o>=0?o-dK:o+dK):(n.value=iX.AREA_3,o+=oK)),o}function oX(t,e){var i=t+e;return i<-dK?i+=uK:i>+dK&&(i-=uK),i}const rX={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=oK-AK/2?this.face=tX:this.lat0<=-(oK-AK/2)?this.face=eX:Math.abs(this.long0)<=AK?this.face=$W:Math.abs(this.long0)<=oK+AK?this.face=this.long0>0?YW:JW:this.face=ZW,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,n,o,r,s,a={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===tX)o=oK-e,i>=AK&&i<=oK+AK?(l.value=iX.AREA_0,n=i-oK):i>oK+AK||i<=-(oK+AK)?(l.value=iX.AREA_1,n=i>0?i-dK:i+dK):i>-(oK+AK)&&i<=-AK?(l.value=iX.AREA_2,n=i+oK):(l.value=iX.AREA_3,n=i);else if(this.face===eX)o=oK+e,i>=AK&&i<=oK+AK?(l.value=iX.AREA_0,n=-i+oK):i<AK&&i>=-AK?(l.value=iX.AREA_1,n=-i):i<-AK&&i>=-(oK+AK)?(l.value=iX.AREA_2,n=-i-oK):(l.value=iX.AREA_3,n=i>0?-i+dK:-i-dK);else{var c,h,A,u,d,p;this.face===YW?i=oX(i,+oK):this.face===ZW?i=oX(i,+dK):this.face===JW&&(i=oX(i,-oK)),u=Math.sin(e),d=Math.cos(e),p=Math.sin(i),c=d*Math.cos(i),h=d*p,A=u,this.face===$W?n=nX(o=Math.acos(c),A,h,l):this.face===YW?n=nX(o=Math.acos(h),A,-c,l):this.face===ZW?n=nX(o=Math.acos(-c),A,-h,l):this.face===JW?n=nX(o=Math.acos(-h),A,c,l):(o=n=0,l.value=iX.AREA_0)}return s=Math.atan(12/dK*(n+Math.acos(Math.sin(n)*Math.cos(AK))-oK)),r=Math.sqrt((1-Math.cos(o))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(n))))),l.value===iX.AREA_1?s+=oK:l.value===iX.AREA_2?s+=dK:l.value===iX.AREA_3&&(s+=1.5*dK),a.x=r*Math.cos(s),a.y=r*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,i,n,o,r,s,a,l,c,h,A,u,d={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=iX.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=iX.AREA_1,e-=oK):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=iX.AREA_2,e=e<0?e+dK:e-dK):(p.value=iX.AREA_3,e+=oK),c=dK/12*Math.tan(e),r=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(r),(a=1-(n=Math.cos(e))*n*(o=Math.tan(i))*o*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===tX)l=Math.acos(a),d.phi=oK-l,p.value===iX.AREA_0?d.lam=s+oK:p.value===iX.AREA_1?d.lam=s<0?s+dK:s-dK:p.value===iX.AREA_2?d.lam=s-oK:d.lam=s;else if(this.face===eX)l=Math.acos(a),d.phi=l-oK,p.value===iX.AREA_0?d.lam=-s+oK:p.value===iX.AREA_1?d.lam=-s:p.value===iX.AREA_2?d.lam=-s-oK:d.lam=s<0?-s-dK:-s+dK;else{var g,f,m;c=(g=a)*g,f=(c+=(m=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*m)>=1?0:Math.sqrt(1-c),p.value===iX.AREA_1?(c=f,f=-m,m=c):p.value===iX.AREA_2?(f=-f,m=-m):p.value===iX.AREA_3&&(c=f,f=m,m=-c),this.face===YW?(c=g,g=-f,f=c):this.face===ZW?(g=-g,f=-f):this.face===JW&&(c=g,g=f,f=-c),d.phi=Math.acos(-m)-oK,d.lam=Math.atan2(f,g),this.face===YW?d.lam=oX(d.lam,-oK):this.face===ZW?d.lam=oX(d.lam,-dK):this.face===JW&&(d.lam=oX(d.lam,+oK))}return 0!==this.es&&(h=d.phi<0?1:0,A=Math.tan(d.phi),u=this.b/Math.sqrt(A*A+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-u*u)/(this.one_minus_f*u)),h&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var sX=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],aX=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],lX=.8487,cX=1.3523,hX=hK/5,AX=1/hX,uX=18,dX=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};const pX={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=DK(t.x-this.long0),i=Math.abs(t.y),n=Math.floor(i*hX);n<0?n=0:n>=uX&&(n=17);var o={x:dX(sX[n],i=hK*(i-AX*n))*e,y:dX(aX[n],i)};return t.y<0&&(o.y=-o.y),o.x=o.x*this.a*lX+this.x0,o.y=o.y*this.a*cX+this.y0,o},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*lX),y:Math.abs(t.y-this.y0)/(this.a*cX)};if(e.y>=1)e.x/=sX[18][0],e.y=t.y<0?-oK:oK;else{var i=Math.floor(e.y*uX);for(i<0?i=0:i>=uX&&(i=17);;)if(aX[i][0]>e.y)--i;else{if(!(aX[i+1][0]<=e.y))break;++i}var n=aX[i],o=5*(e.y-n[0])/(aX[i+1][0]-n[0]);o=function(t,e,i,n){for(var o=e;n;--n){var r=t(o);if(o-=r,Math.abs(r)<i)break}return o}((function(t){return(dX(n,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(n,t)}),o,lK,100),e.x/=dX(sX[i],o),e.y=(5*i+o)*cK,t.y<0&&(e.y=-e.y)}return e.x=DK(e.x+this.long0),e},names:["Robinson","robin"]};const gX={init:function(){this.name="geocent"},forward:function(t){return sq(t,this.es,this.a)},inverse:function(t){return aq(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var fX=0,mX=1,bX=2,vX=3,yX={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const wX={init:function(){if(Object.keys(yX).forEach(function(t){if(void 0===this[t])this[t]=yX[t].def;else{if(yX[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);yX[t].num&&(this[t]=parseFloat(this[t]))}yX[t].degrees&&(this[t]=this[t]*cK)}.bind(this)),Math.abs(Math.abs(this.lat0)-oK)<lK?this.mode=this.lat0<0?mX:fX:Math.abs(this.lat0)<lK?this.mode=bX:(this.mode=vX,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,i,n,o,r=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case vX:i=this.sinph0*r+this.cosph0*s*a;break;case bX:i=s*a;break;case mX:i=-r;break;case fX:i=r}switch(e=(i=this.pn1/(this.p-i))*s*Math.sin(t.x),this.mode){case vX:i*=this.cosph0*r-this.sinph0*s*a;break;case bX:i*=r;break;case fX:i*=-s*a;break;case mX:i*=s*a}return o=1/((n=i*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-i*this.sg)*this.cw*o,i=n*o,t.x=e*this.a,t.y=i*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,i,n,o={x:t.x,y:t.y};n=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*n,i=this.pn1*t.y*this.cw*n,t.x=e*this.cg+i*this.sg,t.y=i*this.cg-e*this.sg;var r=oW(t.x,t.y);if(Math.abs(r)<lK)o.x=0,o.y=t.y;else{var s,a;switch(a=1-r*r*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/r+r/this.pn1),s=Math.sqrt(1-a*a),this.mode){case vX:o.y=Math.asin(s*this.sinph0+t.y*a*this.cosph0/r),t.y=(s-this.sinph0*Math.sin(o.y))*r,t.x*=a*this.cosph0;break;case bX:o.y=Math.asin(t.y*a/r),t.y=s*r,t.x*=a;break;case fX:o.y=Math.asin(s),t.y=-t.y;break;case mX:o.y=-Math.asin(s)}o.x=Math.atan2(t.x,t.y)}return t.x=o.x+this.long0,t.y=o.y,t},names:["Tilted_Perspective","tpers"]};const xX={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var e,i,n,o,r=t.x,s=t.y;if(r-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/oW(this.radius_p*Math.cos(s),Math.sin(s));if(i=a*Math.cos(r)*Math.cos(s),n=a*Math.sin(r)*Math.cos(s),o=a*Math.sin(s),(this.radius_g-i)*i-n*n-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/oW(o,e)),t.y=this.radius_g_1*Math.atan(o/e)):(t.x=this.radius_g_1*Math.atan(n/e),t.y=this.radius_g_1*Math.atan(o/oW(n,e)))}else"sphere"===this.shape&&(e=Math.cos(s),i=Math.cos(r)*e,n=Math.sin(r)*e,o=Math.sin(s),e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/oW(o,e)),t.y=this.radius_g_1*Math.atan(o/e)):(t.x=this.radius_g_1*Math.atan(n/e),t.y=this.radius_g_1*Math.atan(o/oW(n,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var e,i,n,o,r=-1,s=0,a=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*oW(1,a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*oW(1,s));var l=a/this.radius_p;if(e=s*s+l*l+r*r,(n=(i=2*this.radius_g*r)*i-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-i-Math.sqrt(n))/(2*e),r=this.radius_g+o*r,s*=o,a*=o,t.x=Math.atan2(s,r),t.y=Math.atan(a*Math.cos(t.x)/r),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),e=s*s+a*a+r*r,(n=(i=2*this.radius_g*r)*i-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-i-Math.sqrt(n))/(2*e),r=this.radius_g+o*r,s*=o,a*=o,t.x=Math.atan2(s,r),t.y=Math.atan(a*Math.cos(t.x)/r)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var _X=1.340264,CX=-.081106,BX=893e-6,SX=.003796,EX=Math.sqrt(3)/2;const kX={init:function(){this.es=0,this.long0=void 0!==this.long0?this.long0:0},forward:function(t){var e=DK(t.x-this.long0),i=t.y,n=Math.asin(EX*Math.sin(i)),o=n*n,r=o*o*o;return t.x=e*Math.cos(n)/(EX*(_X+3*CX*o+r*(7*BX+9*SX*o))),t.y=n*(_X+CX*o+r*(BX+SX*o)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e,i,n,o,r=t.y;for(o=0;o<12&&(r-=n=(r*(_X+CX*(e=r*r)+(i=e*e*e)*(BX+SX*e))-t.y)/(_X+3*CX*e+i*(7*BX+9*SX*e)),!(Math.abs(n)<1e-9));++o);return i=(e=r*r)*e*e,t.x=EX*t.x*(_X+3*CX*e+i*(7*BX+9*SX*e))/Math.cos(r),t.y=Math.asin(Math.sin(r)/EX),t.x=DK(t.x+this.long0),t},names:["eqearth","Equal Earth","Equal_Earth"]};var FX;yq.defaultDatum="WGS84",yq.Proj=rq,yq.WGS84=new yq.Proj("WGS84"),yq.Point=Dq,yq.toPoint=pq,yq.defs=IK,yq.nadgrid=function(t,e){var i=new DataView(e),n=function(t){var e=t.getInt32(8,!1);if(11===e)return!1;e=t.getInt32(8,!0),11!==e&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(i),o=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:eq(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(i,n),r=function(t,e,i){for(var n=176,o=[],r=0;r<e.nSubgrids;r++){var s=nq(t,n,i),a=oq(t,n,s,i),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),c=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);o.push({ll:[tq(s.lowerLongitude),tq(s.lowerLatitude)],del:[tq(s.longitudeInterval),tq(s.latitudeInterval)],lim:[l,c],count:s.gridNodeCount,cvs:iq(a)}),n+=176+16*s.gridNodeCount}return o}(i,o,n),s={header:o,subgrids:r};return ZK[t]=s,s},yq.transform=fq,yq.mgrs=Fq,yq.version="__VERSION__",(FX=yq).Proj.projections.add(iW),FX.Proj.projections.add(lW),FX.Proj.projections.add(cW),FX.Proj.projections.add(uW),FX.Proj.projections.add(dW),FX.Proj.projections.add(pW),FX.Proj.projections.add(fW),FX.Proj.projections.add(mW),FX.Proj.projections.add(bW),FX.Proj.projections.add(EW),FX.Proj.projections.add(RW),FX.Proj.projections.add(OW),FX.Proj.projections.add(UW),FX.Proj.projections.add(DW),FX.Proj.projections.add(QW),FX.Proj.projections.add(HW),FX.Proj.projections.add(zW),FX.Proj.projections.add(jW),FX.Proj.projections.add(GW),FX.Proj.projections.add(VW),FX.Proj.projections.add(KW),FX.Proj.projections.add(qW),FX.Proj.projections.add(WW),FX.Proj.projections.add(XW),FX.Proj.projections.add(rX),FX.Proj.projections.add(pX),FX.Proj.projections.add(gX),FX.Proj.projections.add(wX),FX.Proj.projections.add(xX),FX.Proj.projections.add(kX);const TX=Si({__name:"OlProjectionRegister",props:{projectionName:{},projectionDef:{},projectionExtent:{default:void 0}},setup(t,{expose:e}){const i=t,{projectionName:n,projectionDef:o,projectionExtent:r}=Fe(i);yq.defs(n.value,o.value),function(t){const e=Object.keys(t.defs),i=e.length;let n,o;for(n=0;n<i;++n){const i=e[n];if(!Cy(i)){const e=t.defs(i);let n=e.units;n||"longlat"!==e.projName||(n="degrees"),_y(new kv({code:i,axisOrientation:e.axis,metersPerUnit:e.to_meter,units:n}))}}for(n=0;n<i;++n){const r=e[n],s=Cy(r);for(o=0;o<i;++o){const i=e[o],n=Cy(i);if(!Vv(r,i))if(t.defs[r]===t.defs[i])Sy([s,n]);else{const e=t(r,i);Fy(s,n,Qy(s,n,e.forward),Qy(n,s,e.inverse))}}}}(yq);return e({projection:new kv({code:n.value,extent:r.value})}),(t,e)=>mo("",!0)}});function LX(t){if(t)return"string"==typeof t||t instanceof kv?t:new kv(t)}const IX=Si({inheritAttrs:!1,__name:"OlView",props:{center:{},constrainRotation:{type:[Number,Boolean]},enableRotation:{type:Boolean,default:!0},extent:{},constrainOnlyCenter:{type:Boolean},smoothExtentConstraint:{type:Boolean},maxResolution:{},minResolution:{},maxZoom:{},minZoom:{},multiWorld:{type:Boolean},constrainResolution:{type:Boolean},smoothResolutionConstraint:{type:Boolean},showFullExtent:{type:Boolean},projection:{},resolution:{},resolutions:{},rotation:{},zoom:{},zoomFactor:{},padding:{}},setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=()=>({...o,projection:LX(o.projection)}),s=new Px(r());VV(s,["change:center","change:resolution","change:rotation"]),fi((()=>{null==n||n.setView(s)})),Ln(o,(()=>{const t=r();s.setProperties(t),s.applyOptions_(t)}));return e({view:s,adjustCenter:t=>s.adjustCenter(t),adjustResolution:(t,e)=>s.adjustResolution(t,e),adjustRotation:(t,e)=>s.adjustRotation(t,e),adjustZoom:(t,e)=>s.adjustZoom(t,e),animate:(...t)=>s.animate(...t),beginInteraction:()=>s.beginInteraction(),calculateExtent:t=>s.calculateExtent(t),cancelAnimations:()=>s.cancelAnimations(),centerOn:(t,e,i)=>s.centerOn(t,e,i),changed:()=>s.changed(),dispatchEvent:t=>s.dispatchEvent(t),endInteraction:(t,e,i)=>s.endInteraction(t,e,i),fit:(t,e)=>s.fit(t,e),get:t=>s.get(t),getAnimating:()=>s.getAnimating(),getCenter:()=>s.getCenter(),getInteracting:()=>s.getInteracting(),getKeys:()=>s.getKeys(),getMaxResolution:()=>s.getMaxResolution(),getMaxZoom:()=>s.getMaxZoom(),getMinResolution:()=>s.getMinResolution(),getMinZoom:()=>s.getMinZoom(),getProjection:()=>s.getProjection(),getProperties:()=>s.getProperties(),getResolution:()=>s.getResolution(),getResolutionForExtent:(t,e)=>s.getResolutionForExtent(t,e),getResolutionForZoom:t=>s.getResolutionForZoom(t),getResolutions:()=>s.getResolutions(),getRevision:()=>s.getRevision(),getRotation:()=>s.getRotation(),getZoom:()=>s.getZoom(),getZoomForResolution:t=>s.getZoomForResolution(t),setCenter:t=>s.setCenter(t),setConstrainResolution:t=>s.setConstrainResolution(t),setMaxZoom:t=>s.setMaxZoom(t),setMinZoom:t=>s.setMinZoom(t),setResolution:t=>s.setResolution(t),setRotation:t=>s.setRotation(t),setZoom:t=>s.setZoom(t)}),(t,e)=>mo("",!0)}});function MX(t,e){t.component("OlFeature",DV),t.component("OlGeolocation",KV),t.component("OlMap",qV),t.component("OlOverlay",WV),t.component("OlProjectionRegister",TX),t.component("OlView",IX),e&&t.provide("ol-options",e)}function PX(t,e){const i=en("map"),n=en("layerGroup",null),o=en("overviewMap",null),r=we(!1);function s(){var s;for(const i in e){const n=i;e[n]&&t.value.set(i,e[n])}if(t.value.setOpacity(e.opacity),t.value.setVisible(e.visible),!r.value){if(n){const e=n.getLayers();e.push(t.value),n.setLayers(e)}else(null==o?void 0:o.value)?null==(s=o.value)||s.getOverviewMap().addLayer(t.value):null==i||i.addLayer(t.value);r.value=!0}}function a(){var e,s;n?n.getLayers().remove(t.value):(null==o?void 0:o.value)?(null==(e=o.value)||e.getOverviewMap().removeLayer(t.value),null==(s=o.value)||s.changed()):null==i||i.removeLayer(t.value),r.value=!1}return yi(a),Ln((()=>e),s,{deep:!0,immediate:!0}),(null==o?void 0:o.value)&&Ln(o,(()=>{a(),s()})),{}}const RX={className:"ol-layer",opacity:1,visible:!0,properties:()=>({})},NX=Si({inheritAttrs:!1,__name:"OlAnimatedClusterlayer",props:Oi({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},title:{},name:{},preview:{},baseLayer:{type:Boolean},properties:{type:Function},animationDuration:{},distance:{},animationMethod:{type:Function},updateWhileAnimating:{type:Boolean},updateWhileInteracting:{type:Boolean}},{...RX,opacity:1,visible:!0,animationDuration:700,distance:20,animationMethod:Tx,updateWhileAnimating:!1,updateWhileInteracting:!1}),setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=xe(new Hk({distance:o.distance,geometryFunction:t=>t.getGeometry()}));VV(r,GV),Ln((()=>o.distance),(t=>{r.value.setDistance(t)}));const s=xe(new NM({...o,source:r.value}));return PX(s,o),tn("vectorLayer",r),tn("stylable",s),e({vectorLayer:s,map:n}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),OX=Si({__name:"OlHeatmapLayer",props:Oi({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},title:{},name:{},preview:{},baseLayer:{type:Boolean},properties:{type:Function},weight:{type:[String,Function]},blur:{},radius:{},gradient:{}},{...RX,weight:"weight",radius:8,blur:15,gradient:()=>["#00f","#0ff","#0f0","#ff0","#f00"]}),setup(t,{expose:e}){const i=QV(t),n=xe(new CR(i));return PX(n,i),tn("heatmapLayer",n),tn("stylable",n),e({heatmapLayer:n}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),UX=Si({__name:"OlImageLayer",props:Oi({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},title:{},name:{},preview:{},baseLayer:{type:Boolean},properties:{type:Function}},RX),setup(t,{expose:e}){const i=QV(t),n=xe(new vI(i));return PX(n,i),tn("imageLayer",n.value),e({imageLayer:n.value}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),DX=Si({inheritAttrs:!1,__name:"OlLayerGroup",props:Oi({opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},layers:{},properties:{},className:{},openInLayerSwitcher:{type:Boolean},title:{}},RX),setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=xe(new XB(o));VV(r,["change:extend","change:layers","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:visible","change:zIndex"]);const s=en("layerGroup",null);return Ln((()=>o),(t=>{for(const e in t){const i=e;t[i]&&r.value.set(e,t[i])}}),{deep:!0}),fi((()=>{if(null==n||n.addLayer(r.value),s){const t=s.getLayers();t.push(r.value),s.setLayers(t)}})),yi((()=>{null==n||n.removeLayer(r.value)})),tn("layerGroup",r.value),e({layerGroup:r.value}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),QX=Si({__name:"OlTileLayer",props:Oi({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},title:{},name:{},preview:{},baseLayer:{type:Boolean},properties:{type:Function},preload:{}},{...RX,preload:1}),setup(t,{expose:e}){const i=QV(t),n=xe(new CI(i));return PX(n,i),tn("tileLayer",n),e({tileLayer:n}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),HX=Si({__name:"OlVectorLayer",props:Oi({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},title:{},name:{},preview:{},baseLayer:{type:Boolean},properties:{type:Function},background:{type:[String,Function]},renderBuffer:{},updateWhileAnimating:{type:Boolean},styles:{type:[Object,Array,Function,null]},updateWhileInteracting:{type:Boolean}},{...RX,renderBuffer:100,updateWhileAnimating:!1,updateWhileInteracting:!1}),setup(t,{expose:e}){const i=t,n=QV(i),o=xe(new IM(n));return PX(o,i),tn("vectorLayer",o),tn("stylable",o),e({vectorLayer:o}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),zX=Si({__name:"OlVectorTileLayer",props:Oi({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},title:{},name:{},preview:{},baseLayer:{type:Boolean},properties:{type:Function},renderBuffer:{},updateWhileAnimating:{type:Boolean},styles:{type:[Object,Array,Function,null]},updateWhileInteracting:{type:Boolean},renderMode:{}},{...RX,renderBuffer:100,updateWhileAnimating:!1,updateWhileInteracting:!1,renderMode:"hybrid"}),setup(t,{expose:e}){const i=QV(t),n=xe(new kR(i));return PX(n,i),tn("vectorTileLayer",n),tn("stylable",n),e({vectorTileLayer:n}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),jX=Si({__name:"OlVectorImageLayer",props:Oi({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},title:{},name:{},preview:{},baseLayer:{type:Boolean},properties:{type:Function},renderBuffer:{},updateWhileAnimating:{type:Boolean},styles:{type:Function},updateWhileInteracting:{type:Boolean}},{...RX,renderBuffer:100,updateWhileAnimating:!1,updateWhileInteracting:!1}),setup(t,{expose:e}){const i=QV(t),n=xe(new TR(i));return PX(n,i),tn("vectorLayer",n),tn("stylable",n),e({vectorImageLayer:n}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),GX=Si({__name:"OlWebglTileLayer",props:Oi({style:{},className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},preload:{},source:{},sources:{type:[Array,Function]},map:{},useInterimTilesOnError:{type:Boolean},cacheSize:{},properties:{}},RX),setup(t,{expose:e}){const i=QV(t),n=xe(new zR(i));return PX(n,i),tn("tileLayer",n),e({tileLayer:n}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),VX=class t extends Ux{constructor(e){t.options=e,super(e)}createRenderer(){return new rN(this,{className:this.getClassName(),style:this.getProperties().style})}};UV(VX,"options",{});let KX=VX;const qX=Si({__name:"OlWebglVectorLayer",props:Oi({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},title:{},name:{},preview:{},baseLayer:{type:Boolean},properties:{type:Function},disableHitDetection:{type:Boolean},styles:{}},{...RX,disableHitDetection:!1,styles:()=>({"shape-points":1,"shape-radius":10,"shape-opacity":.5,"shape-fill-color":"blue"})}),setup(t,{expose:e}){const i=QV(t),n=xe(new KX({...i,styles:i.style}));return PX(n,i),tn("webglVectorLayer",n),e({webglVectorLayer:n}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}});function WX(t,e){t.component("OlAnimatedClusterlayer",NX),t.component("OlHeatmapLayer",OX),t.component("OlImageLayer",UX),t.component("OlLayerGroup",DX),t.component("OlTileLayer",QX),t.component("OlVectorImageLayer",jX),t.component("OlVectorLayer",HX),t.component("OlVectorTileLayer",zX),t.component("OlWebglTileLayer",GX),t.component("OlWebglVectorLayer",qX),e&&t.provide("ol-options",e)}const XX=Si({inheritAttrs:!1,__name:"OlSourceBingmaps",props:{cacheSize:{},hidpi:{type:Boolean},culture:{},imagerySet:{},interpolate:{type:Boolean},maxZoom:{},reprojectionErrorThreshold:{},tileLoadFunction:{type:Function},wrapX:{type:Boolean},transition:{},zDirection:{type:[Number,Function]},placeholderTiles:{type:Boolean},apiKey:{}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=Do((()=>new ck({...o,key:o.apiKey})));return VV(r,jV),Ln(r,(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),Ln((()=>null==n?void 0:n.value),(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),fi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),e({layer:n,source:r}),(t,e)=>mo("",!0)}}),$X=Si({inheritAttrs:!1,__name:"OlSourceCluster",props:{attributions:{},distance:{default:20},minDistance:{},geometryFunction:{type:Function,default:t=>t.getGeometry()},createCluster:{},source:{},wrapX:{type:Boolean,default:!0}},setup(t,{expose:e}){const i=t,n=en("vectorLayer"),o=QV(i),r=Do((()=>new Hk(o)));VV(r,GV);const s=()=>{var t,e,i;null==(t=null==n?void 0:n.value)||t.setSource(null),null==(e=null==n?void 0:n.value)||e.setSource(r.value),null==(i=null==n?void 0:n.value)||i.changed()};return Ln(o,(()=>{s()})),Ln((()=>null==n?void 0:n.value),(()=>{s()})),fi((()=>{var t,e;null==(t=null==n?void 0:n.value)||t.setSource(r.value),null==(e=null==n?void 0:n.value)||e.changed()})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),tn("vectorLayer",r),e({layer:n,source:r}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),YX=Si({inheritAttrs:!1,__name:"OlSourceImageStatic",props:{attributions:{},crossOrigin:{},imageExtent:{},imageLoadFunction:{},interpolate:{type:Boolean,default:!0},projection:{},url:{}},setup(t,{expose:e}){const i=t,n=en("imageLayer"),o=QV(i),r=()=>new ZL({...o,projection:LX(o.projection)});let s=r();return VV(s,jV),Ln(o,(()=>{null==n||n.setSource(null),s=r(),null==n||n.setSource(s)})),fi((()=>{null==n||n.setSource(s)})),yi((()=>{null==n||n.setSource(null)})),e({layer:n,source:s}),(t,e)=>mo("",!0)}}),ZX=Si({inheritAttrs:!1,__name:"OlSourceImageWms",props:{attributions:{},crossOrigin:{},hidpi:{type:Boolean},serverType:{default:"mapserver"},imageLoadFunction:{},interpolate:{type:Boolean},params:{},projection:{default:"EPSG:3857"},ratio:{default:1},resolutions:{},url:{},layers:{},styles:{default:""},time:{}},setup(t,{expose:e}){const i=t,n=en("imageLayer"),o=QV(i),r=()=>new oI({...o,params:{...i.params,LAYERS:i.layers,STYLES:i.styles,TIME:i.time},projection:LX(o.projection)});let s=r();return VV(s,jV),Ln(o,(()=>{null==n||n.setSource(null),s=r(),null==n||n.setSource(s)})),fi((()=>{null==n||n.setSource(s)})),yi((()=>{null==n||n.setSource(null)})),e({layer:n,source:s}),(t,e)=>mo("",!0)}}),JX=Si({inheritAttrs:!1,__name:"OlSourceOsm",props:{attributions:{},cacheSize:{},crossOrigin:{default:"anonymous"},interpolate:{type:Boolean,default:!0},maxZoom:{default:19},opaque:{type:Boolean,default:!0},reprojectionErrorThreshold:{default:.5},tileLoadFunction:{},transition:{default:250},url:{default:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"},wrapX:{type:Boolean,default:!0},zDirection:{type:[Number,Function],default:0}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=Do((()=>new AI(o)));return VV(r,zV),Ln(r,(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),Ln((()=>null==n?void 0:n.value),(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),fi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),e({layer:n,source:r}),(t,e)=>mo("",!0)}}),t$=Si({inheritAttrs:!1,__name:"OlSourceStadiaMaps",props:{cacheSize:{},interpolate:{type:Boolean,default:!0},layer:{},minZoom:{},maxZoom:{},reprojectionErrorThreshold:{default:.5},tileLoadFunction:{},transition:{default:250},url:{},wrapX:{type:Boolean,default:!0},zDirection:{type:[Number,Function],default:0},apiKey:{},retina:{type:Boolean}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=Do((()=>new EI(o)));VV(r,[...zV,"removefeature"]);const s=()=>{var t,e,i;null==(t=null==n?void 0:n.value)||t.setSource(null),null==(e=null==n?void 0:n.value)||e.setSource(r.value),null==(i=null==n?void 0:n.value)||i.changed()};return Ln(o,(()=>{s()})),Ln((()=>null==n?void 0:n.value),(()=>{s()})),fi((()=>{var t,e;null==(t=null==n?void 0:n.value)||t.setSource(r.value),null==(e=null==n?void 0:n.value)||e.changed()})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),e({layer:n,source:r}),(t,e)=>mo("",!0)}}),e$=class t extends II{constructor(e){t.layerLabelMap={vec:"cva",ter:"cta",img:"cia"},t.layerZoomMap={vec:18,ter:14,img:18};const i={...e};i.layerType=i.layerType||"vec",i.layerType=i.isLabel?t.layerLabelMap[i.layerType]:i.layerType,i.matrixSet="EPSG:4326"===i.projection||"EPSG:4490"===i.projection?"c":"w",i.url||i.urls||(i.url="https://t{0-7}.tianditu.gov.cn/{layer}_{proj}/wmts?"),i.tk&&(i.url=`${i.url}tk=${i.tk}`),i.url=(i.url||"").replace("{layer}",i.layerType).replace("{proj}",i.matrixSet);const n=i.tileGrid||t.getTileGrid(i.projection),o=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",r={version:i.version||"1.0.0",format:i.format||"tiles",dimensions:i.dimensions||{},layer:i.layerType,matrixSet:i.matrixSet,tileGrid:n,style:i.style||"default",cacheSize:i.cacheSize,crossOrigin:o,opaque:void 0===i.opaque||i.opaque,maxZoom:t.layerZoomMap[i.layerType],reprojectionErrorThreshold:i.reprojectionErrorThreshold,url:i.url,urls:i.urls,projection:i.projection||"EPSG:3857",wrapX:i.wrapX};i.tileProxy&&(t.tileProxy=i.tileProxy,r.tileLoadFunction=(e,i)=>{e.getImage().src=t.tileProxy+encodeURIComponent(i)}),super(r)}static getTileGrid(e){return"EPSG:4326"===e||"EPSG:4490"===e?t.default4326TileGrid():t.default3857TileGrid()}static default4326TileGrid(){const t=[],e=[];for(let i=1;i<19;i++)t.push(1.40625/2**i),e.push(i.toString());return new XE({extent:[-180,-90,180,90],resolutions:t,origin:[-180,90],matrixIds:e})}static default3857TileGrid(){const t=[],e=[];for(let i=1;i<19;i++)t.push(156543.03392804062/2**i),e.push(i.toString());return new XE({extent:[-20037508.3427892,-20037508.3427892,20037508.3427892,20037508.3427892],resolutions:t,matrixIds:e,origin:[-20037508.3427892,20037508.3427892]})}};UV(e$,"layerLabelMap",{}),UV(e$,"layerZoomMap",{}),UV(e$,"tileProxy");let i$=e$;const n$=Si({inheritAttrs:!1,__name:"OlSourceTianditu",props:{attributions:{},attributionsCollapsible:{type:Boolean},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean},tileGrid:{},projection:{default:"EPSG:3857"},reprojectionErrorThreshold:{},requestEncoding:{default:"KVP"},layer:{},style:{},tileClass:{},tilePixelRatio:{},format:{},version:{default:"1.0.0"},matrixSet:{},dimensions:{default:()=>({})},url:{},tileLoadFunction:{type:Function,default:(t,e)=>{t.getImage().src=e}},urls:{},wrapX:{type:Boolean,default:!0},transition:{},zDirection:{},tileProxy:{},layerType:{default:"img"},tk:{},isLabel:{type:Boolean,default:!1},maxZoom:{default:21},opaque:{type:Boolean}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=Do((()=>new i$(o)));return VV(r,zV),Ln(r,(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),Ln((()=>null==n?void 0:n.value),(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),fi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),e({layer:n,source:r}),(t,e)=>mo("",!0)}}),o$=Si({inheritAttrs:!1,__name:"OlSourceTileArcgisRest",props:{attributions:{},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},params:{},hidpi:{type:Boolean,default:!1},tileGrid:{},projection:{default:"EPSG:3857"},reprojectionErrorThreshold:{default:.5},tileLoadFunction:{type:Function,default:(t,e)=>{t.getImage().src=e}},url:{},wrapX:{type:Boolean,default:!1},transition:{},urls:{},zDirection:{type:[Number,Function],default:0}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=Do((()=>i.tileGrid||YE({tileSize:i.tileSize}))),s=Do((()=>new kI({...o,projection:LX(o.projection),tileGrid:r.value})));return VV(s,zV),Ln(s,(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(s.value)})),Ln((()=>n),(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(s.value)})),fi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(s.value)})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),e({tileLayer:n,source:s}),(t,e)=>mo("",!0)}}),r$=Si({inheritAttrs:!1,__name:"OlSourceTileDebug",props:{projection:{},tileGrid:{},wrapX:{type:Boolean},zDirection:{},template:{}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=Do((()=>new FI(o)));VV(r,["tileloadend","tileloadstart","tileloaderror"]);const s=()=>{var t,e,i;null==(t=null==n?void 0:n.value)||t.setSource(null),null==(e=null==n?void 0:n.value)||e.setSource(r.value),null==(i=null==n?void 0:n.value)||i.changed()};return Ln(o,(()=>{s()})),Ln((()=>null==n?void 0:n.value),(()=>{s()})),fi((()=>{var t,e;null==(t=null==n?void 0:n.value)||t.setSource(r.value),null==(e=null==n?void 0:n.value)||e.changed()})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),e({layer:n,source:r}),(t,e)=>mo("",!0)}}),s$=Si({inheritAttrs:!1,__name:"OlSourceGeoTiff",props:{sources:{},sourceOptions:{},convertToRGB:{type:[Boolean,String]},normalize:{type:Boolean},opaque:{type:Boolean},projection:{},transition:{},wrapX:{type:Boolean},interpolate:{type:Boolean}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=()=>new TL({...o,projection:LX(o.projection)});let s=r();return VV(s,zV),Ln(o,(()=>{null==n||n.value.setSource(null),s=r(),null==n||n.value.setSource(s)})),fi((()=>{null==n||n.value.setSource(s)})),yi((()=>{null==n||n.value.setSource(null)})),e({layer:n,source:s}),(t,e)=>mo("",!0)}}),a$=Si({inheritAttrs:!1,__name:"OlSourceTileJson",props:{attributions:{},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},jsonp:{type:Boolean,default:!1},reprojectionErrorThreshold:{default:.5},tileJSON:{},tileLoadFunction:{},tileSize:{},url:{},wrapX:{type:Boolean,default:!0},transition:{},zDirection:{type:[Number,Function],default:0}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=Do((()=>new TI(o)));VV(r,["removefeature","tileloadend","tileloadstart","tileloaderror"]);const s=()=>{var t,e,i;null==(t=null==n?void 0:n.value)||t.setSource(null),null==(e=null==n?void 0:n.value)||e.setSource(r.value),null==(i=null==n?void 0:n.value)||i.changed()};return Ln(o,(()=>{s()})),Ln((()=>null==n?void 0:n.value),(()=>{s()})),fi((()=>{var t,e;null==(t=null==n?void 0:n.value)||t.setSource(r.value),null==(e=null==n?void 0:n.value)||e.changed()})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),e({layer:n,source:r}),(t,e)=>mo("",!0)}}),l$=Si({inheritAttrs:!1,__name:"OlSourceTileWms",props:{attributions:{},attributionsCollapsible:{type:Boolean,default:!0},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},params:{},gutter:{default:0},hidpi:{type:Boolean,default:!0},projection:{default:"EPSG:3857"},reprojectionErrorThreshold:{default:.5},tileClass:{},tileGrid:{},serverType:{},tileLoadFunction:{type:Function,default:(t,e)=>{t.getImage().src=e}},url:{},urls:{},wrapX:{type:Boolean,default:!0},transition:{},zDirection:{},layers:{},styles:{default:""}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=()=>new LI({...o,params:{...i.params,LAYERS:i.layers,STYLES:i.styles},projection:LX(o.projection),tileGrid:o.tileGrid});let s=r();return VV(s,zV),Ln(o,(()=>{null==n||n.value.setSource(null),s=r(),null==n||n.value.setSource(s)})),fi((()=>{null==n||n.value.setSource(s)})),yi((()=>{null==n||n.value.setSource(null)})),e({layer:n,source:s}),(t,e)=>mo("",!0)}}),c$=Si({inheritAttrs:!1,__name:"OlSourceVector",props:{attributions:{},features:{},format:{},loader:{},overlaps:{type:Boolean,default:!0},strategy:{},url:{},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}},setup(t,{expose:e}){const i=t,n=en("vectorLayer",null),o=en("heatmapLayer",null),r=en("webglVectorLayer",null),s=o||n||r,a=QV(i),l=xe(new Qk(a));VV(l,GV);const c=()=>{const t=null==s?void 0:s.value.getSource();if(t)for(const e in a){const i=e;a[i]&&t.set(e,a[i])}else null==s||s.value.setSource(l.value)};return Ln((()=>a.features),((t,e)=>{t!==e&&(l.value.clear(),t&&l.value.addFeatures(t)),c()}),{deep:!0}),Ln((()=>a.url),((t,e)=>{t!==e&&(l.value.clear(),t&&l.value.setUrl(t)),c()})),Ln((()=>a),(()=>c())),Ln((()=>null==s?void 0:s.value),(()=>c())),fi((()=>{c()})),yi((()=>{null==s||s.value.setSource(null)})),tn("vectorSource",l),e({layer:s,source:l}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),h$=Si({inheritAttrs:!1,__name:"OlSourceVectorTile",props:{attributions:{},attributionsCollapsible:{type:Boolean},cacheSize:{},extent:{},format:{},overlaps:{type:Boolean,default:!0},projection:{default:"EPSG:3857"},state:{},tileClass:{},maxZoom:{},minZoom:{},tileSize:{},maxResolution:{},tileGrid:{},tileLoadFunction:{},tileUrlFunction:{},url:{},transition:{},urls:{},wrapX:{type:Boolean,default:!0},zDirection:{}},setup(t,{expose:e}){const i=t,n=en("vectorTileLayer",null),o=QV(i),r=Do((()=>new lI(o)));VV(r,zV);const s=()=>{var t,e,i;null==(t=null==n?void 0:n.value)||t.setSource(null),null==(e=null==n?void 0:n.value)||e.setSource(r.value),null==(i=null==n?void 0:n.value)||i.changed()};return Ln(o,(()=>{s()})),Ln((()=>null==n?void 0:n.value),(()=>{s()})),fi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),tn("vectorSource",r),e({vectorTileLayer:n,source:r}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),A$=Si({inheritAttrs:!1,__name:"OlSourceXyz",props:{attributions:{},attributionsCollapsible:{type:Boolean,default:!0},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},opaque:{type:Boolean,default:!0},projection:{default:"EPSG:3857"},reprojectionErrorThreshold:{default:.5},maxZoom:{default:42},minZoom:{default:0},maxResolution:{},tileGrid:{},tileLoadFunction:{type:Function,default:(t,e)=>{t.getImage().src=e}},tilePixelRatio:{default:1},tileSize:{default:()=>[256,256]},gutter:{default:0},tileUrlFunction:{},url:{},urls:{},wrapX:{type:Boolean,default:!0},transition:{default:250},zDirection:{type:[Number,Function],default:0}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=Do((()=>new hk({...o,projection:LX(o.projection),tileGrid:o.tileGrid})));return VV(r,zV),Ln(r,(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),Ln((()=>null==n?void 0:n.value),(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),fi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(r.value)})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),e({layer:n,source:r}),(t,e)=>mo("",!0)}}),u$=Si({inheritAttrs:!1,__name:"OlSourceWmts",props:{attributions:{},attributionsCollapsible:{type:Boolean,default:!0},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean},tileGrid:{},projection:{default:"EPSG:3857"},reprojectionErrorThreshold:{default:.5},requestEncoding:{default:"KVP"},layer:{},style:{},tileClass:{},tilePixelRatio:{default:1},format:{default:"image/jpeg"},version:{default:"1.0.0"},matrixSet:{},dimensions:{},url:{},tileLoadFunction:{},urls:{},wrapX:{type:Boolean,default:!1},transition:{},zDirection:{},styles:{},tileZoomLevel:{default:30},tileMatrixPrefix:{default:""}},setup(t,{expose:e}){const i=t,n=en("tileLayer"),o=QV(i),r=Do((()=>{var t;return null==(t=Cy(o.projection))?void 0:t.getExtent()})),s=Do((()=>r.value?dv(r.value):void 0)),a=Do((()=>r.value?gv(r.value)/256:0)),l=Do((()=>{if(i.tileGrid)return i.tileGrid;const t=[o.tileZoomLevel],e=[`${o.tileZoomLevel}`];for(let n=0;n<o.tileZoomLevel;++n)t[n]=a.value/Math.pow(2,n),e[n]=i.tileMatrixPrefix+n;return new XE({origin:s.value,resolutions:t,matrixIds:e})})),c=Do((()=>new II({...o,projection:LX(o.projection),tileGrid:l.value})));return VV(c,zV),Ln(c,(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(c.value)})),Ln((()=>n),(()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(c.value)})),fi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(c.value)})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setSource(null)})),e({tileLayer:n,source:c}),(t,e)=>mo("",!0)}});function d$(t,e){t.component("OlSourceBingmaps",XX),t.component("OlSourceCluster",$X),t.component("OlSourceImageStatic",YX),t.component("OlSourceImageWms",ZX),t.component("OlSourceOsm",JX),t.component("OlSourceStadiaMaps",t$),t.component("OlSourceTianditu",n$),t.component("OlSourceTileArcgisRest",o$),t.component("OlSourceTileDebug",r$),t.component("OlSourceGeoTiff",s$),t.component("OlSourceTileJson",a$),t.component("OlSourceTileWms",l$),t.component("OlSourceVector",c$),t.component("OlSourceVectorTile",h$),t.component("OlSourceXyz",A$),t.component("OlSourceWmts",u$),e&&t.provide("ol-options",e)}function p$(t,e,i){const n=en("map"),o=en("controlBar",null),r=null!==o?null==o?void 0:o.value:n,s=Do((()=>new t({...e})));return s.value.set("order",void 0===i.order?0:i.order),Ln(s,((t,e)=>{if(r){if(r instanceof gE)r.removeControl(e),r.addControl(t);else if(r instanceof EN){if(null==r?void 0:r.controls_){const t=null==r?void 0:r.controls_.findIndex((t=>t===s.value));t&&(null==r||r.controls_.splice(t,1))}r.addControl(t)}null==n||n.changed()}})),fi((()=>{if(r&&(r instanceof gE||r instanceof EN)&&r.addControl(s.value),void 0!==(null==r?void 0:r.controls_)){const t=[...r.controls_];t.sort(((t,e)=>t.get("order")-e.get("order"))),r.controls_=[],r&&(r instanceof gE||r instanceof EN)&&t.forEach((t=>{r.addControl(t)})),r.changed()}null==n||n.changed()})),yi((()=>{if(r&&r instanceof gE)null==r||r.getControls().getArray().forEach((e=>{e instanceof t&&r.removeControl(e)}));else if(null==r?void 0:r.controls_){const t=null==r?void 0:r.controls_.findIndex((t=>t===s.value));t&&(null==r||r.controls_.splice(t,1))}s.value.dispose(),null==n||n.changed()})),{map:n,control:s}}const g$=Si({__name:"OlAttributionControl",props:{className:{default:"ol-attribution"},target:{},collapsible:{type:Boolean},collapsed:{type:Boolean,default:!0},tipLabel:{default:"Attributions"},label:{default:"i"},expandClassName:{default:"ol-attribution-expand"},collapseLabel:{default:""},collapseClassName:{default:"ol-attribution-collapse"},render:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(xS,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),f$=Si({__name:"OlButtonControl",props:{html:{},name:{},className:{},title:{},handleClick:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(MN,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),m$=Si({inheritAttrs:!1,__name:"OlContextMenuControl",props:{width:{default:150},scrollAt:{},eventType:{default:"contextmenu"},defaultItems:{type:Boolean,default:!0},items:{default:()=>[]}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$($N,o,n);return VV(r,["beforeopen","open","close","add-menu-entry"]),e({control:r}),(t,e)=>mo("",!0)}}),b$=Si({__name:"OlControlBar",props:{toggleOne:{type:Boolean,default:!0},group:{type:Boolean,default:!0}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(EN,o,n);return tn("controlBar",r),e({control:r}),(t,e)=>ki(t.$slots,"default")}}),v$=Si({__name:"OlFullscreenControl",props:{className:{default:"ol-full-screen"},label:{default:""},labelActive:{default:""},activeClassName:{default:"ol-full-screen-true"},inactiveClassName:{default:"ol-full-screen-false"},tipLabel:{default:"Toggle full-screen"},keys:{type:Boolean,default:!1},target:{default:void 0},source:{default:void 0}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(cN,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),y$=Si({__name:"OlLayerswitcherControl",props:{displayInLayerSwitcher:{},show_progress:{type:Boolean,default:!1},mouseover:{type:Boolean,default:!1},reordering:{type:Boolean,default:!0},trash:{type:Boolean,default:!1},oninfo:{},extent:{type:Boolean},onExtent:{},drawDelay:{},collapsed:{type:Boolean,default:!0},layerGroup:{},noScroll:{type:Boolean,default:!1},onchangeCheck:{},element:{},render:{},target:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(YN,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),w$=Si({__name:"OlLayerswitcherimageControl",props:{displayInLayerSwitcher:{},show_progress:{type:Boolean,default:!1},mouseover:{type:Boolean,default:!1},reordering:{type:Boolean,default:!0},trash:{type:Boolean,default:!1},oninfo:{},extent:{type:Boolean},onExtent:{},drawDelay:{},collapsed:{type:Boolean,default:!0},layerGroup:{},noScroll:{type:Boolean,default:!1},onchangeCheck:{},element:{},render:{},target:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(ZN,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),x$=Si({__name:"OlMousepositionControl",props:{className:{default:"ol-mouse-position"},coordinateFormat:{},projection:{},render:{},target:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(gN,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),_$=Si({__name:"OlOverviewmapControl",props:{className:{},collapsed:{type:Boolean},collapseLabel:{},collapsible:{type:Boolean},label:{},layers:{},render:{type:Function},rotateWithView:{type:Boolean},target:{},tipLabel:{},view:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(bN,o,n);return tn("overviewMap",r),e({control:r}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}});var C$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function B$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S$={exports:{}};!function(t,e){!function(){function e(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function i(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){a(n.response,e,i)},n.onerror=function(){console.error("could not download file")},n.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(i){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof C$&&C$.global===C$?C$:void 0,s=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,s){var a=r.URL||r.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?o(l):n(l.href)?i(t,e,s):o(l,l.target="_blank")):(l.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,s){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),r);else if(n(t))i(t,r,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){o(a)}))}}:function(t,e,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return i(t,e,n);var a="application/octet-stream"===t.type,l=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var t=h.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},h.readAsDataURL(t)}else{var A=r.URL||r.webkitURL,u=A.createObjectURL(t);o?o.location=u:location.href=u,o=null,setTimeout((function(){A.revokeObjectURL(u)}),4e4)}});r.saveAs=a.saveAs=a,t.exports=a}()}(S$);var E$=S$.exports;function k$(t){return(k$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var F$=Uint8Array,T$=Uint16Array,L$=Uint32Array,I$=new F$([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M$=new F$([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),P$=new F$([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R$=function(t,e){for(var i=new T$(31),n=0;n<31;++n)i[n]=e+=1<<t[n-1];var o=new L$(i[30]);for(n=1;n<30;++n)for(var r=i[n];r<i[n+1];++r)o[r]=r-i[n]<<5|n;return[i,o]},N$=R$(I$,2),O$=N$[0],U$=N$[1];O$[28]=258,U$[258]=28;for(var D$=R$(M$,0),Q$=D$[0],H$=D$[1],z$=new T$(32768),j$=0;j$<32768;++j$){var G$=(43690&j$)>>>1|(21845&j$)<<1;G$=(61680&(G$=(52428&G$)>>>2|(13107&G$)<<2))>>>4|(3855&G$)<<4,z$[j$]=((65280&G$)>>>8|(255&G$)<<8)>>>1}var V$=function(t,e,i){for(var n=t.length,o=0,r=new T$(e);o<n;++o)++r[t[o]-1];var s,a=new T$(e);for(o=0;o<e;++o)a[o]=a[o-1]+r[o-1]<<1;if(i){s=new T$(1<<e);var l=15-e;for(o=0;o<n;++o)if(t[o])for(var c=o<<4|t[o],h=e-t[o],A=a[t[o]-1]++<<h,u=A|(1<<h)-1;A<=u;++A)s[z$[A]>>>l]=c}else for(s=new T$(n),o=0;o<n;++o)s[o]=z$[a[t[o]-1]++]>>>15-t[o];return s},K$=new F$(288);for(j$=0;j$<144;++j$)K$[j$]=8;for(j$=144;j$<256;++j$)K$[j$]=9;for(j$=256;j$<280;++j$)K$[j$]=7;for(j$=280;j$<288;++j$)K$[j$]=8;var q$=new F$(32);for(j$=0;j$<32;++j$)q$[j$]=5;var W$=V$(K$,9,0),X$=V$(K$,9,1),$$=V$(q$,5,0),Y$=V$(q$,5,1),Z$=function(t){for(var e=t[0],i=1;i<t.length;++i)t[i]>e&&(e=t[i]);return e},J$=function(t,e,i){var n=e/8|0;return(t[n]|t[n+1]<<8)>>>(7&e)&i},tY=function(t,e){var i=e/8|0;return(t[i]|t[i+1]<<8|t[i+2]<<16)>>>(7&e)},eY=function(t){return(t/8|0)+(7&t&&1)},iY=function(t,e,i){(null==i||i>t.length)&&(i=t.length);var n=new(t instanceof T$?T$:t instanceof L$?L$:F$)(i-e);return n.set(t.subarray(e,i)),n},nY=function(t,e,i){i<<=7&e;var n=e/8|0;t[n]|=i,t[n+1]|=i>>>8},oY=function(t,e,i){i<<=7&e;var n=e/8|0;t[n]|=i,t[n+1]|=i>>>8,t[n+2]|=i>>>16},rY=function(t,e){for(var i=[],n=0;n<t.length;++n)t[n]&&i.push({s:n,f:t[n]});var o=i.length,r=i.slice();if(!o)return[new F$(0),0];if(1==o){var s=new F$(i[0].s+1);return s[i[0].s]=1,[s,1]}i.sort((function(t,e){return t.f-e.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],c=0,h=1,A=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=o-1;)a=i[i[c].f<i[A].f?c++:A++],l=i[c!=h&&i[c].f<i[A].f?c++:A++],i[h++]={s:-1,f:a.f+l.f,l:a,r:l};var u=r[0].s;for(n=1;n<o;++n)r[n].s>u&&(u=r[n].s);var d=new T$(u+1),p=sY(i[h-1],d,0);if(p>e){n=0;var g=0,f=p-e,m=1<<f;for(r.sort((function(t,e){return d[e.s]-d[t.s]||t.f-e.f}));n<o;++n){var b=r[n].s;if(!(d[b]>e))break;g+=m-(1<<p-d[b]),d[b]=e}for(g>>>=f;g>0;){var v=r[n].s;d[v]<e?g-=1<<e-d[v]++-1:++n}for(;n>=0&&g;--n){var y=r[n].s;d[y]==e&&(--d[y],++g)}p=e}return[new F$(d),p]},sY=function(t,e,i){return-1==t.s?Math.max(sY(t.l,e,i+1),sY(t.r,e,i+1)):e[t.s]=i},aY=function(t){for(var e=t.length;e&&!t[--e];);for(var i=new T$(++e),n=0,o=t[0],r=1,s=function(t){i[n++]=t},a=1;a<=e;++a)if(t[a]==o&&a!=e)++r;else{if(!o&&r>2){for(;r>138;r-=138)s(32754);r>2&&(s(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(s(o),--r;r>6;r-=6)s(8304);r>2&&(s(r-3<<5|8208),r=0)}for(;r--;)s(o);r=1,o=t[a]}return[i.subarray(0,n),e]},lY=function(t,e){for(var i=0,n=0;n<e.length;++n)i+=t[n]*e[n];return i},cY=function(t,e,i){var n=i.length,o=eY(e+2);t[o]=255&n,t[o+1]=n>>>8,t[o+2]=255^t[o],t[o+3]=255^t[o+1];for(var r=0;r<n;++r)t[o+r+4]=i[r];return 8*(o+4+n)},hY=function(t,e,i,n,o,r,s,a,l,c,h){nY(e,h++,i),++o[256];for(var A=rY(o,15),u=A[0],d=A[1],p=rY(r,15),g=p[0],f=p[1],m=aY(u),b=m[0],v=m[1],y=aY(g),w=y[0],x=y[1],_=new T$(19),C=0;C<b.length;++C)_[31&b[C]]++;for(C=0;C<w.length;++C)_[31&w[C]]++;for(var B=rY(_,7),S=B[0],E=B[1],k=19;k>4&&!S[P$[k-1]];--k);var F,T,L,I,M=c+5<<3,P=lY(o,K$)+lY(r,q$)+s,R=lY(o,u)+lY(r,g)+s+14+3*k+lY(_,S)+(2*_[16]+3*_[17]+7*_[18]);if(M<=P&&M<=R)return cY(e,h,t.subarray(l,l+c));if(nY(e,h,1+(R<P)),h+=2,R<P){F=V$(u,d,0),T=u,L=V$(g,f,0),I=g;var N=V$(S,E,0);nY(e,h,v-257),nY(e,h+5,x-1),nY(e,h+10,k-4),h+=14;for(C=0;C<k;++C)nY(e,h+3*C,S[P$[C]]);h+=3*k;for(var O=[b,w],U=0;U<2;++U){var D=O[U];for(C=0;C<D.length;++C){var Q=31&D[C];nY(e,h,N[Q]),h+=S[Q],Q>15&&(nY(e,h,D[C]>>>5&127),h+=D[C]>>>12)}}}else F=W$,T=K$,L=$$,I=q$;for(C=0;C<a;++C)if(n[C]>255){Q=n[C]>>>18&31;oY(e,h,F[Q+257]),h+=T[Q+257],Q>7&&(nY(e,h,n[C]>>>23&31),h+=I$[Q]);var H=31&n[C];oY(e,h,L[H]),h+=I[H],H>3&&(oY(e,h,n[C]>>>5&8191),h+=M$[H])}else oY(e,h,F[n[C]]),h+=T[n[C]];return oY(e,h,F[256]),h+T[256]},AY=new L$([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uY=function(t,e,i,n,o){return function(t,e,i,n,o,r){var s=t.length,a=new F$(n+s+5*(1+Math.floor(s/7e3))+o),l=a.subarray(n,a.length-o),c=0;if(!e||s<8)for(var h=0;h<=s;h+=65535){var A=h+65535;A<s?c=cY(l,c,t.subarray(h,A)):(l[h]=r,c=cY(l,c,t.subarray(h,s)))}else{for(var u=AY[e-1],d=u>>>13,p=8191&u,g=(1<<i)-1,f=new T$(32768),m=new T$(g+1),b=Math.ceil(i/3),v=2*b,y=function(e){return(t[e]^t[e+1]<<b^t[e+2]<<v)&g},w=new L$(25e3),x=new T$(288),_=new T$(32),C=0,B=0,S=(h=0,0),E=0,k=0;h<s;++h){var F=y(h),T=32767&h,L=m[F];if(f[T]=L,m[F]=T,E<=h){var I=s-h;if((C>7e3||S>24576)&&I>423){c=hY(t,l,0,w,x,_,B,S,k,h-k,c),S=C=B=0,k=h;for(var M=0;M<286;++M)x[M]=0;for(M=0;M<30;++M)_[M]=0}var P=2,R=0,N=p,O=T-L&32767;if(I>2&&F==y(h-O))for(var U=Math.min(d,I)-1,D=Math.min(32767,h),Q=Math.min(258,I);O<=D&&--N&&T!=L;){if(t[h+P]==t[h+P-O]){for(var H=0;H<Q&&t[h+H]==t[h+H-O];++H);if(H>P){if(P=H,R=O,H>U)break;var z=Math.min(O,H-2),j=0;for(M=0;M<z;++M){var G=h-O+M+32768&32767,V=G-f[G]+32768&32767;V>j&&(j=V,L=G)}}}O+=(T=L)-(L=f[T])+32768&32767}if(R){w[S++]=268435456|U$[P]<<18|H$[R];var K=31&U$[P],q=31&H$[R];B+=I$[K]+M$[q],++x[257+K],++_[q],E=h+P,++C}else w[S++]=t[h],++x[t[h]]}}c=hY(t,l,r,w,x,_,B,S,k,h-k,c)}return iY(a,0,n+eY(c)+o)}(t,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,i,n,!o)};function dY(t,e){void 0===e&&(e={});var i=function(){var t=1,e=0;return{p:function(i){for(var n=t,o=e,r=i.length,s=0;s!=r;){for(var a=Math.min(s+5552,r);s<a;++s)o+=n+=i[s];n%=65521,o%=65521}t=n,e=o},d:function(){return(t>>>8<<16|(255&e)<<8|e>>>8)+2*((255&t)<<23)}}}();i.p(t);var n,o,r,s=uY(t,e,2,4);return n=s,o=e.level,r=0==o?0:o<6?1:9==o?3:2,n[0]=120,n[1]=r<<6|(r?32-2*r:1),function(t,e,i){for(;i;++e)t[e]=i,i>>>=8}(s,s.length-4,i.d()),s}function pY(t,e){return function(t,e,i){var n=t.length,o=!e||i,r=!i||i.i;i||(i={}),e||(e=new F$(3*n));var s=function(t){var i=e.length;if(t>i){var n=new F$(Math.max(2*i,t));n.set(e),e=n}},a=i.f||0,l=i.p||0,c=i.b||0,h=i.l,A=i.d,u=i.m,d=i.n,p=8*n;do{if(!h){i.f=a=J$(t,l,1);var g=J$(t,l+1,3);if(l+=3,!g){var f=t[(E=eY(l)+4)-4]|t[E-3]<<8,m=E+f;if(m>n){if(r)throw"unexpected EOF";break}o&&s(c+f),e.set(t.subarray(E,m),c),i.b=c+=f,i.p=l=8*m;continue}if(1==g)h=X$,A=Y$,u=9,d=5;else{if(2!=g)throw"invalid block type";var b=J$(t,l,31)+257,v=J$(t,l+10,15)+4,y=b+J$(t,l+5,31)+1;l+=14;for(var w=new F$(y),x=new F$(19),_=0;_<v;++_)x[P$[_]]=J$(t,l+3*_,7);l+=3*v;var C=Z$(x),B=(1<<C)-1;if(!r&&l+y*(C+7)>p)break;var S=V$(x,C,1);for(_=0;_<y;){var E,k=S[J$(t,l,B)];if(l+=15&k,(E=k>>>4)<16)w[_++]=E;else{var F=0,T=0;for(16==E?(T=3+J$(t,l,3),l+=2,F=w[_-1]):17==E?(T=3+J$(t,l,7),l+=3):18==E&&(T=11+J$(t,l,127),l+=7);T--;)w[_++]=F}}var L=w.subarray(0,b),I=w.subarray(b);u=Z$(L),d=Z$(I),h=V$(L,u,1),A=V$(I,d,1)}if(l>p)throw"unexpected EOF"}o&&s(c+131072);for(var M=(1<<u)-1,P=(1<<d)-1,R=u+d+18;r||l+R<p;){var N=(F=h[tY(t,l)&M])>>>4;if((l+=15&F)>p)throw"unexpected EOF";if(!F)throw"invalid length/literal";if(N<256)e[c++]=N;else{if(256==N){h=null;break}var O=N-254;if(N>264){var U=I$[_=N-257];O=J$(t,l,(1<<U)-1)+O$[_],l+=U}var D=A[tY(t,l)&P],Q=D>>>4;if(!D)throw"invalid distance";if(l+=15&D,I=Q$[Q],Q>3&&(U=M$[Q],I+=tY(t,l)&(1<<U)-1,l+=U),l>p)throw"unexpected EOF";o&&s(c+131072);for(var H=c+O;c<H;c+=4)e[c]=e[c-I],e[c+1]=e[c+1-I],e[c+2]=e[c+2-I],e[c+3]=e[c+3-I];c=H}}i.l=h,i.p=l,i.b=c,h&&(a=1,i.m=u,i.d=A,i.n=d)}while(!a);return c==e.length?e:iY(e,0,c)}((function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"}(t),t.subarray(2,-4)),e)}
/** @license
       *
       * jsPDF - PDF Document creation from JavaScript
       * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
       *                      CommitID 00000000
       *
       * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
       *               2015-2021 yWorks GmbH, http://www.yworks.com
       *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
       *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
       *               2010 Aaron Spike, https://github.com/acspike
       *               2012 Willow Systems Corporation, https://github.com/willowsystems
       *               2012 Pablo Hess, https://github.com/pablohess
       *               2012 Florian Jenett, https://github.com/fjenett
       *               2013 Warren Weckesser, https://github.com/warrenweckesser
       *               2013 Youssef Beddad, https://github.com/lifof
       *               2013 Lee Driscoll, https://github.com/lsdriscoll
       *               2013 Stefan Slonevskiy, https://github.com/stefslon
       *               2013 Jeremy Morel, https://github.com/jmorel
       *               2013 Christoph Hartmann, https://github.com/chris-rock
       *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
       *               2014 James Makes, https://github.com/dollaruw
       *               2014 Diego Casorran, https://github.com/diegocr
       *               2014 Steven Spungin, https://github.com/Flamenco
       *               2014 Kenneth Glassey, https://github.com/Gavvers
       *
       * Permission is hereby granted, free of charge, to any person obtaining
       * a copy of this software and associated documentation files (the
       * "Software"), to deal in the Software without restriction, including
       * without limitation the rights to use, copy, modify, merge, publish,
       * distribute, sublicense, and/or sell copies of the Software, and to
       * permit persons to whom the Software is furnished to do so, subject to
       * the following conditions:
       *
       * The above copyright notice and this permission notice shall be
       * included in all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
       * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
       * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
       * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
       * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
       * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
       * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
       *
       * Contributor(s):
       *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
       *    kim3er, mfo, alnorth, Flamenco
       */var gY=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function fY(){gY.console&&"function"==typeof gY.console.log&&gY.console.log.apply(gY.console,arguments)}var mY={log:fY,warn:function(t){gY.console&&("function"==typeof gY.console.warn?gY.console.warn.apply(gY.console,arguments):fY.call(null,arguments))},error:function(t){gY.console&&("function"==typeof gY.console.error?gY.console.error.apply(gY.console,arguments):fY(t))}};function bY(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){_Y(n.response,e,i)},n.onerror=function(){mY.error("could not download file")},n.send()}function vY(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(i){}return e.status>=200&&e.status<=299}function yY(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wY,xY,_Y=gY.saveAs||("object"!==("undefined"==typeof window?"undefined":k$(window))||window!==gY?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,e,i){var n=gY.URL||gY.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener","string"==typeof t?(o.href=t,o.origin!==location.origin?vY(o.href)?bY(t,e,i):yY(o,o.target="_blank"):yY(o)):(o.href=n.createObjectURL(t),setTimeout((function(){n.revokeObjectURL(o.href)}),4e4),setTimeout((function(){yY(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,i){if(e=e||t.name||"download","string"==typeof t)if(vY(t))bY(t,e,i);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){yY(n)}))}else navigator.msSaveOrOpenBlob((o=t,void 0===(r=i)?r={autoBom:!1}:"object"!==k$(r)&&(mY.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob([String.fromCharCode(65279),o],{type:o.type}):o),e);var o,r}:function(t,e,i,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof t)return bY(t,e,i);var o="application/octet-stream"===t.type,r=/constructor/i.test(gY.HTMLElement)||gY.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&r)&&"object"===("undefined"==typeof FileReader?"undefined":k$(FileReader))){var a=new FileReader;a.onloadend=function(){var t=a.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=t:location=t,n=null},a.readAsDataURL(t)}else{var l=gY.URL||gY.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout((function(){l.revokeObjectURL(c)}),4e4)}});
/**
       * A class to parse color values
       * @author Stoyan Stefanov <sstoo@gmail.com>
       * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
       * @license Use it if you like it
       */function CY(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],n=0;n<i.length;n++){var o=i[n].re,r=i[n].process,s=o.exec(t);s&&(e=r(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i}}
/**
       * @license
       * Joseph Myers does not specify a particular license for his work.
       *
       * Author: Joseph Myers
       * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
       *
       * Modified by: Owen Leong
       */function BY(t,e){var i=t[0],n=t[1],o=t[2],r=t[3];i=EY(i,n,o,r,e[0],7,-680876936),r=EY(r,i,n,o,e[1],12,-389564586),o=EY(o,r,i,n,e[2],17,606105819),n=EY(n,o,r,i,e[3],22,-1044525330),i=EY(i,n,o,r,e[4],7,-176418897),r=EY(r,i,n,o,e[5],12,1200080426),o=EY(o,r,i,n,e[6],17,-1473231341),n=EY(n,o,r,i,e[7],22,-45705983),i=EY(i,n,o,r,e[8],7,1770035416),r=EY(r,i,n,o,e[9],12,-1958414417),o=EY(o,r,i,n,e[10],17,-42063),n=EY(n,o,r,i,e[11],22,-1990404162),i=EY(i,n,o,r,e[12],7,1804603682),r=EY(r,i,n,o,e[13],12,-40341101),o=EY(o,r,i,n,e[14],17,-1502002290),i=kY(i,n=EY(n,o,r,i,e[15],22,1236535329),o,r,e[1],5,-165796510),r=kY(r,i,n,o,e[6],9,-1069501632),o=kY(o,r,i,n,e[11],14,643717713),n=kY(n,o,r,i,e[0],20,-373897302),i=kY(i,n,o,r,e[5],5,-701558691),r=kY(r,i,n,o,e[10],9,38016083),o=kY(o,r,i,n,e[15],14,-660478335),n=kY(n,o,r,i,e[4],20,-405537848),i=kY(i,n,o,r,e[9],5,568446438),r=kY(r,i,n,o,e[14],9,-1019803690),o=kY(o,r,i,n,e[3],14,-187363961),n=kY(n,o,r,i,e[8],20,1163531501),i=kY(i,n,o,r,e[13],5,-1444681467),r=kY(r,i,n,o,e[2],9,-51403784),o=kY(o,r,i,n,e[7],14,1735328473),i=FY(i,n=kY(n,o,r,i,e[12],20,-1926607734),o,r,e[5],4,-378558),r=FY(r,i,n,o,e[8],11,-2022574463),o=FY(o,r,i,n,e[11],16,1839030562),n=FY(n,o,r,i,e[14],23,-35309556),i=FY(i,n,o,r,e[1],4,-1530992060),r=FY(r,i,n,o,e[4],11,1272893353),o=FY(o,r,i,n,e[7],16,-155497632),n=FY(n,o,r,i,e[10],23,-1094730640),i=FY(i,n,o,r,e[13],4,681279174),r=FY(r,i,n,o,e[0],11,-358537222),o=FY(o,r,i,n,e[3],16,-722521979),n=FY(n,o,r,i,e[6],23,76029189),i=FY(i,n,o,r,e[9],4,-640364487),r=FY(r,i,n,o,e[12],11,-421815835),o=FY(o,r,i,n,e[15],16,530742520),i=TY(i,n=FY(n,o,r,i,e[2],23,-995338651),o,r,e[0],6,-198630844),r=TY(r,i,n,o,e[7],10,1126891415),o=TY(o,r,i,n,e[14],15,-1416354905),n=TY(n,o,r,i,e[5],21,-57434055),i=TY(i,n,o,r,e[12],6,1700485571),r=TY(r,i,n,o,e[3],10,-1894986606),o=TY(o,r,i,n,e[10],15,-1051523),n=TY(n,o,r,i,e[1],21,-2054922799),i=TY(i,n,o,r,e[8],6,1873313359),r=TY(r,i,n,o,e[15],10,-30611744),o=TY(o,r,i,n,e[6],15,-1560198380),n=TY(n,o,r,i,e[13],21,1309151649),i=TY(i,n,o,r,e[4],6,-145523070),r=TY(r,i,n,o,e[11],10,-1120210379),o=TY(o,r,i,n,e[2],15,718787259),n=TY(n,o,r,i,e[9],21,-343485551),t[0]=UY(i,t[0]),t[1]=UY(n,t[1]),t[2]=UY(o,t[2]),t[3]=UY(r,t[3])}function SY(t,e,i,n,o,r){return e=UY(UY(e,t),UY(n,r)),UY(e<<o|e>>>32-o,i)}function EY(t,e,i,n,o,r,s){return SY(e&i|~e&n,t,e,o,r,s)}function kY(t,e,i,n,o,r,s){return SY(e&n|i&~n,t,e,o,r,s)}function FY(t,e,i,n,o,r,s){return SY(e^i^n,t,e,o,r,s)}function TY(t,e,i,n,o,r,s){return SY(i^(e|~n),t,e,o,r,s)}function LY(t){var e,i=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)BY(n,IY(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(BY(n,o),e=0;e<16;e++)o[e]=0;return o[14]=8*i,BY(n,o),n}function IY(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}wY=gY.atob.bind(gY),xY=gY.btoa.bind(gY);var MY="0123456789abcdef".split("");function PY(t){for(var e="",i=0;i<4;i++)e+=MY[t>>8*i+4&15]+MY[t>>8*i&15];return e}function RY(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function NY(t){return LY(t).map(RY).join("")}var OY="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=PY(t[e]);return t.join("")}(LY("hello"));function UY(t,e){if(OY){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}return t+e&4294967295}
/**
       * @license
       * FPDF is released under a permissive license: there is no usage restriction.
       * You may embed it freely in your application (commercial or not), with or
       * without modifications.
       *
       * Reference: http://www.fpdf.org/en/script/script37.php
       */function DY(t,e){var i,n,o,r;if(t!==i){for(var s=(o=t,r=1+(256/t.length|0),new Array(r+1).join(o)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+s.charCodeAt(l))%256,a[l]=a[c],a[c]=h}i=t,n=a}else a=n;var A=e.length,u=0,d=0,p="";for(l=0;l<A;l++)d=(d+(h=a[u=(u+1)%256]))%256,a[u]=a[d],a[d]=h,s=a[(a[u]+a[d])%256],p+=String.fromCharCode(e.charCodeAt(l)^s);return p}
/**
       * @license
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       * Author: Owen Leong (@owenl131)
       * Date: 15 Oct 2020
       * References:
       * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
       * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
       * http://www.fpdf.org/en/script/script37.php
       */var QY={print:4,modify:8,copy:16,"annot-forms":32};function HY(t,e,i,n){this.v=1,this.r=2;var o=192;t.forEach((function(t){if(void 0!==QY.perm)throw new Error("Invalid permission: "+t);o+=QY[t]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(e+this.padding).substr(0,32),s=(i+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,s),this.P=-(1+(255^o)),this.encryptionKey=NY(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=DY(this.encryptionKey,this.padding)}function zY(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",i=t.length,n=0;n<i;n++){var o=t.charCodeAt(n);e+=o<33||35===o||37===o||40===o||41===o||47===o||60===o||62===o||91===o||93===o||123===o||125===o||o>126?"#"+("0"+o.toString(16)).slice(-2):t[n]}return e}function jY(t){if("object"!==k$(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,n){if(n=n||!1,"string"!=typeof t||"function"!=typeof i||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!n],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],0===Object.keys(e[i]).length&&delete e[i],!0;return!1},this.publish=function(i){if(e.hasOwnProperty(i)){var n=Array.prototype.slice.call(arguments,1),o=[];for(var r in e[i]){var s=e[i][r];try{s[0].apply(t,n)}catch(a){gY.console&&mY.error("jsPDF PubSub Error",a.message,a)}s[1]&&o.push(r)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function GY(t){if(!(this instanceof GY))return new GY(t);var e="opacity,stroke-opacity".split(",");for(var i in t)t.hasOwnProperty(i)&&e.indexOf(i)>=0&&(this[i]=t[i]);this.id="",this.objectNumber=-1}function VY(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function KY(t,e,i,n,o){if(!(this instanceof KY))return new KY(t,e,i,n,o);this.type="axial"===t?2:3,this.coords=e,this.colors=i,VY.call(this,n,o)}function qY(t,e,i,n,o){if(!(this instanceof qY))return new qY(t,e,i,n,o);this.boundingBox=t,this.xStep=e,this.yStep=i,this.stream="",this.cloneIndex=0,VY.call(this,n,o)}function WY(t){var e,i="string"==typeof arguments[0]?arguments[0]:"p",n=arguments[1],o=arguments[2],r=arguments[3],s=[],a=1,l=16,c="S",h=null;"object"===k$(t=t||{})&&(i=t.orientation,n=t.unit||n,o=t.format||o,r=t.compress||t.compressPdf||r,null!==(h=t.encryption||null)&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(!0===r?["FlateEncode"]:s),n=n||"mm",i=(""+(i||"P")).toLowerCase();var A=t.putOnlyUsedFonts||!1,u={},d={internal:{},__private__:{}};d.__private__.PubSub=jY;var p="1.3",g=d.__private__.getPdfVersion=function(){return p};d.__private__.setPdfVersion=function(t){p=t};var f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return f};var m=d.__private__.getPageFormat=function(t){return f[t]};o=o||"a4";var b="compat",v="advanced",y=b;function w(){this.saveGraphicsState(),Y(new Lt(ut,0,0,-ut,0,ci()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),c="n",y=v}function x(){this.restoreGraphicsState(),c="S",y=b}var _=d.__private__.combineFontStyleAndFontWeight=function(t,e){if("bold"==t&&"normal"==e||"bold"==t&&400==e||"normal"==t&&"italic"==e||"bold"==t&&"italic"==e)throw new Error("Invalid Combination of fontweight and fontstyle");return e&&(t=400==e||"normal"===e?"italic"===t?"italic":"normal":700!=e&&"bold"!==e||"normal"!==t?(700==e?"bold":e)+""+t:"bold"),t};d.advancedAPI=function(t){var e=y===b;return e&&w.call(this),"function"!=typeof t||(t(this),e&&x.call(this)),this},d.compatAPI=function(t){var e=y===v;return e&&x.call(this),"function"!=typeof t||(t(this),e&&w.call(this)),this},d.isAdvancedAPI=function(){return y===v};var C,B=function(t){if(y!==v)throw new Error(t+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=d.roundToPrecision=d.__private__.roundToPrecision=function(t,i){var n=e||i;if(isNaN(t)||isNaN(n))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(n).replace(/0+$/,"")};C=d.hpf=d.__private__.hpf="number"==typeof l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return S(t,l)}:"smart"===l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return S(t,t>-1&&t<1?16:5)}:function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return S(t,16)};var E=d.f2=d.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return S(t,2)},k=d.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return S(t,3)},F=d.scale=d.__private__.scale=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.scale");return y===b?t*ut:y===v?t:void 0},T=function(t){return F(function(t){return y===b?ci()-t:y===v?t:void 0}(t))};d.__private__.setPrecision=d.setPrecision=function(t){"number"==typeof parseInt(t,10)&&(e=parseInt(t,10))};var L,I="00000000000000000000000000000000",M=d.__private__.getFileId=function(){return I},P=d.__private__.setFileId=function(t){return I=void 0!==t&&/^[a-fA-F0-9]{32}$/.test(t)?t.toUpperCase():I.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==h&&(ve=new HY(h.userPermissions,h.userPassword,h.ownerPassword,I)),I};d.setFileId=function(t){return P(t),this},d.getFileId=function(){return M()};var R=d.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),i=e<0?"+":"-",n=Math.floor(Math.abs(e/60)),o=Math.abs(e%60),r=[i,Q(n),"'",Q(o),"'"].join("");return["D:",t.getFullYear(),Q(t.getMonth()+1),Q(t.getDate()),Q(t.getHours()),Q(t.getMinutes()),Q(t.getSeconds()),r].join("")},N=d.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),i=parseInt(t.substr(6,2),10)-1,n=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),r=parseInt(t.substr(12,2),10),s=parseInt(t.substr(14,2),10);return new Date(e,i,n,o,r,s,0)},O=d.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),t instanceof Date)e=R(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return L=e},U=d.__private__.getCreationDate=function(t){var e=L;return"jsDate"===t&&(e=N(L)),e};d.setCreationDate=function(t){return O(t),this},d.getCreationDate=function(t){return U(t)};var D,Q=d.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},H=d.__private__.padd2Hex=function(t){return("00"+(t=t.toString())).substr(t.length)},z=0,j=[],G=[],V=0,K=[],q=[],W=!1,X=G;d.__private__.setCustomOutputDestination=function(t){W=!0,X=t};var $=function(t){W||(X=t)};d.__private__.resetCustomOutputDestination=function(){W=!1,X=G};var Y=d.__private__.out=function(t){return t=t.toString(),V+=t.length+1,X.push(t),X},Z=d.__private__.write=function(t){return Y(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},J=d.__private__.getArrayBuffer=function(t){for(var e=t.length,i=new ArrayBuffer(e),n=new Uint8Array(i);e--;)n[e]=t.charCodeAt(e);return i},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return tt};var et=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(t){return et=y===v?t/ut:t,this};var it,nt=d.__private__.getFontSize=d.getFontSize=function(){return y===b?et:et*ut},ot=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(t){return ot=t,this},d.__private__.getR2L=d.getR2L=function(){return ot};var rt,st=d.__private__.setZoomMode=function(t){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t))it=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');it=t}else it=parseInt(t,10)};d.__private__.getZoomMode=function(){return it};var at,lt=d.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');rt=t};d.__private__.getPageMode=function(){return rt};var ct=d.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');at=t};d.__private__.getLayoutMode=function(){return at},d.__private__.setDisplayMode=d.setDisplayMode=function(t,e,i){return st(t),ct(e),lt(i),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(t){if(-1===Object.keys(ht).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[t]},d.__private__.getDocumentProperties=function(){return ht},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(t){for(var e in ht)ht.hasOwnProperty(e)&&t[e]&&(ht[e]=t[e]);return this},d.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(ht).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[t]=e};var At,ut,dt,pt,gt,ft={},mt={},bt=[],vt={},yt={},wt={},xt={},_t=null,Ct=0,Bt=[],St=new jY(d),Et=t.hotfixes||[],kt={},Ft={},Tt=[],Lt=function t(e,i,n,o,r,s){if(!(this instanceof t))return new t(e,i,n,o,r,s);isNaN(e)&&(e=1),isNaN(i)&&(i=0),isNaN(n)&&(n=0),isNaN(o)&&(o=1),isNaN(r)&&(r=0),isNaN(s)&&(s=0),this._matrix=[e,i,n,o,r,s]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Lt.prototype.join=function(t){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(t)},Lt.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,i=t.sx*this.shy+t.shy*this.sy,n=t.shx*this.sx+t.sy*this.shx,o=t.shx*this.shy+t.sy*this.sy,r=t.tx*this.sx+t.ty*this.shx+this.tx,s=t.tx*this.shy+t.ty*this.sy+this.ty;return new Lt(e,i,n,o,r,s)},Lt.prototype.decompose=function(){var t=this.sx,e=this.shy,i=this.shx,n=this.sy,o=this.tx,r=this.ty,s=Math.sqrt(t*t+e*e),a=(t/=s)*i+(e/=s)*n;i-=t*a,n-=e*a;var l=Math.sqrt(i*i+n*n);return a/=l,t*(n/=l)<e*(i/=l)&&(t=-t,e=-e,a=-a,s=-s),{scale:new Lt(s,0,0,l,0,0),translate:new Lt(1,0,0,1,o,r),rotate:new Lt(t,e,-e,t,0,0),skew:new Lt(1,0,a,1,0,0)}},Lt.prototype.toString=function(t){return this.join(" ")},Lt.prototype.inversed=function(){var t=this.sx,e=this.shy,i=this.shx,n=this.sy,o=this.tx,r=this.ty,s=1/(t*n-e*i),a=n*s,l=-e*s,c=-i*s,h=t*s;return new Lt(a,l,c,h,-a*o-c*r,-l*o-h*r)},Lt.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,i=t.x*this.shy+t.y*this.sy+this.ty;return new ii(e,i)},Lt.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),i=this.applyToPoint(new ii(t.x+t.w,t.y+t.h));return new ni(e.x,e.y,i.x-e.x,i.y-e.y)},Lt.prototype.clone=function(){var t=this.sx,e=this.shy,i=this.shx,n=this.sy,o=this.tx,r=this.ty;return new Lt(t,e,i,n,o,r)},d.Matrix=Lt;var It=d.matrixMult=function(t,e){return e.multiply(t)},Mt=new Lt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Mt;var Pt=function(t,e){if(!yt[t]){var i=(e instanceof KY?"Sh":"P")+(Object.keys(vt).length+1).toString(10);e.id=i,yt[t]=i,vt[i]=e,St.publish("addPattern",e)}};d.ShadingPattern=KY,d.TilingPattern=qY,d.addShadingPattern=function(t,e){return B("addShadingPattern()"),Pt(t,e),this},d.beginTilingPattern=function(t){B("beginTilingPattern()"),ri(t.boundingBox[0],t.boundingBox[1],t.boundingBox[2]-t.boundingBox[0],t.boundingBox[3]-t.boundingBox[1],t.matrix)},d.endTilingPattern=function(t,e){B("endTilingPattern()"),e.stream=q[D].join("\n"),Pt(t,e),St.publish("endTilingPattern",e),Tt.pop().restore()};var Rt,Nt=d.__private__.newObject=function(){var t=Ot();return Ut(t,!0),t},Ot=d.__private__.newObjectDeferred=function(){return z++,j[z]=function(){return V},z},Ut=function(t,e){return e="boolean"==typeof e&&e,j[t]=V,e&&Y(t+" 0 obj"),t},Dt=d.__private__.newAdditionalObject=function(){var t={objId:Ot(),content:""};return K.push(t),t},Qt=Ot(),Ht=Ot(),zt=d.__private__.decodeColorString=function(t){var e=t.split(" ");if(2!==e.length||"g"!==e[1]&&"G"!==e[1])5!==e.length||"k"!==e[4]&&"K"!==e[4]||(e=[(1-e[0])*(1-e[3]),(1-e[1])*(1-e[3]),(1-e[2])*(1-e[3]),"r"]);else{var i=parseFloat(e[0]);e=[i,i,i,"r"]}for(var n="#",o=0;o<3;o++)n+=("0"+Math.floor(255*parseFloat(e[o])).toString(16)).slice(-2);return n},jt=d.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var i=t.ch1,n=t.ch2,o=t.ch3,r=t.ch4,s="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof i&&"#"!==i.charAt(0)){var a=new CY(i);if(a.ok)i=a.toHex();else if(!/^\d*\.?\d*$/.test(i))throw new Error('Invalid color "'+i+'" passed to jsPDF.encodeColorString.')}if("string"==typeof i&&/^#[0-9A-Fa-f]{3}$/.test(i)&&(i="#"+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]),"string"==typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i)){var l=parseInt(i.substr(1),16);i=l>>16&255,n=l>>8&255,o=255&l}if(void 0===n||void 0===r&&i===n&&n===o)if("string"==typeof i)e=i+" "+s[0];else if(2===t.precision)e=E(i/255)+" "+s[0];else e=k(i/255)+" "+s[0];else if(void 0===r||"object"===k$(r)){if(r&&!isNaN(r.a)&&0===r.a)return["1.","1.","1.",s[1]].join(" ");if("string"==typeof i)e=[i,n,o,s[1]].join(" ");else if(2===t.precision)e=[E(i/255),E(n/255),E(o/255),s[1]].join(" ");else e=[k(i/255),k(n/255),k(o/255),s[1]].join(" ")}else if("string"==typeof i)e=[i,n,o,r,s[2]].join(" ");else if(2===t.precision)e=[E(i),E(n),E(o),E(r),s[2]].join(" ");else e=[k(i),k(n),k(o),k(r),s[2]].join(" ");return e},Gt=d.__private__.getFilters=function(){return s},Vt=d.__private__.putStream=function(t){var e=(t=t||{}).data||"",i=t.filters||Gt(),n=t.alreadyAppliedFilters||[],o=t.addLength1||!1,r=e.length,s=t.objectId,a=function(t){return t};if(null!==h&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==h&&(a=ve.encryptor(s,0));var l={};!0===i&&(i=["FlateEncode"]);var c=t.additionalKeyValues||[],A=(l=void 0!==WY.API.processDataByFilters?WY.API.processDataByFilters(e,i):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(n)?n.join(" "):n.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===o&&c.push({key:"Length1",value:r})),0!=A.length)if(A.split("/").length-1==1)c.push({key:"Filter",value:A});else{c.push({key:"Filter",value:"["+A+"]"});for(var u=0;u<c.length;u+=1)if("DecodeParms"===c[u].key){for(var d=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)d.push("null");d.push(c[u].value),c[u].value="["+d.join(" ")+"]"}}Y("<<");for(var g=0;g<c.length;g++)Y("/"+c[g].key+" "+c[g].value);Y(">>"),0!==l.data.length&&(Y("stream"),Y(a(l.data)),Y("endstream"))},Kt=d.__private__.putPage=function(t){var e=t.number,i=t.data,n=t.objId,o=t.contentsObjId;Ut(n,!0),Y("<</Type /Page"),Y("/Parent "+t.rootDictionaryObjId+" 0 R"),Y("/Resources "+t.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(C(t.mediaBox.bottomLeftX))+" "+parseFloat(C(t.mediaBox.bottomLeftY))+" "+C(t.mediaBox.topRightX)+" "+C(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&Y("/CropBox ["+C(t.cropBox.bottomLeftX)+" "+C(t.cropBox.bottomLeftY)+" "+C(t.cropBox.topRightX)+" "+C(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&Y("/BleedBox ["+C(t.bleedBox.bottomLeftX)+" "+C(t.bleedBox.bottomLeftY)+" "+C(t.bleedBox.topRightX)+" "+C(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&Y("/TrimBox ["+C(t.trimBox.bottomLeftX)+" "+C(t.trimBox.bottomLeftY)+" "+C(t.trimBox.topRightX)+" "+C(t.trimBox.topRightY)+"]"),null!==t.artBox&&Y("/ArtBox ["+C(t.artBox.bottomLeftX)+" "+C(t.artBox.bottomLeftY)+" "+C(t.artBox.topRightX)+" "+C(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&Y("/UserUnit "+t.userUnit),St.publish("putPage",{objId:n,pageContext:Bt[e],pageNumber:e,page:i}),Y("/Contents "+o+" 0 R"),Y(">>"),Y("endobj");var r=i.join("\n");return y===v&&(r+="\nQ"),Ut(o,!0),Vt({data:r,filters:Gt(),objectId:o}),Y("endobj"),n},qt=d.__private__.putPages=function(){var t,e,i=[];for(t=1;t<=Ct;t++)Bt[t].objId=Ot(),Bt[t].contentsObjId=Ot();for(t=1;t<=Ct;t++)i.push(Kt({number:t,data:q[t],objId:Bt[t].objId,contentsObjId:Bt[t].contentsObjId,mediaBox:Bt[t].mediaBox,cropBox:Bt[t].cropBox,bleedBox:Bt[t].bleedBox,trimBox:Bt[t].trimBox,artBox:Bt[t].artBox,userUnit:Bt[t].userUnit,rootDictionaryObjId:Qt,resourceDictionaryObjId:Ht}));Ut(Qt,!0),Y("<</Type /Pages");var n="/Kids [";for(e=0;e<Ct;e++)n+=i[e]+" 0 R ";Y(n+"]"),Y("/Count "+Ct),Y(">>"),Y("endobj"),St.publish("postPutPages")},Wt=function(t){St.publish("putFont",{font:t,out:Y,newObject:Nt,putStream:Vt}),!0!==t.isAlreadyPutted&&(t.objectNumber=Nt(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+zY(t.postScriptName)),Y("/Subtype /Type1"),"string"==typeof t.encoding&&Y("/Encoding /"+t.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Xt=function(t){t.objectNumber=Nt();var e=[];e.push({key:"Type",value:"/XObject"}),e.push({key:"Subtype",value:"/Form"}),e.push({key:"BBox",value:"["+[C(t.x),C(t.y),C(t.x+t.width),C(t.y+t.height)].join(" ")+"]"}),e.push({key:"Matrix",value:"["+t.matrix.toString()+"]"});var i=t.pages[1].join("\n");Vt({data:i,additionalKeyValues:e,objectId:t.objectNumber}),Y("endobj")},$t=function(t,e){e||(e=21);var i=Nt(),n=function(t,e){var i,n=[],o=1/(e-1);for(i=0;i<1;i+=o)n.push(i);if(n.push(1),0!=t[0].offset){var r={offset:0,color:t[0].color};t.unshift(r)}if(1!=t[t.length-1].offset){var s={offset:1,color:t[t.length-1].color};t.push(s)}for(var a="",l=0,c=0;c<n.length;c++){for(i=n[c];i>t[l+1].offset;)l++;var h=t[l].offset,A=(i-h)/(t[l+1].offset-h),u=t[l].color,d=t[l+1].color;a+=H(Math.round((1-A)*u[0]+A*d[0]).toString(16))+H(Math.round((1-A)*u[1]+A*d[1]).toString(16))+H(Math.round((1-A)*u[2]+A*d[2]).toString(16))}return a.trim()}(t.colors,e),o=[];o.push({key:"FunctionType",value:"0"}),o.push({key:"Domain",value:"[0.0 1.0]"}),o.push({key:"Size",value:"["+e+"]"}),o.push({key:"BitsPerSample",value:"8"}),o.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),o.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vt({data:n,additionalKeyValues:o,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:i}),Y("endobj"),t.objectNumber=Nt(),Y("<< /ShadingType "+t.type),Y("/ColorSpace /DeviceRGB");var r="/Coords ["+C(parseFloat(t.coords[0]))+" "+C(parseFloat(t.coords[1]))+" ";2===t.type?r+=C(parseFloat(t.coords[2]))+" "+C(parseFloat(t.coords[3])):r+=C(parseFloat(t.coords[2]))+" "+C(parseFloat(t.coords[3]))+" "+C(parseFloat(t.coords[4]))+" "+C(parseFloat(t.coords[5])),Y(r+="]"),t.matrix&&Y("/Matrix ["+t.matrix.toString()+"]"),Y("/Function "+i+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Yt=function(t,e){var i=Ot(),n=Nt();e.push({resourcesOid:i,objectOid:n}),t.objectNumber=n;var o=[];o.push({key:"Type",value:"/Pattern"}),o.push({key:"PatternType",value:"1"}),o.push({key:"PaintType",value:"1"}),o.push({key:"TilingType",value:"1"}),o.push({key:"BBox",value:"["+t.boundingBox.map(C).join(" ")+"]"}),o.push({key:"XStep",value:C(t.xStep)}),o.push({key:"YStep",value:C(t.yStep)}),o.push({key:"Resources",value:i+" 0 R"}),t.matrix&&o.push({key:"Matrix",value:"["+t.matrix.toString()+"]"}),Vt({data:t.stream,additionalKeyValues:o,objectId:t.objectNumber}),Y("endobj")},Zt=function(t){for(var e in t.objectNumber=Nt(),Y("<<"),t)switch(e){case"opacity":Y("/ca "+E(t[e]));break;case"stroke-opacity":Y("/CA "+E(t[e]))}Y(">>"),Y("endobj")},Jt=function(t){Ut(t.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var t in Y("/Font <<"),ft)ft.hasOwnProperty(t)&&(!1===A||!0===A&&u.hasOwnProperty(t))&&Y("/"+t+" "+ft[t].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(vt).length>0){for(var t in Y("/Shading <<"),vt)vt.hasOwnProperty(t)&&vt[t]instanceof KY&&vt[t].objectNumber>=0&&Y("/"+t+" "+vt[t].objectNumber+" 0 R");St.publish("putShadingPatternDict"),Y(">>")}}(),function(t){if(Object.keys(vt).length>0){for(var e in Y("/Pattern <<"),vt)vt.hasOwnProperty(e)&&vt[e]instanceof d.TilingPattern&&vt[e].objectNumber>=0&&vt[e].objectNumber<t&&Y("/"+e+" "+vt[e].objectNumber+" 0 R");St.publish("putTilingPatternDict"),Y(">>")}}(t.objectOid),function(){if(Object.keys(wt).length>0){var t;for(t in Y("/ExtGState <<"),wt)wt.hasOwnProperty(t)&&wt[t].objectNumber>=0&&Y("/"+t+" "+wt[t].objectNumber+" 0 R");St.publish("putGStateDict"),Y(">>")}}(),function(){for(var t in Y("/XObject <<"),kt)kt.hasOwnProperty(t)&&kt[t].objectNumber>=0&&Y("/"+t+" "+kt[t].objectNumber+" 0 R");St.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},te=function(){var t=[];(function(){for(var t in ft)ft.hasOwnProperty(t)&&(!1===A||!0===A&&u.hasOwnProperty(t))&&Wt(ft[t])})(),function(){var t;for(t in wt)wt.hasOwnProperty(t)&&Zt(wt[t])}(),function(){for(var t in kt)kt.hasOwnProperty(t)&&Xt(kt[t])}(),function(t){var e;for(e in vt)vt.hasOwnProperty(e)&&(vt[e]instanceof KY?$t(vt[e]):vt[e]instanceof qY&&Yt(vt[e],t))}(t),St.publish("putResources"),t.forEach(Jt),Jt({resourcesOid:Ht,objectOid:Number.MAX_SAFE_INTEGER}),St.publish("postPutResources")},ee=function(t){mt[t.fontName]=mt[t.fontName]||{},mt[t.fontName][t.fontStyle]=t.id},ie=function(t,e,i,n,o){var r={id:"F"+(Object.keys(ft).length+1).toString(10),postScriptName:t,fontName:e,fontStyle:i,encoding:n,isStandardFont:o||!1,metadata:{}};return St.publish("addFont",{font:r,instance:this}),ft[r.id]=r,ee(r),r.id},ne=d.__private__.pdfEscape=d.pdfEscape=function(t,e){return function(t,e){var i,n,o,r,s,a,l,c,h;if(o=(e=e||{}).sourceEncoding||"Unicode",s=e.outputEncoding,(e.autoencode||s)&&ft[At].metadata&&ft[At].metadata[o]&&ft[At].metadata[o].encoding&&(r=ft[At].metadata[o].encoding,!s&&ft[At].encoding&&(s=ft[At].encoding),!s&&r.codePages&&(s=r.codePages[0]),"string"==typeof s&&(s=r[s]),s)){for(l=!1,a=[],i=0,n=t.length;i<n;i++)(c=s[t.charCodeAt(i)])?a.push(String.fromCharCode(c)):a.push(t[i]),a[i].charCodeAt(0)>>8&&(l=!0);t=a.join("")}for(i=t.length;void 0===l&&0!==i;)t.charCodeAt(i-1)>>8&&(l=!0),i--;if(!l)return t;for(a=e.noBOM?[]:[254,255],i=0,n=t.length;i<n;i++){if((h=(c=t.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(h),a.push(c-(h<<8))}return String.fromCharCode.apply(void 0,a)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oe=d.__private__.beginPage=function(t){q[++Ct]=[],Bt[Ct]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t[0]),topRightY:Number(t[1])}},ae(Ct),$(q[D])},re=function(t,e){var n,r,s;switch(i=e||i,"string"==typeof t&&(n=m(t.toLowerCase()),Array.isArray(n)&&(r=n[0],s=n[1])),Array.isArray(t)&&(r=t[0]*ut,s=t[1]*ut),isNaN(r)&&(r=o[0],s=o[1]),(r>14400||s>14400)&&(mY.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),r=Math.min(14400,r),s=Math.min(14400,s)),o=[r,s],i.substr(0,1)){case"l":s>r&&(o=[s,r]);break;case"p":r>s&&(o=[s,r])}oe(o),De(Oe),Y(qe),0!==Je&&Y(Je+" J"),0!==ti&&Y(ti+" j"),St.publish("addPage",{pageNumber:Ct})},se=function(t){t>0&&t<=Ct&&(q.splice(t,1),Bt.splice(t,1),Ct--,D>Ct&&(D=Ct),this.setPage(D))},ae=function(t){t>0&&t<=Ct&&(D=t)},le=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return q.length-1},ce=function(t,e,i){var n,o=void 0;return i=i||{},t=void 0!==t?t:ft[At].fontName,e=void 0!==e?e:ft[At].fontStyle,n=t.toLowerCase(),void 0!==mt[n]&&void 0!==mt[n][e]?o=mt[n][e]:void 0!==mt[t]&&void 0!==mt[t][e]?o=mt[t][e]:!1===i.disableWarning&&mY.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),o||i.noFallback||null==(o=mt.times[e])&&(o=mt.times.normal),o},he=d.__private__.putInfo=function(){var t=Nt(),e=function(t){return t};for(var i in null!==h&&(e=ve.encryptor(t,0)),Y("<<"),Y("/Producer ("+ne(e("jsPDF "+WY.version))+")"),ht)ht.hasOwnProperty(i)&&ht[i]&&Y("/"+i.substr(0,1).toUpperCase()+i.substr(1)+" ("+ne(e(ht[i]))+")");Y("/CreationDate ("+ne(e(L))+")"),Y(">>"),Y("endobj")},Ae=d.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||Qt;switch(Nt(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+e+" 0 R"),it||(it="fullwidth"),it){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var i=""+it;"%"===i.substr(i.length-1)&&(it=parseInt(it)/100),"number"==typeof it&&Y("/OpenAction [3 0 R /XYZ null null "+E(it)+"]")}switch(at||(at="continuous"),at){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}rt&&Y("/PageMode /"+rt),St.publish("putCatalog"),Y(">>"),Y("endobj")},ue=d.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(z+1)),Y("/Root "+z+" 0 R"),Y("/Info "+(z-1)+" 0 R"),null!==h&&Y("/Encrypt "+ve.oid+" 0 R"),Y("/ID [ <"+I+"> <"+I+"> ]"),Y(">>")},de=d.__private__.putHeader=function(){Y("%PDF-"+p),Y("%")},pe=d.__private__.putXRef=function(){var t="0000000000";Y("xref"),Y("0 "+(z+1)),Y("0000000000 65535 f ");for(var e=1;e<=z;e++)"function"==typeof j[e]?Y((t+j[e]()).slice(-10)+" 00000 n "):void 0!==j[e]?Y((t+j[e]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},ge=d.__private__.buildDocument=function(){z=0,V=0,G=[],j=[],K=[],Qt=Ot(),Ht=Ot(),$(G),St.publish("buildDocument"),de(),qt(),function(){St.publish("putAdditionalObjects");for(var t=0;t<K.length;t++){var e=K[t];Ut(e.objId,!0),Y(e.content),Y("endobj")}St.publish("postPutAdditionalObjects")}(),te(),null!==h&&(ve.oid=Nt(),Y("<<"),Y("/Filter /Standard"),Y("/V "+ve.v),Y("/R "+ve.r),Y("/U <"+ve.toHexString(ve.U)+">"),Y("/O <"+ve.toHexString(ve.O)+">"),Y("/P "+ve.P),Y(">>"),Y("endobj")),he(),Ae();var t=V;return pe(),ue(),Y("startxref"),Y(""+t),Y("%%EOF"),$(q[D]),G.join("\n")},fe=d.__private__.getBlob=function(t){return new Blob([J(t)],{type:"application/pdf"})},me=d.output=d.__private__.output=(Rt=function(t,e){switch("string"==typeof(e=e||{})?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return ge();case"save":d.save(e.filename);break;case"arraybuffer":return J(ge());case"blob":return fe(ge());case"bloburi":case"bloburl":if(void 0!==gY.URL&&"function"==typeof gY.URL.createObjectURL)return gY.URL&&gY.URL.createObjectURL(fe(ge()))||void 0;mY.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var i="",n=ge();try{i=xY(n)}catch(p){i=xY(unescape(encodeURIComponent(n)))}return"data:application/pdf;filename="+e.filename+";base64,"+i;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(gY)){var o="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",r=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e.pdfObjectUrl&&(o=e.pdfObjectUrl,r="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+o+'"'+r+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e)+");<\/script></body></html>",a=gY.open();return null!==a&&a.document.write(s),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(gY)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e.filename+'" width="500px" height="400px" /></body></html>',c=gY.open();if(null!==c){c.document.write(l);var h=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=e.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(h.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(gY))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e)+'"></iframe></body></html>',u=gY.open();if(null!==u&&(u.document.write(A),u.document.title=e.filename),u||"undefined"==typeof safari)return u;break;case"datauri":case"dataurl":return gY.document.location.href=this.output("datauristring",e);default:return null}},Rt.foo=function(){try{return Rt.apply(this,arguments)}catch(i){var t=i.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var e="Error in function "+t.split("\n")[0].split("<")[0]+": "+i.message;if(!gY.console)throw new Error(e);gY.console.error(e,i),gY.alert&&alert(e)}},Rt.foo.bar=Rt,Rt.foo),be=function(t){return!0===Array.isArray(Et)&&Et.indexOf(t)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=1==be("px_scaling")?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if("number"!=typeof n)throw new Error("Invalid unit: "+n);ut=n}var ve=null;O(),P();var ye=d.__private__.getPageInfo=d.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[t].objId,pageNumber:t,pageContext:Bt[t]}},we=d.__private__.getPageInfoByObjId=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e in Bt)if(Bt[e].objId===t)break;return ye(e)},xe=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Bt[D].objId,pageNumber:D,pageContext:Bt[D]}};d.addPage=function(){return re.apply(this,arguments),this},d.setPage=function(){return ae.apply(this,arguments),$.call(this,q[D]),this},d.insertPage=function(t){return this.addPage(),this.movePage(D,t),this},d.movePage=function(t,e){var i,n;if(t>e){i=q[t],n=Bt[t];for(var o=t;o>e;o--)q[o]=q[o-1],Bt[o]=Bt[o-1];q[e]=i,Bt[e]=n,this.setPage(e)}else if(t<e){i=q[t],n=Bt[t];for(var r=t;r<e;r++)q[r]=q[r+1],Bt[r]=Bt[r+1];q[e]=i,Bt[e]=n,this.setPage(e)}return this},d.deletePage=function(){return se.apply(this,arguments),this},d.__private__.text=d.text=function(t,e,i,n,o){var r,s,a,l,c,h,A,d,p,g=(n=n||{}).scope||this;if("number"==typeof t&&"number"==typeof e&&("string"==typeof i||Array.isArray(i))){var f=i;i=e,e=t,t=f}if(arguments[3]instanceof Lt==0?(a=arguments[4],l=arguments[5],"object"===k$(A=arguments[3])&&null!==A||("string"==typeof a&&(l=a,a=null),"string"==typeof A&&(l=A,A=null),"number"==typeof A&&(a=A,A=null),n={flags:A,angle:a,align:l})):(B("The transform parameter of text() with a Matrix value"),p=o),isNaN(e)||isNaN(i)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return g;var m,b="",w="number"==typeof n.lineHeightFactor?n.lineHeightFactor:Ne,x=g.internal.scaleFactor;function _(t){return t=t.split("\t").join(Array(n.TabLen||9).join(" ")),ne(t,A)}function S(t){for(var e,i=t.concat(),n=[],o=i.length;o--;)"string"==typeof(e=i.shift())?n.push(e):Array.isArray(t)&&(1===e.length||void 0===e[1]&&void 0===e[2])?n.push(e[0]):n.push([e[0],e[1],e[2]]);return n}function E(t,e){var i;if("string"==typeof t)i=e(t)[0];else if(Array.isArray(t)){for(var n,o,r=t.concat(),s=[],a=r.length;a--;)"string"==typeof(n=r.shift())?s.push(e(n)[0]):Array.isArray(n)&&"string"==typeof n[0]&&(o=e(n[0],n[1],n[2]),s.push([o[0],o[1],o[2]]));i=s}return i}var k=!1,T=!0;if("string"==typeof t)k=!0;else if(Array.isArray(t)){var L=t.concat();s=[];for(var I,M=L.length;M--;)("string"!=typeof(I=L.shift())||Array.isArray(I)&&"string"!=typeof I[0])&&(T=!1);k=T}if(!1===k)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var P=et/g.internal.scaleFactor,R=P*(w-1);switch(n.baseline){case"bottom":i-=R;break;case"top":i+=P-R;break;case"hanging":i+=P-2*R;break;case"middle":i+=P/2-R}if((h=n.maxWidth||0)>0&&("string"==typeof t?t=g.splitTextToSize(t,h):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce((function(t,e){return t.concat(g.splitTextToSize(e,h))}),[]))),r={text:t,x:e,y:i,options:n,mutex:{pdfEscape:ne,activeFontKey:At,fonts:ft,activeFontSize:et}},St.publish("preProcessText",r),t=r.text,a=(n=r.options).angle,p instanceof Lt==0&&a&&"number"==typeof a){a*=Math.PI/180,0===n.rotationDirection&&(a=-a),y===v&&(a=-a);var N=Math.cos(a),O=Math.sin(a);p=new Lt(N,O,-O,N,0,0)}else a&&a instanceof Lt&&(p=a);y!==v||p||(p=Mt),void 0!==(c=n.charSpace||Ye)&&(b+=C(F(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(d=n.horizontalScale)&&(b+=C(100*d)+" Tz\n"),n.lang;var U=-1,D=void 0!==n.renderingMode?n.renderingMode:n.stroke,Q=g.internal.getCurrentPageInfo().pageContext;switch(D){case 0:case!1:case"fill":U=0;break;case 1:case!0:case"stroke":U=1;break;case 2:case"fillThenStroke":U=2;break;case 3:case"invisible":U=3;break;case 4:case"fillAndAddForClipping":U=4;break;case 5:case"strokeAndAddPathForClipping":U=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":U=6;break;case 7:case"addToPathForClipping":U=7}var H=void 0!==Q.usedRenderingMode?Q.usedRenderingMode:-1;-1!==U?b+=U+" Tr\n":-1!==H&&(b+="0 Tr\n"),-1!==U&&(Q.usedRenderingMode=U),l=n.align||"left";var z,j=et*w,G=g.internal.pageSize.getWidth(),V=ft[At];c=n.charSpace||Ye,h=n.maxWidth||0,A=Object.assign({autoencode:!0,noBOM:!0},n.flags);var K=[];if("[object Array]"===Object.prototype.toString.call(t)){var q;s=S(t),"left"!==l&&(z=s.map((function(t){return g.getStringUnitWidth(t,{font:V,charSpace:c,fontSize:et,doKerning:!1})*et/x})));var W,X=0;if("right"===l){e-=z[0],t=[],M=s.length;for(var $=0;$<M;$++)0===$?(W=je(e),q=Ge(i)):(W=F(X-z[$]),q=-j),t.push([s[$],W,q]),X=z[$]}else if("center"===l){e-=z[0]/2,t=[],M=s.length;for(var Z=0;Z<M;Z++)0===Z?(W=je(e),q=Ge(i)):(W=F((X-z[Z])/2),q=-j),t.push([s[Z],W,q]),X=z[Z]}else if("left"===l){t=[],M=s.length;for(var J=0;J<M;J++)t.push(s[J])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');t=[],M=s.length,h=0!==h?h:G;for(var tt=0;tt<M;tt++)q=0===tt?Ge(i):-j,W=0===tt?je(e):0,tt<M-1?K.push(C(F((h-z[tt])/(s[tt].split(" ").length-1)))):K.push(0),t.push([s[tt],W,q])}}!0===("boolean"==typeof n.R2L?n.R2L:ot)&&(t=E(t,(function(t,e,i){return[t.split("").reverse().join(""),e,i]}))),r={text:t,x:e,y:i,options:n,mutex:{pdfEscape:ne,activeFontKey:At,fonts:ft,activeFontSize:et}},St.publish("postProcessText",r),t=r.text,m=r.mutex.isHex||!1;var it=ft[At].encoding;"WinAnsiEncoding"!==it&&"StandardEncoding"!==it||(t=E(t,(function(t,e,i){return[_(t),e,i]}))),s=S(t),t=[];for(var nt,rt,st,at=Array.isArray(s[0])?1:0,lt="",ct=function(t,e,i){var o="";return i instanceof Lt?(i="number"==typeof n.angle?It(i,new Lt(1,0,0,1,t,e)):It(new Lt(1,0,0,1,t,e),i),y===v&&(i=It(new Lt(1,0,0,-1,0,0),i)),o=i.join(" ")+" Tm\n"):o=C(t)+" "+C(e)+" Td\n",o},ht=0;ht<s.length;ht++){switch(lt="",at){case 1:st=(m?"<":"(")+s[ht][0]+(m?">":")"),nt=parseFloat(s[ht][1]),rt=parseFloat(s[ht][2]);break;case 0:st=(m?"<":"(")+s[ht]+(m?">":")"),nt=je(e),rt=Ge(i)}void 0!==K&&void 0!==K[ht]&&(lt=K[ht]+" Tw\n"),0===ht?t.push(lt+ct(nt,rt,p)+st):0===at?t.push(lt+st):1===at&&t.push(lt+ct(nt,rt,p)+st)}t=0===at?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var ut="BT\n/";return ut+=At+" "+et+" Tf\n",ut+=C(et*w)+" TL\n",ut+=Xe+"\n",ut+=b,ut+=t,Y(ut+="ET"),u[At]=!0,g};var _e=d.__private__.clip=d.clip=function(t){return Y("evenodd"===t?"W*":"W"),this};d.clipEvenOdd=function(){return _e("evenodd")},d.__private__.discardPath=d.discardPath=function(){return Y("n"),this};var Ce=d.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t)&&(e=!0),e};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(t){return Ce(t)&&(c=t),this};var Be=d.__private__.getStyle=d.getStyle=function(t){var e=c;switch(t){case"D":case"S":e="S";break;case"F":e="f";break;case"FD":case"DF":e="B";break;case"f":case"f*":case"B":case"B*":e=t}return e},Se=d.close=function(){return Y("h"),this};d.stroke=function(){return Y("S"),this},d.fill=function(t){return Ee("f",t),this},d.fillEvenOdd=function(t){return Ee("f*",t),this},d.fillStroke=function(t){return Ee("B",t),this},d.fillStrokeEvenOdd=function(t){return Ee("B*",t),this};var Ee=function(t,e){"object"===k$(e)?Te(e,t):Y(t)},ke=function(t){null===t||y===v&&void 0===t||(t=Be(t),Y(t))};function Fe(t,e,i,n,o){var r=new qY(e||this.boundingBox,i||this.xStep,n||this.yStep,this.gState,o||this.matrix);r.stream=this.stream;var s=t+"$$"+this.cloneIndex+++"$$";return Pt(s,r),r}var Te=function(t,e){var i=yt[t.key],n=vt[i];if(n instanceof KY)Y("q"),Y(Le(e)),n.gState&&d.setGState(n.gState),Y(t.matrix.toString()+" cm"),Y("/"+i+" sh"),Y("Q");else if(n instanceof qY){var o=new Lt(1,0,0,-1,0,ci());t.matrix&&(o=o.multiply(t.matrix||Mt),i=Fe.call(n,t.key,t.boundingBox,t.xStep,t.yStep,o).id),Y("q"),Y("/Pattern cs"),Y("/"+i+" scn"),n.gState&&d.setGState(n.gState),Y(e),Y("Q")}},Le=function(t){switch(t){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ie=d.moveTo=function(t,e){return Y(C(F(t))+" "+C(T(e))+" m"),this},Me=d.lineTo=function(t,e){return Y(C(F(t))+" "+C(T(e))+" l"),this},Pe=d.curveTo=function(t,e,i,n,o,r){return Y([C(F(t)),C(T(e)),C(F(i)),C(T(n)),C(F(o)),C(T(r)),"c"].join(" ")),this};d.__private__.line=d.line=function(t,e,i,n,o){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||!Ce(o))throw new Error("Invalid arguments passed to jsPDF.line");return y===b?this.lines([[i-t,n-e]],t,e,[1,1],o||"S"):this.lines([[i-t,n-e]],t,e,[1,1]).stroke()},d.__private__.lines=d.lines=function(t,e,i,n,o,r){var s,a,l,c,h,A,u,d,p,g,f,m;if("number"==typeof t&&(m=i,i=e,e=t,t=m),n=n||[1,1],r=r||!1,isNaN(e)||isNaN(i)||!Array.isArray(t)||!Array.isArray(n)||!Ce(o)||"boolean"!=typeof r)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ie(e,i),s=n[0],a=n[1],c=t.length,g=e,f=i,l=0;l<c;l++)2===(h=t[l]).length?(g=h[0]*s+g,f=h[1]*a+f,Me(g,f)):(A=h[0]*s+g,u=h[1]*a+f,d=h[2]*s+g,p=h[3]*a+f,g=h[4]*s+g,f=h[5]*a+f,Pe(A,u,d,p,g,f));return r&&Se(),ke(o),this},d.path=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i.c;switch(i.op){case"m":Ie(n[0],n[1]);break;case"l":Me(n[0],n[1]);break;case"c":Pe.apply(this,n);break;case"h":Se()}}return this},d.__private__.rect=d.rect=function(t,e,i,n,o){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||!Ce(o))throw new Error("Invalid arguments passed to jsPDF.rect");return y===b&&(n=-n),Y([C(F(t)),C(T(e)),C(F(i)),C(F(n)),"re"].join(" ")),ke(o),this},d.__private__.triangle=d.triangle=function(t,e,i,n,o,r,s){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(o)||isNaN(r)||!Ce(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[i-t,n-e],[o-i,r-n],[t-o,e-r]],t,e,[1,1],s,!0),this},d.__private__.roundedRect=d.roundedRect=function(t,e,i,n,o,r,s){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(o)||isNaN(r)||!Ce(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return o=Math.min(o,.5*i),r=Math.min(r,.5*n),this.lines([[i-2*o,0],[o*a,0,o,r-r*a,o,r],[0,n-2*r],[0,r*a,-o*a,r,-o,r],[2*o-i,0],[-o*a,0,-o,-r*a,-o,-r],[0,2*r-n],[0,-r*a,o*a,-r,o,-r]],t+o,e,[1,1],s,!0),this},d.__private__.ellipse=d.ellipse=function(t,e,i,n,o){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||!Ce(o))throw new Error("Invalid arguments passed to jsPDF.ellipse");var r=4/3*(Math.SQRT2-1)*i,s=4/3*(Math.SQRT2-1)*n;return Ie(t+i,e),Pe(t+i,e-s,t+r,e-n,t,e-n),Pe(t-r,e-n,t-i,e-s,t-i,e),Pe(t-i,e+s,t-r,e+n,t,e+n),Pe(t+r,e+n,t+i,e+s,t+i,e),ke(o),this},d.__private__.circle=d.circle=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||!Ce(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,i,i,n)},d.setFont=function(t,e,i){return i&&(e=_(e,i)),At=ce(t,e,{disableWarning:!1}),this};var Re=d.__private__.getFont=d.getFont=function(){return ft[ce.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var t,e,i={};for(t in mt)if(mt.hasOwnProperty(t))for(e in i[t]=[],mt[t])mt[t].hasOwnProperty(e)&&i[t].push(e);return i},d.addFont=function(t,e,i,n,o){var r=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==r.indexOf(arguments[3])?o=arguments[3]:arguments[3]&&-1==r.indexOf(arguments[3])&&(i=_(i,n)),ie.call(this,t,e,i,o=o||"Identity-H")};var Ne,Oe=t.lineWidth||.200025,Ue=d.__private__.getLineWidth=d.getLineWidth=function(){return Oe},De=d.__private__.setLineWidth=d.setLineWidth=function(t){return Oe=t,Y(C(F(t))+" w"),this};d.__private__.setLineDash=WY.API.setLineDash=WY.API.setLineDashPattern=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map((function(t){return C(F(t))})).join(" "),e=C(F(e)),Y("["+t+"] "+e+" d"),this};var Qe=d.__private__.getLineHeight=d.getLineHeight=function(){return et*Ne};d.__private__.getLineHeight=d.getLineHeight=function(){return et*Ne};var He=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Ne=t),this},ze=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Ne};He(t.lineHeight);var je=d.__private__.getHorizontalCoordinate=function(t){return F(t)},Ge=d.__private__.getVerticalCoordinate=function(t){return y===v?t:Bt[D].mediaBox.topRightY-Bt[D].mediaBox.bottomLeftY-F(t)},Ve=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(t){return C(je(t))},Ke=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(t){return C(Ge(t))},qe=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return zt(qe)},d.__private__.setStrokeColor=d.setDrawColor=function(t,e,i,n){return qe=jt({ch1:t,ch2:e,ch3:i,ch4:n,pdfColorType:"draw",precision:2}),Y(qe),this};var We=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return zt(We)},d.__private__.setFillColor=d.setFillColor=function(t,e,i,n){return We=jt({ch1:t,ch2:e,ch3:i,ch4:n,pdfColorType:"fill",precision:2}),Y(We),this};var Xe=t.textColor||"0 g",$e=d.__private__.getTextColor=d.getTextColor=function(){return zt(Xe)};d.__private__.setTextColor=d.setTextColor=function(t,e,i,n){return Xe=jt({ch1:t,ch2:e,ch3:i,ch4:n,pdfColorType:"text",precision:3}),this};var Ye=t.charSpace,Ze=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ye||0)};d.__private__.setCharSpace=d.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ye=t,this};var Je=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(t){var e=d.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Je=e,Y(e+" J"),this};var ti=0;d.__private__.setLineJoin=d.setLineJoin=function(t){var e=d.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ti=e,Y(e+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(C(F(t))+" M"),this},d.GState=GY,d.setGState=function(t){(t="string"==typeof t?wt[xt[t]]:ei(null,t)).equals(_t)||(Y("/"+t.id+" gs"),_t=t)};var ei=function(t,e){if(!t||!xt[t]){var i=!1;for(var n in wt)if(wt.hasOwnProperty(n)&&wt[n].equals(e)){i=!0;break}if(i)e=wt[n];else{var o="GS"+(Object.keys(wt).length+1).toString(10);wt[o]=e,e.id=o}return t&&(xt[t]=e.id),St.publish("addGState",e),e}};d.addGState=function(t,e){return ei(t,e),this},d.saveGraphicsState=function(){return Y("q"),bt.push({key:At,size:et,color:Xe}),this},d.restoreGraphicsState=function(){Y("Q");var t=bt.pop();return At=t.key,et=t.size,Xe=t.color,_t=null,this},d.setCurrentTransformationMatrix=function(t){return Y(t.toString()+" cm"),this},d.comment=function(t){return Y("#"+t),this};var ii=function(t,e){var i=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var n=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var o="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return o},set:function(t){o=t.toString()}}),this},ni=function(t,e,i,n){ii.call(this,t,e),this.type="rect";var o=i||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return o},set:function(t){isNaN(t)||(o=parseFloat(t))}});var r=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}}),this},oi=function(){this.page=Ct,this.currentPage=D,this.pages=q.slice(0),this.pagesContext=Bt.slice(0),this.x=dt,this.y=pt,this.matrix=gt,this.width=ai(D),this.height=ci(D),this.outputDestination=X,this.id="",this.objectNumber=-1};oi.prototype.restore=function(){Ct=this.page,D=this.currentPage,Bt=this.pagesContext,q=this.pages,dt=this.x,pt=this.y,gt=this.matrix,li(D,this.width),hi(D,this.height),X=this.outputDestination};var ri=function(t,e,i,n,o){Tt.push(new oi),Ct=D=0,q=[],dt=t,pt=e,gt=o,oe([i,n])};for(var si in d.beginFormObject=function(t,e,i,n,o){return ri(t,e,i,n,o),this},d.endFormObject=function(t){return function(t){if(Ft[t])Tt.pop().restore();else{var e=new oi,i="Xo"+(Object.keys(kt).length+1).toString(10);e.id=i,Ft[t]=i,kt[i]=e,St.publish("addFormObject",e),Tt.pop().restore()}}(t),this},d.doFormObject=function(t,e){var i=kt[Ft[t]];return Y("q"),Y(e.toString()+" cm"),Y("/"+i.id+" Do"),Y("Q"),this},d.getFormObject=function(t){var e=kt[Ft[t]];return{x:e.x,y:e.y,width:e.width,height:e.height,matrix:e.matrix}},d.save=function(t,e){return t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1===e.returnPromise?(_Y(fe(ge()),t),"function"==typeof _Y.unload&&gY.setTimeout&&setTimeout(_Y.unload,911),this):new Promise((function(e,i){try{var n=_Y(fe(ge()),t);"function"==typeof _Y.unload&&gY.setTimeout&&setTimeout(_Y.unload,911),e(n)}catch(o){i(o.message)}}))},WY.API)WY.API.hasOwnProperty(si)&&("events"===si&&WY.API.events.length?function(t,e){var i,n,o;for(o=e.length-1;-1!==o;o--)i=e[o][0],n=e[o][1],t.subscribe.apply(t,[i].concat("function"==typeof n?[n]:n))}(St,WY.API.events):d[si]=WY.API[si]);var ai=d.getPageWidth=function(t){return(Bt[t=t||D].mediaBox.topRightX-Bt[t].mediaBox.bottomLeftX)/ut},li=d.setPageWidth=function(t,e){Bt[t].mediaBox.topRightX=e*ut+Bt[t].mediaBox.bottomLeftX},ci=d.getPageHeight=function(t){return(Bt[t=t||D].mediaBox.topRightY-Bt[t].mediaBox.bottomLeftY)/ut},hi=d.setPageHeight=function(t,e){Bt[t].mediaBox.topRightY=e*ut+Bt[t].mediaBox.bottomLeftY};return d.internal={pdfEscape:ne,getStyle:Be,getFont:Re,getFontSize:nt,getCharSpace:Ze,getTextColor:$e,getLineHeight:Qe,getLineHeightFactor:ze,getLineWidth:Ue,write:Z,getHorizontalCoordinate:je,getVerticalCoordinate:Ge,getCoordinateString:Ve,getVerticalCoordinateString:Ke,collections:{},newObject:Nt,newAdditionalObject:Dt,newObjectDeferred:Ot,newObjectDeferredBegin:Ut,getFilters:Gt,putStream:Vt,events:St,scaleFactor:ut,pageSize:{getWidth:function(){return ai(D)},setWidth:function(t){li(D,t)},getHeight:function(){return ci(D)},setHeight:function(t){hi(D,t)}},encryptionOptions:h,encryption:ve,getEncryptor:function(t){return null!==h?ve.encryptor(t,0):function(t){return t}},output:me,getNumberOfPages:le,pages:q,out:Y,f2:E,f3:k,getPageInfo:ye,getPageInfoByObjId:we,getCurrentPageInfo:xe,getPDFVersion:g,Point:ii,Rectangle:ni,Matrix:Lt,hasHotfix:be},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return ai(D)},set:function(t){li(D,t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ci(D)},set:function(t){hi(D,t)},enumerable:!0,configurable:!0}),function(t){for(var e=0,i=tt.length;e<i;e++){var n=ie.call(this,t[e][0],t[e][1],t[e][2],tt[e][3],!0);!1===A&&(u[n]=!0);var o=t[e][0].split("-");ee({id:n,fontName:o[0],fontStyle:o[1]||""})}St.publish("addFonts",{fonts:ft,dictionary:mt})}.call(d,tt),At="F1",re(o,i),St.publish("initialized"),d}HY.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},HY.prototype.toHexString=function(t){return t.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},HY.prototype.hexToBytes=function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(String.fromCharCode(parseInt(t.substr(i,2),16)));return e.join("")},HY.prototype.processOwnerPassword=function(t,e){return DY(NY(e).substr(0,5),t)},HY.prototype.encryptor=function(t,e){var i=NY(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(t){return DY(i,t)}},GY.prototype.equals=function(t){var e,i="id,objectNumber,equals";if(!t||k$(t)!==k$(this))return!1;var n=0;for(e in this)if(!(i.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;if(this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&i.indexOf(e)<0&&n--;return 0===n},WY.API={events:[]},WY.version="2.5.1";var XY=WY.API,$Y=1,YY=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ZY=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},JY=function(t){return t.toFixed(2)},tZ=function(t){return t.toFixed(5)};XY.__acroform__={};var eZ=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},iZ=function(t){return t*$Y},nZ=function(t){var e=new yZ,i=PZ.internal.getHeight(t)||0,n=PZ.internal.getWidth(t)||0;return e.BBox=[0,0,Number(JY(n)),Number(JY(i))],e},oZ=XY.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},rZ=XY.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},sZ=XY.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},aZ=XY.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sZ(t,e-1)},lZ=XY.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oZ(t,e-1)},cZ=XY.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rZ(t,e-1)},hZ=XY.__acroform__.calculateCoordinates=function(t,e){var i=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,o=t[0],r=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=i(o)||0,l.lowerLeft_Y=n(r+a)||0,l.upperRight_X=i(o+s)||0,l.upperRight_Y=n(r)||0,[Number(JY(l.lowerLeft_X)),Number(JY(l.lowerLeft_Y)),Number(JY(l.upperRight_X)),Number(JY(l.upperRight_Y))]},AZ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],i=t._V||t.DV,n=uZ(t,i),o=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+o+" "+JY(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var r=nZ(t);return r.scope=t.scope,r.stream=e.join("\n"),r}},uZ=function(t,e){var i=0===t.fontSize?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},o=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");o=t.multiline?o.map((function(t){return t.split("\n")})):o.map((function(t){return[t]}));var r=i,s=PZ.internal.getHeight(t)||0;s=s<0?-s:s;var a=PZ.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(e,i,n){if(e+1<o.length){var r=i+" "+o[e+1][0];return dZ(r,t,n).width<=a-4}return!1};r++;t:for(;r>0;){e="",r--;var c,h,A=dZ("3",t,r).height,u=t.multiline?s-r:(s-A)/2,d=u+=2,p=0,g=0,f=0;if(r<=0){e="(...) Tj\n",e+="% Width of Text: "+dZ(e,t,r=12).width+", FieldWidth:"+a+"\n";break}for(var m="",b=0,v=0;v<o.length;v++)if(o.hasOwnProperty(v)){var y=!1;if(1!==o[v].length&&f!==o[v].length-1){if((A+2)*(b+2)+2>s)continue t;m+=o[v][f],y=!0,g=v,v--}else{m=" "==(m+=o[v][f]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var w=parseInt(v),x=l(w,m,r),_=v>=o.length-1;if(x&&!_){m+=" ",f=0;continue}if(x||_){if(_)g=w;else if(t.multiline&&(A+2)*(b+2)+2>s)continue t}else{if(!t.multiline)continue t;if((A+2)*(b+2)+2>s)continue t;g=w}}for(var C="",B=p;B<=g;B++){var S=o[B];if(t.multiline){if(B===g){C+=S[f]+" ",f=(f+1)%S.length;continue}if(B===p){C+=S[S.length-1]+" ";continue}}C+=S[0]+" "}switch(C=" "==C.substr(C.length-1)?C.substr(0,C.length-1):C,h=dZ(C,t,r).width,t.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;default:c=2}e+=JY(c)+" "+JY(d)+" Td\n",e+="("+YY(C)+") Tj\n",e+=-JY(c)+" 0 Td\n",d=-(r+2),h=0,p=y?g:g+1,b++,m=""}break}return n.text=e,n.fontSize=r,n},dZ=function(t,e,i){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:o}},pZ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gZ=function(t,e){var i={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find((function(t){return t.type===i.type&&t.object===i.object}))&&e.internal.getPageInfo(t.page).pageContext.annotations.push(i)},fZ=function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(xZ.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(pZ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$Y=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new wZ,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})),t.internal.events.subscribe("buildDocument",(function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n.objId=void 0,n.hasAnnotation&&gZ(n,t)}}(t)})),t.internal.events.subscribe("putCatalog",(function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)})),t.internal.events.subscribe("postPutPages",(function(e){!function(t,e){var i=!t;for(var n in t||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(n)){var o=t[n],r=[],s=o.Rect;if(o.Rect&&(o.Rect=hZ(o.Rect,e)),e.internal.newObjectDeferredBegin(o.objId,!0),o.DA=PZ.createDefaultAppearanceStream(o),"object"===k$(o)&&"function"==typeof o.getKeyValueListForStream&&(r=o.getKeyValueListForStream()),o.Rect=s,o.hasAppearanceStream&&!o.appearanceStreamContent){var a=AZ(o);r.push({key:"AP",value:"<</N "+a+">>"}),e.internal.acroformPlugin.xForms.push(a)}if(o.appearanceStreamContent){var l="";for(var c in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(c)){var h=o.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var n in h)if(h.hasOwnProperty(n)){var A=h[n];"function"==typeof A&&(A=A.call(e,o)),l+="/"+n+" "+A+" ",e.internal.acroformPlugin.xForms.indexOf(A)>=0||e.internal.acroformPlugin.xForms.push(A)}}else"function"==typeof(A=h)&&(A=A.call(e,o)),l+="/"+n+" "+A,e.internal.acroformPlugin.xForms.indexOf(A)>=0||e.internal.acroformPlugin.xForms.push(A);l+=">>"}r.push({key:"AP",value:"<<\n"+l+">>"})}e.internal.putStream({additionalKeyValues:r,objectId:o.objId}),e.internal.out("endobj")}i&&function(t,e){for(var i in t)if(t.hasOwnProperty(i)){var n=i,o=t[i];e.internal.newObjectDeferredBegin(o.objId,!0),"object"===k$(o)&&"function"==typeof o.putStream&&o.putStream(),delete t[n]}}(e.internal.acroformPlugin.xForms,e)}(e,t)})),t.internal.acroformPlugin.isInitialized=!0}},mZ=XY.__acroform__.arrayToPdfArray=function(t,e,i){var n=function(t){return t};if(Array.isArray(t)){for(var o="[",r=0;r<t.length;r++)switch(0!==r&&(o+=" "),k$(t[r])){case"boolean":case"number":case"object":o+=t[r].toString();break;case"string":"/"!==t[r].substr(0,1)?(void 0!==e&&i&&(n=i.internal.getEncryptor(e)),o+="("+YY(n(t[r].toString()))+")"):o+=t[r].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},bZ=function(t,e,i){var n=function(t){return t};return void 0!==e&&i&&(n=i.internal.getEncryptor(e)),(t=t||"").toString(),"("+YY(n(t))+")"},vZ=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vZ.prototype.toString=function(){return this.objId+" 0 R"},vZ.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},vZ.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"scope"!=t&&"objId"!=t&&"_"!=t.substring(0,1)}));for(var i in e)if(!1===Object.getOwnPropertyDescriptor(this,e[i]).configurable){var n=e[i],o=this[n];o&&(Array.isArray(o)?t.push({key:n,value:mZ(o,this.objId,this.scope)}):o instanceof vZ?(o.scope=this.scope,t.push({key:n,value:o.objId+" 0 R"})):"function"!=typeof o&&t.push({key:n,value:o}))}return t};var yZ=function(){vZ.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};eZ(yZ,vZ);var wZ=function(){vZ.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+YY(e(t))+")"}},set:function(e){t=e}})};eZ(wZ,vZ);var xZ=function t(){vZ.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(e,3))},set:function(t){!0===Boolean(t)?this.F=lZ(e,3):this.F=cZ(e,3)}});var i=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');i=t}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(t){n=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(t){n[0]=t}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(t){n[1]=t}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(t){n[2]=t}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(t){n[3]=t}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof TZ)return;r="FieldObject"+t.FieldNum++}var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+YY(e(r))+")"},set:function(t){r=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(t){r=t}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/$Y:c},set:function(t){c=t}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(t){h=t}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof TZ||this instanceof IZ))return bZ(A,this.objId,this.scope)},set:function(t){t=t.toString(),A=t}});var u=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof EZ==0?bZ(u,this.objId,this.scope):u},set:function(t){t=t.toString(),u=this instanceof EZ==0?"("===t.substr(0,1)?ZY(t.substr(1,t.length-2)):ZY(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof EZ==1?ZY(u.substr(1,u.length-1)):u},set:function(t){t=t.toString(),u=this instanceof EZ==1?"/"+t:t}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(t){this.V=t}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof EZ==0?bZ(d,this.objId,this.scope):d},set:function(t){t=t.toString(),d=this instanceof EZ==0?"("===t.substr(0,1)?ZY(t.substr(1,t.length-2)):ZY(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof EZ==1?ZY(d.substr(1,d.length-1)):d},set:function(t){t=t.toString(),d=this instanceof EZ==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(t){t=Boolean(t),g=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(t){p=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,1):this.Ff=cZ(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,2):this.Ff=cZ(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,3):this.Ff=cZ(this.Ff,3)}});var f=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==f)return f},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');f=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t;switch(f){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:f=2;break;case"center":case 1:f=1;break;default:f=0}}})};eZ(xZ,vZ);var _Z=function(){xZ.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mZ(e,this.objId,this.scope)},set:function(t){var i,n;n=[],"string"==typeof(i=t)&&(n=function(t,e,i){i||(i=1);for(var n,o=[];n=e.exec(t);)o.push(n[i]);return o}(i,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,18):this.Ff=cZ(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=lZ(this.Ff,19):this.Ff=cZ(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=lZ(this.Ff,20),e.sort()):this.Ff=cZ(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,22):this.Ff=cZ(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,23):this.Ff=cZ(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,27):this.Ff=cZ(this.Ff,27)}}),this.hasAppearanceStream=!1};eZ(_Z,xZ);var CZ=function(){_Z.call(this),this.fontName="helvetica",this.combo=!1};eZ(CZ,_Z);var BZ=function(){CZ.call(this),this.combo=!0};eZ(BZ,CZ);var SZ=function(){BZ.call(this),this.edit=!0};eZ(SZ,BZ);var EZ=function(){xZ.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,15):this.Ff=cZ(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,16):this.Ff=cZ(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,17):this.Ff=cZ(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,26):this.Ff=cZ(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var i,n=[];for(i in n.push("<<"),e)n.push("/"+i+" ("+YY(t(e[i]))+")");return n.push(">>"),n.join("\n")}},set:function(t){"object"===k$(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};eZ(EZ,xZ);var kZ=function(){EZ.call(this),this.pushButton=!0};eZ(kZ,EZ);var FZ=function(){EZ.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};eZ(FZ,EZ);var TZ=function(){var t,e;xZ.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var i,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};this.scope&&(t=this.scope.internal.getEncryptor(this.objId));var e,i=[];for(e in i.push("<<"),n)i.push("/"+e+" ("+YY(t(n[e]))+")");return i.push(">>"),i.join("\n")},set:function(t){"object"===k$(t)&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){"string"==typeof t&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=PZ.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};eZ(TZ,xZ),FZ.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var i=this.Kids[e];i.appearanceStreamContent=t.createAppearanceStream(i.optionName),i.caption=t.getCA()}},FZ.prototype.createOption=function(t){var e=new TZ;return e.Parent=this,e.optionName=t,this.Kids.push(e),OZ.call(this.scope,e),e};var LZ=function(){EZ.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=PZ.CheckBox.createAppearanceStream()};eZ(LZ,EZ);var IZ=function(){xZ.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,13):this.Ff=cZ(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,21):this.Ff=cZ(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,23):this.Ff=cZ(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,24):this.Ff=cZ(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,25):this.Ff=cZ(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,26):this.Ff=cZ(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};eZ(IZ,xZ);var MZ=function(){IZ.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(aZ(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=lZ(this.Ff,14):this.Ff=cZ(this.Ff,14)}}),this.password=!0};eZ(MZ,IZ);var PZ={CheckBox:{createAppearanceStream:function(){return{N:{On:PZ.CheckBox.YesNormal},D:{On:PZ.CheckBox.YesPushDown,Off:PZ.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=nZ(t);e.scope=t.scope;var i=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),r=uZ(t,t.caption);return i.push("0.749023 g"),i.push("0 0 "+JY(PZ.internal.getWidth(t))+" "+JY(PZ.internal.getHeight(t))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+n+" "+JY(r.fontSize)+" Tf "+o),i.push("BT"),i.push(r.text),i.push("ET"),i.push("Q"),i.push("EMC"),e.stream=i.join("\n"),e},YesNormal:function(t){var e=nZ(t);e.scope=t.scope;var i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),o=[],r=PZ.internal.getHeight(t),s=PZ.internal.getWidth(t),a=uZ(t,t.caption);return o.push("1 g"),o.push("0 0 "+JY(s)+" "+JY(r)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+JY(s-1)+" "+JY(r-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+i+" "+JY(a.fontSize)+" Tf "+n),o.push(a.text),o.push("ET"),o.push("Q"),e.stream=o.join("\n"),e},OffPushDown:function(t){var e=nZ(t);e.scope=t.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+JY(PZ.internal.getWidth(t))+" "+JY(PZ.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:PZ.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=PZ.RadioButton.Circle.YesNormal,e.D[t]=PZ.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=nZ(t);e.scope=t.scope;var i=[],n=PZ.internal.getWidth(t)<=PZ.internal.getHeight(t)?PZ.internal.getWidth(t)/4:PZ.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var o=PZ.internal.Bezier_C,r=Number((n*o).toFixed(5));return i.push("q"),i.push("1 0 0 1 "+tZ(PZ.internal.getWidth(t)/2)+" "+tZ(PZ.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+r+" "+r+" "+n+" 0 "+n+" c"),i.push("-"+r+" "+n+" -"+n+" "+r+" -"+n+" 0 c"),i.push("-"+n+" -"+r+" -"+r+" -"+n+" 0 -"+n+" c"),i.push(r+" -"+n+" "+n+" -"+r+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e},YesPushDown:function(t){var e=nZ(t);e.scope=t.scope;var i=[],n=PZ.internal.getWidth(t)<=PZ.internal.getHeight(t)?PZ.internal.getWidth(t)/4:PZ.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),r=Number((o*PZ.internal.Bezier_C).toFixed(5)),s=Number((n*PZ.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+tZ(PZ.internal.getWidth(t)/2)+" "+tZ(PZ.internal.getHeight(t)/2)+" cm"),i.push(o+" 0 m"),i.push(o+" "+r+" "+r+" "+o+" 0 "+o+" c"),i.push("-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c"),i.push("-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c"),i.push(r+" -"+o+" "+o+" -"+r+" "+o+" 0 c"),i.push("f"),i.push("Q"),i.push("0 g"),i.push("q"),i.push("1 0 0 1 "+tZ(PZ.internal.getWidth(t)/2)+" "+tZ(PZ.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),i.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),i.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),i.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=nZ(t);e.scope=t.scope;var i=[],n=PZ.internal.getWidth(t)<=PZ.internal.getHeight(t)?PZ.internal.getWidth(t)/4:PZ.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),r=Number((o*PZ.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+tZ(PZ.internal.getWidth(t)/2)+" "+tZ(PZ.internal.getHeight(t)/2)+" cm"),i.push(o+" 0 m"),i.push(o+" "+r+" "+r+" "+o+" 0 "+o+" c"),i.push("-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c"),i.push("-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c"),i.push(r+" -"+o+" "+o+" -"+r+" "+o+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:PZ.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=PZ.RadioButton.Cross.YesNormal,e.D[t]=PZ.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=nZ(t);e.scope=t.scope;var i=[],n=PZ.internal.calculateCross(t);return i.push("q"),i.push("1 1 "+JY(PZ.internal.getWidth(t)-2)+" "+JY(PZ.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(JY(n.x1.x)+" "+JY(n.x1.y)+" m"),i.push(JY(n.x2.x)+" "+JY(n.x2.y)+" l"),i.push(JY(n.x4.x)+" "+JY(n.x4.y)+" m"),i.push(JY(n.x3.x)+" "+JY(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join("\n"),e},YesPushDown:function(t){var e=nZ(t);e.scope=t.scope;var i=PZ.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+JY(PZ.internal.getWidth(t))+" "+JY(PZ.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+JY(PZ.internal.getWidth(t)-2)+" "+JY(PZ.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(JY(i.x1.x)+" "+JY(i.x1.y)+" m"),n.push(JY(i.x2.x)+" "+JY(i.x2.y)+" l"),n.push(JY(i.x4.x)+" "+JY(i.x4.y)+" m"),n.push(JY(i.x3.x)+" "+JY(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=nZ(t);e.scope=t.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+JY(PZ.internal.getWidth(t))+" "+JY(PZ.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+i}};PZ.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=PZ.internal.getWidth(t),i=PZ.internal.getHeight(t),n=Math.min(e,i);return{x1:{x:(e-n)/2,y:(i-n)/2+n},x2:{x:(e-n)/2+n,y:(i-n)/2},x3:{x:(e-n)/2,y:(i-n)/2},x4:{x:(e-n)/2+n,y:(i-n)/2+n}}}},PZ.internal.getWidth=function(t){var e=0;return"object"===k$(t)&&(e=iZ(t.Rect[2])),e},PZ.internal.getHeight=function(t){var e=0;return"object"===k$(t)&&(e=iZ(t.Rect[3])),e};var RZ,NZ,OZ=XY.addField=function(t){if(fZ(this,t),!(t instanceof xZ))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};function UZ(t){return t.reduce((function(t,e,i){return t[e]=i,t}),{})}XY.AcroFormChoiceField=_Z,XY.AcroFormListBox=CZ,XY.AcroFormComboBox=BZ,XY.AcroFormEditBox=SZ,XY.AcroFormButton=EZ,XY.AcroFormPushButton=kZ,XY.AcroFormRadioButton=FZ,XY.AcroFormCheckBox=LZ,XY.AcroFormTextField=IZ,XY.AcroFormPasswordField=MZ,XY.AcroFormAppearance=PZ,XY.AcroForm={ChoiceField:_Z,ListBox:CZ,ComboBox:BZ,EditBox:SZ,Button:EZ,PushButton:kZ,RadioButton:FZ,CheckBox:LZ,TextField:IZ,PasswordField:MZ,Appearance:PZ},WY.AcroForm={ChoiceField:_Z,ListBox:CZ,ComboBox:BZ,EditBox:SZ,Button:EZ,PushButton:kZ,RadioButton:FZ,CheckBox:LZ,TextField:IZ,PasswordField:MZ,Appearance:PZ},function(t){t.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(t,n){var o,r,s,a,l,c=e;if("RGBA"===(n=n||e)||void 0!==t.data&&t.data instanceof Uint8ClampedArray&&"height"in t&&"width"in t)return"RGBA";if(x(t))for(l in i)for(s=i[l],o=0;o<s.length;o+=1){for(a=!0,r=0;r<s[o].length;r+=1)if(void 0!==s[o][r]&&s[o][r]!==t[r]){a=!1;break}if(!0===a){c=l;break}}else for(l in i)for(s=i[l],o=0;o<s.length;o+=1){for(a=!0,r=0;r<s[o].length;r+=1)if(void 0!==s[o][r]&&s[o][r]!==t.charCodeAt(r)){a=!1;break}if(!0===a){c=l;break}}return c===e&&n!==e&&(c=n),c},o=function t(e){for(var i=this.internal.write,n=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf("FlateEncode");)o.splice(o.indexOf("FlateEncode"),1);e.objectId=this.internal.newObject();var r=[];if(r.push({key:"Type",value:"/XObject"}),r.push({key:"Subtype",value:"/Image"}),r.push({key:"Width",value:e.width}),r.push({key:"Height",value:e.height}),e.colorSpace===f.INDEXED?r.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.palette.length/3-1)+" "+("sMask"in e&&void 0!==e.sMask?e.objectId+2:e.objectId+1)+" 0 R]"}):(r.push({key:"ColorSpace",value:"/"+e.colorSpace}),e.colorSpace===f.DEVICE_CMYK&&r.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),r.push({key:"BitsPerComponent",value:e.bitsPerComponent}),"decodeParameters"in e&&void 0!==e.decodeParameters&&r.push({key:"DecodeParms",value:"<<"+e.decodeParameters+">>"}),"transparency"in e&&Array.isArray(e.transparency)){for(var s="",a=0,l=e.transparency.length;a<l;a++)s+=e.transparency[a]+" "+e.transparency[a]+" ";r.push({key:"Mask",value:"["+s+"]"})}void 0!==e.sMask&&r.push({key:"SMask",value:e.objectId+1+" 0 R"});var c=void 0!==e.filter?["/"+e.filter]:void 0;if(n({data:e.data,additionalKeyValues:r,alreadyAppliedFilters:c,objectId:e.objectId}),i("endobj"),"sMask"in e&&void 0!==e.sMask){var h="/Predictor "+e.predictor+" /Colors 1 /BitsPerComponent "+e.bitsPerComponent+" /Columns "+e.width,A={width:e.width,height:e.height,colorSpace:"DeviceGray",bitsPerComponent:e.bitsPerComponent,decodeParameters:h,data:e.sMask};"filter"in e&&(A.filter=e.filter),t.call(this,A)}if(e.colorSpace===f.INDEXED){var u=this.internal.newObject();n({data:C(new Uint8Array(e.palette)),objectId:u}),i("endobj")}},r=function(){var t=this.internal.collections.addImage_images;for(var e in t)o.call(this,t[e])},s=function(){var t,e=this.internal.collections.addImage_images,i=this.internal.write;for(var n in e)i("/I"+(t=e[n]).index,t.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var t=this.internal.collections.addImage_images;return a.call(this),t},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(e){return"function"==typeof t["process"+e.toUpperCase()]},A=function(t){return"object"===k$(t)&&1===t.nodeType},u=function(e,i){if("IMG"===e.nodeName&&e.hasAttribute("src")){var n=""+e.getAttribute("src");if(0===n.indexOf("data:image/"))return wY(unescape(n).split("base64,").pop());var o=t.loadFile(n,!0);if(void 0!==o)return o}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw new Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);var r;switch(i){case"PNG":r="image/png";break;case"WEBP":r="image/webp";break;default:r="image/jpeg"}return wY(e.toDataURL(r,1).split("base64,").pop())}},d=function(t){var e=this.internal.collections.addImage_images;if(e)for(var i in e)if(t===e[i].alias)return e[i]},p=function(t,e,i){return t||e||(t=-96,e=-96),t<0&&(t=-1*i.width*72/t/this.internal.scaleFactor),e<0&&(e=-1*i.height*72/e/this.internal.scaleFactor),0===t&&(t=e*i.width/i.height),0===e&&(e=t*i.height/i.width),[t,e]},g=function(t,e,i,n,o,r){var s=p.call(this,i,n,o),a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=l.call(this);if(i=s[0],n=s[1],h[o.index]=o,r){r*=Math.PI/180;var A=Math.cos(r),u=Math.sin(r),d=function(t){return t.toFixed(4)},g=[d(A),d(u),d(-1*u),d(A),0,0,"cm"]}this.internal.write("q"),r?(this.internal.write([1,"0","0",1,a(t),c(e+n),"cm"].join(" ")),this.internal.write(g.join(" ")),this.internal.write([a(i),"0","0",a(n),"0","0","cm"].join(" "))):this.internal.write([a(i),"0","0",a(n),a(t),c(e+n),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+o.index+" Do"),this.internal.write("Q")},f=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(t){var e,i,n=0;if("string"==typeof t)for(i=t.length,e=0;e<i;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;else if(x(t))for(i=t.byteLength/2,e=0;e<i;e++)n=(n<<5)-n+t[e],n|=0;return n},v=t.__addimage__.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2))&&(e=!1),e},y=t.__addimage__.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),i=null;if(2===e.length){var n=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(e[0]);Array.isArray(n)&&(i={mimeType:n[1],charset:n[2],data:e[1]})}return i},w=t.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};t.__addimage__.isArrayBuffer=function(t){return w()&&t instanceof ArrayBuffer};var x=t.__addimage__.isArrayBufferView=function(t){return w()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},_=t.__addimage__.binaryStringToUint8Array=function(t){for(var e=t.length,i=new Uint8Array(e),n=0;n<e;n++)i[n]=t.charCodeAt(n);return i},C=t.__addimage__.arrayBufferToBinaryString=function(t){for(var e="",i=x(t)?t:new Uint8Array(t),n=0;n<i.length;n+=8192)e+=String.fromCharCode.apply(null,i.subarray(n,n+8192));return e};t.addImage=function(){var t,i,n,o,r,s,l,c,h;if("number"==typeof arguments[1]?(i=e,n=arguments[1],o=arguments[2],r=arguments[3],s=arguments[4],l=arguments[5],c=arguments[6],h=arguments[7]):(i=arguments[1],n=arguments[2],o=arguments[3],r=arguments[4],s=arguments[5],l=arguments[6],c=arguments[7],h=arguments[8]),"object"===k$(t=arguments[0])&&!A(t)&&"imageData"in t){var u=t;t=u.imageData,i=u.format||i||e,n=u.x||n||0,o=u.y||o||0,r=u.w||u.width||r,s=u.h||u.height||s,l=u.alias||l,c=u.compression||c,h=u.rotation||u.angle||h}var d=this.internal.getFilters();if(void 0===c&&-1!==d.indexOf("FlateEncode")&&(c="SLOW"),isNaN(n)||isNaN(o))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var p=B.call(this,t,i,l,c);return g.call(this,n,o,r,s,p,h),this};var B=function(i,o,r,s){var a,l,p,g;if("string"==typeof i&&n(i)===e){i=unescape(i);var f=S(i,!1);(""!==f||void 0!==(f=t.loadFile(i,!0)))&&(i=f)}if(A(i)&&(i=u(i,o)),o=n(i,o),!h(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if((null==(p=r)||0===p.length)&&(r="string"==typeof(g=i)||x(g)?b(g):x(g.data)?b(g.data):null),(a=d.call(this,r))||(w()&&(i instanceof Uint8Array||"RGBA"===o||(l=i,i=_(i))),a=this["process"+o.toUpperCase()](i,c.call(this),r,function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:m.NONE}(s),l)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},S=t.__addimage__.convertBase64ToBinaryString=function(t,e){var i;e="boolean"!=typeof e||e;var n,o="";if("string"==typeof t){n=null!==(i=y(t))?i.data:t;try{o=wY(n)}catch(r){if(e)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+r.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return o};t.getImageProperties=function(i){var o,r,s="";if(A(i)&&(i=u(i)),"string"==typeof i&&n(i)===e&&(""===(s=S(i,!1))&&(s=t.loadFile(i)||""),i=s),r=n(i),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(!w()||i instanceof Uint8Array||(i=_(i)),!(o=this["process"+r.toUpperCase()](i)))throw new Error("An unknown error occurred whilst processing the image");return o.fileType=r,o}}(WY.API),
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
RZ=WY.API,NZ=function(t){if(void 0!==t&&""!=t)return!0},WY.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),RZ.events.push(["putPage",function(t){for(var e,i,n,o=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(t.objId),a=t.pageContext.annotations,l=!1,c=0;c<a.length&&!l;c++)switch((e=a[c]).type){case"link":(NZ(e.options.url)||NZ(e.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var h=0;h<a.length;h++){e=a[h];var A=this.internal.pdfEscape,u=this.internal.getEncryptor(t.objId);switch(e.type){case"reference":this.internal.write(" "+e.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(d.objId),f=e.title||"Note";n="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(e.bounds.x)+" "+r(e.bounds.y+e.bounds.h)+" "+o(e.bounds.x+e.bounds.w)+" "+r(e.bounds.y)+"] ")+"/Contents ("+A(g(e.contents))+")",n+=" /Popup "+p.objId+" 0 R",n+=" /P "+s.objId+" 0 R",n+=" /T ("+A(g(f))+") >>",d.content=n;var m=d.objId+" 0 R";n="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(e.bounds.x+30)+" "+r(e.bounds.y+e.bounds.h)+" "+o(e.bounds.x+e.bounds.w+30)+" "+r(e.bounds.y)+"] ")+" /Parent "+m,e.open&&(n+=" /Open true"),n+=" >>",p.content=n,this.internal.write(d.objId,"0 R",p.objId,"0 R");break;case"freetext":i="/Rect ["+o(e.bounds.x)+" "+r(e.bounds.y)+" "+o(e.bounds.x+e.bounds.w)+" "+r(e.bounds.y+e.bounds.h)+"] ";var b=e.color||"#000000";n="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+A(u(e.contents))+")",n+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",n+=" /Border [0 0 0]",n+=" >>",this.internal.write(n);break;case"link":if(e.options.name){var v=this.annotations._nameMap[e.options.name];e.options.pageNumber=v.page,e.options.top=v.y}else e.options.top||(e.options.top=0);if(i="/Rect ["+e.finalBounds.x+" "+e.finalBounds.y+" "+e.finalBounds.w+" "+e.finalBounds.h+"] ",n="",e.options.url)n="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+A(u(e.options.url))+") >>";else if(e.options.pageNumber)switch(n="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(e.options.pageNumber).objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case"Fit":n+=" /Fit]";break;case"FitH":n+=" /FitH "+e.options.top+"]";break;case"FitV":e.options.left=e.options.left||0,n+=" /FitV "+e.options.left+"]";break;default:var y=r(e.options.top);e.options.left=e.options.left||0,void 0===e.options.zoom&&(e.options.zoom=0),n+=" /XYZ "+e.options.left+" "+y+" "+e.options.zoom+"]"}""!=n&&(n+=" >>",this.internal.write(n))}}this.internal.write("]")}}]),RZ.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},RZ.link=function(t,e,i,n,o){var r=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;r.pageContext.annotations.push({finalBounds:{x:s(t),y:a(e),w:s(t+i),h:a(e+n)},options:o,type:"link"})},RZ.textWithLink=function(t,e,i,n){var o,r,s=this.getTextWidth(t),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==n.maxWidth){r=n.maxWidth;var l=this.splitTextToSize(t,r).length;o=Math.ceil(a*l)}else r=s,o=a;return this.text(t,e,i,n),i+=.2*a,"center"===n.align&&(e-=s/2),"right"===n.align&&(e-=s),this.link(e,i-a,r,o,n),s},RZ.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},
/**
       * @license
       * Copyright (c) 2017 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},i={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];t.__arabicParser__={};var r=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},s=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},a=t.__arabicParser__.isArabicEndLetter=function(t){return s(t)&&r(t)&&e[t.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(t){return s(t)&&o.indexOf(t.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return s(t)&&r(t)&&e[t.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(t){return s(t)&&r(t)&&e[t.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(t){return s(t)&&r(t)&&e[t.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(t){return s(t)&&r(t)&&4==e[t.charCodeAt(0)].length},A=t.__arabicParser__.resolveLigatures=function(t){var e=0,n=i,o="",r=0;for(e=0;e<t.length;e+=1)void 0!==n[t.charCodeAt(e)]?(r++,"number"==typeof(n=n[t.charCodeAt(e)])&&(o+=String.fromCharCode(n),n=i,r=0),e===t.length-1&&(n=i,o+=t.charAt(e-(r-1)),e-=r-1,r=0)):(n=i,o+=t.charAt(e-r),e-=r,r=0);return o};t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==n[t.charCodeAt(0)]};var u=t.__arabicParser__.getCorrectForm=function(t,e,i){return s(t)?!1===r(t)?-1:!c(t)||!s(e)&&!s(i)||!s(i)&&a(e)||a(t)&&!s(e)||a(t)&&l(e)||a(t)&&a(e)?0:h(t)&&s(e)&&!a(e)&&s(i)&&c(i)?3:a(t)||!s(i)?1:2:-1},d=function(t){var i=0,n=0,o=0,r="",a="",l="",c=(t=t||"").split("\\s+"),h=[];for(i=0;i<c.length;i+=1){for(h.push(""),n=0;n<c[i].length;n+=1)r=c[i][n],a=c[i][n-1],l=c[i][n+1],s(r)?(o=u(r,a,l),h[i]+=-1!==o?String.fromCharCode(e[r.charCodeAt(0)][o]):r):h[i]+=r;h[i]=A(h[i])}return h.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var t,e="string"==typeof arguments[0]?arguments[0]:arguments[0].text,i=[];if(Array.isArray(e)){var n=0;for(i=[],n=0;n<e.length;n+=1)Array.isArray(e[n])?i.push([d(e[n][0]),e[n][1],e[n][2]]):i.push([d(e[n])]);t=i}else t=d(e);return"string"==typeof arguments[0]?t:(arguments[0].text=t,arguments[0])};t.events.push(["preProcessText",p])}(WY.API),WY.API.autoPrint=function(t){var e;if("javascript"===((t=t||{}).variant=t.variant||"non-conform",t.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}));return this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(t){i=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(t){n=t}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(t){o=t}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,e){var i;if("2d"!==(t=t||"2d"))return null;for(i in e)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=e[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(WY.API),function(t){var e={left:0,top:0,bottom:0,right:0},i=!1,n=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var t=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var i=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return i},set:function(t){i=t}});var n=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return n},set:function(t){n=t}});var o=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return o},set:function(t){o=t}});var r=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return r},set:function(t){r=t}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(t){s=t}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(t){return n.call(this),this.internal.__cell__.headerFunction="function"==typeof t?t:void 0,this},t.getTextDimensions=function(t,e){n.call(this);var i=(e=e||{}).fontSize||this.getFontSize(),o=e.font||this.getFont(),r=e.scaleFactor||this.internal.scaleFactor,s=0,a=0,l=0,c=this;if(!Array.isArray(t)&&"string"!=typeof t){if("number"!=typeof t)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t=String(t)}var h=e.maxWidth;h>0?"string"==typeof t?t=this.splitTextToSize(t,h):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce((function(t,e){return t.concat(c.splitTextToSize(e,h))}),[])):t=Array.isArray(t)?t:[t];for(var A=0;A<t.length;A++)s<(l=this.getStringUnitWidth(t[A],{font:o})*i)&&(s=l);return 0!==s&&(a=t.length),{w:s/=r,h:Math.max((a*i*this.getLineHeightFactor()-i*(this.getLineHeightFactor()-1))/r,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var t=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new r(t.left,t.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var t;t=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var o=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,a=this.internal.__cell__.margins||e,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==o.lineNumber&&(o.lineNumber===t.lineNumber?(t.x=(o.x||0)+(o.width||0),t.y=o.y||0):o.y+o.height+t.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),t.y=a.top,c&&l&&(this.printHeaderRow(t.lineNumber,!0),t.y+=l[0].height)):t.y=o.y+o.height||t.y),void 0!==t.text[0]&&(this.rect(t.x,t.y,t.width,t.height,!0===i?"FD":void 0),"right"===t.align?this.text(t.text,t.x+t.width-s,t.y+s,{align:"right",baseline:"top"}):"center"===t.align?this.text(t.text,t.x+t.width/2,t.y+s,{align:"center",baseline:"top",maxWidth:t.width-s-s}):this.text(t.text,t.x+s,t.y+s,{align:"left",baseline:"top",maxWidth:t.width-s-s})),this.internal.__cell__.lastCell=t,this};t.table=function(t,i,l,c,h){if(n.call(this),!l)throw new Error("No data for PDF table.");var A,u,d,p,g=[],f=[],m=[],b={},v={},y=[],w=[],x=(h=h||{}).autoSize||!1,_=!1!==h.printHeaders,C=h.css&&void 0!==h.css["font-size"]?16*h.css["font-size"]:h.fontSize||12,B=h.margins||Object.assign({width:this.getPageWidth()},e),S="number"==typeof h.padding?h.padding:3,E=h.headerBackgroundColor||"#c8c8c8",k=h.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=k,this.setFontSize(C),null==c)f=g=Object.keys(l[0]),m=g.map((function(){return"left"}));else if(Array.isArray(c)&&"object"===k$(c[0]))for(g=c.map((function(t){return t.name})),f=c.map((function(t){return t.prompt||t.name||""})),m=c.map((function(t){return t.align||"left"})),A=0;A<c.length;A+=1)v[c[A].name]=c[A].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(f=g=c,m=g.map((function(){return"left"})));if(x||Array.isArray(c)&&"string"==typeof c[0])for(A=0;A<g.length;A+=1){for(b[p=g[A]]=l.map((function(t){return t[p]})),this.setFont(void 0,"bold"),y.push(this.getTextDimensions(f[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),u=b[p],this.setFont(void 0,"normal"),d=0;d<u.length;d+=1)y.push(this.getTextDimensions(u[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[p]=Math.max.apply(null,y)+S+S,y=[]}if(_){var F={};for(A=0;A<g.length;A+=1)F[g[A]]={},F[g[A]].text=f[A],F[g[A]].align=m[A];var T=a.call(this,F,v);w=g.map((function(e){return new r(t,i,v[e],T,F[e].text,void 0,F[e].align)})),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var L=c.reduce((function(t,e){return t[e.name]=e.align,t}),{});for(A=0;A<l.length;A+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:A,data:l[A]},this);var I=a.call(this,l[A],v);for(d=0;d<g.length;d+=1){var M=l[A][g[d]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:A,col:d,data:M},this),s.call(this,new r(t,i,v[g[d]],I,M,A+2,L[g[d]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=i,this};var a=function(t,e){var i=this.internal.__cell__.padding,n=this.internal.__cell__.table_font_size,o=this.internal.scaleFactor;return Object.keys(t).map((function(n){var o=t[n];return this.splitTextToSize(o.hasOwnProperty("text")?o.text:o,e[n]-i-i)}),this).map((function(t){return this.getLineHeightFactor()*t.length*n/o+i+i}),this).reduce((function(t,e){return Math.max(t,e)}),0)};t.setTableHeaderRow=function(t){n.call(this),this.internal.__cell__.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var o;if(i=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){o=this.internal.__cell__.tableHeaderRow[c].clone(),e&&(o.y=this.internal.__cell__.margins.top||0,l.push(o)),o.lineNumber=t;var h=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,o),this.setTextColor(h)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),i=!1}}(WY.API);var DZ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QZ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],HZ=UZ(QZ),zZ=[100,200,300,400,500,600,700,800,900],jZ=UZ(zZ);function GZ(t){var e,i=t.family.replace(/"|'/g,"").toLowerCase(),n=(e=t.style,DZ[e=e||"normal"]?e:"normal"),o=function(t){return t?"number"==typeof t?t>=100&&t<=900&&t%100==0?t:400:/^\d00$/.test(t)?parseInt(t):"bold"===t?700:400:400}(t.weight),r=function(t){return"number"==typeof HZ[t=t||"normal"]?t:"normal"}(t.stretch);return{family:i,style:n,weight:o,stretch:r,src:t.src||[],ref:t.ref||{name:i,style:[r,n,o].join(" ")}}}function VZ(t,e,i,n){var o;for(o=i;o>=0&&o<e.length;o+=n)if(t[e[o]])return t[e[o]];for(o=i;o>=0&&o<e.length;o-=n)if(t[e[o]])return t[e[o]]}var KZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},qZ={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function WZ(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function XZ(t){return t.trimLeft()}function $Z(t,e){for(var i=0;i<t.length;){if(t.charAt(i)===e)return[t.substring(0,i),t.substring(i+1)];i+=1}return null}function YZ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var ZZ,JZ,tJ,eJ=["times"];!function(t){var e,i,n,o,r,s,a,l,c,h=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new l,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new s,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new s,this.lineDashOffset=t.lineDashOffset||0,this.lineDash=t.lineDash||[],this.margin=t.margin||[0,0,0,0],this.prevPageLastElemOffset=t.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,i=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var A=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e=t;Object.defineProperty(this,"pdf",{get:function(){return e}});var i=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return i},set:function(t){i=Boolean(t)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var o=0;Object.defineProperty(this,"posX",{get:function(){return o},set:function(t){isNaN(t)||(o=t)}});var r=0;Object.defineProperty(this,"posY",{get:function(){return r},set:function(t){isNaN(t)||(r=t)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(t){var e;"number"==typeof t?e=[t,t,t,t]:((e=new Array(4))[0]=t[0],e[1]=t.length>=2?t[1]:e[0],e[2]=t.length>=3?t[2]:e[0],e[3]=t.length>=4?t[3]:e[1]),c.margin=e}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(t){s=t}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(t){a=t}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(t){l=t}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(t){t instanceof h&&(c=t)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(t){c.path=t}});var A=[];Object.defineProperty(this,"ctxStack",{get:function(){return A},set:function(t){A=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=u(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=u(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}});var d=null;var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(t){d=null,p=t}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var i=e[1],n=(e[2],e[3]),o=e[4],r=(e[5],e[6]),s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(o)[2];o="px"===s?Math.floor(parseFloat(o)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(o)*this.pdf.getFontSize()):Math.floor(parseFloat(o)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(o);var a=function(t){var e,i,n=[],o=t.trim();if(""===o)return eJ;if(o in qZ)return[qZ[o]];for(;""!==o;){switch(i=null,e=(o=XZ(o)).charAt(0)){case'"':case"'":i=$Z(o.substring(1),e);break;default:i=YZ(o)}if(null===i)return eJ;if(n.push(i[0]),""!==(o=XZ(i[1]))&&","!==o.charAt(0))return eJ;o=o.replace(/^,/,"")}return n}(r);if(this.fontFaces){var l=function(t,e,i){for(var n=(i=i||{}).defaultFontFamily||"times",o=Object.assign({},KZ,i.genericFontFamilies||{}),r=null,s=null,a=0;a<e.length;++a)if(o[(r=GZ(e[a])).family]&&(r.family=o[r.family]),t.hasOwnProperty(r.family)){s=t[r.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+WZ(r)+"' and default family '"+n+"'.");if(s=function(t,e){if(e[t])return e[t];var i=HZ[t],n=i<=HZ.normal?-1:1,o=VZ(e,QZ,i,n);if(!o)throw new Error("Could not find a matching font-stretch value for "+t);return o}(r.stretch,s),s=function(t,e){if(e[t])return e[t];for(var i=DZ[t],n=0;n<i.length;++n)if(e[i[n]])return e[i[n]];throw new Error("Could not find a matching font-style for "+t)}(r.style,s),!(s=function(t,e){if(e[t])return e[t];if(400===t&&e[500])return e[500];if(500===t&&e[400])return e[400];var i=jZ[t],n=VZ(e,zZ,i,t<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+t);return n}(r.weight,s)))throw new Error("Failed to resolve a font for the rule '"+WZ(r)+"'.");return s}(function(t,e){if(null===d){var i=(n=t.getFontList(),o=[],Object.keys(n).forEach((function(t){n[t].forEach((function(e){var i=null;switch(e){case"bold":i={family:t,weight:"bold"};break;case"italic":i={family:t,style:"italic"};break;case"bolditalic":i={family:t,weight:"bold",style:"italic"};break;case"":case"normal":i={family:t}}null!==i&&(i.ref={name:t,style:e},o.push(i))}))})),o);d=function(t){for(var e={},i=0;i<t.length;++i){var n=GZ(t[i]),o=n.family,r=n.stretch,s=n.style,a=n.weight;e[o]=e[o]||{},e[o][r]=e[o][r]||{},e[o][r][s]=e[o][r][s]||{},e[o][r][s][a]=n}return e}(i.concat(e))}var n,o;return d}(this.pdf,this.fontFaces),a.map((function(t){return{family:t,stretch:"normal",weight:n,style:i}})));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===n||parseInt(n,10)>=700||"bold"===i)&&(c="bold"),"italic"===i&&(c+="italic"),0===c.length&&(c="normal");for(var h="",A={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},u=0;u<a.length;u++){if(void 0!==this.pdf.internal.getFont(a[u],c,{noFallback:!0,disableWarning:!0})){h=a[u];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(a[u],"bold",{noFallback:!0,disableWarning:!0}))h=a[u],c="bold";else if(void 0!==this.pdf.internal.getFont(a[u],"normal",{noFallback:!0,disableWarning:!0})){h=a[u],c="normal";break}}if(""===h)for(var p=0;p<a.length;p++)if(A[a[p]]){h=A[a[p]];break}h=""===h?"Times":h,this.pdf.setFont(h,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t){this.ctx.lineDashOffset=t,O.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t){this.ctx.lineDash=t,O.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};A.prototype.setLineDash=function(t){this.lineDash=t},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){y.call(this,"fill",!1)},A.prototype.stroke=function(){y.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw mY.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var i=this.ctx.transform.applyToPoint(new s(t,e));this.path.push({type:"mt",x:i.x,y:i.y}),this.ctx.lastPoint=new s(t,e)},A.prototype.closePath=function(){var t=new s(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===k$(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new s(this.path[e+1].x,this.path[e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(t.x,t.y)},A.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw mY.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var i=this.ctx.transform.applyToPoint(new s(t,e));this.path.push({type:"lt",x:i.x,y:i.y}),this.ctx.lastPoint=new s(i.x,i.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),y.call(this,null,!0)},A.prototype.quadraticCurveTo=function(t,e,i,n){if(isNaN(i)||isNaN(n)||isNaN(t)||isNaN(e))throw mY.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var o=this.ctx.transform.applyToPoint(new s(i,n)),r=this.ctx.transform.applyToPoint(new s(t,e));this.path.push({type:"qct",x1:r.x,y1:r.y,x:o.x,y:o.y}),this.ctx.lastPoint=new s(o.x,o.y)},A.prototype.bezierCurveTo=function(t,e,i,n,o,r){if(isNaN(o)||isNaN(r)||isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw mY.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new s(o,r)),l=this.ctx.transform.applyToPoint(new s(t,e)),c=this.ctx.transform.applyToPoint(new s(i,n));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},A.prototype.arc=function(t,e,i,n,o,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(o))throw mY.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(r=Boolean(r),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new s(t,e));t=a.x,e=a.y;var l=this.ctx.transform.applyToPoint(new s(0,i)),c=this.ctx.transform.applyToPoint(new s(0,0));i=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(o-n)>=2*Math.PI&&(n=0,o=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:i,startAngle:n,endAngle:o,counterclockwise:r})},A.prototype.arcTo=function(t,e,i,n,o){throw new Error("arcTo not implemented.")},A.prototype.rect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw mY.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.lineTo(t,e),this.lineTo(t+i,e),this.lineTo(t,e)},A.prototype.fillRect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw mY.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var o={};"butt"!==this.lineCap&&(o.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(o.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,i,n),this.fill(),o.hasOwnProperty("lineCap")&&(this.lineCap=o.lineCap),o.hasOwnProperty("lineJoin")&&(this.lineJoin=o.lineJoin)}},A.prototype.strokeRect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw mY.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(t,e,i,n),this.stroke())},A.prototype.clearRect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw mY.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,i,n))},A.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,i=0;i<this.pdf.internal.getNumberOfPages();i++)this.pdf.setPage(i+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},A.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,i=0;i<this.pdf.internal.getNumberOfPages();i++)this.pdf.setPage(i+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var u=function(t){var e,i,n,o;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,i=0,n=0,o=0;else{var r=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==r)e=parseInt(r[1]),i=parseInt(r[2]),n=parseInt(r[3]),o=1;else if(null!==(r=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t)))e=parseInt(r[1]),i=parseInt(r[2]),n=parseInt(r[3]),o=parseFloat(r[4]);else{if(o=1,"string"==typeof t&&"#"!==t.charAt(0)){var s=new CY(t);t=s.ok?s.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,i=t.substring(2,3),i+=i,n=t.substring(3,4),n+=n):(e=t.substring(1,3),i=t.substring(3,5),n=t.substring(5,7)),e=parseInt(e,16),i=parseInt(i,16),n=parseInt(n,16)}}return{r:e,g:i,b:n,a:o,style:t}},d=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};A.prototype.fillText=function(t,e,i,n){if(isNaN(e)||isNaN(i)||"string"!=typeof t)throw mY.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!d.call(this)){var o=P(this.ctx.transform.rotation),r=this.ctx.transform.scaleX;k.call(this,{text:t,x:e,y:i,scale:r,angle:o,align:this.textAlign,maxWidth:n})}},A.prototype.strokeText=function(t,e,i,n){if(isNaN(e)||isNaN(i)||"string"!=typeof t)throw mY.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){n=isNaN(n)?void 0:n;var o=P(this.ctx.transform.rotation),r=this.ctx.transform.scaleX;k.call(this,{text:t,x:e,y:i,scale:r,renderingMode:"stroke",angle:o,align:this.textAlign,maxWidth:n})}},A.prototype.measureText=function(t){if("string"!=typeof t)throw mY.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,i=this.pdf.internal.scaleFactor,n=e.internal.getFontSize(),o=e.getStringUnitWidth(t)*n/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:o*=Math.round(96*i/72*1e4)/1e4})},A.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw mY.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var i=new l(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(i)},A.prototype.rotate=function(t){if(isNaN(t))throw mY.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new l(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},A.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw mY.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var i=new l(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(i)},A.prototype.transform=function(t,e,i,n,o,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(o)||isNaN(r))throw mY.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new l(t,e,i,n,o,r);this.ctx.transform=this.ctx.transform.multiply(s)},A.prototype.setTransform=function(t,e,i,n,o,r){t=isNaN(t)?1:t,e=isNaN(e)?0:e,i=isNaN(i)?0:i,n=isNaN(n)?1:n,o=isNaN(o)?0:o,r=isNaN(r)?0:r,this.ctx.transform=new l(t,e,i,n,o,r)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(t,e,i,n,o,r,s,c,h){var A=this.pdf.getImageProperties(t),u=1,d=1,p=1,m=1;void 0!==n&&void 0!==c&&(p=c/n,m=h/o,u=A.width/n*c/n,d=A.height/o*h/o),void 0===r&&(r=e,s=i,e=0,i=0),void 0!==n&&void 0===c&&(c=n,h=o),void 0===n&&void 0===c&&(c=A.width,h=A.height);for(var y,x=this.ctx.transform.decompose(),_=P(x.rotate.shx),C=new l,B=(C=(C=(C=C.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new a(r-e*p,s-i*m,n*u,o*d)),S=f.call(this,B),E=[],k=0;k<S.length;k+=1)-1===E.indexOf(S[k])&&E.push(S[k]);if(v(E),this.autoPaging)for(var F=E[0],T=E[E.length-1],L=F;L<T+1;L++){this.pdf.setPage(L);var I=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],M=1===L?this.posY+this.margin[0]:this.margin[0],R=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],N=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],O=1===L?0:R+(L-2)*N;if(0!==this.ctx.clip_path.length){var U=this.path;y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(y,this.posX+this.margin[3],-O+M+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=U}var D=JSON.parse(JSON.stringify(B));D=b([D],this.posX+this.margin[3],-O+M+this.ctx.prevPageLastElemOffset)[0];var Q=(L>F||L<T)&&g.call(this);Q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,N,null).clip().discardPath()),this.pdf.addImage(t,"JPEG",D.x,D.y,D.w,D.h,null,null,_),Q&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(t,"JPEG",B.x,B.y,B.w,B.h,null,null,_)};var f=function(t,e,i){var n=[];e=e||this.pdf.internal.pageSize.width,i=i||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var o=this.posY+this.ctx.prevPageLastElemOffset;switch(t.type){default:case"mt":case"lt":n.push(Math.floor((t.y+o)/i)+1);break;case"arc":n.push(Math.floor((t.y+o-t.radius)/i)+1),n.push(Math.floor((t.y+o+t.radius)/i)+1);break;case"qct":var r=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);n.push(Math.floor((r.y+o)/i)+1),n.push(Math.floor((r.y+r.h+o)/i)+1);break;case"bct":var s=N(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);n.push(Math.floor((s.y+o)/i)+1),n.push(Math.floor((s.y+s.h+o)/i)+1);break;case"rect":n.push(Math.floor((t.y+o)/i)+1),n.push(Math.floor((t.y+t.h+o)/i)+1)}for(var a=0;a<n.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<n[a];)m.call(this);return n},m=function(){var t=this.fillStyle,e=this.strokeStyle,i=this.font,n=this.lineCap,o=this.lineWidth,r=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=i,this.lineCap=n,this.lineWidth=o,this.lineJoin=r},b=function(t,e,i){for(var n=0;n<t.length;n++)switch(t[n].type){case"bct":t[n].x2+=e,t[n].y2+=i;case"qct":t[n].x1+=e,t[n].y1+=i;default:t[n].x+=e,t[n].y+=i}return t},v=function(t){return t.sort((function(t,e){return t-e}))},y=function(t,e){for(var i,n,o=this.fillStyle,r=this.strokeStyle,s=this.lineCap,a=this.lineWidth,l=Math.abs(a*this.ctx.transform.scaleX),c=this.lineJoin,h=JSON.parse(JSON.stringify(this.path)),A=JSON.parse(JSON.stringify(this.path)),u=[],d=0;d<A.length;d++)if(void 0!==A[d].x)for(var p=f.call(this,A[d]),y=0;y<p.length;y+=1)-1===u.indexOf(p[y])&&u.push(p[y]);for(var x=0;x<u.length;x++)for(;this.pdf.internal.getNumberOfPages()<u[x];)m.call(this);if(v(u),this.autoPaging)for(var _=u[0],C=u[u.length-1],B=_;B<C+1;B++){this.pdf.setPage(B),this.fillStyle=o,this.strokeStyle=r,this.lineCap=s,this.lineWidth=l,this.lineJoin=c;var S=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],E=1===B?this.posY+this.margin[0]:this.margin[0],k=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],F=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],T=1===B?0:k+(B-2)*F;if(0!==this.ctx.clip_path.length){var L=this.path;i=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(i,this.posX+this.margin[3],-T+E+this.ctx.prevPageLastElemOffset),w.call(this,t,!0),this.path=L}if(n=JSON.parse(JSON.stringify(h)),this.path=b(n,this.posX+this.margin[3],-T+E+this.ctx.prevPageLastElemOffset),!1===e||0===B){var I=(B>_||B<C)&&g.call(this);I&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],S,F,null).clip().discardPath()),w.call(this,t,e),I&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=l,w.call(this,t,e),this.lineWidth=a;this.path=h},w=function(t,e){if(("stroke"!==t||e||!p.call(this))&&("stroke"===t||e||!d.call(this))){for(var i,n,o=[],r=this.path,s=0;s<r.length;s++){var a=r[s];switch(a.type){case"begin":o.push({begin:!0});break;case"close":o.push({close:!0});break;case"mt":o.push({start:a,deltas:[],abs:[]});break;case"lt":var l=o.length;if(r[s-1]&&!isNaN(r[s-1].x)&&(i=[a.x-r[s-1].x,a.y-r[s-1].y],l>0))for(;l>=0;l--)if(!0!==o[l-1].close&&!0!==o[l-1].begin){o[l-1].deltas.push(i),o[l-1].abs.push(a);break}break;case"bct":i=[a.x1-r[s-1].x,a.y1-r[s-1].y,a.x2-r[s-1].x,a.y2-r[s-1].y,a.x-r[s-1].x,a.y-r[s-1].y],o[o.length-1].deltas.push(i);break;case"qct":var c=r[s-1].x+2/3*(a.x1-r[s-1].x),h=r[s-1].y+2/3*(a.y1-r[s-1].y),A=a.x+2/3*(a.x1-a.x),u=a.y+2/3*(a.y1-a.y),g=a.x,f=a.y;i=[c-r[s-1].x,h-r[s-1].y,A-r[s-1].x,u-r[s-1].y,g-r[s-1].x,f-r[s-1].y],o[o.length-1].deltas.push(i);break;case"arc":o.push({deltas:[],abs:[],arc:!0}),Array.isArray(o[o.length-1].abs)&&o[o.length-1].abs.push(a)}}n=e?null:"stroke"===t?"stroke":"fill";for(var m=!1,b=0;b<o.length;b++)if(o[b].arc)for(var v=o[b].abs,y=0;y<v.length;y++){var w=v[y];"arc"===w.type?C.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,e,!m):F.call(this,w.x,w.y),m=!0}else if(!0===o[b].close)this.pdf.internal.out("h"),m=!1;else if(!0!==o[b].begin){var x=o[b].start.x,_=o[b].start.y;T.call(this,o[b].deltas,x,_),m=!0}n&&B.call(this,n),e&&S.call(this)}},x=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,i=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-i;case"top":return t+e-i;case"hanging":return t+e-2*i;case"middle":return t+e/2-i;default:return t}},_=function(t){return t+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(t,e,i,n,o,r,s,a,l){for(var c=I.call(this,i,n,o,r),h=0;h<c.length;h++){var A=c[h];0===h&&(l?E.call(this,A.x1+t,A.y1+e):F.call(this,A.x1+t,A.y1+e)),L.call(this,t,e,A.x2,A.y2,A.x3,A.y3,A.x4,A.y4)}a?S.call(this):B.call(this,s)},B=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},S=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(t,e){this.pdf.internal.out(i(t)+" "+n(e)+" m")},k=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;default:e="left"}var i=this.pdf.getTextDimensions(t.text),n=x.call(this,t.y),o=_.call(this,n)-i.h,r=this.ctx.transform.applyToPoint(new s(t.x,n)),c=this.ctx.transform.decompose(),h=new l;h=(h=(h=h.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var A,u,d,p=this.ctx.transform.applyToRectangle(new a(t.x,n,i.w,i.h)),m=h.applyToRectangle(new a(t.x,o,i.w,i.h)),y=f.call(this,m),C=[],B=0;B<y.length;B+=1)-1===C.indexOf(y[B])&&C.push(y[B]);if(v(C),this.autoPaging)for(var S=C[0],E=C[C.length-1],k=S;k<E+1;k++){this.pdf.setPage(k);var F=1===k?this.posY+this.margin[0]:this.margin[0],T=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[2],I=L-this.margin[0],M=this.pdf.internal.pageSize.width-this.margin[1],P=M-this.margin[3],R=1===k?0:T+(k-2)*I;if(0!==this.ctx.clip_path.length){var N=this.path;A=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(A,this.posX+this.margin[3],-1*R+F),w.call(this,"fill",!0),this.path=N}var O=b([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-R+F+this.ctx.prevPageLastElemOffset)[0];t.scale>=.01&&(u=this.pdf.internal.getFontSize(),this.pdf.setFontSize(u*t.scale),d=this.lineWidth,this.lineWidth=d*t.scale);var U="text"!==this.autoPaging;if(U||O.y+O.h<=L){if(U||O.y>=F&&O.x<=M){var D=U?t.text:this.pdf.splitTextToSize(t.text,t.maxWidth||M-O.x)[0],Q=b([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-R+F+this.ctx.prevPageLastElemOffset)[0],H=U&&(k>S||k<E)&&g.call(this);H&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],P,I,null).clip().discardPath()),this.pdf.text(D,Q.x,Q.y,{angle:t.angle,align:e,renderingMode:t.renderingMode}),H&&this.pdf.restoreGraphicsState()}}else O.y<L&&(this.ctx.prevPageLastElemOffset+=L-O.y);t.scale>=.01&&(this.pdf.setFontSize(u),this.lineWidth=d)}else t.scale>=.01&&(u=this.pdf.internal.getFontSize(),this.pdf.setFontSize(u*t.scale),d=this.lineWidth,this.lineWidth=d*t.scale),this.pdf.text(t.text,r.x+this.posX,r.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&(this.pdf.setFontSize(u),this.lineWidth=d)},F=function(t,e,o,r){o=o||0,r=r||0,this.pdf.internal.out(i(t+o)+" "+n(e+r)+" l")},T=function(t,e,i){return this.pdf.lines(t,e,i,null,null)},L=function(t,i,n,s,a,l,c,h){this.pdf.internal.out([e(o(n+t)),e(r(s+i)),e(o(a+t)),e(r(l+i)),e(o(c+t)),e(r(h+i)),"c"].join(" "))},I=function(t,e,i,n){for(var o=2*Math.PI,r=Math.PI/2;e>i;)e-=o;var s=Math.abs(i-e);s<o&&n&&(s=o-s);for(var a=[],l=n?-1:1,c=e;s>1e-5;){var h=c+l*Math.min(s,r);a.push(M.call(this,t,c,h)),s-=Math.abs(h-c),c=h}return a},M=function(t,e,i){var n=(i-e)/2,o=t*Math.cos(n),r=t*Math.sin(n),s=o,a=-r,l=s*s+a*a,c=l+s*o+a*r,h=4/3*(Math.sqrt(2*l*c)-c)/(s*r-a*o),A=s-h*a,u=a+h*s,d=A,p=-u,g=n+e,f=Math.cos(g),m=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:A*f-u*m,y2:A*m+u*f,x3:d*f-p*m,y3:d*m+p*f,x4:t*Math.cos(i),y4:t*Math.sin(i)}},P=function(t){return 180*t/Math.PI},R=function(t,e,i,n,o,r){var s=t+.5*(i-t),l=e+.5*(n-e),c=o+.5*(i-o),h=r+.5*(n-r),A=Math.min(t,o,s,c),u=Math.max(t,o,s,c),d=Math.min(e,r,l,h),p=Math.max(e,r,l,h);return new a(A,d,u-A,p-d)},N=function(t,e,i,n,o,r,s,l){var c,h,A,u,d,p,g,f,m,b,v,y,w,x,_=i-t,C=n-e,B=o-i,S=r-n,E=s-o,k=l-r;for(h=0;h<41;h++)m=(g=(A=t+(c=h/40)*_)+c*((d=i+c*B)-A))+c*(d+c*(o+c*E-d)-g),b=(f=(u=e+c*C)+c*((p=n+c*S)-u))+c*(p+c*(r+c*k-p)-f),0==h?(v=m,y=b,w=m,x=b):(v=Math.min(v,m),y=Math.min(y,b),w=Math.max(w,m),x=Math.max(x,b));return new a(Math.round(v),Math.round(y),Math.round(w-v),Math.round(x-y))},O=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t,e,i=(t=this.ctx.lineDash,e=this.ctx.lineDashOffset,JSON.stringify({lineDash:t,lineDashOffset:e}));this.prevLineDash!==i&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=i)}}}(WY.API),
/**
       * @license
       * jsPDF filters PlugIn
       * Copyright (c) 2014 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){var e=function(t){var e,i,n,o,r,s,a,l,c,h;for(i=[],n=0,o=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;o>n;n+=4)0!==(r=(t.charCodeAt(n)<<24)+(t.charCodeAt(n+1)<<16)+(t.charCodeAt(n+2)<<8)+t.charCodeAt(n+3))?(s=(r=((r=((r=((r=(r-(h=r%85))/85)-(c=r%85))/85)-(l=r%85))/85)-(a=r%85))/85)%85,i.push(s+33,a+33,l+33,c+33,h+33)):i.push(122);return function(t,e){for(var i=e;i>0;i--)t.pop()}(i,e.length),String.fromCharCode.apply(String,i)+"~>"},i=function(t){var e,i,n,o,r,s=String,a="length",l=255,c="charCodeAt",h="slice",A="replace";for(t[h](-2),t=t[h](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),n=[],o=0,r=(t+=e="uuuuu"[h](t[a]%5||5))[a];r>o;o+=5)i=52200625*(t[c](o)-33)+614125*(t[c](o+1)-33)+7225*(t[c](o+2)-33)+85*(t[c](o+3)-33)+(t[c](o+4)-33),n.push(l&i>>24,l&i>>16,l&i>>8,l&i);return function(t,e){for(var i=e;i>0;i--)t.pop()}(n,e[a]),s.fromCharCode.apply(s,n)},n=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var i="",n=0;n<t.length;n+=2)i+=String.fromCharCode("0x"+(t[n]+t[n+1]));return i},o=function(t){for(var e=new Uint8Array(t.length),i=t.length;i--;)e[i]=t.charCodeAt(i);return(e=dY(e)).reduce((function(t,e){return t+String.fromCharCode(e)}),"")};t.processDataByFilters=function(t,r){var s=0,a=t||"",l=[];for("string"==typeof(r=r||[])&&(r=[r]),s=0;s<r.length;s+=1)switch(r[s]){case"ASCII85Decode":case"/ASCII85Decode":a=i(a),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=n(a),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map((function(t){return("0"+t.charCodeAt().toString(16)).slice(-2)})).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=o(a),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+r[s]+'" is not implemented')}return{data:a,reverseChain:l.reverse().join(" ")}}}(WY.API),
/**
       * @license
       * jsPDF fileloading PlugIn
       * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){t.loadFile=function(t,e,i){return function(t,e,i){e=!1!==e,i="function"==typeof i?i:function(){};var n=void 0;try{n=function(t,e,i){var n=new XMLHttpRequest,o=0,r=function(t){var e=t.length,i=[],n=String.fromCharCode;for(o=0;o<e;o+=1)i.push(n(255&t.charCodeAt(o)));return i.join("")};if(n.open("GET",t,!e),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(n.onload=function(){200===n.status?i(r(this.responseText)):i(void 0)}),n.send(null),e&&200===n.status)return r(n.responseText)}(t,e,i)}catch(o){}return n}(t,e,i)},t.loadImageFile=t.loadFile}(WY.API),function(t){function e(){return(gY.html2canvas?Promise.resolve(gY.html2canvas):Promise.resolve().then((()=>c7))).catch((function(t){return Promise.reject(new Error("Could not load html2canvas: "+t))})).then((function(t){return t.default?t.default:t}))}function i(){return(gY.DOMPurify?Promise.resolve(gY.DOMPurify):Promise.resolve().then((()=>c9))).catch((function(t){return Promise.reject(new Error("Could not load dompurify: "+t))})).then((function(t){return t.default?t.default:t}))}var n=function(t){var e=k$(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},o=function(t,e){var i=document.createElement(t);for(var n in e.className&&(i.className=e.className),e.innerHTML&&e.dompurify&&(i.innerHTML=e.dompurify.sanitize(e.innerHTML)),e.style)i.style[n]=e.style[n];return i},r=function t(e){var i=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),n=t.convert(Promise.resolve(),i);return(n=n.setProgress(1,t,1,[t])).set(e)};(r.prototype=Object.create(Promise.prototype)).constructor=r,r.convert=function(t,e){return t.__proto__=e||r.prototype,t},r.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},r.prototype.from=function(t,e){return this.then((function(){switch(e=e||function(t){switch(n(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.then(i).then((function(e){return this.set({src:o("div",{innerHTML:t,dompurify:e})})}));case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}}))},r.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},r.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var t={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e=function t(e,i){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),o=e.firstChild;o;o=o.nextSibling)!0!==i&&1===o.nodeType&&"SCRIPT"===o.nodeName||n.appendChild(t(o,i));return 1===e.nodeType&&("CANVAS"===e.nodeName?(n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(n.value=e.value),n.addEventListener("load",(function(){n.scrollTop=e.scrollTop,n.scrollLeft=e.scrollLeft}),!0)),n}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},r.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then((function(t){var e=Object.assign({},this.opt.html2canvas);return delete e.onrendered,t(this.prop.container,e)})).then((function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)}))},r.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then((function(t){var e=this.opt.jsPDF,i=this.opt.fontFaces,n="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,o=Object.assign({async:!0,allowTaint:!0,scale:n,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete o.onrendered,e.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,e.context2d.margin=this.opt.margin,e.context2d.fontFaces=i,i)for(var r=0;r<i.length;++r){var s=i[r],a=s.src.find((function(t){return"truetype"===t.format}));a&&e.addFont(a.url,s.ref.name,s.ref.style)}return o.windowHeight=o.windowHeight||0,o.windowHeight=0==o.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):o.windowHeight,e.context2d.save(!0),t(this.prop.container,o)})).then((function(t){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)}))},r.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t}))},r.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},r.prototype.output=function(t,e,i){return"img"===(i=i||"pdf").toLowerCase()||"image"===i.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},r.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(t,e)}))},r.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}}))},r.prototype.save=function(t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},r.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},r.prototype.set=function(t){if("object"!==n(t))return this;var e=Object.keys(t||{}).map((function(e){if(e in r.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}}),this);return this.then((function(){return this.thenList(e)}))},r.prototype.get=function(t,e){return this.then((function(){var i=t in r.template.prop?this.prop[t]:this.opt[t];return e?e(i):i}))},r.prototype.setMargin=function(t){return this.then((function(){switch(n(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t})).then(this.setPageSize)},r.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then((function(){(t=t||WY.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t}))},r.prototype.setProgress=function(t,e,i,n){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=i&&(this.progress.n=i),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},r.prototype.updateProgress=function(t,e,i,n){return this.setProgress(t?this.progress.val+t:null,e||null,i?this.progress.n+i:null,n?this.progress.stack.concat(n):null)},r.prototype.then=function(t,e){var i=this;return this.thenCore(t,e,(function(t,e){return i.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,(function(e){return i.updateProgress(null,t),e})).then(t,e).then((function(t){return i.updateProgress(1),t}))}))},r.prototype.thenCore=function(t,e,i){i=i||Promise.prototype.then,t&&(t=t.bind(this)),e&&(e=e.bind(this));var n=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:r.convert(Object.assign({},this),Promise.prototype),o=i.call(n,t,e);return r.convert(o,this.__proto__)},r.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},r.prototype.thenList=function(t){var e=this;return t.forEach((function(t){e=e.thenCore(t)})),e},r.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return r.convert(e,this)},r.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},r.prototype.error=function(t){return this.then((function(){throw new Error(t)}))},r.prototype.using=r.prototype.set,r.prototype.saveAs=r.prototype.save,r.prototype.export=r.prototype.output,r.prototype.run=r.prototype.then,WY.getPageSize=function(t,e,i){if("object"===k$(t)){var n=t;t=n.orientation,e=n.unit||e,i=n.format||i}e=e||"mm",i=i||"a4",t=(""+(t||"P")).toLowerCase();var o,r=(""+i).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":o=1;break;case"mm":o=72/25.4;break;case"cm":o=72/2.54;break;case"in":o=72;break;case"px":o=.75;break;case"pc":case"em":o=12;break;case"ex":o=6;break;default:throw"Invalid unit: "+e}var a,l=0,c=0;if(s.hasOwnProperty(r))l=s[r][1]/o,c=s[r][0]/o;else try{l=i[1],c=i[0]}catch(RZ){throw new Error("Invalid format: "+i)}if("p"===t||"portrait"===t)t="p",c>l&&(a=c,c=l,l=a);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",l>c&&(a=c,c=l,l=a)}return{width:c,height:l,unit:e,k:o,orientation:t}},t.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.fontFaces=e.fontFaces?e.fontFaces.map(GZ):null;var i=new r(e);return e.worker?i:i.from(t).doCallback()}}(WY.API),WY.API.addJS=function(t){return tJ=t,this.internal.events.subscribe("postPutResources",(function(){ZZ=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ZZ+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),JZ=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tJ+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==ZZ&&void 0!==JZ&&this.internal.out("/Names <</JavaScript "+ZZ+" 0 R>>")})),this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){var e;t.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=t.outline.render().split(/\r\n/),o=0;o<n.length;o++){var r=n[o],s=i.exec(r);if(null!=s){var a=s[1];t.internal.newObjectDeferredBegin(a,!1)}t.internal.write(r)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(o=0;o<l;o++){var h=t.internal.newObject();c.push(h);var A=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var u=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<c.length;o++)t.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+u+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,i){var n={title:e,options:i,children:[]};return null==t&&(t=this.root),t.children.push(n),n},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var i=0;i<e.children.length;i++)this.genIds_r(e.children[i])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<e.children.length;n++){var o=e.children[n];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(e)),n>0&&this.line("/Prev "+this.makeRef(e.children[n-1])),n<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[n+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var r=this.count=this.count_r({count:0},o);if(r>0&&this.line("/Count "+r),o.options&&o.options.pageNumber){var s=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var a=0;a<e.children.length;a++)this.renderItems(e.children[a])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var i=0;i<e.children.length;i++)t.count++,this.count_r(t,e.children[i]);return t.count}}])}(WY.API),
/**
       * @license
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(t,i,n,o,r,s){var a,l=this.decode.DCT_DECODE,c=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=r||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(a=function(t){for(var i,n=256*t.charCodeAt(4)+t.charCodeAt(5),o=t.length,r={width:0,height:0,numcomponents:1},s=4;s<o;s+=2){if(s+=n,-1!==e.indexOf(t.charCodeAt(s+1))){i=256*t.charCodeAt(s+5)+t.charCodeAt(s+6),r={width:256*t.charCodeAt(s+7)+t.charCodeAt(s+8),height:i,numcomponents:t.charCodeAt(s+9)};break}n=256*t.charCodeAt(s+2)+t.charCodeAt(s+3)}return r}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:t,width:a.width,height:a.height,colorSpace:s,bitsPerComponent:8,filter:l,index:i,alias:n}}return c}}(WY.API);var iJ,nJ,oJ,rJ,sJ,aJ=function(){var t,e,i;function n(t){var e,i,n,o,r,s,a,l,c,h,A,u,d,p;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(e=this.readUInt32(),c=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},r=this.readUInt16(),o=this.readUInt16()||100,s.delay=1e3*r/o,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,e-=4),t=(null!=s?s.data:void 0)||this.imgData,u=0;0<=e?u<e:u>e;0<=e?++u:--u)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((h=n-this.transparency.indexed.length)>0)for(d=0;0<=h?d<h:d>h;0<=h?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":a=(A=this.read(e)).indexOf(0),l=String.fromCharCode.apply(String,A.slice(0,a)),this.text[l]=String.fromCharCode.apply(String,A.slice(a+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,i=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*i,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)i.push(this.data[this.pos++]);return i},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,i=new Uint8Array(this.width*this.height*e),n=0,o=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function r(r,s,a,l){var c,h,A,u,d,p,g,f,m,b,v,y,w,x,_,C,B,S,E,k,F,T=Math.ceil((o.width-r)/a),L=Math.ceil((o.height-s)/l),I=o.width==T&&o.height==L;for(x=e*T,y=I?i:new Uint8Array(x*L),p=t.length,w=0,h=0;w<L&&n<p;){switch(t[n++]){case 0:for(u=B=0;B<x;u=B+=1)y[h++]=t[n++];break;case 1:for(u=S=0;S<x;u=S+=1)c=t[n++],d=u<e?0:y[h-e],y[h++]=(c+d)%256;break;case 2:for(u=E=0;E<x;u=E+=1)c=t[n++],A=(u-u%e)/e,_=w&&y[(w-1)*x+A*e+u%e],y[h++]=(_+c)%256;break;case 3:for(u=k=0;k<x;u=k+=1)c=t[n++],A=(u-u%e)/e,d=u<e?0:y[h-e],_=w&&y[(w-1)*x+A*e+u%e],y[h++]=(c+Math.floor((d+_)/2))%256;break;case 4:for(u=F=0;F<x;u=F+=1)c=t[n++],A=(u-u%e)/e,d=u<e?0:y[h-e],0===w?_=C=0:(_=y[(w-1)*x+A*e+u%e],C=A&&y[(w-1)*x+(A-1)*e+u%e]),g=d+_-C,f=Math.abs(g-d),b=Math.abs(g-_),v=Math.abs(g-C),m=f<=b&&f<=v?d:b<=v?_:C,y[h++]=(c+m)%256;break;default:throw new Error("Invalid filter algorithm: "+t[n-1])}if(!I){var M=((s+w*l)*o.width+r)*e,P=w*x;for(u=0;u<T;u+=1){for(var R=0;R<e;R+=1)i[M++]=y[P++];M+=(a-1)*e}}w++}}return t=pY(t),1==o.interlaceMethod?(r(0,0,8,8),r(4,0,8,8),r(0,4,4,8),r(2,0,4,4),r(0,2,2,4),r(1,0,2,2),r(0,1,1,2)):r(0,0,1,1),i},n.prototype.decodePalette=function(){var t,e,i,n,o,r,s,a,l;for(i=this.palette,r=this.transparency.indexed||[],o=new Uint8Array((r.length||0)+i.length),n=0,t=0,e=s=0,a=i.length;s<a;e=s+=3)o[n++]=i[e],o[n++]=i[e+1],o[n++]=i[e+2],o[n++]=null!=(l=r[t++])?l:255;return o},n.prototype.copyToImageData=function(t,e){var i,n,o,r,s,a,l,c,h,A,u;if(n=this.colors,h=null,i=this.hasAlphaChannel,this.palette.length&&(h=null!=(u=this._decodedPalette)?u:this._decodedPalette=this.decodePalette(),n=4,i=!0),c=(o=t.data||t).length,s=h||e,r=a=0,1===n)for(;r<c;)l=h?4*e[r/4]:a,A=s[l++],o[r++]=A,o[r++]=A,o[r++]=A,o[r++]=i?s[l++]:255,a=l;else for(;r<c;)l=h?4*e[r/4]:a,o[r++]=s[l++],o[r++]=s[l++],o[r++]=s[l++],o[r++]=i?s[l++]:255,a=l},n.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};var o=function(){if("[object Window]"===Object.prototype.toString.call(gY)){try{e=gY.document.createElement("canvas"),i=e.getContext("2d")}catch(t){return!1}return!0}return!1};return o(),t=function(t){var n;if(!0===o())return i.width=t.width,i.height=t.height,i.clearRect(0,0,t.width,t.height),i.putImageData(t,0,0),(n=new Image).src=e.toDataURL(),n;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(e){var i,n,o,r,s,a,l,c;if(this.animation){for(c=[],n=s=0,a=(l=this.animation.frames).length;s<a;n=++s)i=l[n],o=e.createImageData(i.width,i.height),r=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(o,r),i.imageData=o,c.push(i.image=t(o));return c}},n.prototype.renderFrame=function(t,e){var i,n,o;return i=(n=this.animation.frames)[e],o=n[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=o?o.disposeOp:void 0)?t.clearRect(o.xOffset,o.yOffset,o.width,o.height):2===(null!=o?o.disposeOp:void 0)&&t.putImageData(o.imageData,o.xOffset,o.yOffset),0===i.blendOp&&t.clearRect(i.xOffset,i.yOffset,i.width,i.height),t.drawImage(i.image,i.xOffset,i.yOffset)},n.prototype.animate=function(t){var e,i,n,o,r,s,a=this;return i=0,s=this.animation,o=s.numFrames,n=s.frames,r=s.numPlays,(e=function(){var s,l;if(s=i++%o,l=n[s],a.renderFrame(t,s),o>1&&i/o<r)return a.animation._timeout=setTimeout(e,l.delay)})()},n.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},n.prototype.render=function(t){var e,i;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(i=e.createImageData(this.width,this.height),this.copyToImageData(i,this.decodePixels()),e.putImageData(i,0,0))},n}();
/**
       * @license
       *
       * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
       *
       * Permission is hereby granted, free of charge, to any person obtaining
       * a copy of this software and associated documentation files (the
       * "Software"), to deal in the Software without restriction, including
       * without limitation the rights to use, copy, modify, merge, publish,
       * distribute, sublicense, and/or sell copies of the Software, and to
       * permit persons to whom the Software is furnished to do so, subject to
       * the following conditions:
       *
       * The above copyright notice and this permission notice shall be
       * included in all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
       * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
       * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
       * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
       * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
       * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
       * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
       * ====================================================================
       */
/**
       * @license
       * (c) Dean McNamee <dean@gmail.com>, 2013.
       *
       * https://github.com/deanm/omggif
       *
       * Permission is hereby granted, free of charge, to any person obtaining a copy
       * of this software and associated documentation files (the "Software"), to
       * deal in the Software without restriction, including without limitation the
       * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
       * sell copies of the Software, and to permit persons to whom the Software is
       * furnished to do so, subject to the following conditions:
       *
       * The above copyright notice and this permission notice shall be included in
       * all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
       * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
       * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
       * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
       * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
       * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
       * IN THE SOFTWARE.
       *
       * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
       * including animation and compression.  It does not rely on any specific
       * underlying system, so should run in the browser, Node, or Plask.
       */function lJ(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var i=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,o=t[e++],r=o>>7,s=1<<1+(7&o);t[e++],t[e++];var a=null,l=null;r&&(a=e,l=s,e+=3*s);var c=!0,h=[],A=0,u=null,d=0,p=null;for(this.width=i,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(0===E)break;e+=E}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var g=t[e++];A=t[e++]|t[e++]<<8,u=t[e++],!(1&g)&&(u=null),d=g>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(0===E)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var f=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++],w=y>>6&1,x=1<<1+(7&y),_=a,C=l,B=!1;y>>7&&(B=!0,_=e,C=x,e+=3*x);var S=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(0===E)break;e+=E}h.push({x:f,y:m,width:b,height:v,has_local_palette:B,palette_offset:_,palette_size:C,data_offset:S,data_length:e-S,transparent_index:u,interlaced:!!w,delay:A,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=h.length)throw new Error("Frame index out of range.");return h[t]},this.decodeAndBlitFrameBGRA=function(e,n){var o=this.frameInfo(e),r=o.width*o.height,s=new Uint8Array(r);cJ(t,o.data_offset,s,r);var a=o.palette_offset,l=o.transparent_index;null===l&&(l=256);var c=o.width,h=i-c,A=c,u=4*(o.y*i+o.x),d=4*((o.y+o.height)*i+o.x),p=u,g=4*h;!0===o.interlaced&&(g+=4*i*7);for(var f=8,m=0,b=s.length;m<b;++m){var v=s[m];if(0===A&&(A=c,(p+=g)>=d&&(g=4*h+4*i*(f-1),p=u+(c+h)*(f<<1),f>>=1)),v===l)p+=4;else{var y=t[a+3*v],w=t[a+3*v+1],x=t[a+3*v+2];n[p++]=x,n[p++]=w,n[p++]=y,n[p++]=255}--A}},this.decodeAndBlitFrameRGBA=function(e,n){var o=this.frameInfo(e),r=o.width*o.height,s=new Uint8Array(r);cJ(t,o.data_offset,s,r);var a=o.palette_offset,l=o.transparent_index;null===l&&(l=256);var c=o.width,h=i-c,A=c,u=4*(o.y*i+o.x),d=4*((o.y+o.height)*i+o.x),p=u,g=4*h;!0===o.interlaced&&(g+=4*i*7);for(var f=8,m=0,b=s.length;m<b;++m){var v=s[m];if(0===A&&(A=c,(p+=g)>=d&&(g=4*h+4*i*(f-1),p=u+(c+h)*(f<<1),f>>=1)),v===l)p+=4;else{var y=t[a+3*v],w=t[a+3*v+1],x=t[a+3*v+2];n[p++]=y,n[p++]=w,n[p++]=x,n[p++]=255}--A}}}function cJ(t,e,i,n){for(var o=t[e++],r=1<<o,s=r+1,a=s+1,l=o+1,c=(1<<l)-1,h=0,A=0,u=0,d=t[e++],p=new Int32Array(4096),g=null;;){for(;h<16&&0!==d;)A|=t[e++]<<h,h+=8,1===d?d=t[e++]:--d;if(h<l)break;var f=A&c;if(A>>=l,h-=l,f!==r){if(f===s)break;for(var m=f<a?f:g,b=0,v=m;v>r;)v=p[v]>>8,++b;var y=v;if(u+b+(m!==f?1:0)>n)return void mY.log("Warning, gif stream longer than expected.");i[u++]=y;var w=u+=b;for(m!==f&&(i[u++]=y),v=m;b--;)v=p[v],i[--w]=255&v,v>>=8;null!==g&&a<4096&&(p[a++]=g<<8|y,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=f}else a=s+1,c=(1<<(l=o+1))-1,g=null}return u!==n&&mY.log("Warning, gif stream shorter than expected."),i
/**
       * @license
        Copyright (c) 2008, Adobe Systems Incorporated
        All rights reserved.

        Redistribution and use in source and binary forms, with or without 
        modification, are permitted provided that the following conditions are
        met:

        * Redistributions of source code must retain the above copyright notice, 
          this list of conditions and the following disclaimer.
        
        * Redistributions in binary form must reproduce the above copyright
          notice, this list of conditions and the following disclaimer in the 
          documentation and/or other materials provided with the distribution.
        
        * Neither the name of Adobe Systems Incorporated nor the names of its 
          contributors may be used to endorse or promote products derived from 
          this software without specific prior written permission.

        THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
        IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
        THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
        PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
        CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
        EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
        PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
        PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
        LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
        NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
        SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
      */}function hJ(t){var e,i,n,o,r,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),A=new Array(65535),u=new Array(65535),d=new Array(64),p=new Array(64),g=[],f=0,m=7,b=new Array(64),v=new Array(64),y=new Array(64),w=new Array(256),x=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(t,e){for(var i=0,n=0,o=new Array,r=1;r<=16;r++){for(var s=1;s<=t[r];s++)o[e[n]]=[],o[e[n]][0]=i,o[e[n]][1]=r,n++,i++;i*=2}return o}function M(t){for(var e=t[0],i=t[1]-1;i>=0;)e&1<<i&&(f|=1<<m),i--,--m<0&&(255==f?(P(255),P(0)):P(f),m=7,f=0)}function P(t){g.push(t)}function R(t){P(t>>8&255),P(255&t)}function N(t,e,i,n,o){for(var r,s=o[0],a=o[240],l=function(t,e){var i,n,o,r,s,a,l,c,h,A,u=0;for(h=0;h<8;++h){i=t[u],n=t[u+1],o=t[u+2],r=t[u+3],s=t[u+4],a=t[u+5],l=t[u+6];var p=i+(c=t[u+7]),g=i-c,f=n+l,m=n-l,b=o+a,v=o-a,y=r+s,w=r-s,x=p+y,_=p-y,C=f+b,B=f-b;t[u]=x+C,t[u+4]=x-C;var S=.707106781*(B+_);t[u+2]=_+S,t[u+6]=_-S;var E=.382683433*((x=w+v)-(B=m+g)),k=.5411961*x+E,F=1.306562965*B+E,T=.707106781*(C=v+m),L=g+T,I=g-T;t[u+5]=I+k,t[u+3]=I-k,t[u+1]=L+F,t[u+7]=L-F,u+=8}for(u=0,h=0;h<8;++h){i=t[u],n=t[u+8],o=t[u+16],r=t[u+24],s=t[u+32],a=t[u+40],l=t[u+48];var M=i+(c=t[u+56]),P=i-c,R=n+l,N=n-l,O=o+a,U=o-a,D=r+s,Q=r-s,H=M+D,z=M-D,j=R+O,G=R-O;t[u]=H+j,t[u+32]=H-j;var V=.707106781*(G+z);t[u+16]=z+V,t[u+48]=z-V;var K=.382683433*((H=Q+U)-(G=N+P)),q=.5411961*H+K,W=1.306562965*G+K,X=.707106781*(j=U+N),$=P+X,Y=P-X;t[u+40]=Y+q,t[u+24]=Y-q,t[u+8]=$+W,t[u+56]=$-W,u++}for(h=0;h<64;++h)A=t[h]*e[h],d[h]=A>0?A+.5|0:A-.5|0;return d}(t,e),c=0;c<64;++c)p[_[c]]=l[c];var h=p[0]-i;i=p[0],0==h?M(n[0]):(M(n[u[r=32767+h]]),M(A[r]));for(var g=63;g>0&&0==p[g];)g--;if(0==g)return M(s),i;for(var f,m=1;m<=g;){for(var b=m;0==p[m]&&m<=g;)++m;var v=m-b;if(v>=16){f=v>>4;for(var y=1;y<=f;++y)M(a);v&=15}r=32767+p[m],M(o[(v<<4)+u[r]]),M(A[r]),m++}return 63!=g&&M(s),i}function O(t){t=Math.min(Math.max(t,1),100),r!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var n=s((e[i]*t+50)/100);n=Math.min(Math.max(n,1),255),a[_[i]]=n}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],r=0;r<64;r++){var A=s((o[r]*t+50)/100);A=Math.min(Math.max(A,1),255),l[_[r]]=A}for(var u=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var g=0;g<8;g++)c[d]=1/(a[_[d]]*u[p]*u[g]*8),h[d]=1/(l[_[d]]*u[p]*u[g]*8),d++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),r=t)}this.encode=function(t,r){var s,A;r&&O(r),g=new Array,f=0,m=7,R(65496),R(65504),R(16),P(74),P(70),P(73),P(70),P(0),P(1),P(1),P(0),R(1),R(1),P(0),P(0),function(){R(65499),R(132),P(0);for(var t=0;t<64;t++)P(a[t]);P(1);for(var e=0;e<64;e++)P(l[e])}(),s=t.width,A=t.height,R(65472),R(17),P(8),R(A),R(s),P(3),P(1),P(17),P(0),P(2),P(17),P(1),P(3),P(17),P(1),function(){R(65476),R(418),P(0);for(var t=0;t<16;t++)P(C[t+1]);for(var e=0;e<=11;e++)P(B[e]);P(16);for(var i=0;i<16;i++)P(S[i+1]);for(var n=0;n<=161;n++)P(E[n]);P(1);for(var o=0;o<16;o++)P(k[o+1]);for(var r=0;r<=11;r++)P(F[r]);P(17);for(var s=0;s<16;s++)P(T[s+1]);for(var a=0;a<=161;a++)P(L[a])}(),R(65498),R(12),P(3),P(1),P(0),P(2),P(17),P(3),P(17),P(0),P(63),P(0);var u=0,d=0,p=0;f=0,m=7,this.encode.displayName="_encode_";for(var w,_,I,U,D,Q,H,z,j,G=t.data,V=t.width,K=t.height,q=4*V,W=0;W<K;){for(w=0;w<q;){for(D=q*W+w,H=-1,z=0,j=0;j<64;j++)Q=D+(z=j>>3)*q+(H=4*(7&j)),W+z>=K&&(Q-=q*(W+1+z-K)),w+H>=q&&(Q-=w+H-q+4),_=G[Q++],I=G[Q++],U=G[Q++],b[j]=(x[_]+x[I+256|0]+x[U+512|0]>>16)-128,v[j]=(x[_+768|0]+x[I+1024|0]+x[U+1280|0]>>16)-128,y[j]=(x[_+1280|0]+x[I+1536|0]+x[U+1792|0]>>16)-128;u=N(b,c,u,e,n),d=N(v,h,d,i,o),p=N(y,h,p,i,o),w+=32}W+=8}if(m>=0){var X=[];X[1]=m+1,X[0]=(1<<m+1)-1,M(X)}return R(65497),new Uint8Array(g)},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)w[e]=t(e)}(),e=I(C,B),i=I(k,F),n=I(S,E),o=I(T,L),function(){for(var t=1,e=2,i=1;i<=15;i++){for(var n=t;n<e;n++)u[32767+n]=i,A[32767+n]=[],A[32767+n][1]=i,A[32767+n][0]=n;for(var o=-(e-1);o<=-t;o++)u[32767+o]=i,A[32767+o]=[],A[32767+o][1]=i,A[32767+o][0]=e-1+o;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256|0]=38470*t,x[t+512|0]=7471*t+32768,x[t+768|0]=-11059*t,x[t+1024|0]=-21709*t,x[t+1280|0]=32768*t+8421375,x[t+1536|0]=-27439*t,x[t+1792|0]=-5329*t}(),O(t)}
/**
       * @license
       * Copyright (c) 2017 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */function AJ(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uJ(t){function e(t){if(!t)throw Error("assert :P")}function i(t,e,i){for(var n=0;4>n;n++)if(t[e+n]!=i.charCodeAt(n))return!0;return!1}function n(t,e,i,n,o){for(var r=0;r<o;r++)t[e+r]=i[n+r]}function o(t,e,i,n){for(var o=0;o<n;o++)t[e+o]=i}function r(t){return new Int32Array(t)}function s(t,e){for(var i=[],n=0;n<t;n++)i.push(new e);return i}function a(t,e){var i=[];return function t(i,n,o){for(var r=o[n],s=0;s<r&&(i.push(o.length>n+1?[]:new e),!(o.length<n+1));s++)t(i[s],n+1,o)}(i,0,t),i}var l=function(){var t=this;function l(t,e){for(var i=1<<e-1>>>0;t&i;)i>>>=1;return i?(t&i-1)+i:t}function c(t,i,n,o,r){e(!(o%n));do{t[i+(o-=n)]=r}while(0<o)}function h(t,i,n,o,s){if(e(2328>=s),512>=s)var a=r(512);else if(null==(a=r(s)))return 0;return function(t,i,n,o,s,a){var h,u,d=i,p=1<<n,g=r(16),f=r(16);for(e(0!=s),e(null!=o),e(null!=t),e(0<n),u=0;u<s;++u){if(15<o[u])return 0;++g[o[u]]}if(g[0]==s)return 0;for(f[1]=0,h=1;15>h;++h){if(g[h]>1<<h)return 0;f[h+1]=f[h]+g[h]}for(u=0;u<s;++u)h=o[u],0<o[u]&&(a[f[h]++]=u);if(1==f[15])return(o=new A).g=0,o.value=a[0],c(t,d,1,p,o),p;var m,b=-1,v=p-1,y=0,w=1,x=1,_=1<<n;for(u=0,h=1,s=2;h<=n;++h,s<<=1){if(w+=x<<=1,0>(x-=g[h]))return 0;for(;0<g[h];--g[h])(o=new A).g=h,o.value=a[u++],c(t,d+y,s,_,o),y=l(y,h)}for(h=n+1,s=2;15>=h;++h,s<<=1){if(w+=x<<=1,0>(x-=g[h]))return 0;for(;0<g[h];--g[h]){if(o=new A,(y&v)!=b){for(d+=_,m=1<<(b=h)-n;15>b&&!(0>=(m-=g[b]));)++b,m<<=1;p+=_=1<<(m=b-n),t[i+(b=y&v)].g=m+n,t[i+b].value=d-i-b}o.g=h-n,o.value=a[u++],c(t,d+(y>>n),s,_,o),y=l(y,h)}}return w!=2*f[15]-1?0:p}(t,i,n,o,s,a)}function A(){this.value=this.g=0}function u(){this.value=this.g=0}function d(){this.G=s(5,A),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Oi,u)}function p(t,i,n,o){e(null!=t),e(null!=i),e(2147483648>o),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=i,t.pa=n,t.Jd=i,t.Yc=n+o,t.Zc=4<=o?n+o-4+1:n,S(t)}function g(t,e){for(var i=0;0<e--;)i|=k(t,128)<<e;return i}function f(t,e){var i=g(t,e);return E(t)?-i:i}function m(t,i,n,o){var r,s=0;for(e(null!=t),e(null!=i),e(4294967288>o),t.Sb=o,t.Ra=0,t.u=0,t.h=0,4<o&&(o=4),r=0;r<o;++r)s+=i[n+r]<<8*r;t.Ra=s,t.bb=o,t.oa=i,t.pa=n}function b(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<Qi-8>>>0,++t.bb,t.u-=8;_(t)&&(t.h=1,t.u=0)}function v(t,i){if(e(0<=i),!t.h&&i<=Di){var n=x(t)&Ui[i];return t.u+=i,b(t),n}return t.h=1,t.u=0}function y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(t){return t.Ra>>>(t.u&Qi-1)>>>0}function _(t){return e(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>Qi}function C(t,e){t.u=e,t.h=_(t)}function B(t){t.u>=Hi&&(e(t.u>=Hi),b(t))}function S(t){e(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(e(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function E(t){return g(t,1)}function k(t,e){var i=t.Ca;0>t.b&&S(t);var n=t.b,o=i*e>>>8,r=(t.I>>>n>o)+0;for(r?(i-=o,t.I-=o+1<<n>>>0):i=o+1,n=i,o=0;256<=n;)o+=8,n>>=8;return n=7^o+zi[n],t.b-=n,t.Ca=(i<<n)-1,r}function F(t,e,i){t[e+0]=i>>24&255,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i}function T(t,e){return t[e+0]|t[e+1]<<8}function L(t,e){return T(t,e)|t[e+2]<<16}function I(t,e){return T(t,e)|T(t,e+2)<<16}function M(t,i){var n=1<<i;return e(null!=t),e(0<i),t.X=r(n),null==t.X?0:(t.Mb=32-i,t.Xa=i,1)}function P(t,i){e(null!=t),e(null!=i),e(t.Xa==i.Xa),n(i.X,0,t.X,0,1<<i.Xa)}function R(){this.X=[],this.Xa=this.Mb=0}function N(t,i,n,o){e(null!=n),e(null!=o);var r=n[0],s=o[0];return 0==r&&(r=(t*s+i/2)/i),0==s&&(s=(i*r+t/2)/t),0>=r||0>=s?0:(n[0]=r,o[0]=s,1)}function O(t,e){return t+(1<<e)-1>>>e}function U(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function D(e,i){t[i]=function(i,n,o,r,s,a,l){var c;for(c=0;c<s;++c){var h=t[e](a[l+c-1],o,r+c);a[l+c]=U(i[n+c],h)}}}function Q(){this.ud=this.hd=this.jd=0}function H(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function z(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function j(t,e){return z(t+(t-e+.5>>1))}function G(t,e,i){return Math.abs(e-i)-Math.abs(t-i)}function V(t,e,i,n,o,r,s){for(n=r[s-1],i=0;i<o;++i)r[s+i]=n=U(t[e+i],n)}function K(t,e,i,n,o){var r;for(r=0;r<i;++r){var s=t[e+r],a=s>>8&255,l=16711935&(l=(l=16711935&s)+((a<<16)+a));n[o+r]=(4278255360&s)+l>>>0}}function q(t,e){e.jd=255&t,e.hd=t>>8&255,e.ud=t>>16&255}function W(t,e,i,n,o,r){var s;for(s=0;s<n;++s){var a=e[i+s],l=a>>>8,c=a,h=255&(h=(h=a>>>16)+((t.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(t.hd<<24>>24)*(l<<24>>24)>>>5)+((t.ud<<24>>24)*(h<<24>>24)>>>5)),o[r+s]=(4278255360&a)+(h<<16)+c}}function X(e,i,n,o,r){t[i]=function(t,e,i,n,s,a,l,c,h){for(n=l;n<c;++n)for(l=0;l<h;++l)s[a++]=r(i[o(t[e++])])},t[e]=function(e,i,s,a,l,c,h){var A=8>>e.b,u=e.Ea,d=e.K[0],p=e.w;if(8>A)for(e=(1<<e.b)-1,p=(1<<A)-1;i<s;++i){var g,f=0;for(g=0;g<u;++g)g&e||(f=o(a[l++])),c[h++]=r(d[f&p]),f>>=A}else t["VP8LMapColor"+n](a,l,d,p,c,h,i,s,u)}}function $(t,e,i,n,o){for(i=e+i;e<i;){var r=t[e++];n[o++]=r>>16&255,n[o++]=r>>8&255,n[o++]=255&r}}function Y(t,e,i,n,o){for(i=e+i;e<i;){var r=t[e++];n[o++]=r>>16&255,n[o++]=r>>8&255,n[o++]=255&r,n[o++]=r>>24&255}}function Z(t,e,i,n,o){for(i=e+i;e<i;){var r=(s=t[e++])>>16&240|s>>12&15,s=240&s|s>>28&15;n[o++]=r,n[o++]=s}}function J(t,e,i,n,o){for(i=e+i;e<i;){var r=(s=t[e++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;n[o++]=r,n[o++]=s}}function tt(t,e,i,n,o){for(i=e+i;e<i;){var r=t[e++];n[o++]=255&r,n[o++]=r>>8&255,n[o++]=r>>16&255}}function et(t,e,i,o,r,s){if(0==s)for(i=e+i;e<i;)F(o,((s=t[e++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),r+=32;else n(o,r,t,e,i)}function it(e,i){t[i][0]=t[e+"0"],t[i][1]=t[e+"1"],t[i][2]=t[e+"2"],t[i][3]=t[e+"3"],t[i][4]=t[e+"4"],t[i][5]=t[e+"5"],t[i][6]=t[e+"6"],t[i][7]=t[e+"7"],t[i][8]=t[e+"8"],t[i][9]=t[e+"9"],t[i][10]=t[e+"10"],t[i][11]=t[e+"11"],t[i][12]=t[e+"12"],t[i][13]=t[e+"13"],t[i][14]=t[e+"0"],t[i][15]=t[e+"0"]}function nt(t){return t==zn||t==jn||t==Gn||t==Vn}function ot(){this.eb=[],this.size=this.A=this.fb=0}function rt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function st(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ot,this.f.kb=new rt,this.sd=null}function at(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function ht(t,e){var i=t.T,o=e.ba.f.RGBA,r=o.eb,s=o.fb+t.ka*o.A,a=mo[e.ba.S],l=t.y,c=t.O,h=t.f,A=t.N,u=t.ea,d=t.W,p=e.cc,g=e.dc,f=e.Mc,m=e.Nc,b=t.ka,v=t.ka+t.T,y=t.U,w=y+1>>1;for(0==b?a(l,c,null,null,h,A,u,d,h,A,u,d,r,s,null,null,y):(a(e.ec,e.fc,l,c,p,g,f,m,h,A,u,d,r,s-o.A,r,s,y),++i);b+2<v;b+=2)p=h,g=A,f=u,m=d,A+=t.Rc,d+=t.Rc,s+=2*o.A,a(l,(c+=2*t.fa)-t.fa,l,c,p,g,f,m,h,A,u,d,r,s-o.A,r,s,y);return c+=t.fa,t.j+v<t.o?(n(e.ec,e.fc,l,c,y),n(e.cc,e.dc,h,A,w),n(e.Mc,e.Nc,u,d,w),i--):1&v||a(l,c,null,null,h,A,u,d,h,A,u,d,r,s+o.A,null,null,y),i}function At(t,i,n){var o=t.F,r=[t.J];if(null!=o){var s=t.U,a=i.ba.S,l=a==Dn||a==Gn;i=i.ba.f.RGBA;var c=[0],h=t.ka;c[0]=t.T,t.Kb&&(0==h?--c[0]:(--h,r[0]-=t.width),t.j+t.ka+t.T==t.o&&(c[0]=t.o-t.j-h));var A=i.eb;h=i.fb+h*i.A,t=Cn(o,r[0],t.width,s,c,A,h+(l?0:3),i.A),e(n==c),t&&nt(a)&&xn(A,h,l,s,c,i.A)}return 0}function ut(t){var e=t.ma,i=e.ba.S,n=11>i,o=i==Nn||i==Un||i==Dn||i==Qn||12==i||nt(i);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!Pi(e.Oa,t,o?11:12))return 0;if(o&&nt(i)&&mi(),t.da)alert("todo:use_scaling");else{if(n){if(e.Ib=ct,t.Kb){if(i=t.U+1>>1,e.memory=r(t.U+2*i),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+i,e.Ib=ht,mi()}}else alert("todo:EmitYUV");o&&(e.Jb=At,n&&gi())}if(n&&!Lo){for(t=0;256>t;++t)Io[t]=89858*(t-128)+So>>Bo,Ro[t]=-22014*(t-128)+So,Po[t]=-45773*(t-128),Mo[t]=113618*(t-128)+So>>Bo;for(t=Eo;t<ko;++t)e=76283*(t-16)+So>>Bo,No[t-Eo]=Vt(e,255),Oo[t-Eo]=Vt(e+8>>4,15);Lo=1}return 1}function dt(t){var i=t.ma,n=t.U,o=t.T;return e(!(1&t.ka)),0>=n||0>=o?0:(n=i.Ib(t,i),null!=i.Jb&&i.Jb(t,i,n),i.Dc+=n,1)}function pt(t){t.ma.memory=null}function gt(t,e,i,n){return 47!=v(t,8)?0:(e[0]=v(t,14)+1,i[0]=v(t,14)+1,n[0]=v(t,1),0!=v(t,3)?0:!t.h)}function ft(t,e){if(4>t)return t+1;var i=t-2>>1;return(2+(1&t)<<i)+v(e,i)+1}function mt(t,e){return 120<e?e-120:1<=(i=((i=Yn[e-1])>>4)*t+(8-(15&i)))?i:1;var i}function bt(t,e,i){var n=x(i),o=t[e+=255&n].g-8;return 0<o&&(C(i,i.u+8),n=x(i),e+=t[e].value,e+=n&(1<<o)-1),C(i,i.u+t[e].g),t[e].value}function vt(t,i,n){return n.g+=t.g,n.value+=t.value<<i>>>0,e(8>=n.g),t.g}function yt(t,i,n){var o=t.xc;return e((i=0==o?0:t.vc[t.md*(n>>o)+(i>>o)])<t.Wb),t.Ya[i]}function wt(t,i,o,r){var s=t.ab,a=t.c*i,l=t.C;i=l+i;var c=o,h=r;for(r=t.Ta,o=t.Ua;0<s--;){var A=t.gc[s],u=l,d=i,p=c,g=h,f=(h=r,c=o,A.Ea);switch(e(u<d),e(d<=A.nc),A.hc){case 2:Vi(p,g,(d-u)*f,h,c);break;case 0:var m=u,b=d,v=h,y=c,w=(S=A).Ea;0==m&&(ji(p,g,null,null,1,v,y),V(p,g+1,0,0,w-1,v,y+1),g+=w,y+=w,++m);for(var x=1<<S.b,_=x-1,C=O(w,S.b),B=S.K,S=S.w+(m>>S.b)*C;m<b;){var E=B,k=S,F=1;for(Gi(p,g,v,y-w,1,v,y);F<w;){var T=(F&~_)+x;T>w&&(T=w),(0,$i[E[k++]>>8&15])(p,g+ +F,v,y+F-w,T-F,v,y+F),F=T}g+=w,y+=w,++m&_||(S+=C)}d!=A.nc&&n(h,c-f,h,c+(d-u-1)*f,f);break;case 1:for(f=p,b=g,w=(p=A.Ea)-(y=p&~(v=(g=1<<A.b)-1)),m=O(p,A.b),x=A.K,A=A.w+(u>>A.b)*m;u<d;){for(_=x,C=A,B=new Q,S=b+y,E=b+p;b<S;)q(_[C++],B),Yi(B,f,b,g,h,c),b+=g,c+=g;b<E&&(q(_[C++],B),Yi(B,f,b,w,h,c),b+=w,c+=w),++u&v||(A+=m)}break;case 3:if(p==h&&g==c&&0<A.b){for(b=h,p=f=c+(d-u)*f-(y=(d-u)*O(A.Ea,A.b)),g=h,v=c,m=[],y=(w=y)-1;0<=y;--y)m[y]=g[v+y];for(y=w-1;0<=y;--y)b[p+y]=m[y];Ki(A,u,d,h,f,h,c)}else Ki(A,u,d,p,g,h,c)}c=r,h=o}h!=o&&n(r,o,c,h,a)}function xt(t,i){var n=t.V,o=t.Ba+t.c*t.C,r=i-t.C;if(e(i<=t.l.o),e(16>=r),0<r){var s=t.l,a=t.Ta,l=t.Ua,c=s.width;if(wt(t,r,n,o),r=l=[l],e((n=t.C)<(o=i)),e(s.v<s.va),o>s.o&&(o=s.o),n<s.j){var h=s.j-n;n=s.j,r[0]+=h*c}if(n>=o?n=0:(r[0]+=4*s.v,s.ka=n-s.j,s.U=s.va-s.v,s.T=o-n,n=1),n){if(l=l[0],11>(n=t.ca).S){var A=n.f.RGBA,u=(o=n.S,r=s.U,s=s.T,h=A.eb,A.A),d=s;for(A=A.fb+t.Ma*A.A;0<d--;){var p=a,g=l,f=r,m=h,b=A;switch(o){case Rn:Zi(p,g,f,m,b);break;case Nn:Ji(p,g,f,m,b);break;case zn:Ji(p,g,f,m,b),xn(m,b,0,f,1,0);break;case On:nn(p,g,f,m,b);break;case Un:et(p,g,f,m,b,1);break;case jn:et(p,g,f,m,b,1),xn(m,b,0,f,1,0);break;case Dn:et(p,g,f,m,b,0);break;case Gn:et(p,g,f,m,b,0),xn(m,b,1,f,1,0);break;case Qn:tn(p,g,f,m,b);break;case Vn:tn(p,g,f,m,b),_n(m,b,f,1,0);break;case Hn:en(p,g,f,m,b);break;default:e(0)}l+=c,A+=u}t.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");e(t.Ma<=n.height)}}t.C=i,e(t.C<=t.i)}function _t(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var i=t.Ya[e].G,n=t.Ya[e].H;if(0<i[1][n[1]+0].g||0<i[2][n[2]+0].g||0<i[3][n[3]+0].g)return 0}return 1}function Ct(t,i,n,o,r,s){if(0!=t.Z){var a=t.qd,l=t.rd;for(e(null!=fo[t.Z]);i<n;++i)fo[t.Z](a,l,o,r,o,r,s),a=o,l=r,r+=s;t.qd=a,t.rd=l}}function Bt(t,i){var n=t.l.ma,o=0==n.Z||1==n.Z?t.l.j:t.C;if(o=t.C<o?o:t.C,e(i<=t.l.o),i>o){var r=t.l.width,s=n.ca,a=n.tb+r*o,l=t.V,c=t.Ba+t.c*o,h=t.gc;e(1==t.ab),e(3==h[0].hc),Wi(h[0],o,i,l,c,s,a),Ct(n,o,i,s,a,r)}t.C=t.Ma=i}function St(t,i,n,o,r,s,a){var l=t.$/o,c=t.$%o,h=t.m,A=t.s,u=n+t.$,d=u;r=n+o*r;var p=n+o*s,g=280+A.ua,f=t.Pb?l:16777216,m=0<A.ua?A.Wa:null,b=A.wc,v=u<p?yt(A,c,l):null;e(t.C<s),e(p<=r);var y=!1;t:for(;;){for(;y||u<p;){var w=0;if(l>=f){var S=u-n;e((f=t).Pb),f.wd=f.m,f.xd=S,0<f.s.ua&&P(f.s.Wa,f.s.vb),f=l+Jn}if(c&b||(v=yt(A,c,l)),e(null!=v),v.Qb&&(i[u]=v.qb,y=!0),!y)if(B(h),v.jc){w=h,S=i;var E=u,k=v.pd[x(w)&Oi-1];e(v.jc),256>k.g?(C(w,w.u+k.g),S[E]=k.value,w=0):(C(w,w.u+k.g-256),e(256<=k.value),w=k.value),0==w&&(y=!0)}else w=bt(v.G[0],v.H[0],h);if(h.h)break;if(y||256>w){if(!y)if(v.nd)i[u]=(v.qb|w<<8)>>>0;else{if(B(h),y=bt(v.G[1],v.H[1],h),B(h),S=bt(v.G[2],v.H[2],h),E=bt(v.G[3],v.H[3],h),h.h)break;i[u]=(E<<24|y<<16|w<<8|S)>>>0}if(y=!1,++u,++c>=o&&(c=0,++l,null!=a&&l<=s&&!(l%16)&&a(t,l),null!=m))for(;d<u;)w=i[d++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else if(280>w){if(w=ft(w-256,h),S=bt(v.G[4],v.H[4],h),B(h),S=mt(o,S=ft(S,h)),h.h)break;if(u-n<S||r-u<w)break t;for(E=0;E<w;++E)i[u+E]=i[u+E-S];for(u+=w,c+=w;c>=o;)c-=o,++l,null!=a&&l<=s&&!(l%16)&&a(t,l);if(e(u<=r),c&b&&(v=yt(A,c,l)),null!=m)for(;d<u;)w=i[d++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else{if(!(w<g))break t;for(y=w-280,e(null!=m);d<u;)w=i[d++],m.X[(506832829*w&4294967295)>>>m.Mb]=w;w=u,e(!(y>>>(S=m).Xa)),i[w]=S.X[y],y=!0}y||e(h.h==_(h))}if(t.Pb&&h.h&&u<r)e(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&P(t.s.vb,t.s.Wa);else{if(h.h)break t;null!=a&&a(t,l>s?s:l),t.a=0,t.$=u-n}return 1}return t.a=3,0}function Et(t){e(null!=t),t.vc=null,t.yc=null,t.Ya=null;var i=t.Wa;null!=i&&(i.X=null),t.vb=null,e(null!=t)}function kt(){var e=new ri;return null==e?null:(e.a=0,e.xb=go,it("Predictor","VP8LPredictors"),it("Predictor","VP8LPredictors_C"),it("PredictorAdd","VP8LPredictorsAdd"),it("PredictorAdd","VP8LPredictorsAdd_C"),Vi=K,Yi=W,Zi=$,Ji=Y,tn=Z,en=J,nn=tt,t.VP8LMapColor32b=qi,t.VP8LMapColor8b=Xi,e)}function Ft(t,i,n,a,l){var c=1,u=[t],p=[i],g=a.m,f=a.s,m=null,b=0;t:for(;;){if(n)for(;c&&v(g,1);){var y=u,w=p,_=a,S=1,E=_.m,k=_.gc[_.ab],F=v(E,2);if(_.Oc&1<<F)c=0;else{switch(_.Oc|=1<<F,k.hc=F,k.Ea=y[0],k.nc=w[0],k.K=[null],++_.ab,e(4>=_.ab),F){case 0:case 1:k.b=v(E,3)+2,S=Ft(O(k.Ea,k.b),O(k.nc,k.b),0,_,k.K),k.K=k.K[0];break;case 3:var T,L=v(E,8)+1,I=16<L?0:4<L?1:2<L?2:3;if(y[0]=O(k.Ea,I),k.b=I,T=S=Ft(L,1,0,_,k.K)){var P,R=L,N=k,D=1<<(8>>N.b),Q=r(D);if(null==Q)T=0;else{var H=N.K[0],z=N.w;for(Q[0]=N.K[0][0],P=1;P<1*R;++P)Q[P]=U(H[z+P],Q[P-1]);for(;P<4*D;++P)Q[P]=0;N.K[0]=null,N.K[0]=Q,T=1}}S=T;break;case 2:break;default:e(0)}c=S}}if(u=u[0],p=p[0],c&&v(g,1)&&!(c=1<=(b=v(g,4))&&11>=b)){a.a=3;break t}var j;if(j=c)e:{var G,V,K,q=a,W=u,X=p,$=b,Y=n,Z=q.m,J=q.s,tt=[null],et=1,it=0,nt=Zn[$];i:for(;;){if(Y&&v(Z,1)){var ot=v(Z,3)+2,rt=O(W,ot),st=O(X,ot),at=rt*st;if(!Ft(rt,st,0,q,tt))break i;for(tt=tt[0],J.xc=ot,G=0;G<at;++G){var lt=tt[G]>>8&65535;tt[G]=lt,lt>=et&&(et=lt+1)}}if(Z.h)break i;for(V=0;5>V;++V){var ct=Wn[V];!V&&0<$&&(ct+=1<<$),it<ct&&(it=ct)}var ht=s(et*nt,A),At=et,ut=s(At,d);if(null==ut)var dt=null;else e(65536>=At),dt=ut;var pt=r(it);if(null==dt||null==pt||null==ht){q.a=1;break i}var gt=ht;for(G=K=0;G<et;++G){var ft=dt[G],mt=ft.G,bt=ft.H,yt=0,wt=1,xt=0;for(V=0;5>V;++V){ct=Wn[V],mt[V]=gt,bt[V]=K,!V&&0<$&&(ct+=1<<$);n:{var _t,Ct=ct,Bt=q,kt=pt,Tt=gt,Lt=K,It=0,Mt=Bt.m,Pt=v(Mt,1);if(o(kt,0,0,Ct),Pt){var Rt=v(Mt,1)+1,Nt=v(Mt,1),Ot=v(Mt,0==Nt?1:8);kt[Ot]=1,2==Rt&&(kt[Ot=v(Mt,8)]=1);var Ut=1}else{var Dt=r(19),Qt=v(Mt,4)+4;if(19<Qt){Bt.a=3;var Ht=0;break n}for(_t=0;_t<Qt;++_t)Dt[$n[_t]]=v(Mt,3);var zt=void 0,jt=void 0,Gt=Bt,Vt=Dt,Kt=Ct,qt=kt,Wt=0,Xt=Gt.m,$t=8,Yt=s(128,A);o:for(;h(Yt,0,7,Vt,19);){if(v(Xt,1)){var Zt=2+2*v(Xt,3);if((zt=2+v(Xt,Zt))>Kt)break o}else zt=Kt;for(jt=0;jt<Kt&&zt--;){B(Xt);var Jt=Yt[0+(127&x(Xt))];C(Xt,Xt.u+Jt.g);var te=Jt.value;if(16>te)qt[jt++]=te,0!=te&&($t=te);else{var ee=16==te,ie=te-16,ne=qn[ie],oe=v(Xt,Kn[ie])+ne;if(jt+oe>Kt)break o;for(var re=ee?$t:0;0<oe--;)qt[jt++]=re}}Wt=1;break o}Wt||(Gt.a=3),Ut=Wt}(Ut=Ut&&!Mt.h)&&(It=h(Tt,Lt,8,kt,Ct)),Ut&&0!=It?Ht=It:(Bt.a=3,Ht=0)}if(0==Ht)break i;if(wt&&1==Xn[V]&&(wt=0==gt[K].g),yt+=gt[K].g,K+=Ht,3>=V){var se,ae=pt[0];for(se=1;se<ct;++se)pt[se]>ae&&(ae=pt[se]);xt+=ae}}if(ft.nd=wt,ft.Qb=0,wt&&(ft.qb=(mt[3][bt[3]+0].value<<24|mt[1][bt[1]+0].value<<16|mt[2][bt[2]+0].value)>>>0,0==yt&&256>mt[0][bt[0]+0].value&&(ft.Qb=1,ft.qb+=mt[0][bt[0]+0].value<<8)),ft.jc=!ft.Qb&&6>xt,ft.jc){var le,ce=ft;for(le=0;le<Oi;++le){var he=le,Ae=ce.pd[he],ue=ce.G[0][ce.H[0]+he];256<=ue.value?(Ae.g=ue.g+256,Ae.value=ue.value):(Ae.g=0,Ae.value=0,he>>=vt(ue,8,Ae),he>>=vt(ce.G[1][ce.H[1]+he],16,Ae),he>>=vt(ce.G[2][ce.H[2]+he],0,Ae),vt(ce.G[3][ce.H[3]+he],24,Ae))}}}J.vc=tt,J.Wb=et,J.Ya=dt,J.yc=ht,j=1;break e}j=0}if(!(c=j)){a.a=3;break t}if(0<b){if(f.ua=1<<b,!M(f.Wa,b)){a.a=1,c=0;break t}}else f.ua=0;var de=a,pe=u,ge=p,fe=de.s,me=fe.xc;if(de.c=pe,de.i=ge,fe.md=O(pe,me),fe.wc=0==me?-1:(1<<me)-1,n){a.xb=po;break t}if(null==(m=r(u*p))){a.a=1,c=0;break t}c=(c=St(a,m,0,u,p,p,null))&&!g.h;break t}return c?(null!=l?l[0]=m:(e(null==m),e(n)),a.$=0,n||Et(f)):Et(f),c}function Tt(t,i){var n=t.c*t.i,o=n+i+16*i;return e(t.c<=i),t.V=r(o),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+n+i,1)}function Lt(t,i){var n=t.C,o=i-n,r=t.V,s=t.Ba+t.c*n;for(e(i<=t.l.o);0<o;){var a=16<o?16:o,l=t.l.ma,c=t.l.width,h=c*a,A=l.ca,u=l.tb+c*n,d=t.Ta,p=t.Ua;wt(t,a,r,s),Bn(d,p,A,u,h),Ct(l,n,n+a,A,u,c),o-=a,r+=a*t.c,n+=a}e(n==i),t.C=t.Ma=i}function It(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pt(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function Rt(){var t;this.Yb=(function t(e,i,n){for(var o=n[i],r=0;r<o&&(e.push(n.length>i+1?[]:0),!(n.length<i+1));r++)t(e[r],i+1,n)}(t=[],0,[3,11]),t)}function Nt(){this.jb=r(3),this.Wc=a([4,8],Rt),this.Xc=a([4,17],Rt)}function Ot(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function Ut(){this.ld=this.La=this.dd=this.tc=0}function Dt(){this.Na=this.la=0}function Qt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ht(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ut),this.Y=0,this.ya=Array(new Ht),this.aa=0,this.l=new Kt}function jt(){this.y=r(16),this.f=r(8),this.ea=r(8)}function Gt(){this.cb=this.a=0,this.sc="",this.m=new y,this.Od=new It,this.Kc=new Mt,this.ed=new Ot,this.Qa=new Pt,this.Ic=this.$c=this.Aa=0,this.D=new zt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,y),this.ia=0,this.pb=s(4,Qt),this.Pa=new Nt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jt),this.Hd=0,this.rb=Array(new Dt),this.sb=0,this.wa=Array(new Ut),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ht),this.L=this.aa=0,this.gd=a([4,2],Ut),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vt(t,e){return 0>t?0:t>e?e:t}function Kt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qt(){var t=new Gt;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,io||(io=Yt)),t}function Wt(t,e,i){return 0==t.a&&(t.a=e,t.sc=i,t.cb=0),0}function Xt(t,e,i){return 3<=i&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function $t(t,i){if(null==t)return 0;if(t.a=0,t.sc="OK",null==i)return Wt(t,2,"null VP8Io passed to VP8GetHeaders()");var n=i.data,r=i.w,s=i.ha;if(4>s)return Wt(t,7,"Truncated header.");var a=n[r+0]|n[r+1]<<8|n[r+2]<<16,l=t.Od;if(l.Rb=!(1&a),l.td=a>>1&7,l.yd=a>>4&1,l.ub=a>>5,3<l.td)return Wt(t,3,"Incorrect keyframe parameters.");if(!l.yd)return Wt(t,4,"Frame not displayable.");r+=3,s-=3;var c=t.Kc;if(l.Rb){if(7>s)return Wt(t,7,"cannot parse picture header");if(!Xt(n,r,s))return Wt(t,3,"Bad code word");c.c=16383&(n[r+4]<<8|n[r+3]),c.Td=n[r+4]>>6,c.i=16383&(n[r+6]<<8|n[r+5]),c.Ud=n[r+6]>>6,r+=7,s-=7,t.za=c.c+15>>4,t.Ub=c.i+15>>4,i.width=c.c,i.height=c.i,i.Da=0,i.j=0,i.v=0,i.va=i.width,i.o=i.height,i.da=0,i.ib=i.width,i.hb=i.height,i.U=i.width,i.T=i.height,o((a=t.Pa).jb,0,255,a.jb.length),e(null!=(a=t.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,o(a.Zb,0,0,a.Zb.length),o(a.Lb,0,0,a.Lb)}if(l.ub>s)return Wt(t,7,"bad partition length");p(a=t.m,n,r,l.ub),r+=l.ub,s-=l.ub,l.Rb&&(c.Ld=E(a),c.Kd=E(a)),c=t.Qa;var h,A=t.Pa;if(e(null!=a),e(null!=c),c.Cb=E(a),c.Cb){if(c.Bb=E(a),E(a)){for(c.Fb=E(a),h=0;4>h;++h)c.Zb[h]=E(a)?f(a,7):0;for(h=0;4>h;++h)c.Lb[h]=E(a)?f(a,6):0}if(c.Bb)for(h=0;3>h;++h)A.jb[h]=E(a)?g(a,8):255}else c.Bb=0;if(a.Ka)return Wt(t,3,"cannot parse segment header");if((c=t.ed).zd=E(a),c.Tb=g(a,6),c.wb=g(a,3),c.Pc=E(a),c.Pc&&E(a)){for(A=0;4>A;++A)E(a)&&(c.vd[A]=f(a,6));for(A=0;4>A;++A)E(a)&&(c.od[A]=f(a,6))}if(t.L=0==c.Tb?0:c.zd?1:2,a.Ka)return Wt(t,3,"cannot parse filter header");var u=s;if(s=h=r,r=h+u,c=u,t.Xb=(1<<g(t.m,2))-1,u<3*(A=t.Xb))n=7;else{for(h+=3*A,c-=3*A,u=0;u<A;++u){var d=n[s+0]|n[s+1]<<8|n[s+2]<<16;d>c&&(d=c),p(t.Jc[+u],n,h,d),h+=d,c-=d,s+=3}p(t.Jc[+A],n,h,c),n=h<r?0:5}if(0!=n)return Wt(t,n,"cannot parse partitions");for(n=g(h=t.m,7),s=E(h)?f(h,4):0,r=E(h)?f(h,4):0,c=E(h)?f(h,4):0,A=E(h)?f(h,4):0,h=E(h)?f(h,4):0,u=t.Qa,d=0;4>d;++d){if(u.Cb){var m=u.Zb[d];u.Fb||(m+=n)}else{if(0<d){t.pb[d]=t.pb[0];continue}m=n}var b=t.pb[d];b.Sc[0]=to[Vt(m+s,127)],b.Sc[1]=eo[Vt(m+0,127)],b.Eb[0]=2*to[Vt(m+r,127)],b.Eb[1]=101581*eo[Vt(m+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=to[Vt(m+A,117)],b.Qc[1]=eo[Vt(m+h,127)],b.lc=m+h}if(!l.Rb)return Wt(t,4,"Not a key frame.");for(E(a),l=t.Pa,n=0;4>n;++n){for(s=0;8>s;++s)for(r=0;3>r;++r)for(c=0;11>c;++c)A=k(a,lo[n][s][r][c])?g(a,8):so[n][s][r][c],l.Wc[n][s].Yb[r][c]=A;for(s=0;17>s;++s)l.Xc[n][s]=l.Wc[n][co[s]]}return t.kc=E(a),t.kc&&(t.Bd=g(a,8)),t.cb=1}function Yt(t,e,i,n,o,r,s){var a=e[o].Yb[i];for(i=0;16>o;++o){if(!k(t,a[i+0]))return o;for(;!k(t,a[i+1]);)if(a=e[++o].Yb[0],i=0,16==o)return 16;var l=e[o+1].Yb;if(k(t,a[i+2])){var c=t,h=0;if(k(c,(u=a)[(A=i)+3]))if(k(c,u[A+6])){for(a=0,A=2*(h=k(c,u[A+8]))+(u=k(c,u[A+9+h])),h=0,u=no[A];u[a];++a)h+=h+k(c,u[a]);h+=3+(8<<A)}else k(c,u[A+7])?(h=7+2*k(c,165),h+=k(c,145)):h=5+k(c,159);else h=k(c,u[A+4])?3+k(c,u[A+5]):2;a=l[2]}else h=1,a=l[1];l=s+oo[o],0>(c=t).b&&S(c);var A,u=c.b,d=(A=c.Ca>>1)-(c.I>>u)>>31;--c.b,c.Ca+=d,c.Ca|=1,c.I-=(A+1&d)<<u,r[l]=((h^d)-d)*n[(0<o)+0]}return 16}function Zt(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,o(t.zc,0,0,t.zc.length),t.ja=0}function Jt(t,e,i,n,o){o=t[e+i+32*n]+(o>>3),t[e+i+32*n]=-256&o?0>o?0:255:o}function te(t,e,i,n,o,r){Jt(t,e,0,i,n+o),Jt(t,e,1,i,n+r),Jt(t,e,2,i,n-r),Jt(t,e,3,i,n-o)}function ee(t){return(20091*t>>16)+t}function ie(t,e,i,n){var o,s=0,a=r(16);for(o=0;4>o;++o){var l=t[e+0]+t[e+8],c=t[e+0]-t[e+8],h=(35468*t[e+4]>>16)-ee(t[e+12]),A=ee(t[e+4])+(35468*t[e+12]>>16);a[s+0]=l+A,a[s+1]=c+h,a[s+2]=c-h,a[s+3]=l-A,s+=4,e++}for(o=s=0;4>o;++o)l=(t=a[s+0]+4)+a[s+8],c=t-a[s+8],h=(35468*a[s+4]>>16)-ee(a[s+12]),Jt(i,n,0,0,l+(A=ee(a[s+4])+(35468*a[s+12]>>16))),Jt(i,n,1,0,c+h),Jt(i,n,2,0,c-h),Jt(i,n,3,0,l-A),s++,n+=32}function ne(t,e,i,n){var o=t[e+0]+4,r=35468*t[e+4]>>16,s=ee(t[e+4]),a=35468*t[e+1]>>16;te(i,n,0,o+s,t=ee(t[e+1]),a),te(i,n,1,o+r,t,a),te(i,n,2,o-r,t,a),te(i,n,3,o-s,t,a)}function oe(t,e,i,n,o){ie(t,e,i,n),o&&ie(t,e+16,i,n+4)}function re(t,e,i,n){rn(t,e+0,i,n,1),rn(t,e+32,i,n+128,1)}function se(t,e,i,n){var o;for(t=t[e+0]+4,o=0;4>o;++o)for(e=0;4>e;++e)Jt(i,n,e,o,t)}function ae(t,e,i,n){t[e+0]&&ln(t,e+0,i,n),t[e+16]&&ln(t,e+16,i,n+4),t[e+32]&&ln(t,e+32,i,n+128),t[e+48]&&ln(t,e+48,i,n+128+4)}function le(t,e,i,n){var o,s=r(16);for(o=0;4>o;++o){var a=t[e+0+o]+t[e+12+o],l=t[e+4+o]+t[e+8+o],c=t[e+4+o]-t[e+8+o],h=t[e+0+o]-t[e+12+o];s[0+o]=a+l,s[8+o]=a-l,s[4+o]=h+c,s[12+o]=h-c}for(o=0;4>o;++o)a=(t=s[0+4*o]+3)+s[3+4*o],l=s[1+4*o]+s[2+4*o],c=s[1+4*o]-s[2+4*o],h=t-s[3+4*o],i[n+0]=a+l>>3,i[n+16]=h+c>>3,i[n+32]=a-l>>3,i[n+48]=h-c>>3,n+=64}function ce(t,e,i){var n,o=e-32,r=Mn,s=255-t[o-1];for(n=0;n<i;++n){var a,l=r,c=s+t[e-1];for(a=0;a<i;++a)t[e+a]=l[c+t[o+a]];e+=32}}function he(t,e){ce(t,e,4)}function Ae(t,e){ce(t,e,8)}function ue(t,e){ce(t,e,16)}function de(t,e){var i;for(i=0;16>i;++i)n(t,e+32*i,t,e-32,16)}function pe(t,e){var i;for(i=16;0<i;--i)o(t,e,t[e-1],16),e+=32}function ge(t,e,i){var n;for(n=0;16>n;++n)o(e,i+32*n,t,16)}function fe(t,e){var i,n=16;for(i=0;16>i;++i)n+=t[e-1+32*i]+t[e+i-32];ge(n>>5,t,e)}function me(t,e){var i,n=8;for(i=0;16>i;++i)n+=t[e-1+32*i];ge(n>>4,t,e)}function be(t,e){var i,n=8;for(i=0;16>i;++i)n+=t[e+i-32];ge(n>>4,t,e)}function ve(t,e){ge(128,t,e)}function ye(t,e,i){return t+2*e+i+2>>2}function we(t,e){var i,o=e-32;for(o=new Uint8Array([ye(t[o-1],t[o+0],t[o+1]),ye(t[o+0],t[o+1],t[o+2]),ye(t[o+1],t[o+2],t[o+3]),ye(t[o+2],t[o+3],t[o+4])]),i=0;4>i;++i)n(t,e+32*i,o,0,o.length)}function xe(t,e){var i=t[e-1],n=t[e-1+32],o=t[e-1+64],r=t[e-1+96];F(t,e+0,16843009*ye(t[e-1-32],i,n)),F(t,e+32,16843009*ye(i,n,o)),F(t,e+64,16843009*ye(n,o,r)),F(t,e+96,16843009*ye(o,r,r))}function _e(t,e){var i,n=4;for(i=0;4>i;++i)n+=t[e+i-32]+t[e-1+32*i];for(n>>=3,i=0;4>i;++i)o(t,e+32*i,n,4)}function Ce(t,e){var i=t[e-1+0],n=t[e-1+32],o=t[e-1+64],r=t[e-1-32],s=t[e+0-32],a=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+96]=ye(n,o,t[e-1+96]),t[e+1+96]=t[e+0+64]=ye(i,n,o),t[e+2+96]=t[e+1+64]=t[e+0+32]=ye(r,i,n),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=ye(s,r,i),t[e+3+64]=t[e+2+32]=t[e+1+0]=ye(a,s,r),t[e+3+32]=t[e+2+0]=ye(l,a,s),t[e+3+0]=ye(c,l,a)}function Be(t,e){var i=t[e+1-32],n=t[e+2-32],o=t[e+3-32],r=t[e+4-32],s=t[e+5-32],a=t[e+6-32],l=t[e+7-32];t[e+0+0]=ye(t[e+0-32],i,n),t[e+1+0]=t[e+0+32]=ye(i,n,o),t[e+2+0]=t[e+1+32]=t[e+0+64]=ye(n,o,r),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=ye(o,r,s),t[e+3+32]=t[e+2+64]=t[e+1+96]=ye(r,s,a),t[e+3+64]=t[e+2+96]=ye(s,a,l),t[e+3+96]=ye(a,l,l)}function Se(t,e){var i=t[e-1+0],n=t[e-1+32],o=t[e-1+64],r=t[e-1-32],s=t[e+0-32],a=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+0]=t[e+1+64]=r+s+1>>1,t[e+1+0]=t[e+2+64]=s+a+1>>1,t[e+2+0]=t[e+3+64]=a+l+1>>1,t[e+3+0]=l+c+1>>1,t[e+0+96]=ye(o,n,i),t[e+0+64]=ye(n,i,r),t[e+0+32]=t[e+1+96]=ye(i,r,s),t[e+1+32]=t[e+2+96]=ye(r,s,a),t[e+2+32]=t[e+3+96]=ye(s,a,l),t[e+3+32]=ye(a,l,c)}function Ee(t,e){var i=t[e+0-32],n=t[e+1-32],o=t[e+2-32],r=t[e+3-32],s=t[e+4-32],a=t[e+5-32],l=t[e+6-32],c=t[e+7-32];t[e+0+0]=i+n+1>>1,t[e+1+0]=t[e+0+64]=n+o+1>>1,t[e+2+0]=t[e+1+64]=o+r+1>>1,t[e+3+0]=t[e+2+64]=r+s+1>>1,t[e+0+32]=ye(i,n,o),t[e+1+32]=t[e+0+96]=ye(n,o,r),t[e+2+32]=t[e+1+96]=ye(o,r,s),t[e+3+32]=t[e+2+96]=ye(r,s,a),t[e+3+64]=ye(s,a,l),t[e+3+96]=ye(a,l,c)}function ke(t,e){var i=t[e-1+0],n=t[e-1+32],o=t[e-1+64],r=t[e-1+96];t[e+0+0]=i+n+1>>1,t[e+2+0]=t[e+0+32]=n+o+1>>1,t[e+2+32]=t[e+0+64]=o+r+1>>1,t[e+1+0]=ye(i,n,o),t[e+3+0]=t[e+1+32]=ye(n,o,r),t[e+3+32]=t[e+1+64]=ye(o,r,r),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=r}function Fe(t,e){var i=t[e-1+0],n=t[e-1+32],o=t[e-1+64],r=t[e-1+96],s=t[e-1-32],a=t[e+0-32],l=t[e+1-32],c=t[e+2-32];t[e+0+0]=t[e+2+32]=i+s+1>>1,t[e+0+32]=t[e+2+64]=n+i+1>>1,t[e+0+64]=t[e+2+96]=o+n+1>>1,t[e+0+96]=r+o+1>>1,t[e+3+0]=ye(a,l,c),t[e+2+0]=ye(s,a,l),t[e+1+0]=t[e+3+32]=ye(i,s,a),t[e+1+32]=t[e+3+64]=ye(n,i,s),t[e+1+64]=t[e+3+96]=ye(o,n,i),t[e+1+96]=ye(r,o,n)}function Te(t,e){var i;for(i=0;8>i;++i)n(t,e+32*i,t,e-32,8)}function Le(t,e){var i;for(i=0;8>i;++i)o(t,e,t[e-1],8),e+=32}function Ie(t,e,i){var n;for(n=0;8>n;++n)o(e,i+32*n,t,8)}function Me(t,e){var i,n=8;for(i=0;8>i;++i)n+=t[e+i-32]+t[e-1+32*i];Ie(n>>4,t,e)}function Pe(t,e){var i,n=4;for(i=0;8>i;++i)n+=t[e+i-32];Ie(n>>3,t,e)}function Re(t,e){var i,n=4;for(i=0;8>i;++i)n+=t[e-1+32*i];Ie(n>>3,t,e)}function Ne(t,e){Ie(128,t,e)}function Oe(t,e,i){var n=t[e-i],o=t[e+0],r=3*(o-n)+Ln[1020+t[e-2*i]-t[e+i]],s=In[112+(r+4>>3)];t[e-i]=Mn[255+n+In[112+(r+3>>3)]],t[e+0]=Mn[255+o-s]}function Ue(t,e,i,n){var o=t[e+0],r=t[e+i];return Pn[255+t[e-2*i]-t[e-i]]>n||Pn[255+r-o]>n}function De(t,e,i,n){return 4*Pn[255+t[e-i]-t[e+0]]+Pn[255+t[e-2*i]-t[e+i]]<=n}function Qe(t,e,i,n,o){var r=t[e-3*i],s=t[e-2*i],a=t[e-i],l=t[e+0],c=t[e+i],h=t[e+2*i],A=t[e+3*i];return 4*Pn[255+a-l]+Pn[255+s-c]>n?0:Pn[255+t[e-4*i]-r]<=o&&Pn[255+r-s]<=o&&Pn[255+s-a]<=o&&Pn[255+A-h]<=o&&Pn[255+h-c]<=o&&Pn[255+c-l]<=o}function He(t,e,i,n){var o=2*n+1;for(n=0;16>n;++n)De(t,e+n,i,o)&&Oe(t,e+n,i)}function ze(t,e,i,n){var o=2*n+1;for(n=0;16>n;++n)De(t,e+n*i,1,o)&&Oe(t,e+n*i,1)}function je(t,e,i,n){var o;for(o=3;0<o;--o)He(t,e+=4*i,i,n)}function Ge(t,e,i,n){var o;for(o=3;0<o;--o)ze(t,e+=4,i,n)}function Ve(t,e,i,n,o,r,s,a){for(r=2*r+1;0<o--;){if(Qe(t,e,i,r,s))if(Ue(t,e,i,a))Oe(t,e,i);else{var l=t,c=e,h=i,A=l[c-2*h],u=l[c-h],d=l[c+0],p=l[c+h],g=l[c+2*h],f=27*(b=Ln[1020+3*(d-u)+Ln[1020+A-p]])+63>>7,m=18*b+63>>7,b=9*b+63>>7;l[c-3*h]=Mn[255+l[c-3*h]+b],l[c-2*h]=Mn[255+A+m],l[c-h]=Mn[255+u+f],l[c+0]=Mn[255+d-f],l[c+h]=Mn[255+p-m],l[c+2*h]=Mn[255+g-b]}e+=n}}function Ke(t,e,i,n,o,r,s,a){for(r=2*r+1;0<o--;){if(Qe(t,e,i,r,s))if(Ue(t,e,i,a))Oe(t,e,i);else{var l=t,c=e,h=i,A=l[c-h],u=l[c+0],d=l[c+h],p=In[112+(4+(g=3*(u-A))>>3)],g=In[112+(g+3>>3)],f=p+1>>1;l[c-2*h]=Mn[255+l[c-2*h]+f],l[c-h]=Mn[255+A+g],l[c+0]=Mn[255+u-p],l[c+h]=Mn[255+d-f]}e+=n}}function qe(t,e,i,n,o,r){Ve(t,e,i,1,16,n,o,r)}function We(t,e,i,n,o,r){Ve(t,e,1,i,16,n,o,r)}function Xe(t,e,i,n,o,r){var s;for(s=3;0<s;--s)Ke(t,e+=4*i,i,1,16,n,o,r)}function $e(t,e,i,n,o,r){var s;for(s=3;0<s;--s)Ke(t,e+=4,1,i,16,n,o,r)}function Ye(t,e,i,n,o,r,s,a){Ve(t,e,o,1,8,r,s,a),Ve(i,n,o,1,8,r,s,a)}function Ze(t,e,i,n,o,r,s,a){Ve(t,e,1,o,8,r,s,a),Ve(i,n,1,o,8,r,s,a)}function Je(t,e,i,n,o,r,s,a){Ke(t,e+4*o,o,1,8,r,s,a),Ke(i,n+4*o,o,1,8,r,s,a)}function ti(t,e,i,n,o,r,s,a){Ke(t,e+4,1,o,8,r,s,a),Ke(i,n+4,1,o,8,r,s,a)}function ei(){this.ba=new st,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ii(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ni(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function oi(){this.ua=0,this.Wa=new R,this.vb=new R,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new d,this.yc=new A}function ri(){this.xb=this.a=0,this.l=new Kt,this.ca=new st,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new oi,this.ab=0,this.gc=s(4,ni),this.Oc=0}function si(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Kt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ai(t,e,i,n,o,r,s){for(t=null==t?0:t[e+0],e=0;e<s;++e)o[r+e]=t+i[n+e]&255,t=o[r+e]}function li(t,e,i,n,o,r,s){var a;if(null==t)ai(null,null,i,n,o,r,s);else for(a=0;a<s;++a)o[r+a]=t[e+a]+i[n+a]&255}function ci(t,e,i,n,o,r,s){if(null==t)ai(null,null,i,n,o,r,s);else{var a,l=t[e+0],c=l,h=l;for(a=0;a<s;++a)c=h+(l=t[e+a])-c,h=i[n+a]+(-256&c?0>c?0:255:c)&255,c=l,o[r+a]=h}}function hi(t,i,o,s){var a=i.width,l=i.o;if(e(null!=t&&null!=i),0>o||0>=s||o+s>l)return null;if(!t.Cc){if(null==t.ga){var c;if(t.ga=new si,(c=null==t.ga)||(c=i.width*i.o,e(0==t.Gb.length),t.Gb=r(c),t.Uc=0,null==t.Gb?c=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,c=1),c=!c),!c){c=t.ga;var h=t.Fa,A=t.P,u=t.qc,d=t.mb,p=t.nb,g=A+1,f=u-1,b=c.l;if(e(null!=h&&null!=d&&null!=i),fo[0]=null,fo[1]=ai,fo[2]=li,fo[3]=ci,c.ca=d,c.tb=p,c.c=i.width,c.i=i.height,e(0<c.c&&0<c.i),1>=u)i=0;else if(c.$a=3&h[A+0],c.Z=h[A+0]>>2&3,c.Lc=h[A+0]>>4&3,A=h[A+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||A)i=0;else if(b.put=dt,b.ac=ut,b.bc=pt,b.ma=c,b.width=i.width,b.height=i.height,b.Da=i.Da,b.v=i.v,b.va=i.va,b.j=i.j,b.o=i.o,c.$a)t:{e(1==c.$a),i=kt();e:for(;;){if(null==i){i=0;break t}if(e(null!=c),c.mc=i,i.c=c.c,i.i=c.i,i.l=c.l,i.l.ma=c,i.l.width=c.c,i.l.height=c.i,i.a=0,m(i.m,h,g,f),!Ft(c.c,c.i,1,i,null))break e;if(1==i.ab&&3==i.gc[0].hc&&_t(i.s)?(c.ic=1,h=i.c*i.i,i.Ta=null,i.Ua=0,i.V=r(h),i.Ba=0,null==i.V?(i.a=1,i=0):i=1):(c.ic=0,i=Tt(i,c.c)),!i)break e;i=1;break t}c.mc=null,i=0}else i=f>=c.c*c.i;c=!i}if(c)return null;1!=t.ga.Lc?t.Ga=0:s=l-o}e(null!=t.ga),e(o+s<=l);t:{if(i=(h=t.ga).c,l=h.l.o,0==h.$a){if(g=t.rc,f=t.Vc,b=t.Fa,A=t.P+1+o*i,u=t.mb,d=t.nb+o*i,e(A<=t.P+t.qc),0!=h.Z)for(e(null!=fo[h.Z]),c=0;c<s;++c)fo[h.Z](g,f,b,A,u,d,i),g=u,f=d,d+=i,A+=i;else for(c=0;c<s;++c)n(u,d,b,A,i),g=u,f=d,d+=i,A+=i;t.rc=g,t.Vc=f}else{if(e(null!=h.mc),i=o+s,e(null!=(c=h.mc)),e(i<=c.i),c.C>=i)i=1;else if(h.ic||gi(),h.ic){h=c.V,g=c.Ba,f=c.c;var v=c.i,y=(b=1,A=c.$/f,u=c.$%f,d=c.m,p=c.s,c.$),w=f*v,x=f*i,C=p.wc,S=y<x?yt(p,u,A):null;e(y<=w),e(i<=v),e(_t(p));e:for(;;){for(;!d.h&&y<x;){if(u&C||(S=yt(p,u,A)),e(null!=S),B(d),256>(v=bt(S.G[0],S.H[0],d)))h[g+y]=v,++y,++u>=f&&(u=0,++A<=i&&!(A%16)&&Bt(c,A));else{if(!(280>v)){b=0;break e}v=ft(v-256,d);var E,k=bt(S.G[4],S.H[4],d);if(B(d),!(y>=(k=mt(f,k=ft(k,d)))&&w-y>=v)){b=0;break e}for(E=0;E<v;++E)h[g+y+E]=h[g+y+E-k];for(y+=v,u+=v;u>=f;)u-=f,++A<=i&&!(A%16)&&Bt(c,A);y<x&&u&C&&(S=yt(p,u,A))}e(d.h==_(d))}Bt(c,A>i?i:A);break e}!b||d.h&&y<w?(b=0,c.a=d.h?5:3):c.$=y,i=b}else i=St(c,c.V,c.Ba,c.c,c.i,i,Lt);if(!i){s=0;break t}}o+s>=l&&(t.Cc=1),s=1}if(!s)return null;if(t.Cc&&(null!=(s=t.ga)&&(s.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+o*a}function Ai(t,e,i,n,o,r){for(;0<o--;){var s,a=t,l=e+(i?1:0),c=t,h=e+(i?0:3);for(s=0;s<n;++s){var A=c[h+4*s];255!=A&&(A*=32897,a[l+4*s+0]=a[l+4*s+0]*A>>23,a[l+4*s+1]=a[l+4*s+1]*A>>23,a[l+4*s+2]=a[l+4*s+2]*A>>23)}e+=r}}function ui(t,e,i,n,o){for(;0<n--;){var r;for(r=0;r<i;++r){var s=t[e+2*r+0],a=15&(c=t[e+2*r+1]),l=4369*a,c=(240&c|c>>4)*l>>16;t[e+2*r+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,t[e+2*r+1]=240&c|a}e+=o}}function di(t,e,i,n,o,r,s,a){var l,c,h=255;for(c=0;c<o;++c){for(l=0;l<n;++l){var A=t[e+l];r[s+4*l]=A,h&=A}e+=i,s+=a}return 255!=h}function pi(t,e,i,n,o){var r;for(r=0;r<o;++r)i[n+r]=t[e+r]>>8}function gi(){xn=Ai,_n=ui,Cn=di,Bn=pi}function fi(i,n,o){t[i]=function(t,i,r,s,a,l,c,h,A,u,d,p,g,f,m,b,v){var y,w=v-1>>1,x=a[l+0]|c[h+0]<<16,_=A[u+0]|d[p+0]<<16;e(null!=t);var C=3*x+_+131074>>2;for(n(t[i+0],255&C,C>>16,g,f),null!=r&&(C=3*_+x+131074>>2,n(r[s+0],255&C,C>>16,m,b)),y=1;y<=w;++y){var B=a[l+y]|c[h+y]<<16,S=A[u+y]|d[p+y]<<16,E=x+B+_+S+524296,k=E+2*(B+_)>>3;C=k+x>>1,x=(E=E+2*(x+S)>>3)+B>>1,n(t[i+2*y-1],255&C,C>>16,g,f+(2*y-1)*o),n(t[i+2*y-0],255&x,x>>16,g,f+(2*y-0)*o),null!=r&&(C=E+_>>1,x=k+S>>1,n(r[s+2*y-1],255&C,C>>16,m,b+(2*y-1)*o),n(r[s+2*y+0],255&x,x>>16,m,b+(2*y+0)*o)),x=B,_=S}1&v||(C=3*x+_+131074>>2,n(t[i+v-1],255&C,C>>16,g,f+(v-1)*o),null!=r&&(C=3*_+x+131074>>2,n(r[s+v-1],255&C,C>>16,m,b+(v-1)*o)))}}function mi(){mo[Rn]=bo,mo[Nn]=yo,mo[On]=vo,mo[Un]=wo,mo[Dn]=xo,mo[Qn]=_o,mo[Hn]=Co,mo[zn]=yo,mo[jn]=wo,mo[Gn]=xo,mo[Vn]=_o}function bi(t){return t&~To?0>t?0:255:t>>Fo}function vi(t,e){return bi((19077*t>>8)+(26149*e>>8)-14234)}function yi(t,e,i){return bi((19077*t>>8)-(6419*e>>8)-(13320*i>>8)+8708)}function wi(t,e){return bi((19077*t>>8)+(33050*e>>8)-17685)}function xi(t,e,i,n,o){n[o+0]=vi(t,i),n[o+1]=yi(t,e,i),n[o+2]=wi(t,e)}function _i(t,e,i,n,o){n[o+0]=wi(t,e),n[o+1]=yi(t,e,i),n[o+2]=vi(t,i)}function Ci(t,e,i,n,o){var r=yi(t,e,i);e=r<<3&224|wi(t,e)>>3,n[o+0]=248&vi(t,i)|r>>5,n[o+1]=e}function Bi(t,e,i,n,o){var r=240&wi(t,e)|15;n[o+0]=240&vi(t,i)|yi(t,e,i)>>4,n[o+1]=r}function Si(t,e,i,n,o){n[o+0]=255,xi(t,e,i,n,o+1)}function Ei(t,e,i,n,o){_i(t,e,i,n,o),n[o+3]=255}function ki(t,e,i,n,o){xi(t,e,i,n,o),n[o+3]=255}function Vt(t,e){return 0>t?0:t>e?e:t}function Fi(e,i,n){t[e]=function(t,e,o,r,s,a,l,c,h){for(var A=c+(-2&h)*n;c!=A;)i(t[e+0],o[r+0],s[a+0],l,c),i(t[e+1],o[r+0],s[a+0],l,c+n),e+=2,++r,++a,c+=2*n;1&h&&i(t[e+0],o[r+0],s[a+0],l,c)}}function Ti(t,e,i){return 0==i?0==t?0==e?6:5:0==e?4:0:i}function Li(t,e,i,n,o){switch(t>>>30){case 3:rn(e,i,n,o,0);break;case 2:sn(e,i,n,o);break;case 1:ln(e,i,n,o)}}function Ii(t,e){var i,r,s=e.M,a=e.Nb,l=t.oc,c=t.pc+40,h=t.oc,A=t.pc+584,u=t.oc,d=t.pc+600;for(i=0;16>i;++i)l[c+32*i-1]=129;for(i=0;8>i;++i)h[A+32*i-1]=129,u[d+32*i-1]=129;for(0<s?l[c-1-32]=h[A-1-32]=u[d-1-32]=129:(o(l,c-32-1,127,21),o(h,A-32-1,127,9),o(u,d-32-1,127,9)),r=0;r<t.za;++r){var p=e.ya[e.aa+r];if(0<r){for(i=-1;16>i;++i)n(l,c+32*i-4,l,c+32*i+12,4);for(i=-1;8>i;++i)n(h,A+32*i-4,h,A+32*i+4,4),n(u,d+32*i-4,u,d+32*i+4,4)}var g=t.Gd,f=t.Hd+r,m=p.ad,b=p.Hc;if(0<s&&(n(l,c-32,g[f].y,0,16),n(h,A-32,g[f].f,0,8),n(u,d-32,g[f].ea,0,8)),p.Za){var v=l,y=c-32+16;for(0<s&&(r>=t.za-1?o(v,y,g[f].y[15],4):n(v,y,g[f+1].y,0,4)),i=0;4>i;i++)v[y+128+i]=v[y+256+i]=v[y+384+i]=v[y+0+i];for(i=0;16>i;++i,b<<=2)v=l,y=c+Uo[i],Ao[p.Ob[i]](v,y),Li(b,m,16*+i,v,y)}else if(v=Ti(r,s,p.Ob[0]),ho[v](l,c),0!=b)for(i=0;16>i;++i,b<<=2)Li(b,m,16*+i,l,c+Uo[i]);for(i=p.Gc,v=Ti(r,s,p.Dd),uo[v](h,A),uo[v](u,d),b=m,v=h,y=A,255&(p=i|0)&&(170&p?an(b,256,v,y):cn(b,256,v,y)),p=u,b=d,255&(i>>=8)&&(170&i?an(m,320,p,b):cn(m,320,p,b)),s<t.Ub-1&&(n(g[f].y,0,l,c+480,16),n(g[f].f,0,h,A+224,8),n(g[f].ea,0,u,d+224,8)),i=8*a*t.B,g=t.sa,f=t.ta+16*r+16*a*t.R,m=t.qa,p=t.ra+8*r+i,b=t.Ha,v=t.Ia+8*r+i,i=0;16>i;++i)n(g,f+i*t.R,l,c+32*i,16);for(i=0;8>i;++i)n(m,p+i*t.B,h,A+32*i,8),n(b,v+i*t.B,u,d+32*i,8)}}function Mi(t,n,o,r,s,a,l,c,h){var A=[0],u=[0],d=0,p=null!=h?h.kd:0,g=null!=h?h:new ii;if(null==t||12>o)return 7;g.data=t,g.w=n,g.ha=o,n=[n],o=[o],g.gb=[g.gb];t:{var f=n,b=o,v=g.gb;if(e(null!=t),e(null!=b),e(null!=v),v[0]=0,12<=b[0]&&!i(t,f[0],"RIFF")){if(i(t,f[0]+8,"WEBP")){v=3;break t}var y=I(t,f[0]+4);if(12>y||4294967286<y){v=3;break t}if(p&&y>b[0]-8){v=7;break t}v[0]=y,f[0]+=12,b[0]-=12}v=0}if(0!=v)return v;for(y=0<g.gb[0],o=o[0];;){t:{var x=t;b=n,v=o;var _=A,C=u,B=f=[0];if((k=d=[d])[0]=0,8>v[0])v=7;else{if(!i(x,b[0],"VP8X")){if(10!=I(x,b[0]+4)){v=3;break t}if(18>v[0]){v=7;break t}var S=I(x,b[0]+8),E=1+L(x,b[0]+12);if(2147483648<=E*(x=1+L(x,b[0]+15))){v=3;break t}null!=B&&(B[0]=S),null!=_&&(_[0]=E),null!=C&&(C[0]=x),b[0]+=18,v[0]-=18,k[0]=1}v=0}}if(d=d[0],f=f[0],0!=v)return v;if(b=!!(2&f),!y&&d)return 3;if(null!=a&&(a[0]=!!(16&f)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=A[0],f=u[0],d&&b&&null==h){v=0;break}if(4>o){v=7;break}if(y&&d||!y&&!d&&!i(t,n[0],"ALPH")){o=[o],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];t:{S=t,v=n,y=o;var k=g.gb;_=g.na,C=g.P,B=g.Sa,E=22,e(null!=S),e(null!=y),x=v[0];var F=y[0];for(e(null!=_),e(null!=B),_[0]=null,C[0]=null,B[0]=0;;){if(v[0]=x,y[0]=F,8>F){v=7;break t}var T=I(S,x+4);if(4294967286<T){v=3;break t}var M=8+T+1&-2;if(E+=M,0<k&&E>k){v=3;break t}if(!i(S,x,"VP8 ")||!i(S,x,"VP8L")){v=0;break t}if(F[0]<M){v=7;break t}i(S,x,"ALPH")||(_[0]=S,C[0]=x+8,B[0]=T),x+=M,F-=M}}if(o=o[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=v)break}o=[o],g.Ja=[g.Ja],g.xa=[g.xa];t:if(k=t,v=n,y=o,_=g.gb[0],C=g.Ja,B=g.xa,S=v[0],x=!i(k,S,"VP8 "),E=!i(k,S,"VP8L"),e(null!=k),e(null!=y),e(null!=C),e(null!=B),8>y[0])v=7;else{if(x||E){if(k=I(k,S+4),12<=_&&k>_-12){v=3;break t}if(p&&k>y[0]-8){v=7;break t}C[0]=k,v[0]+=8,y[0]-=8,B[0]=E}else B[0]=5<=y[0]&&47==k[S+0]&&!(k[S+4]>>5),C[0]=y[0];v=0}if(o=o[0],g.Ja=g.Ja[0],g.xa=g.xa[0],n=n[0],0!=v)break;if(4294967286<g.Ja)return 3;if(null==c||b||(c[0]=g.xa?2:1),l=[l],f=[f],g.xa){if(5>o){v=7;break}c=l,p=f,b=a,null==t||5>o?t=0:5<=o&&47==t[n+0]&&!(t[n+4]>>5)?(y=[0],k=[0],_=[0],m(C=new w,t,n,o),gt(C,y,k,_)?(null!=c&&(c[0]=y[0]),null!=p&&(p[0]=k[0]),null!=b&&(b[0]=_[0]),t=1):t=0):t=0}else{if(10>o){v=7;break}c=f,null==t||10>o||!Xt(t,n+3,o-3)?t=0:(p=t[n+0]|t[n+1]<<8|t[n+2]<<16,b=16383&(t[n+7]<<8|t[n+6]),t=16383&(t[n+9]<<8|t[n+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=g.Ja||!b||!t?t=0:(l&&(l[0]=b),c&&(c[0]=t),t=1))}if(!t)return 3;if(l=l[0],f=f[0],d&&(A[0]!=l||u[0]!=f))return 3;null!=h&&(h[0]=g,h.offset=n-h.w,e(4294967286>n-h.w),e(h.offset==h.ha-o));break}return 0==v||7==v&&d&&null==h?(null!=a&&(a[0]|=null!=g.na&&0<g.na.length),null!=r&&(r[0]=l),null!=s&&(s[0]=f),0):v}function Pi(t,e,i){var n=e.width,o=e.height,r=0,s=0,a=n,l=o;if(e.Da=null!=t&&0<t.Da,e.Da&&(a=t.cd,l=t.bd,r=t.v,s=t.j,11>i||(r&=-2,s&=-2),0>r||0>s||0>=a||0>=l||r+a>n||s+l>o))return 0;if(e.v=r,e.j=s,e.va=r+a,e.o=s+l,e.U=a,e.T=l,e.da=null!=t&&0<t.da,e.da){if(!N(a,l,i=[t.ib],r=[t.hb]))return 0;e.ib=i[0],e.hb=r[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*n/4&&e.hb<3*o/4,e.Kb=0),1}function Ri(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else e=t.f.kb,t=t.height,e.O+=(t-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function Ni(t,e,i,n){if(null==n||0>=t||0>=e)return 2;if(null!=i){if(i.Da){var o=i.cd,s=i.bd,a=-2&i.v,l=-2&i.j;if(0>a||0>l||0>=o||0>=s||a+o>t||l+s>e)return 2;t=o,e=s}if(i.da){if(!N(t,e,o=[i.ib],s=[i.hb]))return 2;t=o[0],e=s[0]}}n.width=t,n.height=e;t:{var c=n.width,h=n.height;if(t=n.S,0>=c||0>=h||!(t>=Rn&&13>t))t=2;else{if(0>=n.Rd&&null==n.sd){a=s=o=e=0;var A=(l=c*zo[t])*h;if(11>t||(s=(h+1)/2*(e=(c+1)/2),12==t&&(a=(o=c)*h)),null==(h=r(A+2*s+a))){t=1;break t}n.sd=h,11>t?((c=n.f.RGBA).eb=h,c.fb=0,c.A=l,c.size=A):((c=n.f.kb).y=h,c.O=0,c.fa=l,c.Fd=A,c.f=h,c.N=0+A,c.Ab=e,c.Cd=s,c.ea=h,c.W=0+A+s,c.Db=e,c.Ed=s,12==t&&(c.F=h,c.J=0+A+2*s),c.Tc=a,c.lb=o)}if(e=1,o=n.S,s=n.width,a=n.height,o>=Rn&&13>o)if(11>o)t=n.f.RGBA,e&=(l=Math.abs(t.A))*(a-1)+s<=t.size,e&=l>=s*zo[o],e&=null!=t.eb;else{t=n.f.kb,l=(s+1)/2,A=(a+1)/2,c=Math.abs(t.fa),h=Math.abs(t.Ab);var u=Math.abs(t.Db),d=Math.abs(t.lb),p=d*(a-1)+s;e&=c*(a-1)+s<=t.Fd,e&=h*(A-1)+l<=t.Cd,e=(e&=u*(A-1)+l<=t.Ed)&c>=s&h>=l&u>=l,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==o&&(e&=d>=s,e&=p<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t||null!=i&&i.fd&&(t=Ri(n)),t}var Oi=64,Ui=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Di=24,Qi=32,Hi=8,zi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];D("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(t){return t},t.Predictor2=function(t,e,i){return e[i+0]},t.Predictor3=function(t,e,i){return e[i+1]},t.Predictor4=function(t,e,i){return e[i-1]},t.Predictor5=function(t,e,i){return H(H(t,e[i+1]),e[i+0])},t.Predictor6=function(t,e,i){return H(t,e[i-1])},t.Predictor7=function(t,e,i){return H(t,e[i+0])},t.Predictor8=function(t,e,i){return H(e[i-1],e[i+0])},t.Predictor9=function(t,e,i){return H(e[i+0],e[i+1])},t.Predictor10=function(t,e,i){return H(H(t,e[i-1]),H(e[i+0],e[i+1]))},t.Predictor11=function(t,e,i){var n=e[i+0];return 0>=G(n>>24&255,t>>24&255,(e=e[i-1])>>24&255)+G(n>>16&255,t>>16&255,e>>16&255)+G(n>>8&255,t>>8&255,e>>8&255)+G(255&n,255&t,255&e)?n:t},t.Predictor12=function(t,e,i){var n=e[i+0];return(z((t>>24&255)+(n>>24&255)-((e=e[i-1])>>24&255))<<24|z((t>>16&255)+(n>>16&255)-(e>>16&255))<<16|z((t>>8&255)+(n>>8&255)-(e>>8&255))<<8|z((255&t)+(255&n)-(255&e)))>>>0},t.Predictor13=function(t,e,i){var n=e[i-1];return(j((t=H(t,e[i+0]))>>24&255,n>>24&255)<<24|j(t>>16&255,n>>16&255)<<16|j(t>>8&255,n>>8&255)<<8|j(255&t,255&n))>>>0};var ji=t.PredictorAdd0;t.PredictorAdd1=V,D("Predictor2","PredictorAdd2"),D("Predictor3","PredictorAdd3"),D("Predictor4","PredictorAdd4"),D("Predictor5","PredictorAdd5"),D("Predictor6","PredictorAdd6"),D("Predictor7","PredictorAdd7"),D("Predictor8","PredictorAdd8"),D("Predictor9","PredictorAdd9"),D("Predictor10","PredictorAdd10"),D("Predictor11","PredictorAdd11"),D("Predictor12","PredictorAdd12"),D("Predictor13","PredictorAdd13");var Gi=t.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",(function(t){return t>>8&255}),(function(t){return t})),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(t){return t}),(function(t){return t>>8&255}));var Vi,Ki=t.ColorIndexInverseTransform,qi=t.MapARGB,Wi=t.VP8LColorIndexInverseTransformAlpha,Xi=t.MapAlpha,$i=t.VP8LPredictorsAdd=[];$i.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var Yi,Zi,Ji,tn,en,nn,on,rn,sn,an,ln,cn,hn,An,un,dn,pn,gn,fn,mn,bn,vn,yn,wn,xn,_n,Cn,Bn,Sn=r(511),En=r(2041),kn=r(225),Fn=r(767),Tn=0,Ln=En,In=kn,Mn=Fn,Pn=Sn,Rn=0,Nn=1,On=2,Un=3,Dn=4,Qn=5,Hn=6,zn=7,jn=8,Gn=9,Vn=10,Kn=[2,3,7],qn=[3,3,11],Wn=[280,256,256,256,40],Xn=[0,1,1,1,0],$n=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jn=8,to=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],io=null,no=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oo=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ro=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],so=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ao=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],co=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ho=[],Ao=[],uo=[],po=1,go=2,fo=[],mo=[];fi("UpsampleRgbLinePair",xi,3),fi("UpsampleBgrLinePair",_i,3),fi("UpsampleRgbaLinePair",ki,4),fi("UpsampleBgraLinePair",Ei,4),fi("UpsampleArgbLinePair",Si,4),fi("UpsampleRgba4444LinePair",Bi,2),fi("UpsampleRgb565LinePair",Ci,2);var bo=t.UpsampleRgbLinePair,vo=t.UpsampleBgrLinePair,yo=t.UpsampleRgbaLinePair,wo=t.UpsampleBgraLinePair,xo=t.UpsampleArgbLinePair,_o=t.UpsampleRgba4444LinePair,Co=t.UpsampleRgb565LinePair,Bo=16,So=1<<Bo-1,Eo=-227,ko=482,Fo=6,To=(256<<Fo)-1,Lo=0,Io=r(256),Mo=r(256),Po=r(256),Ro=r(256),No=r(ko-Eo),Oo=r(ko-Eo);Fi("YuvToRgbRow",xi,3),Fi("YuvToBgrRow",_i,3),Fi("YuvToRgbaRow",ki,4),Fi("YuvToBgraRow",Ei,4),Fi("YuvToArgbRow",Si,4),Fi("YuvToRgba4444Row",Bi,2),Fi("YuvToRgb565Row",Ci,2);var Uo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Do=[0,2,8],Qo=[8,7,6,4,4,2,2,2,1,1,1,1],Ho=1;this.WebPDecodeRGBA=function(t,i,a,l,c){var h=Nn,A=new ei,u=new st;A.ba=u,u.S=h,u.width=[u.width],u.height=[u.height];var d=u.width,p=u.height,g=new at;if(null==g||null==t)var f=2;else e(null!=g),f=Mi(t,i,a,g.width,g.height,g.Pd,g.Qd,g.format,null);if(0!=f?d=0:(null!=d&&(d[0]=g.width[0]),null!=p&&(p[0]=g.height[0]),d=1),d){u.width=u.width[0],u.height=u.height[0],null!=l&&(l[0]=u.width),null!=c&&(c[0]=u.height);t:{if(l=new Kt,(c=new ii).data=t,c.w=i,c.ha=a,c.kd=1,i=[0],e(null!=c),(0==(t=Mi(c.data,c.w,c.ha,null,null,null,i,null,c))||7==t)&&i[0]&&(t=4),0==(i=t)){if(e(null!=A),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=dt,l.ac=ut,l.bc=pt,l.ma=A,c.xa){if(null==(t=kt())){A=1;break t}if(function(t,i){var n=[0],o=[0],r=[0];e:for(;;){if(null==t)return 0;if(null==i)return t.a=2,0;if(t.l=i,t.a=0,m(t.m,i.data,i.w,i.ha),!gt(t.m,n,o,r)){t.a=3;break e}if(t.xb=go,i.width=n[0],i.height=o[0],!Ft(n[0],o[0],1,t,null))break e;return 1}return e(0!=t.a),0}(t,l)){if(l=0==(i=Ni(l.width,l.height,A.Oa,A.ba))){e:{l=t;i:for(;;){if(null==l){l=0;break e}if(e(null!=l.s.yc),e(null!=l.s.Ya),e(0<l.s.Wb),e(null!=(a=l.l)),e(null!=(c=a.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,e(null!=l.ca),!Pi(c.Oa,a,Un)){l.a=2;break i}if(!Tt(l,a.width))break i;if(a.da)break i;if((a.da||nt(l.ca.S))&&gi(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gi()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!M(l.s.vb,l.s.Wa.Xa)){l.a=1;break i}l.xb=0}if(!St(l,l.V,l.Ba,l.c,l.i,a.o,xt))break i;c.Dc=l.Ma,l=1;break e}e(0!=l.a),l=0}l=!l}l&&(i=t.a)}else i=t.a}else{if(null==(t=new qt)){A=1;break t}if(t.Fa=c.na,t.P=c.P,t.qc=c.Sa,$t(t,l)){if(0==(i=Ni(l.width,l.height,A.Oa,A.ba))){if(t.Aa=0,a=A.Oa,e(null!=(c=t)),null!=a){if(0<(d=0>(d=a.Md)?0:100<d?255:255*d/100)){for(p=g=0;4>p;++p)12>(f=c.pb[p]).lc&&(f.ia=d*Qo[0>f.lc?0:f.lc]>>3),g|=f.ia;g&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=a.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(t,i){if(null==t)return 0;if(null==i)return Wt(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!$t(t,i))return 0;if(e(t.cb),null==i.ac||i.ac(i)){i.ob&&(t.L=0);var a=Do[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=i.v-a>>4,t.zb=i.j-a>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=i.o+15+a>>4,t.Hb=i.va+15+a>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var l=t.ed;for(a=0;4>a;++a){var c;if(t.Qa.Cb){var h=t.Qa.Lb[a];t.Qa.Fb||(h+=l.Tb)}else h=l.Tb;for(c=0;1>=c;++c){var A=t.gd[a][c],u=h;if(l.Pc&&(u+=l.vd[0],c&&(u+=l.od[0])),0<(u=0>u?0:63<u?63:u)){var d=u;0<l.wb&&(d=4<l.wb?d>>2:d>>1)>9-l.wb&&(d=9-l.wb),1>d&&(d=1),A.dd=d,A.tc=2*u+d,A.ld=40<=u?2:15<=u?1:0}else A.tc=0;A.La=c}}}a=0}else Wt(t,6,"Frame setup failed"),a=t.a;if(a=0==a){if(a){t.$c=0,0<t.Aa||(t.Ic=Ho);e:{a=t.Ic,l=4*(d=t.za);var p=32*d,g=d+1,f=0<t.L?d*(0<t.Aa?2:1):0,m=(2==t.Aa?2:1)*d;if((A=l+832+(c=3*(16*a+Do[t.L])/2*p)+(h=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=A)a=0;else{if(A>t.Vb){if(t.Vb=0,t.Ec=r(A),t.Fc=0,null==t.Ec){a=Wt(t,1,"no memory during frame initialization.");break e}t.Vb=A}A=t.Ec,u=t.Fc,t.Ac=A,t.Bc=u,u+=l,t.Gd=s(p,jt),t.Hd=0,t.rb=s(g+1,Dt),t.sb=1,t.wa=f?s(f,Ut):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=d),e(!0),t.oc=A,t.pc=u,u+=832,t.ya=s(m,Ht),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=d),t.R=16*d,t.B=8*d,d=(p=Do[t.L])*t.R,p=p/2*t.B,t.sa=A,t.ta=u+d,t.qa=t.sa,t.ra=t.ta+16*a*t.R+p,t.Ha=t.qa,t.Ia=t.ra+8*a*t.B+p,t.$c=0,u+=c,t.mb=h?A:null,t.nb=h?u:null,e(u+h<=t.Fc+t.Vb),Zt(t),o(t.Ac,t.Bc,0,l),a=1}}if(a){if(i.ka=0,i.y=t.sa,i.O=t.ta,i.f=t.qa,i.N=t.ra,i.ea=t.Ha,i.Vd=t.Ia,i.fa=t.R,i.Rc=t.B,i.F=null,i.J=0,!Tn){for(a=-255;255>=a;++a)Sn[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)En[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)kn[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Fn[255+a]=0>a?0:255<a?255:a;Tn=1}on=le,rn=oe,an=re,ln=se,cn=ae,sn=ne,hn=qe,An=We,un=Ye,dn=Ze,pn=Xe,gn=$e,fn=Je,mn=ti,bn=He,vn=ze,yn=je,wn=Ge,Ao[0]=_e,Ao[1]=he,Ao[2]=we,Ao[3]=xe,Ao[4]=Ce,Ao[5]=Se,Ao[6]=Be,Ao[7]=Ee,Ao[8]=Fe,Ao[9]=ke,ho[0]=fe,ho[1]=ue,ho[2]=de,ho[3]=pe,ho[4]=me,ho[5]=be,ho[6]=ve,uo[0]=Me,uo[1]=Ae,uo[2]=Te,uo[3]=Le,uo[4]=Re,uo[5]=Pe,uo[6]=Ne,a=1}else a=0}a&&(a=function(t,i){for(t.M=0;t.M<t.Va;++t.M){var s,a=t.Jc[t.M&t.Xb],l=t.m,c=t;for(s=0;s<c.za;++s){var h=l,A=c,u=A.Ac,d=A.Bc+4*s,p=A.zc,g=A.ya[A.aa+s];if(A.Qa.Bb?g.$b=k(h,A.Pa.jb[0])?2+k(h,A.Pa.jb[2]):k(h,A.Pa.jb[1]):g.$b=0,A.kc&&(g.Ad=k(h,A.Bd)),g.Za=!k(h,145)+0,g.Za){var f=g.Ob,m=0;for(A=0;4>A;++A){var b,v=p[0+A];for(b=0;4>b;++b){v=ao[u[d+b]][v];for(var y=ro[k(h,v[0])];0<y;)y=ro[2*y+k(h,v[y])];v=-y,u[d+b]=v}n(f,m,u,d,4),m+=4,p[0+A]=v}}else v=k(h,156)?k(h,128)?1:3:k(h,163)?2:0,g.Ob[0]=v,o(u,d,v,4),o(p,0,v,4);g.Dd=k(h,142)?k(h,114)?k(h,183)?1:3:2:0}if(c.m.Ka)return Wt(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(c=a,h=(l=t).rb[l.sb-1],u=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],d=l.kc?s.Ad:0)h.la=u.la=0,s.Za||(h.Na=u.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,x;if(h=u,u=c,d=l.Pa.Xc,p=l.ya[l.aa+l.ja],g=l.pb[p.$b],A=p.ad,f=0,m=l.rb[l.sb-1],v=b=0,o(A,f,0,384),p.Za)var _=0,C=d[3];else{y=r(16);var B=h.Na+m.Na;if(B=io(u,d[1],B,g.Eb,0,y,0),h.Na=m.Na=(0<B)+0,1<B)on(y,0,A,f);else{var S=y[0]+3>>3;for(y=0;256>y;y+=16)A[f+y]=S}_=1,C=d[0]}var E=15&h.la,F=15&m.la;for(y=0;4>y;++y){var T=1&F;for(S=x=0;4>S;++S)E=E>>1|(T=(B=io(u,C,B=T+(1&E),g.Sc,_,A,f))>_)<<7,x=x<<2|(3<B?3:1<B?2:0!=A[f+0]),f+=16;E>>=4,F=F>>1|T<<7,b=(b<<8|x)>>>0}for(C=E,_=F>>4,w=0;4>w;w+=2){for(x=0,E=h.la>>4+w,F=m.la>>4+w,y=0;2>y;++y){for(T=1&F,S=0;2>S;++S)B=T+(1&E),E=E>>1|(T=0<(B=io(u,d[2],B,g.Qc,0,A,f)))<<3,x=x<<2|(3<B?3:1<B?2:0!=A[f+0]),f+=16;E>>=2,F=F>>1|T<<5}v|=x<<4*w,C|=E<<4<<w,_|=(240&F)<<w}h.la=C,m.la=_,p.Hc=b,p.Gc=v,p.ia=43690&v?0:g.ia,d=!(b|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!d),c.Ka)return Wt(t,7,"Premature end-of-file encountered.")}if(Zt(t),l=i,c=1,s=(a=t).D,h=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(s.M=a.M,s.uc=h,Ii(a,s),c=1,s=(x=a.D).Nb,h=(v=Do[a.L])*a.R,u=v/2*a.B,y=16*s*a.R,S=8*s*a.B,d=a.sa,p=a.ta-h+y,g=a.qa,A=a.ra-u+S,f=a.Ha,m=a.Ia-u+S,F=0==(E=x.M),b=E>=a.Va-1,2==a.Aa&&Ii(a,x),x.uc)for(T=(B=a).D.M,e(B.D.uc),x=B.yb;x<B.Hb;++x){_=x,C=T;var L=(I=(H=B).D).Nb;w=H.R;var I=I.wa[I.Y+_],M=H.sa,P=H.ta+16*L*w+16*_,R=I.dd,N=I.tc;if(0!=N)if(e(3<=N),1==H.L)0<_&&vn(M,P,w,N+4),I.La&&wn(M,P,w,N),0<C&&bn(M,P,w,N+4),I.La&&yn(M,P,w,N);else{var O=H.B,U=H.qa,D=H.ra+8*L*O+8*_,Q=H.Ha,H=H.Ia+8*L*O+8*_;L=I.ld,0<_&&(An(M,P,w,N+4,R,L),dn(U,D,Q,H,O,N+4,R,L)),I.La&&(gn(M,P,w,N,R,L),mn(U,D,Q,H,O,N,R,L)),0<C&&(hn(M,P,w,N+4,R,L),un(U,D,Q,H,O,N+4,R,L)),I.La&&(pn(M,P,w,N,R,L),fn(U,D,Q,H,O,N,R,L))}}if(a.ia&&alert("todo:DitherRow"),null!=l.put){if(x=16*E,E=16*(E+1),F?(l.y=a.sa,l.O=a.ta+y,l.f=a.qa,l.N=a.ra+S,l.ea=a.Ha,l.W=a.Ia+S):(x-=v,l.y=d,l.O=p,l.f=g,l.N=A,l.ea=f,l.W=m),b||(E-=v),E>l.o&&(E=l.o),l.F=null,l.J=null,null!=a.Fa&&0<a.Fa.length&&x<E&&(l.J=hi(a,l,x,E-x),l.F=a.mb,null==l.F&&0==l.F.length)){c=Wt(a,3,"Could not decode alpha data.");break e}x<l.j&&(v=l.j-x,x=l.j,e(!(1&v)),l.O+=a.R*v,l.N+=a.B*(v>>1),l.W+=a.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),x<E&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=x-l.j,l.U=l.va-l.v,l.T=E-x,c=l.put(l))}s+1!=a.Ic||b||(n(a.sa,a.ta-h,d,p+16*a.R,h),n(a.qa,a.ra-u,g,A+8*a.B,u),n(a.Ha,a.Ia-u,f,m+8*a.B,u))}if(!c)return Wt(t,6,"Output aborted.")}return 1}(t,i)),null!=i.bc&&i.bc(i),a&=1}return a?(t.cb=0,a):0})(t,l)||(i=t.a)}}else i=t.a}0==i&&null!=A.Oa&&A.Oa.fd&&(i=Ri(A.ba))}A=i}h=0!=A?null:11>h?u.f.RGBA.eb:u.f.kb.y}else h=null;return h};var zo=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(t,e){for(var i="",n=0;n<4;n++)i+=String.fromCharCode(t[e++]);return i}function h(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16)>>>0}function A(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}new l;var u=[0],d=[0],p=[],g=new l,f=t,m=function(t,e){var i={},n=0,o=!1,r=0,s=0;if(i.frames=[],!
/** @license
             * Copyright (c) 2017 Dominik Homberger
            Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
            The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
            THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
            https://webpjs.appspot.com
            WebPRiffParser dominikhlbg@gmail.com
            */
function(t,e,i,n){for(var o=0;o<4;o++)if(t[e+o]!="RIFF".charCodeAt(o))return!0;return!1}(t,e)){var a,l;for(A(t,e+=4),e+=8;e<t.length;){var u=c(t,e),d=A(t,e+=4);e+=4;var p=d+(1&d);switch(u){case"VP8 ":case"VP8L":void 0===i.frames[n]&&(i.frames[n]={}),(m=i.frames[n]).src_off=o?s:e-8,m.src_size=r+d+8,n++,o&&(o=!1,r=0,s=0);break;case"VP8X":(m=i.header={}).feature_flags=t[e];var g=e+4;m.canvas_width=1+h(t,g),g+=3,m.canvas_height=1+h(t,g),g+=3;break;case"ALPH":o=!0,r=p+8,s=e-8;break;case"ANIM":(m=i.header).bgcolor=A(t,e),g=e+4,m.loop_count=(a=t)[(l=g)+0]|a[l+1]<<8,g+=2;break;case"ANMF":var f,m;(m=i.frames[n]={}).offset_x=2*h(t,e),e+=3,m.offset_y=2*h(t,e),e+=3,m.width=1+h(t,e),e+=3,m.height=1+h(t,e),e+=3,m.duration=h(t,e),e+=3,f=t[e++],m.dispose=1&f,m.blend=f>>1&1}"ANMF"!=u&&(e+=p)}return i}}(f,0);m.response=f,m.rgbaoutput=!0,m.dataurl=!1;var b=m.header?m.header:null,v=m.frames?m.frames:null;if(b){b.loop_counter=b.loop_count,u=[b.canvas_height],d=[b.canvas_width];for(var y=0;y<v.length&&0!=v[y].blend;y++);}var w=v[0],x=g.WebPDecodeRGBA(f,w.src_off,w.src_size,d,u);w.rgba=x,w.imgwidth=d[0],w.imgheight=u[0];for(var _=0;_<d[0]*u[0]*4;_++)p[_]=x[_];return this.width=d,this.height=u,this.data=p,this}!function(t){var e=function(e,n,l,c){var h=4,A=r;switch(c){case t.image_compression.FAST:h=1,A=o;break;case t.image_compression.MEDIUM:h=6,A=s;break;case t.image_compression.SLOW:h=9,A=a}var u=dY(e=i(e,n,l,A),{level:h});return t.__addimage__.arrayBufferToBinaryString(u)},i=function(t,e,i,n){for(var o,r,s,a=t.length/e,l=new Uint8Array(t.length+a),A=c(),u=0;u<a;u+=1){if(s=u*e,o=t.subarray(s,s+e),n)l.set(n(o,i,r),s+u);else{for(var d,p=A.length,g=[];d<p;d+=1)g[d]=A[d](o,i,r);var f=h(g.concat());l.set(g[f],s+u)}r=o}return l},n=function(t){var e=Array.apply([],t);return e.unshift(0),e},o=function(t,e){var i,n=[],o=t.length;n[0]=1;for(var r=0;r<o;r+=1)i=t[r-e]||0,n[r+1]=t[r]-i+256&255;return n},r=function(t,e,i){var n,o=[],r=t.length;o[0]=2;for(var s=0;s<r;s+=1)n=i&&i[s]||0,o[s+1]=t[s]-n+256&255;return o},s=function(t,e,i){var n,o,r=[],s=t.length;r[0]=3;for(var a=0;a<s;a+=1)n=t[a-e]||0,o=i&&i[a]||0,r[a+1]=t[a]+256-(n+o>>>1)&255;return r},a=function(t,e,i){var n,o,r,s,a=[],c=t.length;a[0]=4;for(var h=0;h<c;h+=1)n=t[h-e]||0,o=i&&i[h]||0,r=i&&i[h-e]||0,s=l(n,o,r),a[h+1]=t[h]-s+256&255;return a},l=function(t,e,i){if(t===e&&e===i)return t;var n=Math.abs(e-i),o=Math.abs(t-i),r=Math.abs(t+e-i-i);return n<=o&&n<=r?t:o<=r?e:i},c=function(){return[n,o,r,s,a]},h=function(t){var e=t.map((function(t){return t.reduce((function(t,e){return t+Math.abs(e)}),0)}));return e.indexOf(Math.min.apply(null,e))};t.processPNG=function(i,n,o,r){var s,a,l,c,h,A,u,d,p,g,f,m,b,v,y,w=this.decode.FLATE_DECODE,x="";if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){if(i=(l=new aJ(i)).imgData,a=l.bits,s=l.colorSpace,h=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){p=(d=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,f=new Uint8Array(p*l.colors),g=new Uint8Array(p);var _,C=l.pixelBitlength-l.bits;for(v=0,y=0;v<p;v++){for(b=d[v],_=0;_<C;)f[y++]=b>>>_&255,_+=l.bits;g[v]=b>>>_&255}}if(16===l.bits){p=(d=new Uint32Array(l.decodePixels().buffer)).length,f=new Uint8Array(p*(32/l.pixelBitlength)*l.colors),g=new Uint8Array(p*(32/l.pixelBitlength)),m=l.colors>1,v=0,y=0;for(var B=0;v<p;)b=d[v++],f[y++]=b>>>0&255,m&&(f[y++]=b>>>16&255,b=d[v++],f[y++]=b>>>0&255),g[B++]=b>>>16&255;a=8}r!==t.image_compression.NONE?(i=e(f,l.width*l.colors,l.colors,r),u=e(g,l.width,1,r)):(i=f,u=g,w=void 0)}if(3===l.colorType&&(s=this.color_spaces.INDEXED,A=l.palette,l.transparency.indexed)){var S=l.transparency.indexed,E=0;for(v=0,p=S.length;v<p;++v)E+=S[v];if((E/=255)==p-1&&-1!==S.indexOf(0))c=[S.indexOf(0)];else if(E!==p){for(d=l.decodePixels(),g=new Uint8Array(d.length),v=0,p=d.length;v<p;v++)g[v]=S[d[v]];u=e(g,l.width,1)}}var k=function(e){var i;switch(e){case t.image_compression.FAST:i=11;break;case t.image_compression.MEDIUM:i=13;break;case t.image_compression.SLOW:i=14;break;default:i=12}return i}(r);return w===this.decode.FLATE_DECODE&&(x="/Predictor "+k+" "),x+="/Colors "+h+" /BitsPerComponent "+a+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(u&&this.__addimage__.isArrayBuffer(u)||this.__addimage__.isArrayBufferView(u))&&(u=this.__addimage__.arrayBufferToBinaryString(u)),{alias:o,data:i,index:n,filter:w,decodeParameters:x,transparency:c,palette:A,sMask:u,predictor:k,width:l.width,height:l.height,bitsPerComponent:a,colorSpace:s}}}}(WY.API),function(t){t.processGIF89A=function(e,i,n,o){var r=new lJ(e),s=r.width,a=r.height,l=[];r.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},h=new hJ(100).encode(c,100);return t.processJPEG.call(this,h,i,n,o)},t.processGIF87A=t.processGIF89A}(WY.API),AJ.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:n,blue:i,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},AJ.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(i){mY.log("bit decode error:"+i)}},AJ.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),i=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,o=0;o<e;o++)for(var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*o*4,a=0;a<8&&8*o+a<this.width;a++){var l=this.palette[r>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}0!==i&&(this.pos+=4-i)}},AJ.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,o=0;o<t;o++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*o*4,a=r>>4,l=15&r,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*o+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==e&&(this.pos+=4-e)}},AJ.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),r=i*this.width*4+4*n;if(o<this.palette.length){var s=this.palette[o];this.data[r]=s.red,this.data[r+1]=s.green,this.data[r+2]=s.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}0!==t&&(this.pos+=4-t)}},AJ.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(r&e)/e*255|0,a=(r>>5&e)/e*255|0,l=(r>>10&e)/e*255|0,c=r>>15?255:0,h=n*this.width*4+4*o;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=s,this.data[h+3]=c}this.pos+=t}},AJ.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),i=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&i)/i*255|0,c=(s>>11)/e*255|0,h=o*this.width*4+4*r;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=t}},AJ.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;this.data[s]=r,this.data[s+1]=o,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},AJ.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*i;this.data[a]=r,this.data[a+1]=o,this.data[a+2]=n,this.data[a+3]=s}},AJ.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2018 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){t.processBMP=function(e,i,n,o){var r=new AJ(e,!1),s=r.width,a=r.height,l={data:r.getData(),width:s,height:a},c=new hJ(100).encode(l,100);return t.processJPEG.call(this,c,i,n,o)}}(WY.API),uJ.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2019 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){t.processWEBP=function(e,i,n,o){var r=new uJ(e),s=r.width,a=r.height,l={data:r.getData(),width:s,height:a},c=new hJ(100).encode(l,100);return t.processJPEG.call(this,c,i,n,o)}}(WY.API),WY.API.processRGBA=function(t,e,i){for(var n=t.data,o=n.length,r=new Uint8Array(o/4*3),s=new Uint8Array(o/4),a=0,l=0,c=0;c<o;c+=4){var h=n[c],A=n[c+1],u=n[c+2],d=n[c+3];r[a++]=h,r[a++]=A,r[a++]=u,s[l++]=d}var p=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:e,alias:i,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},WY.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},iJ=WY.API,nJ=iJ.getCharWidthsArray=function(t,e){var i,n,o=(e=e||{}).font||this.internal.getFont(),r=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:o.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:o.metadata.Unicode.kerning,h=c.fof?c.fof:1,A=!1!==e.doKerning,u=0,d=t.length,p=0,g=a[0]||l,f=[];for(i=0;i<d;i++)n=t.charCodeAt(i),"function"==typeof o.metadata.widthOfString?f.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(n))+s*(1e3/r)||0)/1e3):(u=A&&"object"===k$(c[n])&&!isNaN(parseInt(c[n][p],10))?c[n][p]/h:0,f.push((a[n]||g)/l+u)),p=n;return f},oJ=iJ.getStringUnitWidth=function(t,e){var i=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return iJ.processArabic&&(t=iJ.processArabic(t)),"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(t,i,o)/i:nJ.apply(this,arguments).reduce((function(t,e){return t+e}),0)},rJ=function(t,e,i,n){for(var o=[],r=0,s=t.length,a=0;r!==s&&a+e[r]<i;)a+=e[r],r++;o.push(t.slice(0,r));var l=r;for(a=0;r!==s;)a+e[r]>n&&(o.push(t.slice(l,r)),a=0,l=r),a+=e[r],r++;return l!==r&&o.push(t.slice(l,r)),o},sJ=function(t,e,i){i||(i={});var n,o,r,s,a,l,c,h=[],A=[h],u=i.textIndent||0,d=0,p=0,g=t.split(" "),f=nJ.apply(this,[" ",i])[0];if(l=-1===i.lineIndent?g[0].length+2:i.lineIndent||0){var m=Array(l).join(" "),b=[];g.map((function(t){(t=t.split(/\s*\n/)).length>1?b=b.concat(t.map((function(t,e){return(e&&t.length?"\n":"")+t}))):b.push(t[0])})),g=b,l=oJ.apply(this,[m,i])}for(r=0,s=g.length;r<s;r++){var v=0;if(n=g[r],l&&"\n"==n[0]&&(n=n.substr(1),v=1),u+d+(p=(o=nJ.apply(this,[n,i])).reduce((function(t,e){return t+e}),0))>e||v){if(p>e){for(a=rJ.apply(this,[n,o,e-(u+d),e]),h.push(a.shift()),h=[a.pop()];a.length;)A.push([a.shift()]);p=o.slice(n.length-(h[0]?h[0].length:0)).reduce((function(t,e){return t+e}),0)}else h=[n];A.push(h),u=p+l,d=f}else h.push(n),u+=d+p,d=f}return c=l?function(t,e){return(e?m:"")+t.join(" ")}:function(t){return t.join(" ")},A.map(c)},iJ.splitTextToSize=function(t,e,i){var n,o=(i=i||{}).fontSize||this.internal.getFontSize(),r=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle);return e.metadata.Unicode?{widths:e.metadata.Unicode.widths||{0:1},kerning:e.metadata.Unicode.kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,i);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/o;r.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/o:0,r.lineIndent=i.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(sJ.apply(this,[n[a],s,r]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",i={},n={},o=0;o<16;o++)i[e[o]]="0123456789abcdef"[o],n["0123456789abcdef"[o]]=e[o];var r=function(t){return"0x"+parseInt(t,10).toString(16)},s=t.__fontmetrics__.compress=function(t){var e,i,o,a,l=["{"];for(var c in t){if(e=t[c],isNaN(parseInt(c,10))?i="'"+c+"'":(c=parseInt(c,10),i=(i=r(c).slice(2)).slice(0,-1)+n[i.slice(-1)]),"number"==typeof e)e<0?(o=r(e).slice(3),a="-"):(o=r(e).slice(2),a=""),o=a+o.slice(0,-1)+n[o.slice(-1)];else{if("object"!==k$(e))throw new Error("Don't know what to do with value type "+k$(e)+".");o=s(e)}l.push(i+o)}return l.push("}"),l.join("")},a=t.__fontmetrics__.uncompress=function(t){if("string"!=typeof t)throw new Error("Invalid argument passed to uncompress.");for(var e,n,o,r,s={},a=1,l=s,c=[],h="",A="",u=t.length-1,d=1;d<u;d+=1)"'"==(r=t[d])?e?(o=e.join(""),e=void 0):e=[]:e?e.push(r):"{"==r?(c.push([l,o]),l={},o=void 0):"}"==r?((n=c.pop())[0][n[1]]=l,o=void 0,l=n[0]):"-"==r?a=-1:void 0===o?i.hasOwnProperty(r)?(h+=i[r],o=parseInt(h,16)*a,a=1,h=""):h+=r:i.hasOwnProperty(r)?(A+=i[r],l[o]=parseInt(A,16)*a,a=1,o=void 0,A=""):A+=r;return s},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e=t.font,i=h.Unicode[e.postScriptName];i&&(e.metadata.Unicode={},e.metadata.Unicode.widths=i.widths,e.metadata.Unicode.kerning=i.kerning);var n=c.Unicode[e.postScriptName];n&&(e.metadata.Unicode.encoding=n,e.encoding=n.codePages[0])}])}(WY.API),
/**
       * @license
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){var e=function(t){for(var e=t.length,i=new Uint8Array(e),n=0;n<e;n++)i[n]=t.charCodeAt(n);return i};t.API.events.push(["addFont",function(i){var n,o,r=void 0,s=i.font,a=i.instance;if(!s.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(r=!1===a.existsFileInVFS(s.postScriptName)?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");n=s,o=/^\x00\x01\x00\x00/.test(o=r)?e(o):e(wY(o)),n.metadata=t.API.TTFFont.open(o),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}}])}(WY),WY.API.addSvgAsImage=function(t,e,i,n,o,r,s,a){if(isNaN(e)||isNaN(i))throw mY.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(o))throw mY.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=o;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(gY.canvg?Promise.resolve(gY.canvg):Promise.resolve().then((()=>Gmt))).catch((function(t){return Promise.reject(new Error("Could not load canvg: "+t))})).then((function(t){return t.default?t.default:t})).then((function(e){return e.fromString(c,t,h)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(t){return t.render(h)})).then((function(){A.addImage(l.toDataURL("image/jpeg",1),e,i,n,o,s,a)}))},WY.API.putTotalPages=function(t){var e,i=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),i=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),i=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var o=0;o<this.internal.pages[n].length;o++)this.internal.pages[n][o]=this.internal.pages[n][o].replace(e,i);return this},WY.API.viewerPreferences=function(t,e){var i;t=t||{},e=e||!1;var n,o,r,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,h=0,A=0;function u(t,e){var i,n=!1;for(i=0;i<t.length;i+=1)t[i]===e&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),i=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var d=a.length;for(A=0;A<d;A+=1)i[a[A]].value=i[a[A]].defaultValue,i[a[A]].explicitSet=!1}if("object"===k$(t))for(o in t)if(r=t[o],u(a,o)&&void 0!==r){if("boolean"===i[o].type&&"boolean"==typeof r)i[o].value=r;else if("name"===i[o].type&&u(i[o].valueSet,r))i[o].value=r;else if("integer"===i[o].type&&Number.isInteger(r))i[o].value=r;else if("array"===i[o].type){for(c=0;c<r.length;c+=1)if(n=!0,1===r[c].length&&"number"==typeof r[c][0])l.push(String(r[c]-1));else if(r[c].length>1){for(h=0;h<r[c].length;h+=1)"number"!=typeof r[c][h]&&(n=!1);!0===n&&l.push([r[c][0]-1,r[c][1]-1].join(" "))}i[o].value="["+l.join(" ")+"]"}else i[o].value=i[o].defaultValue;i[o].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var t,e=[];for(t in i)!0===i[t].explicitSet&&("name"===i[t].type?e.push("/"+t+" /"+i[t].value):e.push("/"+t+" "+i[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=i,this},
/** ====================================================================
       * @license
       * jsPDF XMP metadata plugin
       * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
       *
       * Permission is hereby granted, free of charge, to any person obtaining
       * a copy of this software and associated documentation files (the
       * "Software"), to deal in the Software without restriction, including
       * without limitation the rights to use, copy, modify, merge, publish,
       * distribute, sublicense, and/or sell copies of the Software, and to
       * permit persons to whom the Software is furnished to do so, subject to
       * the following conditions:
       *
       * The above copyright notice and this permission notice shall be
       * included in all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
       * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
       * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
       * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
       * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
       * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
       * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
       * ====================================================================
       */
function(t){var e=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(t)),n=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),r=unescape(encodeURIComponent("</x:xmpmeta>")),s=i.length+n.length+o.length+e.length+r.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(e+i+n+o+r),this.internal.write("endstream"),this.internal.write("endobj")},i=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(t,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",i),this.internal.events.subscribe("postPutResources",e)),this}}(WY.API),function(t){var e=t.API,i=e.pdfEscape16=function(t,e){for(var i,n=e.metadata.Unicode.widths,o=["","0","00","000","0000"],r=[""],s=0,a=t.length;s<a;++s){if(i=e.metadata.characterToGlyph(t.charCodeAt(s)),e.metadata.glyIdsUsed.push(i),e.metadata.toUnicode[i]=t.charCodeAt(s),-1==n.indexOf(i)&&(n.push(i),n.push([parseInt(e.metadata.widthOfGlyph(i),10)])),"0"==i)return r.join("");i=i.toString(16),r.push(o[4-i.length],i)}return r.join("")},n=function(t){var e,i,n,o,r,s,a;for(r="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],s=0,a=(i=Object.keys(t).sort((function(t,e){return t-e}))).length;s<a;s++)e=i[s],n.length>=100&&(r+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),void 0!==t[e]&&null!==t[e]&&"function"==typeof t[e].toString&&(o=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),n.push("<"+e+"><"+o+">"));return n.length&&(r+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),r+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(e){!function(e){var i=e.font,o=e.out,r=e.newObject,s=e.putStream;if(i.metadata instanceof t.API.TTFFont&&"Identity-H"===i.encoding){for(var a=i.metadata.Unicode.widths,l=i.metadata.subset.encode(i.metadata.glyIdsUsed,1),c="",h=0;h<l.length;h++)c+=String.fromCharCode(l[h]);var A=r();s({data:c,addLength1:!0,objectId:A}),o("endobj");var u=r();s({data:n(i.metadata.toUnicode),addLength1:!0,objectId:u}),o("endobj");var d=r();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+zY(i.fontName)),o("/FontFile2 "+A+" 0 R"),o("/FontBBox "+t.API.PDFObject.convert(i.metadata.bbox)),o("/Flags "+i.metadata.flags),o("/StemV "+i.metadata.stemV),o("/ItalicAngle "+i.metadata.italicAngle),o("/Ascent "+i.metadata.ascender),o("/Descent "+i.metadata.decender),o("/CapHeight "+i.metadata.capHeight),o(">>"),o("endobj");var p=r();o("<<"),o("/Type /Font"),o("/BaseFont /"+zY(i.fontName)),o("/FontDescriptor "+d+" 0 R"),o("/W "+t.API.PDFObject.convert(a)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+i.encoding+")"),o(">>"),o(">>"),o("endobj"),i.objectNumber=r(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+u+" 0 R"),o("/BaseFont /"+zY(i.fontName)),o("/Encoding /"+i.encoding),o("/DescendantFonts ["+p+" 0 R]"),o(">>"),o("endobj"),i.isAlreadyPutted=!0}}(e)}]),e.events.push(["putFont",function(e){!function(e){var i=e.font,o=e.out,r=e.newObject,s=e.putStream;if(i.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===i.encoding){for(var a=i.metadata.rawData,l="",c=0;c<a.length;c++)l+=String.fromCharCode(a[c]);var h=r();s({data:l,addLength1:!0,objectId:h}),o("endobj");var A=r();s({data:n(i.metadata.toUnicode),addLength1:!0,objectId:A}),o("endobj");var u=r();o("<<"),o("/Descent "+i.metadata.decender),o("/CapHeight "+i.metadata.capHeight),o("/StemV "+i.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+h+" 0 R"),o("/Flags 96"),o("/FontBBox "+t.API.PDFObject.convert(i.metadata.bbox)),o("/FontName /"+zY(i.fontName)),o("/ItalicAngle "+i.metadata.italicAngle),o("/Ascent "+i.metadata.ascender),o(">>"),o("endobj"),i.objectNumber=r();for(var d=0;d<i.metadata.hmtx.widths.length;d++)i.metadata.hmtx.widths[d]=parseInt(i.metadata.hmtx.widths[d]*(1e3/i.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+zY(i.fontName)+"/FontDescriptor "+u+" 0 R/Encoding/"+i.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(i.metadata.hmtx.widths)+">>"),o("endobj"),i.isAlreadyPutted=!0}}(e)}]);var o=function(t){var e,n=t.text||"",o=t.x,r=t.y,s=t.options||{},a=t.mutex||{},l=a.pdfEscape,c=a.activeFontKey,h=a.fonts,A=c,u="",d=0,p="",g=h[A].encoding;if("Identity-H"!==h[A].encoding)return{text:n,x:o,y:r,options:s,mutex:a};for(p=n,A=c,Array.isArray(n)&&(p=n[0]),d=0;d<p.length;d+=1)h[A].metadata.hasOwnProperty("cmap")&&(e=h[A].metadata.cmap.unicode.codeMap[p[d].charCodeAt(0)]),e||p[d].charCodeAt(0)<256&&h[A].metadata.hasOwnProperty("Unicode")?u+=p[d]:u+="";var f="";return parseInt(A.slice(1))<14||"WinAnsiEncoding"===g?f=l(u,A).split("").map((function(t){return t.charCodeAt(0).toString(16)})).join(""):"Identity-H"===g&&(f=i(u,h[A])),a.isHex=!0,{text:f,x:o,y:r,options:s,mutex:a}};e.events.push(["postProcessText",function(t){var e=t.text||"",i=[],n={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if(Array.isArray(e)){var r=0;for(r=0;r<e.length;r+=1)Array.isArray(e[r])&&3===e[r].length?i.push([o(Object.assign({},n,{text:e[r][0]})).text,e[r][1],e[r][2]]):i.push(o(Object.assign({},n,{text:e[r]})).text);t.text=i}else t.text=o(Object.assign({},n,{text:e})).text}])}(WY),
/**
       * @license
       * jsPDF virtual FileSystem functionality
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},t.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(WY.API),
/**
       * @license
       * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
       * MIT License
       */
function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var i,n,o,r,s,a,l,c=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),f=!1,m=0;this.__bidiEngine__={};var b=function(t){var e=t.charCodeAt(),i=e>>8,n=d[i];return void 0!==n?c[256*n+(255&e)]:252===i||253===i?"AL":g.test(i)?"L":8===i?"R":"N"},v=function(t){for(var e,i=0;i<t.length;i++){if("L"===(e=b(t.charAt(i))))return!1;if("R"===e)return!0}return!1},y=function(t,e,s,a){var l,c,h,A,u=e[a];switch(u){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":f=!1;break;case"N":case"AN":break;case"EN":f&&(u="AN");break;case"AL":f=!0,u="R";break;case"WS":case"BN":u="N";break;case"CS":a<1||a+1>=e.length||"EN"!==(l=s[a-1])&&"AN"!==l||"EN"!==(c=e[a+1])&&"AN"!==c?u="N":f&&(c="AN"),u=c===l?c:"N";break;case"ES":u="EN"===(l=a>0?s[a-1]:"B")&&a+1<e.length&&"EN"===e[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===s[a-1]){u="EN";break}if(f){u="N";break}for(h=a+1,A=e.length;h<A&&"ET"===e[h];)h++;u=h<A&&"EN"===e[h]?"EN":"N";break;case"NSM":if(o&&!r){for(A=e.length,h=a+1;h<A&&"NSM"===e[h];)h++;if(h<A){var d=t[a],p=d>=1425&&d<=2303||64286===d;if(l=e[h],p&&("R"===l||"AL"===l)){u="R";break}}}u=a<1||"B"===(l=e[a-1])?"N":s[a-1];break;case"B":f=!1,i=!0,u=m;break;case"S":n=!0,u="N"}return u},w=function(t,e,i){var n=t.split("");return i&&x(n,i,{hiLevel:m}),n.reverse(),e&&e.reverse(),n.join("")},x=function(t,e,o){var r,s,a,l,c,d=-1,p=t.length,g=0,v=[],w=m?A:h,x=[];for(f=!1,i=!1,n=!1,s=0;s<p;s++)x[s]=b(t[s]);for(a=0;a<p;a++){if(c=g,v[a]=y(t,x,v,a),r=240&(g=w[c][u[v[a]]]),g&=15,e[a]=l=w[g][5],r>0)if(16===r){for(s=d;s<a;s++)e[s]=1;d=-1}else d=-1;if(w[g][6])-1===d&&(d=a);else if(d>-1){for(s=d;s<a;s++)e[s]=l;d=-1}"B"===x[a]&&(e[a]=0),o.hiLevel|=l}n&&function(t,e,i){for(var n=0;n<i;n++)if("S"===t[n]){e[n]=m;for(var o=n-1;o>=0&&"WS"===t[o];o--)e[o]=m}}(x,e,p)},_=function(t,e,n,o,r){if(!(r.hiLevel<t)){if(1===t&&1===m&&!i)return e.reverse(),void(n&&n.reverse());for(var s,a,l,c,h=e.length,A=0;A<h;){if(o[A]>=t){for(l=A+1;l<h&&o[l]>=t;)l++;for(c=A,a=l-1;c<a;c++,a--)s=e[c],e[c]=e[a],e[a]=s,n&&(s=n[c],n[c]=n[a],n[a]=s);A=l}A++}}},C=function(t,e,i){var n=t.split(""),o={hiLevel:m};return i||(i=[]),x(n,i,o),function(t,e,i){if(0!==i.hiLevel&&l)for(var n,o=0;o<t.length;o++)1===e[o]&&(n=p.indexOf(t[o]))>=0&&(t[o]=p[n+1])}(n,i,o),_(2,n,e,i,o),_(1,n,e,i,o),n.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,i){if(function(t,e){if(e)for(var i=0;i<t.length;i++)e[i]=i;void 0===r&&(r=v(t)),void 0===a&&(a=v(t))}(t,e),o||!s||a)if(o&&s&&r^a)m=r?1:0,t=w(t,e,i);else if(!o&&s&&a)m=r?1:0,t=C(t,e,i),t=w(t,e);else if(!o||r||s||a){if(o&&!s&&r^a)t=w(t,e),r?(m=0,t=C(t,e,i)):(m=1,t=C(t,e,i),t=w(t,e));else if(o&&r&&!s&&a)m=1,t=C(t,e,i),t=w(t,e);else if(!o&&!s&&r^a){var n=l;r?(m=1,t=C(t,e,i),m=0,l=!1,t=C(t,e,i),l=n):(m=0,t=C(t,e,i),t=w(t,e),m=1,l=!1,t=C(t,e,i),l=n,t=w(t,e))}}else m=0,t=C(t,e,i);else m=r?1:0,t=C(t,e,i);return t},this.__bidiEngine__.setOptions=function(t){t&&(o=t.isInputVisual,s=t.isOutputVisual,r=t.isInputRtl,a=t.isOutputRtl,l=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],i=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,n=(t.x,t.y,t.options||{}),o=(t.mutex,n.lang,[]);if(n.isInputVisual="boolean"!=typeof n.isInputVisual||n.isInputVisual,i.setOptions(n),"[object Array]"===Object.prototype.toString.call(e)){var r=0;for(o=[],r=0;r<e.length;r+=1)"[object Array]"===Object.prototype.toString.call(e[r])?o.push([i.doBidiReorder(e[r][0]),e[r][1],e[r][2]]):o.push([i.doBidiReorder(e[r])]);t.text=o}else t.text=i.doBidiReorder(e);i.setOptions({isInputVisual:!0})}])}(WY),WY.API.TTFFont=function(){function t(t){var e;if(this.rawData=t,e=this.contents=new pJ(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new MJ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new gJ(this.contents),this.head=new bJ(this),this.name=new BJ(this),this.cmap=new yJ(this),this.toUnicode={},this.hhea=new wJ(this),this.maxp=new SJ(this),this.hmtx=new EJ(this),this.post=new _J(this),this.os2=new xJ(this),this.loca=new IJ(this),this.glyf=new FJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,i,n,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,i,n,o;for(o=[],e=0,i=(n=this.bbox).length;e<i;e++)t=n[e],o.push(Math.round(t*this.scaleFactor));return o}.call(this),this.stemV=0,this.post.exists?(i=255&(n=this.post.italic_angle),!!(32768&(e=n>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,i){var n,o,r,s;for(r=0,o=0,s=(t=""+t).length;0<=s?o<s:o>s;o=0<=s?++o:--o)n=t.charCodeAt(o),r+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/e)||0;return r*(e/1e3)},t.prototype.lineHeight=function(t,e){var i;return null==e&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},t}();var dJ,pJ=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(t){var e,i,n;for(n=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)n.push(this.writeByte(t.charCodeAt(e)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,i,n,o,r,s,a;return t=this.readByte(),e=this.readByte(),i=this.readByte(),n=this.readByte(),o=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^o)+65536*(255^r)+256*(255^s)+(255^a)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*n+16777216*o+65536*r+256*s+a},t.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},t.prototype.write=function(t){var e,i,n,o;for(o=[],i=0,n=t.length;i<n;i++)e=t[i],o.push(this.writeByte(e));return o},t}(),gJ=function(){var t;function e(t){var e,i,n;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,n=this.tableCount;0<=n?i<n:i>n;i=0<=n?++i:--i)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var i,n,o,r,s,a,l,c,h,A,u,d,p;for(p in u=Object.keys(e).length,a=Math.log(2),h=16*Math.floor(Math.log(u)/a),r=Math.floor(h/a),c=16*u-h,(n=new pJ).writeInt(this.scalarType),n.writeShort(u),n.writeShort(h),n.writeShort(r),n.writeShort(c),o=16*u,l=n.pos+o,s=null,d=[],e)for(A=e[p],n.writeString(p),n.writeInt(t(A)),n.writeInt(l),n.writeInt(A.length),d=d.concat(A),"head"===p&&(s=l),l+=A.length;l%4;)d.push(0),l++;return n.write(d),i=2981146554-t(n.data),n.pos=s+8,n.writeUInt32(i),n.data},t=function(t){var e,i,n,o;for(t=kJ.call(t);t.length%4;)t.push(0);for(n=new pJ(t),i=0,e=0,o=t.length;e<o;e=e+=4)i+=n.readUInt32();return 4294967295&i},e}(),fJ={}.hasOwnProperty,mJ=function(t,e){for(var i in e)fJ.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};dJ=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var bJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new pJ).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),vJ=function(){function t(t,e){var i,n,o,r,s,a,l,c,h,A,u,d,p,g,f,m,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=t.readByte();break;case 4:for(u=t.readUInt16(),A=u/2,t.pos+=6,o=function(){var e,i;for(i=[],a=e=0;0<=A?e<A:e>A;a=0<=A?++e:--e)i.push(t.readUInt16());return i}(),t.pos+=2,p=function(){var e,i;for(i=[],a=e=0;0<=A?e<A:e>A;a=0<=A?++e:--e)i.push(t.readUInt16());return i}(),l=function(){var e,i;for(i=[],a=e=0;0<=A?e<A:e>A;a=0<=A?++e:--e)i.push(t.readUInt16());return i}(),c=function(){var e,i;for(i=[],a=e=0;0<=A?e<A:e>A;a=0<=A?++e:--e)i.push(t.readUInt16());return i}(),n=(this.length-t.pos+this.offset)/2,s=function(){var e,i;for(i=[],a=e=0;0<=n?e<n:e>n;a=0<=n?++e:--e)i.push(t.readUInt16());return i}(),a=f=0,b=o.length;f<b;a=++f)for(g=o[a],i=m=d=p[a];d<=g?m<=g:m>=g;i=d<=g?++m:--m)0===c[a]?r=i+l[a]:0!==(r=s[c[a]/2+(i-d)-(A-a)]||0)&&(r+=l[a]),this.codeMap[i]=65535&r}t.pos=h}return t.encode=function(t,e){var i,n,o,r,s,a,l,c,h,A,u,d,p,g,f,m,b,v,y,w,x,_,C,B,S,E,k,F,T,L,I,M,P,R,N,O,U,D,Q,H,z,j,G,V,K,q;switch(F=new pJ,r=Object.keys(t).sort((function(t,e){return t-e})),e){case"macroman":for(p=0,g=function(){var t=[];for(d=0;d<256;++d)t.push(0);return t}(),m={0:0},o={},T=0,P=r.length;T<P;T++)null==m[G=t[n=r[T]]]&&(m[G]=++p),o[n]={old:t[n],new:m[t[n]]},g[n]=m[t[n]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(g),{charMap:o,subtable:F.data,maxGlyphID:p+1};case"unicode":for(E=[],h=[],b=0,m={},i={},f=l=null,L=0,R=r.length;L<R;L++)null==m[y=t[n=r[L]]]&&(m[y]=++b),i[n]={old:y,new:m[y]},s=m[y]-n,null!=f&&s===l||(f&&h.push(f),E.push(n),l=s),f=n;for(f&&h.push(f),h.push(65535),E.push(65535),B=2*(C=E.length),_=2*Math.pow(Math.log(C)/Math.LN2,2),A=Math.log(_/2)/Math.LN2,x=2*C-_,a=[],w=[],u=[],d=I=0,N=E.length;I<N;d=++I){if(S=E[d],c=h[d],65535===S){a.push(0),w.push(0);break}if(S-(k=i[S].new)>=32768)for(a.push(0),w.push(2*(u.length+C-d)),n=M=S;S<=c?M<=c:M>=c;n=S<=c?++M:--M)u.push(i[n].new);else a.push(k-S),w.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*C+2*u.length),F.writeUInt16(0),F.writeUInt16(B),F.writeUInt16(_),F.writeUInt16(A),F.writeUInt16(x),z=0,O=h.length;z<O;z++)n=h[z],F.writeUInt16(n);for(F.writeUInt16(0),j=0,U=E.length;j<U;j++)n=E[j],F.writeUInt16(n);for(V=0,D=a.length;V<D;V++)s=a[V],F.writeUInt16(s);for(K=0,Q=w.length;K<Q;K++)v=w[K],F.writeUInt16(v);for(q=0,H=u.length;q<H;q++)p=u[q],F.writeUInt16(p);return{charMap:i,subtable:F.data,maxGlyphID:b+1}}},t}(),yJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,i,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)e=new vJ(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var i,n;return null==e&&(e="macroman"),i=vJ.encode(t,e),(n=new pJ).writeUInt16(0),n.writeUInt16(1),i.table=n.data.concat(i.subtable),i},e}(),wJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),xJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i}(),this.charRange=function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),_J=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="post",e.prototype.parse=function(t){var e,i,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)e=t.readByte(),n.push(this.names.push(t.readString(e)));return n;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=function(){var e,i,n;for(n=[],o=e=0,i=this.file.maxp.numGlyphs;0<=i?e<i:e>i;o=0<=i?++e:--e)n.push(t.readUInt32());return n}.call(this)}},e}(),CJ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},BJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="name",e.prototype.parse=function(t){var e,i,n,o,r,s,a,l,c,h,A;for(t.pos=this.offset,t.readShort(),e=t.readShort(),s=t.readShort(),i=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+s+t.readShort()});for(a={},o=c=0,h=i.length;c<h;o=++c)n=i[o],t.pos=n.offset,l=t.readString(n.length),r=new CJ(l,n),null==a[A=n.nameID]&&(a[A]=[]),a[n.nameID].push(r);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(u){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),SJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),EJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,i,n,o,r,s,a;for(t.pos=this.offset,this.metrics=[],e=0,s=this.file.hhea.numberOfMetrics;0<=s?e<s:e>s;e=0<=s?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var i,o;for(o=[],e=i=0;0<=n?i<n:i>n;e=0<=n?++i:--i)o.push(t.readInt16());return o}(),this.widths=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.metrics).length;t<e;t++)o=i[t],n.push(o.advance);return n}.call(this),i=this.widths[this.widths.length-1],a=[],e=r=0;0<=n?r<n:r>n;e=0<=n?++r:--r)a.push(this.widths.push(i));return a},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),kJ=[].slice,FJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var e,i,n,o,r,s,a,l,c,h;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,i=o.indexOf(t),0===(n=o.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+i,r=(s=new pJ(e.read(n))).readShort(),l=s.readShort(),h=s.readShort(),a=s.readShort(),c=s.readShort(),this.cache[t]=-1===r?new LJ(s,l,h,a,c):new TJ(s,r,l,h,a,c),this.cache[t]))},e.prototype.encode=function(t,e,i){var n,o,r,s,a;for(r=[],o=[],s=0,a=e.length;s<a;s++)n=t[e[s]],o.push(r.length),n&&(r=r.concat(n.encode(i)));return o.push(r.length),{table:r,offsets:o}},e}(),TJ=function(){function t(t,e,i,n,o,r){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=n,this.xMax=o,this.yMax=r,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),LJ=function(){function t(t,e,i,n,o){var r,s;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=n,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],r=this.raw;s=r.readShort(),this.glyphOffsets.push(r.pos),this.glyphIDs.push(r.readUInt16()),32&s;)r.pos+=1&s?4:2,128&s?r.pos+=8:64&s?r.pos+=4:8&s&&(r.pos+=2)}return t.prototype.encode=function(){var t,e,i;for(e=new pJ(kJ.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},t}(),IJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mJ(e,dJ),e.prototype.tag="loca",e.prototype.parse=function(t){var e,i;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,n;for(n=[],i=0,e=this.length;i<e;i+=2)n.push(2*t.readUInt16());return n}.call(this):function(){var e,n;for(n=[],i=0,e=this.length;i<e;i+=4)n.push(t.readUInt32());return n}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),n=0,o=0,r=0;r<i.length;++r)if(i[r]=n,o<e.length&&e[o]==r){++o,i[r]=n;var s=this.offsets[r],a=this.offsets[r+1]-s;a>0&&(n+=a)}for(var l=new Array(4*i.length),c=0;c<i.length;++c)l[4*c+3]=255&i[c],l[4*c+2]=(65280&i[c])>>8,l[4*c+1]=(16711680&i[c])>>16,l[4*c]=(4278190080&i[c])>>24;return l},e}(),MJ=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,i,n,o;for(e in n=this.font.cmap.tables[0].codeMap,t={},o=this.subset)i=o[e],t[e]=n[i];return t},t.prototype.glyphsFor=function(t){var e,i,n,o,r,s,a;for(n={},r=0,s=t.length;r<s;r++)n[o=t[r]]=this.font.glyf.glyphFor(o);for(o in e=[],n)(null!=(i=n[o])?i.compound:void 0)&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in a=this.glyphsFor(e))i=a[o],n[o]=i;return n},t.prototype.encode=function(t,e){var i,n,o,r,s,a,l,c,h,A,u,d,p,g,f;for(n in i=yJ.encode(this.generateCmap(),"unicode"),r=this.glyphsFor(t),u={0:0},f=i.charMap)u[(a=f[n]).old]=a.new;for(d in A=i.maxGlyphID,r)d in u||(u[d]=A++);return c=function(t){var e,i;for(e in i={},t)i[t[e]]=e;return i}(u),h=Object.keys(c).sort((function(t,e){return t-e})),p=function(){var t,e,i;for(i=[],t=0,e=h.length;t<e;t++)s=h[t],i.push(c[s]);return i}(),o=this.font.glyf.encode(r,p,u),l=this.font.loca.encode(o.offsets,p),g={cmap:this.font.cmap.raw(),glyf:o.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();WY.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(i){var n,o,r,s;if(Array.isArray(i))return"["+function(){var t,o,r;for(r=[],t=0,o=i.length;t<o;t++)n=i[t],r.push(e.convert(n));return r}().join(" ")+"]";if("string"==typeof i)return"/"+i;if(null!=i?i.isString:void 0)return"("+i+")";if(i instanceof Date)return"(D:"+t(i.getUTCFullYear(),4)+t(i.getUTCMonth(),2)+t(i.getUTCDate(),2)+t(i.getUTCHours(),2)+t(i.getUTCMinutes(),2)+t(i.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(i)){for(o in r=["<<"],i)s=i[o],r.push("/"+o+" "+e.convert(s));return r.push(">>"),r.join("\n")}return""+i},e}();const PJ=Si({__name:"OlPrintdialogControl",props:{className:{},lang:{},imageType:{},quality:{},orientation:{},immediate:{type:Boolean},openWindow:{type:Boolean},copy:{type:Boolean},print:{type:Boolean},pdf:{type:Boolean},saveAs:{},northImage:{},jsPDF:{},element:{},render:{},target:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(sO,o,n);return r.value.on(["print","error"],(t=>{if(t.image)if(t.pdf){const e=new WY({orientation:t.print.orientation,unit:t.print.unit,format:t.print.size});e.addImage(t.image,"JPEG",t.print.position[0],t.print.position[0],t.print.imageWidth,t.print.imageHeight),e.save(t.print.legend?"legend.pdf":"map.pdf")}else t.canvas.toBlob((e=>{const i=(t.print.legend?"legend.":"map.")+t.imageType.replace("image/","");E$.saveAs(e,i)}),t.imageType,t.quality);else console.warn("No canvas to export")})),e({control:r}),(t,e)=>mo("",!0)}}),RJ=Si({inheritAttrs:!1,__name:"OlProfileControl",props:{className:{},title:{},style:{},selectStyle:{},info:{},width:{},height:{},feature:{},selectable:{type:Boolean},zoomable:{type:Boolean},element:{},render:{},target:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(AO,o,n);return VV(r,["over","out","show","dragstart","dragging","dragend","dragcancel"]),e({control:r}),(t,e)=>mo("",!0)}}),NJ=Si({__name:"OlRotateControl",props:{className:{default:"ol-rotate"},label:{default:""},tipLabel:{default:"Reset rotation"},compassClassName:{default:"ol-compass"},duration:{default:250},autoHide:{type:Boolean,default:!1},render:{},resetNorth:{},target:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(_S,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),OJ=Si({__name:"OlScalelineControl",props:{className:{default:"ol-scale-line"},minWidth:{default:64},render:{},target:{},units:{default:"metric"},bar:{type:Boolean,default:!1},steps:{default:4},text:{default:""},dpi:{default:void 0}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(xN,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),UJ=Si({inheritAttrs:!1,__name:"OlSearchControl",props:{className:{default:"ol-search"},title:{},label:{},reverseTitle:{},placeholder:{},reverse:{type:Boolean},inputLabel:{},collapsed:{type:Boolean},noCollapse:{type:Boolean},typing:{},minLength:{},maxItems:{},maxHistory:{},getTitle:{},autocomplete:{},onselect:{},centerOnSelect:{type:Boolean},zoomOnSelect:{},element:{},render:{},target:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(uO,o,n);return VV(r,["select"]),e({control:r}),(t,e)=>mo("",!0)}}),DJ=Si({__name:"OlSwipeControl",props:{layerList:{},className:{default:"ol-swipe"},position:{default:.5},orientation:{default:"vertical"}},setup(t,{expose:e}){var i;const n=t,o=Pi(),r=QV(n),{control:s}=p$(dO,r,o);return null==(i=n.layerList)||i.forEach(((t,e)=>{s.value.addLayer(t,1===e)})),e({control:s}),(t,e)=>mo("",!0)}}),QJ=Si({__name:"OlToggleControl",props:{className:{},title:{},html:{},interaction:{},active:{type:Boolean},disable:{type:Boolean},bar:{},autoActive:{type:Boolean},onToggle:{},element:{},render:{},target:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(pO,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),HJ=Si({inheritAttrs:!1,__name:"OlVideorecorderControl",props:{className:{},frameRate:{},videoBitsPerSecond:{},videoTarget:{},element:{},render:{},target:{},downloadName:{default:"mapVideo.mp4"}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(gO,o,n);return VV(r,["start","stop","pause","resume"]),r.value.on("stop",(t=>{i.downloadName&&E$.saveAs(t.videoURL,i.downloadName)})),e({control:r}),(t,e)=>mo("",!0)}}),zJ=Si({__name:"OlZoneControl",props:{className:{default:"ol-mapzone"},layer:{},projection:{default:"EPSG:3857"},centerOnClick:{type:Boolean,default:!0},element:{},render:{},target:{},zones:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(fO,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),jJ=Si({__name:"OlZoomControl",props:{duration:{default:250},className:{default:"ol-zoom"},zoomInClassName:{default:"ol-zoom-in"},zoomOutClassName:{default:"ol-zoom-out"},zoomInLabel:{default:"+"},zoomOutLabel:{default:"-"},zoomInTipLabel:{default:"Zoom in"},zoomOutTipLabel:{default:"Zoom Out"},delta:{default:1},target:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(CS,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),GJ=Si({__name:"OlZoomsliderControl",props:{duration:{default:200},className:{default:"ol-zoomslider"},render:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(BN,o,n);return e({control:r}),(t,e)=>mo("",!0)}}),VJ=Si({__name:"OlZoomtoextentControl",props:{className:{default:"ol-zoom-extent"},target:{},label:{default:"E"},tipLabel:{default:"Fit to extent"},extent:{}},setup(t,{expose:e}){const i=t,n=Pi(),o=QV(i),{control:r}=p$(SN,o,n);return e({control:r}),(t,e)=>mo("",!0)}});function KJ(t,e){t.component("OlAttributionControl",g$),t.component("OlFullscreenControl",v$),t.component("OlMousepositionControl",x$),t.component("OlOverviewmapControl",_$),t.component("OlScalelineControl",OJ),t.component("OlZoomControl",jJ),t.component("OlZoomsliderControl",GJ),t.component("OlZoomtoextentControl",VJ),t.component("OlRotateControl",NJ),t.component("OlContextMenuControl",m$),t.component("OlSearchControl",UJ),t.component("OlSwipeControl",DJ),t.component("OlControlBar",b$),t.component("OlToggleControl",QJ),t.component("OlButtonControl",f$),t.component("OlPrintdialogControl",PJ),t.component("OlProfileControl",RJ),t.component("OlVideorecorderControl",HJ),t.component("OlLayerswitcherControl",y$),t.component("OlLayerswitcherimageControl",w$),t.component("OlZoneControl",zJ),e&&t.provide("ol-options",e)}function qJ(t,e){const i=en("feature"),n=QV(e),o=Do((()=>{const e=Object.values(n);return new t(...e)}));return Ln(n,(()=>{var t,e;null==(t=null==i?void 0:i.value)||t.setGeometry(o.value),null==(e=null==i?void 0:i.value)||e.changed()})),Ln((()=>i),(()=>{var t;null==(t=null==i?void 0:i.value)||t.setGeometry(o.value)})),fi((()=>{var t;null==(t=null==i?void 0:i.value)||t.setGeometry(o.value)})),yi((()=>{var t;null==(t=null==i?void 0:i.value)||t.setGeometry(void 0)})),o}const WJ=Si({__name:"OlGeomCircle",props:{center:{},radius:{},opt_layout:{default:"XY"}},setup:(t,{expose:e})=>(e({geometry:qJ(uk,t)}),(t,e)=>mo("",!0))}),XJ=Si({__name:"OlGeomLineString",props:{coordinates:{},opt_layout:{default:"XY"}},setup:(t,{expose:e})=>(e({geometry:qJ(vk,t)}),(t,e)=>mo("",!0))}),$J=Si({__name:"OlGeomMultiLineString",props:{coordinates:{},opt_layout:{default:"XY"}},setup:(t,{expose:e})=>(e({geometry:qJ(yk,t)}),(t,e)=>mo("",!0))}),YJ=Si({__name:"OlGeomMultiPoint",props:{coordinates:{},opt_layout:{default:"XY"}},setup:(t,{expose:e})=>(e({geometry:qJ(wk,t)}),(t,e)=>mo("",!0))}),ZJ=Si({__name:"OlGeomMultiPolygon",props:{coordinates:{},opt_layout:{default:"XY"}},setup:(t,{expose:e})=>(e({geometry:qJ(_k,t)}),(t,e)=>mo("",!0))}),JJ=Si({__name:"OlGeomPoint",props:{coordinates:{},opt_layout:{default:"XY"}},setup:(t,{expose:e})=>(e({geometry:qJ(mw,t)}),(t,e)=>mo("",!0))}),t0=Si({__name:"OlGeomPolygon",props:{coordinates:{},opt_layout:{default:"XY"}},setup:(t,{expose:e})=>(e({geometry:qJ(Pw,t)}),(t,e)=>mo("",!0))});function e0(t,e){t.component("OlGeomCircle",WJ),t.component("OlGeomLineString",XJ),t.component("OlGeomMultiLineString",$J),t.component("OlGeomMultiPoint",YJ),t.component("OlGeomMultiPolygon",ZJ),t.component("OlGeomPoint",JJ),t.component("OlGeomPolygon",t0),e&&t.provide("ol-options",e)}const i0=Si({__name:"OlStyle",props:{zIndex:{},overrideStyleFunction:{}},setup(t,{expose:e}){const i=t,n=en("stylable",void 0),o=QV(i),r=Do((()=>new MC(o))),s=t=>{const e=null==n?void 0:n.value;if(e)if(e instanceof TO||e instanceof OO)e.getOverlay().setStyle(t),e.changed(),e.dispatchEvent("styleChanged");else try{e.setStyle(t),e.changed(),e.dispatchEvent("styleChanged")}catch(vy){e.style_=t,e.values_.style=t,e.changed(),e.dispatchEvent("styleChanged")}},a=Do((()=>(t,e)=>o.overrideStyleFunction?o.overrideStyleFunction(t,r.value,e):r.value));return Ln(o,(()=>s(o.overrideStyleFunction?a.value:r.value))),fi((()=>s(o.overrideStyleFunction?a.value:r.value))),yi((()=>{s(new MC)})),tn("style",r),tn("styledObj",n),e({style:r}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),n0=Si({__name:"OlStyleCircle",props:{radius:{},scale:{}},setup(t){const e=t,i=en("style",null),n=en("styledObj",null),o=QV(e),r=Do((()=>{return t=o,new TC({...t,fill:new LC,stroke:new IC});var t})),s=()=>{var t,e,o;null==(t=null==i?void 0:i.value)||t.setImage(null),null==(e=null==i?void 0:i.value)||e.setImage(r.value),null==(o=null==n?void 0:n.value)||o.changed()};return Ln(o,(()=>{s()})),Ln((()=>i),(()=>{s()})),fi((()=>{s()})),yi((()=>{var t;null==(t=null==i?void 0:i.value)||t.setImage(null)})),tn("circle",r),tn("styledObj",n),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),o0=Si({__name:"OlStyleStroke",props:{color:{},lineCap:{default:"round"},lineJoin:{default:"round"},lineDash:{},lineDashOffset:{default:0},miterLimit:{default:10},width:{default:1}},setup(t){var e;const i=t,n=en("style",null),o=en("styledObj",null),r=en("circle",null),s=QV(i);if(null!=n&&null==r){let t=new IC(s);null==(e=n.value)||e.setStroke(t);const i=()=>{var e,i;null==(e=null==n?void 0:n.value)||e.setStroke(new IC),t=new IC(s),null==(i=null==n?void 0:n.value)||i.setStroke(t)};Ln(s,(()=>{i()})),Ln(n,(()=>{i()})),fi((()=>{var e;null==(e=null==n?void 0:n.value)||e.setStroke(t)})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setStroke(new IC)}))}else if(null!=r){const t=t=>{var e,i,n,s,a,l,c,h,A,u,d,p,g,f,m,b,v,y;null==(i=null==(e=null==r?void 0:r.value)?void 0:e.getStroke())||i.setColor(t.color||""),null==(s=null==(n=null==r?void 0:r.value)?void 0:n.getStroke())||s.setLineCap(t.lineCap),null==(l=null==(a=null==r?void 0:r.value)?void 0:a.getStroke())||l.setLineDash(t.lineDash||[]),null==(h=null==(c=null==r?void 0:r.value)?void 0:c.getStroke())||h.setLineDashOffset(t.lineDashOffset),null==(u=null==(A=null==r?void 0:r.value)?void 0:A.getStroke())||u.setLineJoin(t.lineJoin),null==(p=null==(d=null==r?void 0:r.value)?void 0:d.getStroke())||p.setMiterLimit(t.miterLimit),null==(f=null==(g=null==r?void 0:r.value)?void 0:g.getStroke())||f.setWidth(t.width),null==(b=null==r?void 0:r.value)||b.setRadius(null==(m=null==r?void 0:r.value)?void 0:m.getRadius());try{null==(v=null==o?void 0:o.value)||v.changed()}catch(vy){null==(y=null==o?void 0:o.value)||y.changed()}};t(s),Ln(s,(e=>{t(e)})),Ln(r,(()=>{t(s)}))}return(t,e)=>mo("",!0)}}),r0=Si({__name:"OlStyleFill",props:{color:{}},setup(t){var e;const i=t,n=en("style",null),o=en("circle",null),r=en("styledObj",null),s=QV(i);if(null!=n&&null==o){let t=new LC(s);null==(e=null==n?void 0:n.value)||e.setFill(t);const i=()=>{var e,i;null==(e=null==n?void 0:n.value)||e.setFill(new LC),t=new LC(s),null==(i=null==n?void 0:n.value)||i.setFill(t)};Ln(s,(()=>{i()})),Ln(n,(()=>{i()})),fi((()=>{var e;null==(e=null==n?void 0:n.value)||e.setFill(t)})),yi((()=>{var t;null==(t=null==n?void 0:n.value)||t.setFill(new LC)}))}else if(null!=o){const t=t=>{var e,i,n;null==(e=null==o?void 0:o.value)||e.getFill().setColor(t||null),null==(i=null==o?void 0:o.value)||i.setRadius(null==o?void 0:o.value.getRadius());try{null==(n=null==r?void 0:r.value)||n.changed()}catch(vy){null==r||r.value.changed()}};t(s.color),Ln(s,(()=>{t(s.color)})),Ln(o,(()=>{t(s.color)}))}return(t,e)=>mo("",!0)}});var s0={exports:{}};/*! dom-to-image-more 14-02-2024 */!function(t,e){!function(e){const i=function(){let t=0;return{escape:function(t){return t.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):(e=t,new Promise((function(t){var i=u(e.toDataURL().split(",")[1]),n=i.length,o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=i.charCodeAt(e);t(new Blob([o],{type:"image/png"}))})));var e},resolveUrl:function(t,e){var i=document.implementation.createHTMLDocument(),n=i.createElement("base"),o=(i.head.appendChild(n),i.createElement("a"));return i.body.appendChild(o),n.href=e,o.href=t,o.href},getAndEncode:function(t){let e=c.impl.urlCache.find((function(e){return e.url===t}));return e||(e={url:t,promise:null},c.impl.urlCache.push(e)),null===e.promise&&(c.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),e.promise=new Promise((function(e){const i=c.impl.options.httpTimeout,n=new XMLHttpRequest;if(n.onreadystatechange=function(){if(4===n.readyState)if(300<=n.status)r?e(r):s(`cannot fetch resource: ${t}, status: `+n.status);else{const t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n.response)}},n.ontimeout=function(){r?e(r):s(`timeout of ${i}ms occured while fetching resource: `+t)},n.responseType="blob",n.timeout=i,0<c.impl.options.useCredentialsFilters.length&&(c.impl.options.useCredentials=0<c.impl.options.useCredentialsFilters.filter((e=>0<=t.search(e))).length),c.impl.options.useCredentials&&(n.withCredentials=!0),c.impl.options.corsImg&&0===t.indexOf("http")&&-1===t.indexOf(window.location.origin)){var o="POST"===(c.impl.options.corsImg.method||"GET").toUpperCase()?"POST":"GET";n.open(o,(c.impl.options.corsImg.url||"").replace("#{cors}",t),!0);let e=!1;const i=c.impl.options.corsImg.headers||{},r=(Object.keys(i).forEach((function(t){-1!==i[t].indexOf("application/json")&&(e=!0),n.setRequestHeader(t,i[t])})),function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){s("corsImg.data is missing or invalid")}}(c.impl.options.corsImg.data||""));Object.keys(r).forEach((function(e){"string"==typeof r[e]&&(r[e]=r[e].replace("#{cors}",t))})),n.send(e?JSON.stringify(r):r)}else n.open("GET",t,!0),n.send();let r;function s(t){console.error(t),e("")}c.impl.options.imagePlaceholder&&(o=c.impl.options.imagePlaceholder.split(/,/))&&o[1]&&(r=o[1])}))),e.promise},uid:function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)+t++},delay:function(t){return function(e){return new Promise((function(i){setTimeout((function(){i(e)}),t)}))}},asArray:function(t){var e=[],i=t.length;for(let n=0;n<i;n++)e.push(t[n]);return e},escapeXhtml:function(t){return t.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return"data:,"!==t?new Promise((function(e,i){const n=new Image;c.impl.options.useCredentials&&(n.crossOrigin="use-credentials"),n.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame((function(){e(n)})):e(n)},n.onerror=i,n.src=t})):Promise.resolve()},width:function(t){var e=s(t,"width");if(!isNaN(e))return e;e=s(t,"border-left-width");var i=s(t,"border-right-width");return t.scrollWidth+e+i},height:function(t){var e=s(t,"height");if(!isNaN(e))return e;e=s(t,"border-top-width");var i=s(t,"border-bottom-width");return t.scrollHeight+e+i},getWindow:i,isElement:r,isElementHostForOpenShadowRoot:function(t){return r(t)&&null!==t.shadowRoot},isShadowRoot:n,isInShadowRoot:o,isHTMLElement:function(t){return t instanceof i(t).HTMLElement},isHTMLCanvasElement:function(t){return t instanceof i(t).HTMLCanvasElement},isHTMLInputElement:function(t){return t instanceof i(t).HTMLInputElement},isHTMLImageElement:function(t){return t instanceof i(t).HTMLImageElement},isHTMLLinkElement:function(t){return t instanceof i(t).HTMLLinkElement},isHTMLScriptElement:function(t){return t instanceof i(t).HTMLScriptElement},isHTMLStyleElement:function(t){return t instanceof i(t).HTMLStyleElement},isHTMLTextAreaElement:function(t){return t instanceof i(t).HTMLTextAreaElement},isShadowSlotElement:function(t){return o(t)&&t instanceof i(t).HTMLSlotElement},isSVGElement:function(t){return t instanceof i(t).SVGElement},isSVGRectElement:function(t){return t instanceof i(t).SVGRectElement},isDimensionMissing:function(t){return isNaN(t)||t<=0}};function i(t){return((t=t?t.ownerDocument:void 0)?t.defaultView:void 0)||e||window}function n(t){return t instanceof i(t).ShadowRoot}function o(t){return null!==t&&Object.prototype.hasOwnProperty.call(t,"getRootNode")&&n(t.getRootNode())}function r(t){return t instanceof i(t).Element}function s(t,e){if(t.nodeType===h){let i=A(t).getPropertyValue(e);if("px"===i.slice(-2))return i=i.slice(0,-2),parseFloat(i)}return NaN}}(),n=function(){const t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,i,r){return e(t)?Promise.resolve(t).then(n).then((function(e){let n=Promise.resolve(t);return e.forEach((function(t){n=n.then((function(e){return o(e,t,i,r)}))})),n})):Promise.resolve(t)},shouldProcess:e,impl:{readUrls:n,inline:o}};function e(e){return-1!==e.search(t)}function n(e){for(var n,o=[];null!==(n=t.exec(e));)o.push(n[1]);return o.filter((function(t){return!i.isDataUrl(t)}))}function o(t,e,n,o){return Promise.resolve(e).then((function(t){return n?i.resolveUrl(t,n):t})).then(o||i.getAndEncode).then((function(n){return t.replace((o=e,new RegExp(`(url\\(['"]?)(${i.escape(o)})(['"]?\\))`,"g")),`$1${n}$3`);var o}))}}(),o={resolveAll:function(){return r().then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:r}};function r(){return Promise.resolve(i.asArray(document.styleSheets)).then((function(t){const e=[];return t.forEach((function(t){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(t),"cssRules"))try{i.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(n){console.error("domtoimage: Error while reading CSS rules from "+t.href,n.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return n.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}));function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return n.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}const s={inlineAll:function t(e){return i.isElement(e)?function(t){const e=["background","background-image"].map((function(e){const i=t.style.getPropertyValue(e),o=t.style.getPropertyPriority(e);return i?n.inlineAll(i).then((function(i){t.style.setProperty(e,i,o)})):Promise.resolve()}));return Promise.all(e).then((function(){return t}))}(e).then((function(){return i.isHTMLImageElement(e)?a(e).inline():Promise.all(i.asArray(e.childNodes).map((function(e){return t(e)})))})):Promise.resolve(e)},impl:{newImage:a}};function a(t){return{inline:function(e){return i.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||i.getAndEncode).then((function(e){return new Promise((function(i){t.onload=i,t.onerror=i,t.src=e}))}))}}}const l={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:"strict",corsImg:void 0,adjustClonedNode:void 0},c={toSvg:d,toPng:function(t,e){return p(t,e).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return p(t,e).then((function(t){return t.toDataURL("image/jpeg",(e?e.quality:void 0)||1)}))},toBlob:function(t,e){return p(t,e).then(i.canvasToBlob)},toPixelData:function(t,e){return p(t,e).then((function(e){return e.getContext("2d").getImageData(0,0,i.width(t),i.height(t)).data}))},toCanvas:p,impl:{fontFaces:o,images:s,util:i,inliner:n,urlCache:[],options:{}}},h=(t.exports=c,("undefined"!=typeof Node?Node.ELEMENT_NODE:void 0)||1),A=(void 0!==e?e.getComputedStyle:void 0)||("undefined"!=typeof window?window.getComputedStyle:void 0)||globalThis.getComputedStyle,u=(void 0!==e?e.atob:void 0)||("undefined"!=typeof window?window.atob:void 0)||globalThis.atob;function d(t,e){c.impl.util.getWindow(t);var n=e=e||{};void 0===n.copyDefaultStyles?c.impl.options.copyDefaultStyles=l.copyDefaultStyles:c.impl.options.copyDefaultStyles=n.copyDefaultStyles,void 0===n.imagePlaceholder?c.impl.options.imagePlaceholder=l.imagePlaceholder:c.impl.options.imagePlaceholder=n.imagePlaceholder,void 0===n.cacheBust?c.impl.options.cacheBust=l.cacheBust:c.impl.options.cacheBust=n.cacheBust,void 0===n.corsImg?c.impl.options.corsImg=l.corsImg:c.impl.options.corsImg=n.corsImg,void 0===n.useCredentials?c.impl.options.useCredentials=l.useCredentials:c.impl.options.useCredentials=n.useCredentials,void 0===n.useCredentialsFilters?c.impl.options.useCredentialsFilters=l.useCredentialsFilters:c.impl.options.useCredentialsFilters=n.useCredentialsFilters,void 0===n.httpTimeout?c.impl.options.httpTimeout=l.httpTimeout:c.impl.options.httpTimeout=n.httpTimeout,void 0===n.styleCaching?c.impl.options.styleCaching=l.styleCaching:c.impl.options.styleCaching=n.styleCaching;let o=[];return Promise.resolve(t).then((function(t){if(t.nodeType===h)return t;var e=t,i=t.parentNode,n=document.createElement("span");return i.replaceChild(n,e),n.append(t),o.push({parent:i,child:e,wrapper:n}),n})).then((function(t){return function t(e,n,o,r){const s=n.filter;return e===g||i.isHTMLScriptElement(e)||i.isHTMLStyleElement(e)||i.isHTMLLinkElement(e)||null!==o&&s&&!s(e)?Promise.resolve():Promise.resolve(e).then((function(t){return i.isHTMLCanvasElement(t)?i.makeImage(t.toDataURL()):t.cloneNode(!1)})).then((function(t){return n.adjustClonedNode&&n.adjustClonedNode(e,t,!1),Promise.resolve(t)})).then((function(o){return function(e,o){const r=l(o);let s=Promise.resolve();if(0!==r.length){const l=A(a(o));i.asArray(r).forEach((function(i){s=s.then((function(){return t(i,n,l).then((function(t){t&&e.appendChild(t)}))}))}))}return s.then((function(){return e}));function a(t){return i.isShadowRoot(t)?t.host:t}function l(t){return i.isShadowSlotElement(t)?t.assignedNodes():t.childNodes}}(o,function(t){return i.isElementHostForOpenShadowRoot(t)?t.shadowRoot:t}(e))})).then((function(t){return n.adjustClonedNode&&n.adjustClonedNode(e,t,!0),Promise.resolve(t)})).then((function(t){return function(t,e){return!i.isElement(t)||i.isShadowSlotElement(e)?Promise.resolve(t):Promise.resolve().then(r).then(s).then(a).then(l).then((function(){return t}));function r(){function r(t,e){e.font=t.font,e.fontFamily=t.fontFamily,e.fontFeatureSettings=t.fontFeatureSettings,e.fontKerning=t.fontKerning,e.fontSize=t.fontSize,e.fontStretch=t.fontStretch,e.fontStyle=t.fontStyle,e.fontVariant=t.fontVariant,e.fontVariantCaps=t.fontVariantCaps,e.fontVariantEastAsian=t.fontVariantEastAsian,e.fontVariantLigatures=t.fontVariantLigatures,e.fontVariantNumeric=t.fontVariantNumeric,e.fontVariationSettings=t.fontVariationSettings,e.fontWeight=t.fontWeight}function s(t,e){const a=A(t);a.cssText?(e.style.cssText=a.cssText,r(a,e.style)):(function(t,e,n,o,r){const a=c.impl.options.copyDefaultStyles?function(t,e){e=function(t){var e=[];do{if(t.nodeType===h){var i=t.tagName;if(e.push(i),y.includes(i))break}}while(t=t.parentNode);return e}(e);var n=function(e){return("relaxed"!==t.styleCaching?e:e.filter(((t,e,i)=>0===e||e===i.length-1))).join(">")}(e);if(v[n])return v[n];var o=function(){if(g)return g.contentWindow;var t=document.characterSet||"UTF-8",e=(e=document.doctype)?(`<!DOCTYPE ${n(e.name)} ${n(e.publicId)} `+n(e.systemId)).trim()+">":"";return(g=document.createElement("iframe")).id="domtoimage-sandbox-"+i.uid(),g.style.visibility="hidden",g.style.position="fixed",document.body.appendChild(g),function(t,e,i,n){try{return t.contentWindow.document.write(e+`<html><head><meta charset='${i}'><title>${n}</title></head><body></body></html>`),t.contentWindow}catch(s){}var o=document.createElement("meta");o.setAttribute("charset",i);try{var r=document.implementation.createHTMLDocument(n),a=(r.head.appendChild(o),e+r.documentElement.outerHTML);return t.setAttribute("srcdoc",a),t.contentWindow}catch(s){}return t.contentDocument.head.appendChild(o),t.contentDocument.title=n,t.contentWindow}(g,e,t,"domtoimage-sandbox");function n(t){var e;return t?((e=document.createElement("div")).innerText=t,e.innerHTML):""}}();e=function(t,e){let i=t.body;do{var n=e.pop();n=t.createElement(n);i.appendChild(n),i=n}while(0<e.length);return i.textContent="",i}(o.document,e),o=function(t,e){const n={},o=t.getComputedStyle(e);return i.asArray(o).forEach((function(t){n[t]="width"===t||"height"===t?"auto":o.getPropertyValue(t)})),n}(o,e);return function(t){do{var e=t.parentElement;null!==e&&e.removeChild(t),t=e}while(t&&"BODY"!==t.tagName)}(e),v[n]=o}(t,e):{},l=r.style;i.asArray(n).forEach((function(t){var e,i=n.getPropertyValue(t),r=a[t],s=o?o.getPropertyValue(t):void 0;(i!==r||o&&i!==s)&&(r=n.getPropertyPriority(t),s=l,e=0<=["background-clip"].indexOf(t),r?(s.setProperty(t,i,r),e&&s.setProperty("-webkit-"+t,i,r)):(s.setProperty(t,i),e&&s.setProperty("-webkit-"+t,i)))}))}(n,t,a,o,e),null===o&&(["inset-block","inset-block-start","inset-block-end"].forEach((t=>e.style.removeProperty(t))),["left","right","top","bottom"].forEach((t=>{e.style.getPropertyValue(t)&&e.style.setProperty(t,"0px")}))))}s(e,t)}function s(){const n=i.uid();function o(o){const r=A(e,o),s=r.getPropertyValue("content");if(""!==s&&"none"!==s){let e=function(){const t=`.${n}:`+o,e=(r.cssText?a:l)();return document.createTextNode(t+`{${e}}`);function a(){return`${r.cssText} content: ${s};`}function l(){return i.asArray(r).map(t).join("; ")+";";function t(t){return t+": "+r.getPropertyValue(t)+(r.getPropertyPriority(t)?" !important":"")}}};const a=t.getAttribute("class")||"",l=(t.setAttribute("class",a+" "+n),document.createElement("style"));l.appendChild(e()),t.appendChild(l)}}[":before",":after"].forEach((function(t){o(t)}))}function a(){i.isHTMLTextAreaElement(e)&&(t.innerHTML=e.value),i.isHTMLInputElement(e)&&t.setAttribute("value",e.value)}function l(){i.isSVGElement(t)&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.isSVGRectElement(t))&&["width","height"].forEach((function(e){const i=t.getAttribute(e);i&&t.style.setProperty(e,i)}))}}(t,e)}))}(t,e,null)})).then(f).then(m).then((function(t){e.bgcolor&&(t.style.backgroundColor=e.bgcolor),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach((function(i){t.style[i]=e.style[i]}));let i=null;return"function"==typeof e.onclone&&(i=e.onclone(t)),Promise.resolve(i).then((function(){return t}))})).then((function(t){let n=e.width||i.width(t),o=e.height||i.height(t);return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(i.escapeXhtml).then((function(t){var e=(i.isDimensionMissing(n)?' width="100%"':` width="${n}"`)+(i.isDimensionMissing(o)?' height="100%"':` height="${o}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(i.isDimensionMissing(n)?"":` width="${n}"`)+(i.isDimensionMissing(o)?"":` height="${o}"`)}><foreignObject${e}>${t}</foreignObject></svg>`})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))})).then((function(t){for(;0<o.length;){var e=o.pop();e.parent.replaceChild(e.child,e.wrapper)}return t})).then((function(t){return c.impl.urlCache=[],g&&(document.body.removeChild(g),g=null),b&&clearTimeout(b),b=setTimeout((()=>{b=null,v={}}),2e4),t}))}function p(t,e){return d(t,e=e||{}).then(i.makeImage).then((function(n){var o="number"!=typeof e.scale?1:e.scale,r=function(t,n){let o=e.width||i.width(t),r=e.height||i.height(t);return i.isDimensionMissing(o)&&(o=i.isDimensionMissing(r)?300:2*r),i.isDimensionMissing(r)&&(r=o/2),(t=document.createElement("canvas")).width=o*n,t.height=r*n,e.bgcolor&&((n=t.getContext("2d")).fillStyle=e.bgcolor,n.fillRect(0,0,t.width,t.height)),t}(t,o),s=r.getContext("2d");return s.msImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1,n&&(s.scale(o,o),s.drawImage(n,0,0)),r}))}let g=null;function f(t){return o.resolveAll().then((function(e){var i;return""!==e&&(i=document.createElement("style"),t.appendChild(i),i.appendChild(document.createTextNode(e))),t}))}function m(t){return s.inlineAll(t).then((function(){return t}))}let b=null,v={};const y=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"]}(C$)}(s0);const a0=B$(s0.exports),l0=Si({__name:"OlStyleIcon",props:{anchor:{},anchorOrigin:{default:"top-left"},anchorXUnits:{default:"fraction"},anchorYUnits:{},color:{},crossOrigin:{},img:{},displacement:{default:()=>[0,0]},opacity:{default:1},width:{},height:{},scale:{},rotateWithView:{type:Boolean,default:!1},rotation:{default:0},offset:{default:()=>[0,0]},offsetOrigin:{default:"top-left"},size:{},src:{},declutterMode:{}},setup(t){const e=t,i=Ri().slots,n=we(),o=we(""),r=en("style",null),s=en("styledObj",null),a=QV(e),l=Do((()=>{const t=new DC({...a,src:a.src||o.value});return t.load(),t})),c=()=>{var t,e,i;null==(t=null==r?void 0:r.value)||t.setImage(null),null==(e=null==r?void 0:r.value)||e.setImage(l.value),null==(i=null==s?void 0:s.value)||i.changed()};return Ln(a,(()=>{c()})),Ln(r,(()=>{c()})),fi((async()=>{i.default&&n.value&&(o.value=await a0.toSvg(n.value,{width:n.value.offsetWidth,height:n.value.offsetHeight,copyDefaultStyles:!0})),c()})),yi((()=>{var t;null==(t=null==r?void 0:r.value)||t.setImage(null)})),(t,e)=>o.value?mo("",!0):(io(),so("div",{key:0,ref_key:"htmlContent",ref:n,style:{display:"flex",position:"absolute","z-index":"-1000"}},[ki(t.$slots,"default")],512))}}),c0=Si({__name:"OlStyleText",props:{font:{},maxAngle:{default:Math.PI/4},offsetX:{default:0},offsetY:{default:0},overflow:{type:Boolean,default:!1},placement:{default:"point"},scale:{},rotateWithView:{type:Boolean,default:!1},rotation:{default:0},text:{},textAlign:{},textBaseline:{default:"middle"},padding:{default:()=>[0,0,0,0]},fill:{},stroke:{},backgroundFill:{},backgroundStroke:{}},setup(t){const e=t,i=en("style",null),n=en("styledObj",null),o=QV(e),r=Do((()=>(t=>{const e={...t};return t.fill&&(e.fill=new LC({color:t.fill})),t.stroke&&(e.stroke=new IC(t.stroke)),t.backgroundFill&&(e.backgroundFill=new LC({color:t.backgroundFill})),t.backgroundStroke&&(e.backgroundStroke=new IC(t.backgroundStroke)),new QC(e)})(o))),s=()=>{var t,e,o;null==(t=null==i?void 0:i.value)||t.setText(new QC),null==(e=null==i?void 0:i.value)||e.setText(r.value),null==(o=null==n?void 0:n.value)||o.changed()};return Ln(o,(()=>{s()})),Ln((()=>null==i?void 0:i.value),(()=>{s()})),fi((()=>{var t;null==(t=null==i?void 0:i.value)||t.setText(r.value)})),yi((()=>{var t;null==(t=null==i?void 0:i.value)||t.setText(new QC)})),tn("style",r),tn("styledObj",n),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}}),h0=Si({__name:"OlStyleFlowline",props:{visible:{type:Boolean,default:!0},width:{},width2:{},color:{},color2:{},arrowClor:{},lineCap:{default:"butt"},arrowSize:{default:16},arrow:{},noOverlap:{type:Boolean},offset0:{},offset1:{},overrideStyleFunction:{}},setup(t,{expose:e}){const i=t,n=en("stylable",null),o=QV(i),r=Do((()=>new zO(o))),s=t=>{var e,i,o;if(null==n?void 0:n.value){if(n.value instanceof TO||(null==n?void 0:n.value)instanceof OO)return n.value.getOverlay().setStyle(t),void n.value.dispatchEvent("styleChanged");try{n.value.setStyle(t),n.value.changed(),null==(e=null==n?void 0:n.value)||e.dispatchEvent("styleChanged")}catch(vy){(null==n?void 0:n.value)&&(n.value.style_=t,n.value.values_.style=t,null==(i=n.value)||i.changed(),null==(o=n.value)||o.dispatchEvent("styleChanged"))}}},a=Do((()=>(t,e)=>(o.overrideStyleFunction&&o.overrideStyleFunction(t,r.value,e),r.value)));return Ln(o,(()=>{s(o.overrideStyleFunction?a.value:r.value)})),fi((()=>{s(o.overrideStyleFunction?a.value:r.value)})),yi((()=>{s(new MC)})),e({style:r}),(t,e)=>(io(),so("div",null,[ki(t.$slots,"default")]))}});function A0(t,e){t.component("OlStyle",i0),t.component("OlStyleCircle",n0),t.component("OlStyleStroke",o0),t.component("OlStyleFill",r0),t.component("OlStyleIcon",l0),t.component("OlStyleText",c0),t.component("OlStyleFlowline",h0),e&&t.provide("ol-options",e)}const u0=Si({inheritAttrs:!1,__name:"OlInteractionClusterselect",props:{featureStyle:{},selectCluster:{type:Boolean,default:!0},pointRadius:{default:7},spiral:{type:Boolean,default:!0},circleMaxObject:{},maxObjects:{},animate:{type:Boolean,default:!0},animationDuration:{default:500},autoClose:{type:Boolean,default:!0},addCondition:{},condition:{},layers:{},style:{},removeCondition:{},toggleCondition:{},multi:{type:Boolean,default:!1},features:{},filter:{},hitTolerance:{}},setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=Do((()=>new qO({style:new MC,...o})));return VV(r,["select"]),Ln(r,((t,e)=>{null==n||n.removeInteraction(e),null==n||n.addInteraction(t),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(r.value)})),yi((()=>{null==n||n.removeInteraction(r.value)})),tn("stylable",r),e({select:r}),(t,e)=>ki(t.$slots,"default")}}),d0=Si({inheritAttrs:!1,__name:"OlInteractionDragbox",props:{className:{},condition:{},minArea:{},boxEndCondition:{},onBoxEnd:{}},setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=Do((()=>new eE(o)));return VV(r,["boxcancel","boxdrag","boxend","boxstart"]),Ln(r,((t,e)=>{null==n||n.removeInteraction(e),null==n||n.addInteraction(t),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(r.value)})),yi((()=>{null==n||n.removeInteraction(r.value)})),e({dragbox:r}),(t,e)=>ki(t.$slots,"default")}}),p0=Si({__name:"OlInteractionDragrotate",props:{condition:{},duration:{default:250}},setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=Do((()=>new WS(o)));return Ln(r,((t,e)=>{null==n||n.removeInteraction(e),null==n||n.addInteraction(t),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(r.value)})),yi((()=>{null==n||n.removeInteraction(r.value)})),e({dragrotate:r}),(t,e)=>ki(t.$slots,"default")}}),g0=Si({__name:"OlInteractionDragrotatezoom",props:{condition:{},duration:{default:400}},setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=Do((()=>new WO(o)));return Ln(r,((t,e)=>{null==n||n.removeInteraction(e),null==n||n.addInteraction(t),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(r.value)})),yi((()=>{null==n||n.removeInteraction(r.value)})),e({dragRotateZoom:r}),(t,e)=>ki(t.$slots,"default")}}),f0=Si({inheritAttrs:!1,__name:"OlInteractionLink",props:{animate:{type:[Boolean,Object],default:!0},params:{default:["x","y","z","r","l"]},replace:{type:Boolean,default:!1},prefix:{default:""}},setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=xe(new ZO(o));return VV(r,["change:active"]),Ln(r,((t,e)=>{null==n||n.removeInteraction(e),null==n||n.addInteraction(t),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(r.value)})),yi((()=>{null==n||n.removeInteraction(r.value)})),tn("stylable",r),e({link:r}),(t,e)=>ki(t.$slots,"default")}}),m0=Si({inheritAttrs:!1,__name:"OlInteractionSelect",props:{multi:{type:Boolean,default:!1},condition:{},filter:{},features:{},hitTolerance:{default:0},removeCondition:{}},setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=Do((()=>new KO({...o,style:new MC})));return VV(r,["select"]),Ln(r,((t,e)=>{null==n||n.removeInteraction(e),null==n||n.addInteraction(t),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(r.value)})),yi((()=>{null==n||n.removeInteraction(r.value)})),tn("stylable",r),e({select:r}),(t,e)=>ki(t.$slots,"default")}}),b0=Si({inheritAttrs:!1,__name:"OlInteractionDraw",props:{type:{},clickTolerance:{default:6},dragVertexDelay:{default:500},snapTolerance:{default:12},stopClick:{type:Boolean,default:!1},maxPoints:{},minPoints:{},finishCondition:{},geometryFunction:{},geometryName:{},condition:{},freehand:{type:Boolean,default:!1},freehandCondition:{},wrapX:{type:Boolean,default:!1}},setup(t,{expose:e}){const i=t,n=en("map"),o=en("vectorSource"),{type:r,clickTolerance:s,dragVertexDelay:a,snapTolerance:l,stopClick:c,maxPoints:h,minPoints:A,finishCondition:u,geometryFunction:d,geometryName:p,condition:g,freehand:f,freehandCondition:m,wrapX:b}=Fe(i);function v(){return new TO({source:null==o?void 0:o.value,type:r.value,clickTolerance:s.value,dragVertexDelay:a.value,snapTolerance:l.value,stopClick:c.value,maxPoints:null==h?void 0:h.value,minPoints:null==A?void 0:A.value,finishCondition:null==u?void 0:u.value,geometryFunction:null==d?void 0:d.value,geometryName:null==p?void 0:p.value,condition:null==g?void 0:g.value,freehand:f.value,freehandCondition:null==m?void 0:m.value,wrapX:b.value})}let y=v();return VV(y,["drawstart","drawend"]),Ln([r,s,a,l,c,h,A,u,d,p,g,f,m,b],(()=>{y.abortDrawing(),null==n||n.removeInteraction(y),y=v(),null==n||n.addInteraction(y),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(y)})),yi((()=>{null==n||n.removeInteraction(y)})),tn("stylable",we(y)),e({draw:y}),(t,e)=>ki(t.$slots,"default")}}),v0=Si({inheritAttrs:!1,__name:"OlInteractionModify",props:{condition:{},deleteCondition:{},insertVertexCondition:{},pixelTolerance:{default:10},wrapX:{type:Boolean,default:!1},hitDetection:{type:Boolean},features:{}},setup(t,{expose:e}){const i=t,n=en("map"),o=en("vectorSource"),{features:r,condition:s,deleteCondition:a,insertVertexCondition:l,pixelTolerance:c,wrapX:h,hitDetection:A}=Fe(i);function u(){return new OO({source:null==o?void 0:o.value,features:null==r?void 0:r.value,condition:null==s?void 0:s.value,deleteCondition:null==a?void 0:a.value,insertVertexCondition:null==l?void 0:l.value,pixelTolerance:c.value,wrapX:h.value,hitDetection:A.value})}let d=u();return VV(d,["modifystart","modifyend"]),Ln([s,a,l,c,h,A],(()=>{d.dispose(),null==n||n.removeInteraction(d),d=u(),null==n||n.addInteraction(d),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(d)})),yi((()=>{null==n||n.removeInteraction(d)})),tn("stylable",we(d)),e({modify:d}),(t,e)=>ki(t.$slots,"default")}}),y0=Si({inheritAttrs:!1,__name:"OlInteractionPointer",props:{handleEvent:{type:Function},stopDown:{type:Function}},emits:["down","move","up","drag"],setup(t,{expose:e,emit:i}){const n=i,o=t,r=en("map"),s=QV(o),a=xe(new FS({...s,handleDownEvent:t=>(n("down",t),!0),handleDragEvent:t=>(n("drag",t),!0),handleMoveEvent:t=>{n("move",t)},handleUpEvent:t=>(n("up",t),!0)}));return VV(a,["change:active"]),Ln(a,((t,e)=>{null==r||r.removeInteraction(e),null==r||r.addInteraction(t),null==r||r.changed()})),fi((()=>{null==r||r.addInteraction(a.value)})),yi((()=>{null==r||r.removeInteraction(a.value)})),e({pointer:a}),(t,e)=>ki(t.$slots,"default")}}),w0=Si({__name:"OlInteractionSnap",props:{vertex:{type:Boolean,default:!0},edge:{type:Boolean,default:!0},pixelTolerance:{default:10}},setup(t,{expose:e}){const i=t,n=en("map"),o=en("vectorSource"),r=QV(i),s=()=>new nU({...r,source:null==o?void 0:o.value});let a=s();return Ln(r,(()=>{null==n||n.removeInteraction(a),a=s(),null==n||n.addInteraction(a),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(a)})),yi((()=>{null==n||n.removeInteraction(a)})),e({snap:a}),(t,e)=>ki(t.$slots,"default")}}),x0=Si({inheritAttrs:!1,__name:"OlInteractionTransform",props:{enableRotatedTransform:{type:Boolean,default:!1},condition:{},addCondition:{},filter:{},hitTolerance:{default:2},translateFeature:{type:Boolean,default:!0},scale:{type:Boolean,default:!0},rotate:{type:Boolean,default:!0},keepAspectRatio:{type:Function,default:()=>!1},translate:{type:Boolean,default:!0},stretch:{type:Boolean,default:!0}},setup(t,{expose:e}){const i=t,n=en("map"),o=QV(i),r=Do((()=>new oU(o)));return VV(r,["select","rotatestart","rotating","rotateend","translatestart","translating","translateend","scalestart","scaling","scaleend"]),Ln(r,((t,e)=>{null==n||n.removeInteraction(e),null==n||n.addInteraction(t),null==n||n.changed()})),fi((()=>{null==n||n.addInteraction(r.value)})),yi((()=>{null==n||n.removeInteraction(r.value)})),tn("stylable",r),e({transform:r}),(t,e)=>ki(t.$slots,"default")}});function _0(t,e){t.component("OlInteractionClusterselect",u0),t.component("OlInteractionDragbox",d0),t.component("OlInteractionDragrotate",p0),t.component("OlInteractionDragrotatezoom",g0),t.component("OlInteractionLink",f0),t.component("OlInteractionSelect",m0),t.component("OlInteractionDraw",b0),t.component("OlInteractionModify",v0),t.component("OlInteractionPointer",y0),t.component("OlInteractionSnap",w0),t.component("OlInteractionTransform",x0),e&&t.provide("ol-options",e)}function C0(t,e){const i=en("map"),n=en("vectorLayer"),o=QV(e),r=Do((()=>new t(o)));return tn("animation",r),{map:i,vectorLayer:n,animation:r,properties:o}}const B0={duration:1e3,revers:!1,repeat:0,easing:Tx},S0=Si({__name:"OlAnimationDrop",props:Oi({duration:{},revers:{type:Boolean},repeat:{},easing:{type:Function},speed:{},side:{}},{...B0,side:0,speed:0}),setup:(t,{expose:e})=>(e(C0(sU,t)),(t,e)=>ki(t.$slots,"default"))}),E0=Si({__name:"OlAnimationFade",props:Oi({duration:{},revers:{type:Boolean},repeat:{},easing:{type:Function}},B0),setup:(t,{expose:e})=>(e(C0(aU,t)),(t,e)=>ki(t.$slots,"default"))}),k0=Si({__name:"OlAnimationPath",props:Oi({duration:{},revers:{type:Boolean},repeat:{},easing:{type:Function},rotate:{type:Boolean},speed:{},path:{}},{...B0,rotate:!1,speed:0}),setup:(t,{expose:e})=>(e(C0(lU,t)),(t,e)=>ki(t.$slots,"default"))}),F0=Si({__name:"OlAnimationShake",props:Oi({duration:{},revers:{type:Boolean},repeat:{},easing:{type:Function},bounce:{},amplitude:{},horizontal:{type:Boolean}},{...B0,bounce:6,amplitude:40,horizontal:!1}),setup:(t,{expose:e})=>(e(C0(cU,t)),(t,e)=>ki(t.$slots,"default"))}),T0=Si({__name:"OlAnimationSlide",props:Oi({duration:{},revers:{type:Boolean},repeat:{},easing:{type:Function},speed:{}},{...B0,speed:0}),setup:(t,{expose:e})=>(e(C0(hU,t)),(t,e)=>ki(t.$slots,"default"))}),L0=Si({__name:"OlAnimationTeleport",props:Oi({duration:{},revers:{type:Boolean},repeat:{},easing:{type:Function}},B0),setup:(t,{expose:e})=>(e(C0(AU,t)),(t,e)=>ki(t.$slots,"default"))}),I0=Si({__name:"OlAnimationZoom",props:Oi({duration:{},revers:{type:Boolean},repeat:{},easing:{type:Function},zoomOut:{type:Boolean}},{...B0,zoomOut:!1}),setup:(t,{expose:e})=>(e(C0(uU,t)),(t,e)=>ki(t.$slots,"default"))});function M0(t,e){t.component("OlAnimationDrop",S0),t.component("OlAnimationFade",E0),t.component("OlAnimationPath",k0),t.component("OlAnimationShake",F0),t.component("OlAnimationSlide",T0),t.component("OlAnimationTeleport",L0),t.component("OlAnimationZoom",I0),e&&t.provide("ol-options",e)}const P0=(t,e)=>{t.provide("ol-feature",Cb),t.provide("ol-geom",Ck),t.provide("ol-animations",Mx),t.provide("ol-format",NV),t.provide("ol-loadingstrategy",Rk),t.provide("ol-selectconditions",KS),t.provide("ol-extent",Cv),e&&t.provide("ol-options",e)},R0={install:(t,e)=>{t.use(MX),t.use(WX),t.use(d$),t.use(KJ),t.use(e0),t.use(A0),t.use(_0),t.use(M0),t.use(P0),t.provide("ol-options",e)}};
/*!
       * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
       * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
       * Released under MIT License
       */
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */
var N0=function(t,e){return N0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},N0(t,e)};function O0(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}N0(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var U0=function(){return U0=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},U0.apply(this,arguments)};function D0(t,e,i,n){return new(i||(i=Promise))((function(e,o){function r(t){try{a(n.next(t))}catch(NZ){o(NZ)}}function s(t){try{a(n.throw(t))}catch(NZ){o(NZ)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(r,s)}a((n=n.apply(t,[])).next())}))}function Q0(t,e){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(NZ){r=[6,NZ],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function H0(t,e,i){if(2===arguments.length)for(var n,o=0,r=e.length;o<r;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||e)}for(var z0=function(){function t(t,e,i,n){this.left=t,this.top=e,this.width=i,this.height=n}return t.prototype.add=function(e,i,n,o){return new t(this.left+e,this.top+i,this.width+n,this.height+o)},t.fromClientRect=function(e,i){return new t(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height)},t.fromDOMRectList=function(e,i){var n=Array.from(i).find((function(t){return 0!==t.width}));return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),j0=function(t,e){return z0.fromClientRect(t,e.getBoundingClientRect())},G0=function(t){for(var e=[],i=0,n=t.length;i<n;){var o=t.charCodeAt(i++);if(o>=55296&&o<=56319&&i<n){var r=t.charCodeAt(i++);56320==(64512&r)?e.push(((1023&o)<<10)+(1023&r)+65536):(e.push(o),i--)}else e.push(o)}return e},V0=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var i=t.length;if(!i)return"";for(var n=[],o=-1,r="";++o<i;){var s=t[o];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(o+1===i||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},K0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q0="undefined"==typeof Uint8Array?[]:new Uint8Array(256),W0=0;W0<64;W0++)q0[K0.charCodeAt(W0)]=W0;for(var X0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$0="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Y0=0;Y0<64;Y0++)$0[X0.charCodeAt(Y0)]=Y0;for(var Z0=function(t,e,i){return t.slice?t.slice(e,i):new Uint16Array(Array.prototype.slice.call(t,e,i))},J0=function(){function t(t,e,i,n,o,r){this.initialValue=t,this.errorValue=e,this.highStart=i,this.highValueIndex=n,this.index=o,this.data=r}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),t1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e1="undefined"==typeof Uint8Array?[]:new Uint8Array(256),i1=0;i1<64;i1++)e1[t1.charCodeAt(i1)]=i1;var n1=10,o1=13,r1=15,s1=17,a1=18,l1=19,c1=20,h1=21,A1=22,u1=24,d1=25,p1=26,g1=27,f1=28,m1=30,b1=32,v1=33,y1=34,w1=35,x1=37,_1=38,C1=39,B1=40,S1=42,E1=[9001,65288],k1="",F1="",T1=function(t,e){var i,n,o,r=function(t){var e,i,n,o,r,s=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),h=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<a;e+=4)i=$0[t.charCodeAt(e)],n=$0[t.charCodeAt(e+1)],o=$0[t.charCodeAt(e+2)],r=$0[t.charCodeAt(e+3)],h[l++]=i<<2|n>>4,h[l++]=(15&n)<<4|o>>2,h[l++]=(3&o)<<6|63&r;return c}(t),s=Array.isArray(r)?function(t){for(var e=t.length,i=[],n=0;n<e;n+=4)i.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return i}(r):new Uint32Array(r),a=Array.isArray(r)?function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i.push(t[n+1]<<8|t[n]);return i}(r):new Uint16Array(r),l=Z0(a,12,s[4]/2),c=2===s[5]?Z0(a,(24+s[4])/2):(i=s,n=Math.ceil((24+s[4])/4),i.slice?i.slice(n,o):new Uint32Array(Array.prototype.slice.call(i,n,o)));return new J0(s[0],s[1],s[2],s[3],l,c)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),L1=[m1,36],I1=[1,2,3,5],M1=[n1,8],P1=[g1,p1],R1=I1.concat(M1),N1=[_1,C1,B1,y1,w1],O1=[r1,o1],U1=function(t,e,i,n){var o=n[i];if(Array.isArray(t)?-1!==t.indexOf(o):t===o)for(var r=i;r<=n.length;){if((l=n[++r])===e)return!0;if(l!==n1)break}if(o===n1)for(r=i;r>0;){var s=n[--r];if(Array.isArray(t)?-1!==t.indexOf(s):t===s)for(var a=i;a<=n.length;){var l;if((l=n[++a])===e)return!0;if(l!==n1)break}if(s!==n1)break}return!1},D1=function(t,e){for(var i=t;i>=0;){var n=e[i];if(n!==n1)return n;i--}return 0},Q1=function(t,e,i,n,o){if(0===i[n])return k1;var r=n-1;if(Array.isArray(o)&&!0===o[r])return k1;var s=r-1,a=r+1,l=e[r],c=s>=0?e[s]:0,h=e[a];if(2===l&&3===h)return k1;if(-1!==I1.indexOf(l))return"!";if(-1!==I1.indexOf(h))return k1;if(-1!==M1.indexOf(h))return k1;if(8===D1(r,e))return F1;if(11===T1.get(t[r]))return k1;if((l===b1||l===v1)&&11===T1.get(t[a]))return k1;if(7===l||7===h)return k1;if(9===l)return k1;if(-1===[n1,o1,r1].indexOf(l)&&9===h)return k1;if(-1!==[s1,a1,l1,u1,f1].indexOf(h))return k1;if(D1(r,e)===A1)return k1;if(U1(23,A1,r,e))return k1;if(U1([s1,a1],h1,r,e))return k1;if(U1(12,12,r,e))return k1;if(l===n1)return F1;if(23===l||23===h)return k1;if(16===h||16===l)return F1;if(-1!==[o1,r1,h1].indexOf(h)||14===l)return k1;if(36===c&&-1!==O1.indexOf(l))return k1;if(l===f1&&36===h)return k1;if(h===c1)return k1;if(-1!==L1.indexOf(h)&&l===d1||-1!==L1.indexOf(l)&&h===d1)return k1;if(l===g1&&-1!==[x1,b1,v1].indexOf(h)||-1!==[x1,b1,v1].indexOf(l)&&h===p1)return k1;if(-1!==L1.indexOf(l)&&-1!==P1.indexOf(h)||-1!==P1.indexOf(l)&&-1!==L1.indexOf(h))return k1;if(-1!==[g1,p1].indexOf(l)&&(h===d1||-1!==[A1,r1].indexOf(h)&&e[a+1]===d1)||-1!==[A1,r1].indexOf(l)&&h===d1||l===d1&&-1!==[d1,f1,u1].indexOf(h))return k1;if(-1!==[d1,f1,u1,s1,a1].indexOf(h))for(var A=r;A>=0;){if((u=e[A])===d1)return k1;if(-1===[f1,u1].indexOf(u))break;A--}if(-1!==[g1,p1].indexOf(h))for(A=-1!==[s1,a1].indexOf(l)?s:r;A>=0;){var u;if((u=e[A])===d1)return k1;if(-1===[f1,u1].indexOf(u))break;A--}if(_1===l&&-1!==[_1,C1,y1,w1].indexOf(h)||-1!==[C1,y1].indexOf(l)&&-1!==[C1,B1].indexOf(h)||-1!==[B1,w1].indexOf(l)&&h===B1)return k1;if(-1!==N1.indexOf(l)&&-1!==[c1,p1].indexOf(h)||-1!==N1.indexOf(h)&&l===g1)return k1;if(-1!==L1.indexOf(l)&&-1!==L1.indexOf(h))return k1;if(l===u1&&-1!==L1.indexOf(h))return k1;if(-1!==L1.concat(d1).indexOf(l)&&h===A1&&-1===E1.indexOf(t[a])||-1!==L1.concat(d1).indexOf(h)&&l===a1)return k1;if(41===l&&41===h){for(var d=i[r],p=1;d>0&&41===e[--d];)p++;if(p%2!=0)return k1}return l===b1&&h===v1?k1:F1},H1=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var i=function(t,e){void 0===e&&(e="strict");var i=[],n=[],o=[];return t.forEach((function(t,r){var s=T1.get(t);if(s>50?(o.push(!0),s-=50):o.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return n.push(r),i.push(16);if(4===s||11===s){if(0===r)return n.push(r),i.push(m1);var a=i[r-1];return-1===R1.indexOf(a)?(n.push(n[r-1]),i.push(a)):(n.push(r),i.push(m1))}return n.push(r),31===s?i.push("strict"===e?h1:x1):s===S1||29===s?i.push(m1):43===s?t>=131072&&t<=196605||t>=196608&&t<=262141?i.push(x1):i.push(m1):void i.push(s)})),[n,i,o]}(t,e.lineBreak),n=i[0],o=i[1],r=i[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(o=o.map((function(t){return-1!==[d1,m1,S1].indexOf(t)?x1:t}))),[n,o,"keep-all"===e.wordBreak?r.map((function(e,i){return e&&t[i]>=19968&&t[i]<=40959})):void 0]},z1=function(){function t(t,e,i,n){this.codePoints=t,this.required="!"===e,this.start=i,this.end=n}return t.prototype.slice=function(){return V0.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),j1=45,G1=43,V1=-1,K1=function(t){return t>=48&&t<=57},q1=function(t){return K1(t)||t>=65&&t<=70||t>=97&&t<=102},W1=function(t){return 10===t||9===t||32===t},X1=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},$1=function(t){return X1(t)||K1(t)||t===j1},Y1=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},Z1=function(t,e){return 92===t&&10!==e},J1=function(t,e,i){return t===j1?X1(e)||Z1(e,i):!!X1(t)||!(92!==t||!Z1(t,e))},t2=function(t,e,i){return t===G1||t===j1?!!K1(e)||46===e&&K1(i):K1(46===t?e:t)},e2=function(t){var e=0,i=1;t[e]!==G1&&t[e]!==j1||(t[e]===j1&&(i=-1),e++);for(var n=[];K1(t[e]);)n.push(t[e++]);var o=n.length?parseInt(V0.apply(void 0,n),10):0;46===t[e]&&e++;for(var r=[];K1(t[e]);)r.push(t[e++]);var s=r.length,a=s?parseInt(V0.apply(void 0,r),10):0;69!==t[e]&&101!==t[e]||e++;var l=1;t[e]!==G1&&t[e]!==j1||(t[e]===j1&&(l=-1),e++);for(var c=[];K1(t[e]);)c.push(t[e++]);var h=c.length?parseInt(V0.apply(void 0,c),10):0;return i*(o+a*Math.pow(10,-s))*Math.pow(10,l*h)},i2={type:2},n2={type:3},o2={type:4},r2={type:13},s2={type:8},a2={type:21},l2={type:9},c2={type:10},h2={type:11},A2={type:12},u2={type:14},d2={type:23},p2={type:1},g2={type:25},f2={type:24},m2={type:26},b2={type:27},v2={type:28},y2={type:29},w2={type:31},x2={type:32},_2=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(G0(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==x2;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),i=this.peekCodePoint(1),n=this.peekCodePoint(2);if($1(e)||Z1(i,n)){var o=J1(e,i,n)?2:1;return{type:5,value:this.consumeName(),flags:o}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),r2;break;case 39:return this.consumeStringToken(39);case 40:return i2;case 41:return n2;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),u2;break;case G1:if(t2(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return o2;case j1:var r=t,s=this.peekCodePoint(0),a=this.peekCodePoint(1);if(t2(r,s,a))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(J1(r,s,a))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(s===j1&&62===a)return this.consumeCodePoint(),this.consumeCodePoint(),f2;break;case 46:if(t2(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(42===l&&47===(l=this.consumeCodePoint()))return this.consumeToken();if(l===V1)return this.consumeToken()}break;case 58:return m2;case 59:return b2;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===j1&&this.peekCodePoint(2)===j1)return this.consumeCodePoint(),this.consumeCodePoint(),g2;break;case 64:var c=this.peekCodePoint(0),h=this.peekCodePoint(1),A=this.peekCodePoint(2);if(J1(c,h,A))return{type:7,value:this.consumeName()};break;case 91:return v2;case 92:if(Z1(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return y2;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),s2;break;case 123:return h2;case 125:return A2;case 117:case 85:var u=this.peekCodePoint(0),d=this.peekCodePoint(1);return u!==G1||!q1(d)&&63!==d||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),l2;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),a2;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),c2;break;case V1:return x2}return W1(t)?(this.consumeWhiteSpace(),w2):K1(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):X1(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:V0(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();q1(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var i=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),i=!0;if(i)return{type:30,start:parseInt(V0.apply(void 0,t.map((function(t){return 63===t?48:t}))),16),end:parseInt(V0.apply(void 0,t.map((function(t){return 63===t?70:t}))),16)};var n=parseInt(V0.apply(void 0,t),16);if(this.peekCodePoint(0)===j1&&q1(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var o=[];q1(e)&&o.length<6;)o.push(e),e=this.consumeCodePoint();return{type:30,start:n,end:parseInt(V0.apply(void 0,o),16)}}return{type:30,start:n,end:n}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===V1)return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var i=this.consumeStringToken(this.consumeCodePoint());return 0===i.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===V1||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),d2)}for(;;){var n=this.consumeCodePoint();if(n===V1||41===n)return{type:22,value:V0.apply(void 0,t)};if(W1(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===V1||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:V0.apply(void 0,t)}):(this.consumeBadUrlRemnants(),d2);if(34===n||39===n||40===n||Y1(n))return this.consumeBadUrlRemnants(),d2;if(92===n){if(!Z1(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),d2;t.push(this.consumeEscapedCodePoint())}else t.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;W1(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||t===V1)return;Z1(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var i=Math.min(5e4,t);e+=V0.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",i=0;;){var n=this._value[i];if(n===V1||void 0===n||n===t)return{type:0,value:e+=this.consumeStringSlice(i)};if(10===n)return this._value.splice(0,i),p2;if(92===n){var o=this._value[i+1];o!==V1&&void 0!==o&&(10===o?(e+=this.consumeStringSlice(i),i=-1,this._value.shift()):Z1(n,o)&&(e+=this.consumeStringSlice(i),e+=V0(this.consumeEscapedCodePoint()),i=-1))}i++}},t.prototype.consumeNumber=function(){var t=[],e=4,i=this.peekCodePoint(0);for(i!==G1&&i!==j1||t.push(this.consumeCodePoint());K1(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(46===i&&K1(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;K1(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0),n=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((69===i||101===i)&&((n===G1||n===j1)&&K1(o)||K1(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;K1(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[e2(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],i=t[1],n=this.peekCodePoint(0),o=this.peekCodePoint(1),r=this.peekCodePoint(2);return J1(n,o,r)?{type:15,number:e,flags:i,unit:this.consumeName()}:37===n?(this.consumeCodePoint(),{type:16,number:e,flags:i}):{type:17,number:e,flags:i}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(q1(t)){for(var e=V0(t);q1(this.peekCodePoint(0))&&e.length<6;)e+=V0(this.consumeCodePoint());W1(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(e,16);return 0===i||function(t){return t>=55296&&t<=57343}(i)||i>1114111?65533:i}return t===V1?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if($1(e))t+=V0(e);else{if(!Z1(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=V0(this.consumeEscapedCodePoint())}}},t}(),C2=function(){function t(t){this._tokens=t}return t.create=function(e){var i=new _2;return i.write(e),new t(i.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},i=this.consumeToken();;){if(32===i.type||M2(i,t))return e;this.reconsumeToken(i),e.values.push(this.consumeComponentValue()),i=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var i=this.consumeToken();if(32===i.type||3===i.type)return e;this.reconsumeToken(i),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?x2:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),B2=function(t){return 15===t.type},S2=function(t){return 17===t.type},E2=function(t){return 20===t.type},k2=function(t){return 0===t.type},F2=function(t,e){return E2(t)&&t.value===e},T2=function(t){return 31!==t.type},L2=function(t){return 31!==t.type&&4!==t.type},I2=function(t){var e=[],i=[];return t.forEach((function(t){if(4===t.type){if(0===i.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(i),void(i=[])}31!==t.type&&i.push(t)})),i.length&&e.push(i),e},M2=function(t,e){return 11===e&&12===t.type||(28===e&&29===t.type||2===e&&3===t.type)},P2=function(t){return 17===t.type||15===t.type},R2=function(t){return 16===t.type||P2(t)},N2=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},O2={type:17,number:0,flags:4},U2={type:16,number:50,flags:4},D2={type:16,number:100,flags:4},Q2=function(t,e,i){var n=t[0],o=t[1];return[H2(n,e),H2(void 0!==o?o:n,i)]},H2=function(t,e){if(16===t.type)return t.number/100*e;if(B2(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},z2="grad",j2="turn",G2=function(t,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case z2:return Math.PI/200*e.number;case"rad":return e.number;case j2:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},V2=function(t){return 15===t.type&&("deg"===t.unit||t.unit===z2||"rad"===t.unit||t.unit===j2)},K2=function(t){switch(t.filter(E2).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[O2,O2];case"to top":case"bottom":return q2(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[O2,D2];case"to right":case"left":return q2(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[D2,D2];case"to bottom":case"top":return q2(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[D2,O2];case"to left":case"right":return q2(270)}return 0},q2=function(t){return Math.PI*t/180},W2=function(t,e){if(18===e.type){var i=i5[e.name];if(void 0===i)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return i(t,e.values)}if(5===e.type){if(3===e.value.length){var n=e.value.substring(0,1),o=e.value.substring(1,2),r=e.value.substring(2,3);return Y2(parseInt(n+n,16),parseInt(o+o,16),parseInt(r+r,16),1)}if(4===e.value.length){n=e.value.substring(0,1),o=e.value.substring(1,2),r=e.value.substring(2,3);var s=e.value.substring(3,4);return Y2(parseInt(n+n,16),parseInt(o+o,16),parseInt(r+r,16),parseInt(s+s,16)/255)}if(6===e.value.length){n=e.value.substring(0,2),o=e.value.substring(2,4),r=e.value.substring(4,6);return Y2(parseInt(n,16),parseInt(o,16),parseInt(r,16),1)}if(8===e.value.length){n=e.value.substring(0,2),o=e.value.substring(2,4),r=e.value.substring(4,6),s=e.value.substring(6,8);return Y2(parseInt(n,16),parseInt(o,16),parseInt(r,16),parseInt(s,16)/255)}}if(20===e.type){var a=o5[e.value.toUpperCase()];if(void 0!==a)return a}return o5.TRANSPARENT},X2=function(t){return!(255&t)},$2=function(t){var e=255&t,i=255&t>>8,n=255&t>>16,o=255&t>>24;return e<255?"rgba("+o+","+n+","+i+","+e/255+")":"rgb("+o+","+n+","+i+")"},Y2=function(t,e,i,n){return(t<<24|e<<16|i<<8|Math.round(255*n))>>>0},Z2=function(t,e){if(17===t.type)return t.number;if(16===t.type){var i=3===e?1:255;return 3===e?t.number/100*i:Math.round(t.number/100*i)}return 0},J2=function(t,e){var i=e.filter(L2);if(3===i.length){var n=i.map(Z2),o=n[0],r=n[1],s=n[2];return Y2(o,r,s,1)}if(4===i.length){var a=i.map(Z2),l=(o=a[0],r=a[1],s=a[2],a[3]);return Y2(o,r,s,l)}return 0};function t5(t,e,i){return i<0&&(i+=1),i>=1&&(i-=1),i<1/6?(e-t)*i*6+t:i<.5?e:i<2/3?6*(e-t)*(2/3-i)+t:t}var e5=function(t,e){var i=e.filter(L2),n=i[0],o=i[1],r=i[2],s=i[3],a=(17===n.type?q2(n.number):G2(t,n))/(2*Math.PI),l=R2(o)?o.number/100:0,c=R2(r)?r.number/100:0,h=void 0!==s&&R2(s)?H2(s,1):1;if(0===l)return Y2(255*c,255*c,255*c,1);var A=c<=.5?c*(l+1):c+l-c*l,u=2*c-A,d=t5(u,A,a+1/3),p=t5(u,A,a),g=t5(u,A,a-1/3);return Y2(255*d,255*p,255*g,h)},i5={hsl:e5,hsla:e5,rgb:J2,rgba:J2},n5=function(t,e){return W2(t,C2.create(e).parseComponentValue())},o5={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},r5={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(E2(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},s5={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},a5=function(t,e){var i=W2(t,e[0]),n=e[1];return n&&R2(n)?{color:i,stop:n}:{color:i,stop:null}},l5=function(t,e){var i=t[0],n=t[t.length-1];null===i.stop&&(i.stop=O2),null===n.stop&&(n.stop=D2);for(var o=[],r=0,s=0;s<t.length;s++){var a=t[s].stop;if(null!==a){var l=H2(a,e);l>r?o.push(l):o.push(r),r=l}else o.push(null)}var c=null;for(s=0;s<o.length;s++){var h=o[s];if(null===h)null===c&&(c=s);else if(null!==c){for(var A=s-c,u=(h-o[c-1])/(A+1),d=1;d<=A;d++)o[c+d-1]=u*d;c=null}}return t.map((function(t,i){return{color:t.color,stop:Math.max(Math.min(1,o[i]/e),0)}}))},c5=function(t,e,i){var n="number"==typeof t?t:function(t,e,i){var n=e/2,o=i/2,r=H2(t[0],e)-n,s=o-H2(t[1],i);return(Math.atan2(s,r)+2*Math.PI)%(2*Math.PI)}(t,e,i),o=Math.abs(e*Math.sin(n))+Math.abs(i*Math.cos(n)),r=e/2,s=i/2,a=o/2,l=Math.sin(n-Math.PI/2)*a,c=Math.cos(n-Math.PI/2)*a;return[o,r-c,r+c,s-l,s+l]},h5=function(t,e){return Math.sqrt(t*t+e*e)},A5=function(t,e,i,n,o){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var r=e[0],s=e[1],a=h5(i-r,n-s);return(o?a<t.optimumDistance:a>t.optimumDistance)?{optimumCorner:e,optimumDistance:a}:t}),{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},u5=function(t,e){var i=q2(180),n=[];return I2(e).forEach((function(e,o){if(0===o){var r=e[0];if(20===r.type&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(i=K2(e));if(V2(r))return void(i=(G2(t,r)+q2(270))%q2(360))}var s=a5(t,e);n.push(s)})),{angle:i,stops:n,type:1}},d5="closest-side",p5="farthest-side",g5="closest-corner",f5="farthest-corner",m5="circle",b5="ellipse",v5="cover",y5="contain",w5=function(t,e){var i=0,n=3,o=[],r=[];return I2(e).forEach((function(e,s){var a=!0;if(0===s?a=e.reduce((function(t,e){if(E2(e))switch(e.value){case"center":return r.push(U2),!1;case"top":case"left":return r.push(O2),!1;case"right":case"bottom":return r.push(D2),!1}else if(R2(e)||P2(e))return r.push(e),!1;return t}),a):1===s&&(a=e.reduce((function(t,e){if(E2(e))switch(e.value){case m5:return i=0,!1;case b5:return i=1,!1;case y5:case d5:return n=0,!1;case p5:return n=1,!1;case g5:return n=2,!1;case v5:case f5:return n=3,!1}else if(P2(e)||R2(e))return Array.isArray(n)||(n=[]),n.push(e),!1;return t}),a)),a){var l=a5(t,e);o.push(l)}})),{size:n,shape:i,stops:o,position:r,type:2}},x5=function(t,e){if(22===e.type){var i={url:e.value,type:0};return t.cache.addImage(e.value),i}if(18===e.type){var n=B5[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)};var _5,C5,B5={"linear-gradient":function(t,e){var i=q2(180),n=[];return I2(e).forEach((function(e,o){if(0===o){var r=e[0];if(20===r.type&&"to"===r.value)return void(i=K2(e));if(V2(r))return void(i=G2(t,r))}var s=a5(t,e);n.push(s)})),{angle:i,stops:n,type:1}},"-moz-linear-gradient":u5,"-ms-linear-gradient":u5,"-o-linear-gradient":u5,"-webkit-linear-gradient":u5,"radial-gradient":function(t,e){var i=0,n=3,o=[],r=[];return I2(e).forEach((function(e,s){var a=!0;if(0===s){var l=!1;a=e.reduce((function(t,e){if(l)if(E2(e))switch(e.value){case"center":return r.push(U2),t;case"top":case"left":return r.push(O2),t;case"right":case"bottom":return r.push(D2),t}else(R2(e)||P2(e))&&r.push(e);else if(E2(e))switch(e.value){case m5:return i=0,!1;case b5:return i=1,!1;case"at":return l=!0,!1;case d5:return n=0,!1;case v5:case p5:return n=1,!1;case y5:case g5:return n=2,!1;case f5:return n=3,!1}else if(P2(e)||R2(e))return Array.isArray(n)||(n=[]),n.push(e),!1;return t}),a)}if(a){var c=a5(t,e);o.push(c)}})),{size:n,shape:i,stops:o,position:r,type:2}},"-moz-radial-gradient":w5,"-ms-radial-gradient":w5,"-o-radial-gradient":w5,"-webkit-radial-gradient":w5,"-webkit-gradient":function(t,e){var i=q2(180),n=[],o=1;return I2(e).forEach((function(e,i){var r=e[0];if(0===i){if(E2(r)&&"linear"===r.value)return void(o=1);if(E2(r)&&"radial"===r.value)return void(o=2)}if(18===r.type)if("from"===r.name){var s=W2(t,r.values[0]);n.push({stop:O2,color:s})}else if("to"===r.name){s=W2(t,r.values[0]);n.push({stop:D2,color:s})}else if("color-stop"===r.name){var a=r.values.filter(L2);if(2===a.length){s=W2(t,a[1]);var l=a[0];S2(l)&&n.push({stop:{type:16,number:100*l.number,flags:l.flags},color:s})}}})),1===o?{angle:(i+q2(180))%q2(360),stops:n,type:o}:{size:3,shape:0,stops:n,position:[],type:o}}},S5={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var i=e[0];return 20===i.type&&"none"===i.value?[]:e.filter((function(t){return L2(t)&&function(t){return!(20===t.type&&"none"===t.value||18===t.type&&!B5[t.name])}(t)})).map((function(e){return x5(t,e)}))}},E5={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(E2(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},k5={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return I2(e).map((function(t){return t.filter(R2)})).map(N2)}},F5={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return I2(e).map((function(t){return t.filter(E2).map((function(t){return t.value})).join(" ")})).map(T5)}},T5=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(C5=_5||(_5={})).AUTO="auto",C5.CONTAIN="contain",C5.COVER="cover";var L5,I5,M5={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return I2(e).map((function(t){return t.filter(P5)}))}},P5=function(t){return E2(t)||R2(t)},R5=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},N5=R5("top"),O5=R5("right"),U5=R5("bottom"),D5=R5("left"),Q5=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return N2(e.filter(R2))}}},H5=Q5("top-left"),z5=Q5("top-right"),j5=Q5("bottom-right"),G5=Q5("bottom-left"),V5=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},K5=V5("top"),q5=V5("right"),W5=V5("bottom"),X5=V5("left"),$5=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return B2(e)?e.number:0}}},Y5=$5("top"),Z5=$5("right"),J5=$5("bottom"),t4=$5("left"),e4={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},i4={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},n4={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(E2).reduce((function(t,e){return t|o4(e.value)}),0)}},o4=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},r4={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},s4={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};(I5=L5||(L5={})).NORMAL="normal",I5.STRICT="strict";var a4,l4,c4={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?L5.STRICT:L5.NORMAL}},h4={name:"line-height",initialValue:"normal",prefix:!1,type:4},A4=function(t,e){return E2(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:R2(t)?H2(t,e):e},u4={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:x5(t,e)}},d4={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},p4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},g4=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},f4=g4("top"),m4=g4("right"),b4=g4("bottom"),v4=g4("left"),y4={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(E2).map((function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},w4={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},x4=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},_4=x4("top"),C4=x4("right"),B4=x4("bottom"),S4=x4("left"),E4={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},k4={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},F4={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&F2(e[0],"none")?[]:I2(e).map((function(e){for(var i={color:o5.TRANSPARENT,offsetX:O2,offsetY:O2,blur:O2},n=0,o=0;o<e.length;o++){var r=e[o];P2(r)?(0===n?i.offsetX=r:1===n?i.offsetY=r:i.blur=r,n++):i.color=W2(t,r)}return i}))}},T4={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},L4={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var i=I4[e.name];if(void 0===i)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return i(e.values)}return null}},I4={matrix:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number})),i=e[0],n=e[1];e[2],e[3];var o=e[4],r=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],a=e[13];return e[14],e[15],16===e.length?[i,n,o,r,s,a]:null}},M4={type:16,number:50,flags:4},P4=[M4,M4],R4={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var i=e.filter(R2);return 2!==i.length?P4:[i[0],i[1]]}},N4={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};(l4=a4||(a4={})).NORMAL="normal",l4.BREAK_ALL="break-all",l4.KEEP_ALL="keep-all";for(var O4={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return a4.BREAK_ALL;case"keep-all":return a4.KEEP_ALL;default:return a4.NORMAL}}},U4={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(S2(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},D4=function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")},Q4={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return S2(e)?e.number:1}},H4={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},z4={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(E2).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},j4={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var i=[],n=[];return e.forEach((function(t){switch(t.type){case 20:case 0:i.push(t.value);break;case 17:i.push(t.number.toString());break;case 4:n.push(i.join(" ")),i.length=0}})),i.length&&n.push(i.join(" ")),n.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},G4={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},V4={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return S2(e)?e.number:E2(e)&&"bold"===e.value?700:400}},K4={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(E2).map((function(t){return t.value}))}},q4={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},W4=function(t,e){return!!(t&e)},X4={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var i=e[0];return 20===i.type&&"none"===i.value?[]:e}},$4={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var i=e[0];if(20===i.type&&"none"===i.value)return null;for(var n=[],o=e.filter(T2),r=0;r<o.length;r++){var s=o[r],a=o[r+1];if(20===s.type){var l=a&&S2(a)?a.number:1;n.push({counter:s.value,increment:l})}}return n}},Y4={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var i=[],n=e.filter(T2),o=0;o<n.length;o++){var r=n[o],s=n[o+1];if(E2(r)&&"none"!==r.value){var a=s&&S2(s)?s.number:0;i.push({counter:r.value,reset:a})}}return i}},Z4={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(B2).map((function(e){return D4(t,e)}))}},J4={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var i=e[0];if(20===i.type&&"none"===i.value)return null;var n=[],o=e.filter(k2);if(o.length%2!=0)return null;for(var r=0;r<o.length;r+=2){var s=o[r].value,a=o[r+1].value;n.push({open:s,close:a})}return n}},t3=function(t,e,i){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?i?n.open:n.close:""},e3={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&F2(e[0],"none")?[]:I2(e).map((function(e){for(var i={color:255,offsetX:O2,offsetY:O2,blur:O2,spread:O2,inset:!1},n=0,o=0;o<e.length;o++){var r=e[o];F2(r,"inset")?i.inset=!0:P2(r)?(0===n?i.offsetX=r:1===n?i.offsetY=r:2===n?i.blur=r:i.spread=r,n++):i.color=W2(t,r)}return i}))}},i3={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var i=[];return e.filter(E2).forEach((function(t){switch(t.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2)}})),[0,1,2].forEach((function(t){-1===i.indexOf(t)&&i.push(t)})),i}},n3={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},o3={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return B2(e)?e.number:0}},r3=function(){function t(t,e){var i,n;this.animationDuration=l3(t,Z4,e.animationDuration),this.backgroundClip=l3(t,r5,e.backgroundClip),this.backgroundColor=l3(t,s5,e.backgroundColor),this.backgroundImage=l3(t,S5,e.backgroundImage),this.backgroundOrigin=l3(t,E5,e.backgroundOrigin),this.backgroundPosition=l3(t,k5,e.backgroundPosition),this.backgroundRepeat=l3(t,F5,e.backgroundRepeat),this.backgroundSize=l3(t,M5,e.backgroundSize),this.borderTopColor=l3(t,N5,e.borderTopColor),this.borderRightColor=l3(t,O5,e.borderRightColor),this.borderBottomColor=l3(t,U5,e.borderBottomColor),this.borderLeftColor=l3(t,D5,e.borderLeftColor),this.borderTopLeftRadius=l3(t,H5,e.borderTopLeftRadius),this.borderTopRightRadius=l3(t,z5,e.borderTopRightRadius),this.borderBottomRightRadius=l3(t,j5,e.borderBottomRightRadius),this.borderBottomLeftRadius=l3(t,G5,e.borderBottomLeftRadius),this.borderTopStyle=l3(t,K5,e.borderTopStyle),this.borderRightStyle=l3(t,q5,e.borderRightStyle),this.borderBottomStyle=l3(t,W5,e.borderBottomStyle),this.borderLeftStyle=l3(t,X5,e.borderLeftStyle),this.borderTopWidth=l3(t,Y5,e.borderTopWidth),this.borderRightWidth=l3(t,Z5,e.borderRightWidth),this.borderBottomWidth=l3(t,J5,e.borderBottomWidth),this.borderLeftWidth=l3(t,t4,e.borderLeftWidth),this.boxShadow=l3(t,e3,e.boxShadow),this.color=l3(t,e4,e.color),this.direction=l3(t,i4,e.direction),this.display=l3(t,n4,e.display),this.float=l3(t,r4,e.cssFloat),this.fontFamily=l3(t,j4,e.fontFamily),this.fontSize=l3(t,G4,e.fontSize),this.fontStyle=l3(t,q4,e.fontStyle),this.fontVariant=l3(t,K4,e.fontVariant),this.fontWeight=l3(t,V4,e.fontWeight),this.letterSpacing=l3(t,s4,e.letterSpacing),this.lineBreak=l3(t,c4,e.lineBreak),this.lineHeight=l3(t,h4,e.lineHeight),this.listStyleImage=l3(t,u4,e.listStyleImage),this.listStylePosition=l3(t,d4,e.listStylePosition),this.listStyleType=l3(t,p4,e.listStyleType),this.marginTop=l3(t,f4,e.marginTop),this.marginRight=l3(t,m4,e.marginRight),this.marginBottom=l3(t,b4,e.marginBottom),this.marginLeft=l3(t,v4,e.marginLeft),this.opacity=l3(t,Q4,e.opacity);var o=l3(t,y4,e.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=l3(t,w4,e.overflowWrap),this.paddingTop=l3(t,_4,e.paddingTop),this.paddingRight=l3(t,C4,e.paddingRight),this.paddingBottom=l3(t,B4,e.paddingBottom),this.paddingLeft=l3(t,S4,e.paddingLeft),this.paintOrder=l3(t,i3,e.paintOrder),this.position=l3(t,k4,e.position),this.textAlign=l3(t,E4,e.textAlign),this.textDecorationColor=l3(t,H4,null!==(i=e.textDecorationColor)&&void 0!==i?i:e.color),this.textDecorationLine=l3(t,z4,null!==(n=e.textDecorationLine)&&void 0!==n?n:e.textDecoration),this.textShadow=l3(t,F4,e.textShadow),this.textTransform=l3(t,T4,e.textTransform),this.transform=l3(t,L4,e.transform),this.transformOrigin=l3(t,R4,e.transformOrigin),this.visibility=l3(t,N4,e.visibility),this.webkitTextStrokeColor=l3(t,n3,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=l3(t,o3,e.webkitTextStrokeWidth),this.wordBreak=l3(t,O4,e.wordBreak),this.zIndex=l3(t,U4,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return X2(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return W4(this.display,4)||W4(this.display,33554432)||W4(this.display,268435456)||W4(this.display,536870912)||W4(this.display,67108864)||W4(this.display,134217728)},t}(),s3=function(){return function(t,e){this.content=l3(t,X4,e.content),this.quotes=l3(t,J4,e.quotes)}}(),a3=function(){return function(t,e){this.counterIncrement=l3(t,$4,e.counterIncrement),this.counterReset=l3(t,Y4,e.counterReset)}}(),l3=function(t,e,i){var n=new _2,o=null!=i?i.toString():e.initialValue;n.write(o);var r=new C2(n.read());switch(e.type){case 2:var s=r.parseComponentValue();return e.parse(t,E2(s)?s.value:e.initialValue);case 0:return e.parse(t,r.parseComponentValue());case 1:return e.parse(t,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(e.format){case"angle":return G2(t,r.parseComponentValue());case"color":return W2(t,r.parseComponentValue());case"image":return x5(t,r.parseComponentValue());case"length":var a=r.parseComponentValue();return P2(a)?a:O2;case"length-percentage":var l=r.parseComponentValue();return R2(l)?l:O2;case"time":return D4(t,r.parseComponentValue())}}},c3=function(t,e){var i=function(t){switch(t.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(t);return 1===i||e===i},h3=function(){return function(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,c3(e,3),this.styles=new r3(t,window.getComputedStyle(e,null)),g6(e)&&(this.styles.animationDuration.some((function(t){return t>0}))&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=j0(this.context,e),c3(e,4)&&(this.flags|=16)}}(),A3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u3="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d3=0;d3<64;d3++)u3[A3.charCodeAt(d3)]=d3;for(var p3=function(t,e,i){return t.slice?t.slice(e,i):new Uint16Array(Array.prototype.slice.call(t,e,i))},g3=function(){function t(t,e,i,n,o,r){this.initialValue=t,this.errorValue=e,this.highStart=i,this.highValueIndex=n,this.index=o,this.data=r}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),f3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m3="undefined"==typeof Uint8Array?[]:new Uint8Array(256),b3=0;b3<64;b3++)m3[f3.charCodeAt(b3)]=b3;var v3,y3,w3=8,x3=9,_3=11,C3=12,B3=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var i=t.length;if(!i)return"";for(var n=[],o=-1,r="";++o<i;){var s=t[o];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(o+1===i||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},S3=function(t,e){var i,n,o,r=function(t){var e,i,n,o,r,s=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),h=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<a;e+=4)i=u3[t.charCodeAt(e)],n=u3[t.charCodeAt(e+1)],o=u3[t.charCodeAt(e+2)],r=u3[t.charCodeAt(e+3)],h[l++]=i<<2|n>>4,h[l++]=(15&n)<<4|o>>2,h[l++]=(3&o)<<6|63&r;return c}(t),s=Array.isArray(r)?function(t){for(var e=t.length,i=[],n=0;n<e;n+=4)i.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return i}(r):new Uint32Array(r),a=Array.isArray(r)?function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i.push(t[n+1]<<8|t[n]);return i}(r):new Uint16Array(r),l=p3(a,12,s[4]/2),c=2===s[5]?p3(a,(24+s[4])/2):(i=s,n=Math.ceil((24+s[4])/4),i.slice?i.slice(n,o):new Uint32Array(Array.prototype.slice.call(i,n,o)));return new g3(s[0],s[1],s[2],s[3],l,c)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),E3="",k3=function(t){return S3.get(t)},F3=function(t,e,i){var n=i-2,o=e[n],r=e[i-1],s=e[i];if(2===r&&3===s)return E3;if(2===r||3===r||4===r)return"";if(2===s||3===s||4===s)return"";if(r===w3&&-1!==[w3,x3,_3,C3].indexOf(s))return E3;if(!(r!==_3&&r!==x3||s!==x3&&10!==s))return E3;if((r===C3||10===r)&&10===s)return E3;if(13===s||5===s)return E3;if(7===s)return E3;if(1===r)return E3;if(13===r&&14===s){for(;5===o;)o=e[--n];if(14===o)return E3}if(15===r&&15===s){for(var a=0;15===o;)a++,o=e[--n];if(a%2==0)return E3}return""},T3=function(t){var e=function(t){for(var e=[],i=0,n=t.length;i<n;){var o=t.charCodeAt(i++);if(o>=55296&&o<=56319&&i<n){var r=t.charCodeAt(i++);56320==(64512&r)?e.push(((1023&o)<<10)+(1023&r)+65536):(e.push(o),i--)}else e.push(o)}return e}(t),i=e.length,n=0,o=0,r=e.map(k3);return{next:function(){if(n>=i)return{done:!0,value:null};for(var t=E3;n<i&&(t=F3(0,r,++n))===E3;);if(t!==E3||n===i){var s=B3.apply(null,e.slice(o,n));return o=n,{value:s,done:!1}}return{done:!0,value:null}}}},L3=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},I3=function(t,e,i,n,o){var r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",i.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(o),s},M3=function(t){return new Promise((function(e,i){var n=new Image;n.onload=function(){return e(n)},n.onerror=i,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},P3={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var i=t.createElement("boundtest");i.style.height="123px",i.style.display="block",t.body.appendChild(i),e.selectNode(i);var n=e.getBoundingClientRect(),o=Math.round(n.height);if(t.body.removeChild(i),123===o)return!0}}return!1}(document);return Object.defineProperty(P3,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=P3.SUPPORT_RANGE_BOUNDS&&function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var i=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var n=e.firstChild,o=G0(n.data).map((function(t){return V0(t)})),r=0,s={},a=o.every((function(t,e){i.setStart(n,r),i.setEnd(n,r+t.length);var o=i.getBoundingClientRect();r+=t.length;var a=o.x>s.x||o.y>s.y;return s=o,0===e||a}));return t.body.removeChild(e),a}(document);return Object.defineProperty(P3,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,i=t.createElement("canvas"),n=i.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),i.toDataURL()}catch(NZ){return!1}return!0}(document);return Object.defineProperty(P3,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas"),i=100;e.width=i,e.height=i;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,i,i);var o=new Image,r=e.toDataURL();o.src=r;var s=I3(i,i,0,0,o);return n.fillStyle="red",n.fillRect(0,0,i,i),M3(s).then((function(e){n.drawImage(e,0,0);var o=n.getImageData(0,0,i,i).data;n.fillStyle="red",n.fillRect(0,0,i,i);var s=t.createElement("div");return s.style.backgroundImage="url("+r+")",s.style.height=i+"px",L3(o)?M3(I3(i,i,0,0,s)):Promise.reject(!1)})).then((function(t){return n.drawImage(t,0,0),L3(n.getImageData(0,0,i,i).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(P3,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(P3,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(P3,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(P3,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(P3,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},R3=function(){return function(t,e){this.text=t,this.bounds=e}}(),N3=function(t,e){var i=e.ownerDocument;if(i){var n=i.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var o=e.parentNode;if(o){o.replaceChild(n,e);var r=j0(t,n);return n.firstChild&&o.replaceChild(n.firstChild,n),r}}return z0.EMPTY},O3=function(t,e,i){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var o=n.createRange();return o.setStart(t,e),o.setEnd(t,e+i),o},U3=function(t){if(P3.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map((function(t){return t.segment}))}return function(t){for(var e,i=T3(t),n=[];!(e=i.next()).done;)e.value&&n.push(e.value.slice());return n}(t)},D3=function(t,e){return 0!==e.letterSpacing?U3(t):function(t,e){if(P3.SUPPORT_NATIVE_TEXT_SEGMENTATION){var i=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(i.segment(t)).map((function(t){return t.segment}))}return H3(t,e)}(t,e)},Q3=[32,160,4961,65792,65793,4153,4241],H3=function(t,e){for(var i,n=function(t,e){var i=G0(t),n=H1(i,e),o=n[0],r=n[1],s=n[2],a=i.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var t=k1;c<a&&(t=Q1(i,r,o,++c,s))===k1;);if(t!==k1||c===a){var e=new z1(i,t,l,c);return l=c,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),o=[],r=function(){if(i.value){var t=i.value.slice(),e=G0(t),n="";e.forEach((function(t){-1===Q3.indexOf(t)?n+=V0(t):(n.length&&o.push(n),o.push(V0(t)),n="")})),n.length&&o.push(n)}};!(i=n.next()).done;)r();return o},z3=function(){return function(t,e,i){this.text=j3(e.data,i.textTransform),this.textBounds=function(t,e,i,n){var o=D3(e,i),r=[],s=0;return o.forEach((function(e){if(i.textDecorationLine.length||e.trim().length>0)if(P3.SUPPORT_RANGE_BOUNDS){var o=O3(n,s,e.length).getClientRects();if(o.length>1){var a=U3(e),l=0;a.forEach((function(e){r.push(new R3(e,z0.fromDOMRectList(t,O3(n,l+s,e.length).getClientRects()))),l+=e.length}))}else r.push(new R3(e,z0.fromDOMRectList(t,o)))}else{var c=n.splitText(e.length);r.push(new R3(e,N3(t,n))),n=c}else P3.SUPPORT_RANGE_BOUNDS||(n=n.splitText(e.length));s+=e.length})),r}(t,this.text,i,e)}}(),j3=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(G3,V3);case 2:return t.toUpperCase();default:return t}},G3=/(^|\s|:|-|\(|\))([a-z])/g,V3=function(t,e,i){return t.length>0?e+i.toUpperCase():t},K3=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.src=i.currentSrc||i.src,n.intrinsicWidth=i.naturalWidth,n.intrinsicHeight=i.naturalHeight,n.context.cache.addImage(n.src),n}return O0(e,t),e}(h3),q3=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.canvas=i,n.intrinsicWidth=i.width,n.intrinsicHeight=i.height,n}return O0(e,t),e}(h3),W3=function(t){function e(e,i){var n=t.call(this,e,i)||this,o=new XMLSerializer,r=j0(e,i);return i.setAttribute("width",r.width+"px"),i.setAttribute("height",r.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(i)),n.intrinsicWidth=i.width.baseVal.value,n.intrinsicHeight=i.height.baseVal.value,n.context.cache.addImage(n.svg),n}return O0(e,t),e}(h3),X3=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.value=i.value,n}return O0(e,t),e}(h3),$3=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.start=i.start,n.reversed="boolean"==typeof i.reversed&&!0===i.reversed,n}return O0(e,t),e}(h3),Y3=[{type:15,flags:0,unit:"px",number:3}],Z3=[{type:16,flags:0,number:50}],J3="checkbox",t6="radio",e6="password",i6=707406591,n6=function(t){function e(e,i){var n,o,r,s=t.call(this,e,i)||this;switch(s.type=i.type.toLowerCase(),s.checked=i.checked,s.value=0===(o=(n=i).type===e6?new Array(n.value.length+1).join(""):n.value).length?n.placeholder||"":o,s.type!==J3&&s.type!==t6||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=(r=s.bounds).width>r.height?new z0(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new z0(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r),s.type){case J3:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Y3;break;case t6:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Z3}return s}return O0(e,t),e}(h3),o6=function(t){function e(e,i){var n=t.call(this,e,i)||this,o=i.options[i.selectedIndex||0];return n.value=o&&o.text||"",n}return O0(e,t),e}(h3),r6=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.value=i.value,n}return O0(e,t),e}(h3),s6=function(t){function e(e,i){var n=t.call(this,e,i)||this;n.src=i.src,n.width=parseInt(i.width,10)||0,n.height=parseInt(i.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){n.tree=h6(e,i.contentWindow.document.documentElement);var o=i.contentWindow.document.documentElement?n5(e,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):o5.TRANSPARENT,r=i.contentWindow.document.body?n5(e,getComputedStyle(i.contentWindow.document.body).backgroundColor):o5.TRANSPARENT;n.backgroundColor=X2(o)?X2(r)?n.styles.backgroundColor:r:o}}catch(NZ){}return n}return O0(e,t),e}(h3),a6=["OL","UL","MENU"],l6=function(t,e,i,n){for(var o=e.firstChild,r=void 0;o;o=r)if(r=o.nextSibling,d6(o)&&o.data.trim().length>0)i.textNodes.push(new z3(t,o,i.styles));else if(p6(o))if(F6(o)&&o.assignedNodes)o.assignedNodes().forEach((function(e){return l6(t,e,i,n)}));else{var s=c6(t,o);s.styles.isVisible()&&(A6(o,s,n)?s.flags|=4:u6(s.styles)&&(s.flags|=2),-1!==a6.indexOf(o.tagName)&&(s.flags|=8),i.elements.push(s),o.slot,o.shadowRoot?l6(t,o.shadowRoot,s,n):E6(o)||y6(o)||k6(o)||l6(t,o,s,n))}},c6=function(t,e){return C6(e)?new K3(t,e):x6(e)?new q3(t,e):y6(e)?new W3(t,e):m6(e)?new X3(t,e):b6(e)?new $3(t,e):v6(e)?new n6(t,e):k6(e)?new o6(t,e):E6(e)?new r6(t,e):B6(e)?new s6(t,e):new h3(t,e)},h6=function(t,e){var i=c6(t,e);return i.flags|=4,l6(t,e,i,i),i},A6=function(t,e,i){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||w6(t)&&i.styles.isTransparent()},u6=function(t){return t.isPositioned()||t.isFloating()},d6=function(t){return t.nodeType===Node.TEXT_NODE},p6=function(t){return t.nodeType===Node.ELEMENT_NODE},g6=function(t){return p6(t)&&void 0!==t.style&&!f6(t)},f6=function(t){return"object"==typeof t.className},m6=function(t){return"LI"===t.tagName},b6=function(t){return"OL"===t.tagName},v6=function(t){return"INPUT"===t.tagName},y6=function(t){return"svg"===t.tagName},w6=function(t){return"BODY"===t.tagName},x6=function(t){return"CANVAS"===t.tagName},_6=function(t){return"VIDEO"===t.tagName},C6=function(t){return"IMG"===t.tagName},B6=function(t){return"IFRAME"===t.tagName},S6=function(t){return"STYLE"===t.tagName},E6=function(t){return"TEXTAREA"===t.tagName},k6=function(t){return"SELECT"===t.tagName},F6=function(t){return"SLOT"===t.tagName},T6=function(t){return t.tagName.indexOf("-")>0},L6=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,i=t.counterIncrement,n=t.counterReset,o=!0;null!==i&&i.forEach((function(t){var i=e.counters[t.counter];i&&0!==t.increment&&(o=!1,i.length||i.push(1),i[Math.max(0,i.length-1)]+=t.increment)}));var r=[];return o&&n.forEach((function(t){var i=e.counters[t.counter];r.push(t.counter),i||(i=e.counters[t.counter]=[]),i.push(t.reset)})),r},t}(),I6={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},M6={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},P6={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},R6={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},N6=function(t,e,i,n,o,r){return t<e||t>i?V6(t,o,r.length>0):n.integers.reduce((function(e,i,o){for(;t>=i;)t-=i,e+=n.values[o];return e}),"")+r},O6=function(t,e,i,n){var o="";do{i||t--,o=n(t)+o,t/=e}while(t*e>=e);return o},U6=function(t,e,i,n,o){var r=i-e+1;return(t<0?"-":"")+(O6(Math.abs(t),r,n,(function(t){return V0(Math.floor(t%r)+e)}))+o)},D6=function(t,e,i){void 0===i&&(i=". ");var n=e.length;return O6(Math.abs(t),n,!1,(function(t){return e[Math.floor(t%n)]}))+i},Q6=function(t,e,i,n,o,r){if(t<-9999||t>9999)return V6(t,4,o.length>0);var s=Math.abs(t),a=o;if(0===s)return e[0]+a;for(var l=0;s>0&&l<=4;l++){var c=s%10;0===c&&W4(r,1)&&""!==a?a=e[c]+a:c>1||1===c&&0===l||1===c&&1===l&&W4(r,2)||1===c&&1===l&&W4(r,4)&&t>100||1===c&&l>1&&W4(r,8)?a=e[c]+(l>0?i[l-1]:"")+a:1===c&&l>0&&(a=i[l-1]+a),s=Math.floor(s/10)}return(t<0?n:"")+a},H6="",z6="",j6="",G6="",V6=function(t,e,i){var n=i?". ":"",o=i?"":"",r=i?", ":"",s=i?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var a=U6(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return D6(t,"",o);case 6:return N6(t,1,3999,I6,3,n).toLowerCase();case 7:return N6(t,1,3999,I6,3,n);case 8:return U6(t,945,969,!1,n);case 9:return U6(t,97,122,!1,n);case 10:return U6(t,65,90,!1,n);case 11:return U6(t,1632,1641,!0,n);case 12:case 49:return N6(t,1,9999,M6,3,n);case 35:return N6(t,1,9999,M6,3,n).toLowerCase();case 13:return U6(t,2534,2543,!0,n);case 14:case 30:return U6(t,6112,6121,!0,n);case 15:return D6(t,"",o);case 16:return D6(t,"",o);case 17:case 48:return Q6(t,"",H6,"",o,14);case 47:return Q6(t,"",z6,"",o,15);case 42:return Q6(t,"",H6,"",o,14);case 41:return Q6(t,"",z6,"",o,15);case 26:return Q6(t,"","",j6,o,0);case 25:return Q6(t,"","",j6,o,7);case 31:return Q6(t,"","",G6,r,7);case 33:return Q6(t,"","",G6,r,0);case 32:return Q6(t,"","",G6,r,7);case 18:return U6(t,2406,2415,!0,n);case 20:return N6(t,1,19999,R6,3,n);case 21:return U6(t,2790,2799,!0,n);case 22:return U6(t,2662,2671,!0,n);case 22:return N6(t,1,10999,P6,3,n);case 23:return D6(t,"");case 24:return D6(t,"");case 27:return U6(t,3302,3311,!0,n);case 28:return D6(t,"",o);case 29:return D6(t,"",o);case 34:return U6(t,3792,3801,!0,n);case 37:return U6(t,6160,6169,!0,n);case 38:return U6(t,4160,4169,!0,n);case 39:return U6(t,2918,2927,!0,n);case 40:return U6(t,1776,1785,!0,n);case 43:return U6(t,3046,3055,!0,n);case 44:return U6(t,3174,3183,!0,n);case 45:return U6(t,3664,3673,!0,n);case 46:return U6(t,3872,3881,!0,n);default:return U6(t,48,57,!0,n)}},K6="data-html2canvas-ignore",q6=function(){function t(t,e,i){if(this.context=t,this.options=i,this.scrolledElements=[],this.referenceElement=e,this.counters=new L6,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var i=this,n=$6(t,e);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var o=t.defaultView.pageXOffset,r=t.defaultView.pageYOffset,s=n.contentWindow,a=s.document,l=J6(n).then((function(){return D0(i,0,void 0,(function(){var t,i;return Q0(this,(function(o){switch(o.label){case 0:return this.scrolledElements.forEach(o8),s&&(s.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===e.top&&s.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-e.left,s.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(i=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:o.sent(),o.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Z6(a)]:[3,4];case 3:o.sent(),o.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then((function(){return t(a,i)})).then((function(){return n}))]:[2,n]}}))}))}));return a.open(),a.write(i8(document.doctype)+"<html></html>"),n8(this.referenceElement.ownerDocument,o,r),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},t.prototype.createElementClone=function(t){if(c3(t,2),x6(t))return this.createCanvasClone(t);if(_6(t))return this.createVideoClone(t);if(S6(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return C6(e)&&(C6(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),T6(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return e8(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var i=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),n=t.cloneNode(!1);return n.textContent=i,n}}catch(NZ){if(this.context.logger.error("Unable to access cssRules property",NZ),"SecurityError"!==NZ.name)throw NZ}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var i=t.ownerDocument.createElement("img");try{return i.src=t.toDataURL(),i}catch(NZ){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var o=t.getContext("2d"),r=n.getContext("2d");if(r)if(!this.options.allowTaint&&o)r.putImageData(o.getImageData(0,0,t.width,t.height),0,0);else{var s=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(s){var a=s.getContextAttributes();!1===(null==a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}r.drawImage(t,0,0)}return n}catch(NZ){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return n},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var i=e.getContext("2d");try{return i&&(i.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||i.getImageData(0,0,e.width,e.height)),e}catch(NZ){this.context.logger.info("Unable to clone video as it is tainted",t)}var n=t.ownerDocument.createElement("canvas");return n.width=t.offsetWidth,n.height=t.offsetHeight,n},t.prototype.appendChildNode=function(t,e,i){p6(e)&&("SCRIPT"===e.tagName||e.hasAttribute(K6)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&p6(e)&&S6(e)||t.appendChild(this.cloneNode(e,i))},t.prototype.cloneChildNodes=function(t,e,i){for(var n=this,o=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;o;o=o.nextSibling)if(p6(o)&&F6(o)&&"function"==typeof o.assignedNodes){var r=o.assignedNodes();r.length&&r.forEach((function(t){return n.appendChildNode(e,t,i)}))}else this.appendChildNode(e,o,i)},t.prototype.cloneNode=function(t,e){if(d6(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var i=t.ownerDocument.defaultView;if(i&&p6(t)&&(g6(t)||f6(t))){var n=this.createElementClone(t);n.style.transitionProperty="none";var o=i.getComputedStyle(t),r=i.getComputedStyle(t,":before"),s=i.getComputedStyle(t,":after");this.referenceElement===t&&g6(n)&&(this.clonedReferenceElement=n),w6(n)&&l8(n);var a=this.counters.parse(new a3(this.context,o)),l=this.resolvePseudoContent(t,n,r,v3.BEFORE);T6(t)&&(e=!0),_6(t)||this.cloneChildNodes(t,n,e),l&&n.insertBefore(l,n.firstChild);var c=this.resolvePseudoContent(t,n,s,v3.AFTER);return c&&n.appendChild(c),this.counters.pop(a),(o&&(this.options.copyStyles||f6(t))&&!B6(t)||e)&&e8(o,n),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(E6(t)||k6(t))&&(E6(n)||k6(n))&&(n.value=t.value),n}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,i,n){var o=this;if(i){var r=i.content,s=e.ownerDocument;if(s&&r&&"none"!==r&&"-moz-alt-content"!==r&&"none"!==i.display){this.counters.parse(new a3(this.context,i));var a=new s3(this.context,i),l=s.createElement("html2canvaspseudoelement");e8(i,l),a.content.forEach((function(e){if(0===e.type)l.appendChild(s.createTextNode(e.value));else if(22===e.type){var i=s.createElement("img");i.src=e.value,i.style.opacity="1",l.appendChild(i)}else if(18===e.type){if("attr"===e.name){var n=e.values.filter(E2);n.length&&l.appendChild(s.createTextNode(t.getAttribute(n[0].value)||""))}else if("counter"===e.name){var r=e.values.filter(L2),c=r[0],h=r[1];if(c&&E2(c)){var A=o.counters.getCounterValue(c.value),u=h&&E2(h)?p4.parse(o.context,h.value):3;l.appendChild(s.createTextNode(V6(A,u,!1)))}}else if("counters"===e.name){var d=e.values.filter(L2),p=(c=d[0],d[1]);h=d[2];if(c&&E2(c)){var g=o.counters.getCounterValues(c.value),f=h&&E2(h)?p4.parse(o.context,h.value):3,m=p&&0===p.type?p.value:"",b=g.map((function(t){return V6(t,f,!1)})).join(m);l.appendChild(s.createTextNode(b))}}}else if(20===e.type)switch(e.value){case"open-quote":l.appendChild(s.createTextNode(t3(a.quotes,o.quoteDepth++,!0)));break;case"close-quote":l.appendChild(s.createTextNode(t3(a.quotes,--o.quoteDepth,!1)));break;default:l.appendChild(s.createTextNode(e.value))}})),l.className=r8+" "+s8;var c=n===v3.BEFORE?" "+r8:" "+s8;return f6(e)?e.className.baseValue+=c:e.className+=c,l}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();(y3=v3||(v3={}))[y3.BEFORE=0]="BEFORE",y3[y3.AFTER=1]="AFTER";var W6,X6,$6=function(t,e){var i=t.createElement("iframe");return i.className="html2canvas-container",i.style.visibility="hidden",i.style.position="fixed",i.style.left="-10000px",i.style.top="0px",i.style.border="0",i.width=e.width.toString(),i.height=e.height.toString(),i.scrolling="no",i.setAttribute(K6,"true"),t.body.appendChild(i),i},Y6=function(t){return new Promise((function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()}))},Z6=function(t){return Promise.all([].slice.call(t.images,0).map(Y6))},J6=function(t){return new Promise((function(e,i){var n=t.contentWindow;if(!n)return i("No window assigned for iframe");var o=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval((function(){o.body.childNodes.length>0&&"complete"===o.readyState&&(clearInterval(i),e(t))}),50)}}))},t8=["all","d","content"],e8=function(t,e){for(var i=t.length-1;i>=0;i--){var n=t.item(i);-1===t8.indexOf(n)&&e.style.setProperty(n,t.getPropertyValue(n))}return e},i8=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},n8=function(t,e,i){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||i!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,i)},o8=function(t){var e=t[0],i=t[1],n=t[2];e.scrollLeft=i,e.scrollTop=n},r8="___html2canvas___pseudoelement_before",s8="___html2canvas___pseudoelement_after",a8='{\n    content: "" !important;\n    display: none !important;\n}',l8=function(t){c8(t,"."+r8+":before"+a8+"\n         ."+s8+":after"+a8)},c8=function(t,e){var i=t.ownerDocument;if(i){var n=i.createElement("style");n.textContent=e,t.appendChild(n)}},h8=function(){function t(){}return t.getOrigin=function(e){var i=t._link;return i?(i.href=e,i.href=i.href,i.protocol+i.hostname+i.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),A8=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:b8(t)||g8(t)?((this._cache[t]=this.loadImage(t)).catch((function(){})),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return D0(this,0,void 0,(function(){var e,i,n,o,r=this;return Q0(this,(function(s){switch(s.label){case 0:return e=h8.isSameOrigin(t),i=!f8(t)&&!0===this._options.useCORS&&P3.SUPPORT_CORS_IMAGES&&!e,n=!f8(t)&&!e&&!b8(t)&&"string"==typeof this._options.proxy&&P3.SUPPORT_CORS_XHR&&!i,e||!1!==this._options.allowTaint||f8(t)||b8(t)||n||i?(o=t,n?[4,this.proxy(o)]:[3,2]):[2];case 1:o=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,(m8(o)||i)&&(n.crossOrigin="anonymous"),n.src=o,!0===n.complete&&setTimeout((function(){return t(n)}),500),r._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+r._options.imageTimeout+"ms) loading image")}),r._options.imageTimeout)}))];case 3:return[2,s.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise((function(o,r){var s=P3.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===s)o(a.response);else{var t=new FileReader;t.addEventListener("load",(function(){return o(t.result)}),!1),t.addEventListener("error",(function(t){return r(t)}),!1),t.readAsDataURL(a.response)}else r("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=r;var l=i.indexOf("?")>-1?"&":"?";if(a.open("GET",""+i+l+"url="+encodeURIComponent(t)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),e._options.imageTimeout){var c=e._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return r("Timed out ("+c+"ms) proxying "+n)}}a.send()}))},t}(),u8=/^data:image\/svg\+xml/i,d8=/^data:image\/.*;base64,/i,p8=/^data:image\/.*/i,g8=function(t){return P3.SUPPORT_SVG_DRAWING||!v8(t)},f8=function(t){return p8.test(t)},m8=function(t){return d8.test(t)},b8=function(t){return"blob"===t.substr(0,4)},v8=function(t){return"svg"===t.substr(-3).toLowerCase()||u8.test(t)},y8=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,i){return new t(this.x+e,this.y+i)},t}(),w8=function(t,e,i){return new y8(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i)},x8=function(){function t(t,e,i,n){this.type=1,this.start=t,this.startControl=e,this.endControl=i,this.end=n}return t.prototype.subdivide=function(e,i){var n=w8(this.start,this.startControl,e),o=w8(this.startControl,this.endControl,e),r=w8(this.endControl,this.end,e),s=w8(n,o,e),a=w8(o,r,e),l=w8(s,a,e);return i?new t(this.start,n,s,l):new t(l,a,r,this.end)},t.prototype.add=function(e,i){return new t(this.start.add(e,i),this.startControl.add(e,i),this.endControl.add(e,i),this.end.add(e,i))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),_8=function(t){return 1===t.type},C8=function(){return function(t){var e=t.styles,i=t.bounds,n=Q2(e.borderTopLeftRadius,i.width,i.height),o=n[0],r=n[1],s=Q2(e.borderTopRightRadius,i.width,i.height),a=s[0],l=s[1],c=Q2(e.borderBottomRightRadius,i.width,i.height),h=c[0],A=c[1],u=Q2(e.borderBottomLeftRadius,i.width,i.height),d=u[0],p=u[1],g=[];g.push((o+a)/i.width),g.push((d+h)/i.width),g.push((r+p)/i.height),g.push((l+A)/i.height);var f=Math.max.apply(Math,g);f>1&&(o/=f,r/=f,a/=f,l/=f,h/=f,A/=f,d/=f,p/=f);var m=i.width-a,b=i.height-A,v=i.width-h,y=i.height-p,w=e.borderTopWidth,x=e.borderRightWidth,_=e.borderBottomWidth,C=e.borderLeftWidth,B=H2(e.paddingTop,t.bounds.width),S=H2(e.paddingRight,t.bounds.width),E=H2(e.paddingBottom,t.bounds.width),k=H2(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||r>0?B8(i.left+C/3,i.top+w/3,o-C/3,r-w/3,W6.TOP_LEFT):new y8(i.left+C/3,i.top+w/3),this.topRightBorderDoubleOuterBox=o>0||r>0?B8(i.left+m,i.top+w/3,a-x/3,l-w/3,W6.TOP_RIGHT):new y8(i.left+i.width-x/3,i.top+w/3),this.bottomRightBorderDoubleOuterBox=h>0||A>0?B8(i.left+v,i.top+b,h-x/3,A-_/3,W6.BOTTOM_RIGHT):new y8(i.left+i.width-x/3,i.top+i.height-_/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?B8(i.left+C/3,i.top+y,d-C/3,p-_/3,W6.BOTTOM_LEFT):new y8(i.left+C/3,i.top+i.height-_/3),this.topLeftBorderDoubleInnerBox=o>0||r>0?B8(i.left+2*C/3,i.top+2*w/3,o-2*C/3,r-2*w/3,W6.TOP_LEFT):new y8(i.left+2*C/3,i.top+2*w/3),this.topRightBorderDoubleInnerBox=o>0||r>0?B8(i.left+m,i.top+2*w/3,a-2*x/3,l-2*w/3,W6.TOP_RIGHT):new y8(i.left+i.width-2*x/3,i.top+2*w/3),this.bottomRightBorderDoubleInnerBox=h>0||A>0?B8(i.left+v,i.top+b,h-2*x/3,A-2*_/3,W6.BOTTOM_RIGHT):new y8(i.left+i.width-2*x/3,i.top+i.height-2*_/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?B8(i.left+2*C/3,i.top+y,d-2*C/3,p-2*_/3,W6.BOTTOM_LEFT):new y8(i.left+2*C/3,i.top+i.height-2*_/3),this.topLeftBorderStroke=o>0||r>0?B8(i.left+C/2,i.top+w/2,o-C/2,r-w/2,W6.TOP_LEFT):new y8(i.left+C/2,i.top+w/2),this.topRightBorderStroke=o>0||r>0?B8(i.left+m,i.top+w/2,a-x/2,l-w/2,W6.TOP_RIGHT):new y8(i.left+i.width-x/2,i.top+w/2),this.bottomRightBorderStroke=h>0||A>0?B8(i.left+v,i.top+b,h-x/2,A-_/2,W6.BOTTOM_RIGHT):new y8(i.left+i.width-x/2,i.top+i.height-_/2),this.bottomLeftBorderStroke=d>0||p>0?B8(i.left+C/2,i.top+y,d-C/2,p-_/2,W6.BOTTOM_LEFT):new y8(i.left+C/2,i.top+i.height-_/2),this.topLeftBorderBox=o>0||r>0?B8(i.left,i.top,o,r,W6.TOP_LEFT):new y8(i.left,i.top),this.topRightBorderBox=a>0||l>0?B8(i.left+m,i.top,a,l,W6.TOP_RIGHT):new y8(i.left+i.width,i.top),this.bottomRightBorderBox=h>0||A>0?B8(i.left+v,i.top+b,h,A,W6.BOTTOM_RIGHT):new y8(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=d>0||p>0?B8(i.left,i.top+y,d,p,W6.BOTTOM_LEFT):new y8(i.left,i.top+i.height),this.topLeftPaddingBox=o>0||r>0?B8(i.left+C,i.top+w,Math.max(0,o-C),Math.max(0,r-w),W6.TOP_LEFT):new y8(i.left+C,i.top+w),this.topRightPaddingBox=a>0||l>0?B8(i.left+Math.min(m,i.width-x),i.top+w,m>i.width+x?0:Math.max(0,a-x),Math.max(0,l-w),W6.TOP_RIGHT):new y8(i.left+i.width-x,i.top+w),this.bottomRightPaddingBox=h>0||A>0?B8(i.left+Math.min(v,i.width-C),i.top+Math.min(b,i.height-_),Math.max(0,h-x),Math.max(0,A-_),W6.BOTTOM_RIGHT):new y8(i.left+i.width-x,i.top+i.height-_),this.bottomLeftPaddingBox=d>0||p>0?B8(i.left+C,i.top+Math.min(y,i.height-_),Math.max(0,d-C),Math.max(0,p-_),W6.BOTTOM_LEFT):new y8(i.left+C,i.top+i.height-_),this.topLeftContentBox=o>0||r>0?B8(i.left+C+k,i.top+w+B,Math.max(0,o-(C+k)),Math.max(0,r-(w+B)),W6.TOP_LEFT):new y8(i.left+C+k,i.top+w+B),this.topRightContentBox=a>0||l>0?B8(i.left+Math.min(m,i.width+C+k),i.top+w+B,m>i.width+C+k?0:a-C+k,l-(w+B),W6.TOP_RIGHT):new y8(i.left+i.width-(x+S),i.top+w+B),this.bottomRightContentBox=h>0||A>0?B8(i.left+Math.min(v,i.width-(C+k)),i.top+Math.min(b,i.height+w+B),Math.max(0,h-(x+S)),A-(_+E),W6.BOTTOM_RIGHT):new y8(i.left+i.width-(x+S),i.top+i.height-(_+E)),this.bottomLeftContentBox=d>0||p>0?B8(i.left+C+k,i.top+y,Math.max(0,d-(C+k)),p-(_+E),W6.BOTTOM_LEFT):new y8(i.left+C+k,i.top+i.height-(_+E))}}();(X6=W6||(W6={}))[X6.TOP_LEFT=0]="TOP_LEFT",X6[X6.TOP_RIGHT=1]="TOP_RIGHT",X6[X6.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",X6[X6.BOTTOM_LEFT=3]="BOTTOM_LEFT";var B8=function(t,e,i,n,o){var r=(Math.sqrt(2)-1)/3*4,s=i*r,a=n*r,l=t+i,c=e+n;switch(o){case W6.TOP_LEFT:return new x8(new y8(t,c),new y8(t,c-a),new y8(l-s,e),new y8(l,e));case W6.TOP_RIGHT:return new x8(new y8(t,e),new y8(t+s,e),new y8(l,c-a),new y8(l,c));case W6.BOTTOM_RIGHT:return new x8(new y8(l,e),new y8(l,e+a),new y8(t+s,c),new y8(t,c));case W6.BOTTOM_LEFT:default:return new x8(new y8(l,c),new y8(l-s,c),new y8(t,e+a),new y8(t,e))}},S8=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},E8=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},k8=function(){return function(t,e,i){this.offsetX=t,this.offsetY=e,this.matrix=i,this.type=0,this.target=6}}(),F8=function(){return function(t,e){this.path=t,this.target=e,this.type=1}}(),T8=function(){return function(t){this.opacity=t,this.type=2,this.target=6}}(),L8=function(t){return 1===t.type},I8=function(t,e){return t.length===e.length&&t.some((function(t,i){return t===e[i]}))},M8=function(){return function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),P8=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new C8(this.container),this.container.styles.opacity<1&&this.effects.push(new T8(this.container.styles.opacity)),null!==this.container.styles.transform){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new k8(i,n,o))}if(0!==this.container.styles.overflowX){var r=S8(this.curves),s=E8(this.curves);I8(r,s)?this.effects.push(new F8(r,6)):(this.effects.push(new F8(r,2)),this.effects.push(new F8(s,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),i=this.parent,n=this.effects.slice(0);i;){var o=i.effects.filter((function(t){return!L8(t)}));if(e||0!==i.container.styles.position||!i.parent){if(n.unshift.apply(n,o),e=-1===[2,3].indexOf(i.container.styles.position),0!==i.container.styles.overflowX){var r=S8(i.curves),s=E8(i.curves);I8(r,s)||n.unshift(new F8(s,6))}}else n.unshift.apply(n,o);i=i.parent}return n.filter((function(e){return W4(e.target,t)}))},t}(),R8=function(t,e,i,n){t.container.elements.forEach((function(o){var r=W4(o.flags,4),s=W4(o.flags,2),a=new P8(o,t);W4(o.styles.display,2048)&&n.push(a);var l=W4(o.flags,8)?[]:n;if(r||s){var c=r||o.styles.isPositioned()?i:e,h=new M8(a);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var A=o.styles.zIndex.order;if(A<0){var u=0;c.negativeZIndex.some((function(t,e){return A>t.element.container.styles.zIndex.order?(u=e,!1):u>0})),c.negativeZIndex.splice(u,0,h)}else if(A>0){var d=0;c.positiveZIndex.some((function(t,e){return A>=t.element.container.styles.zIndex.order?(d=e+1,!1):d>0})),c.positiveZIndex.splice(d,0,h)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else o.styles.isFloating()?c.nonPositionedFloats.push(h):c.nonPositionedInlineLevel.push(h);R8(a,h,r?h:i,l)}else o.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),R8(a,e,i,l);W4(o.flags,8)&&N8(o,l)}))},N8=function(t,e){for(var i=t instanceof $3?t.start:1,n=t instanceof $3&&t.reversed,o=0;o<e.length;o++){var r=e[o];r.container instanceof X3&&"number"==typeof r.container.value&&0!==r.container.value&&(i=r.container.value),r.listValue=V6(i,r.container.styles.listStyleType,!0),i+=n?-1:1}},O8=function(t,e){switch(e){case 0:return D8(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return D8(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return D8(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return D8(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},U8=function(t,e){var i=[];return _8(t)?i.push(t.subdivide(.5,!1)):i.push(t),_8(e)?i.push(e.subdivide(.5,!0)):i.push(e),i},D8=function(t,e,i,n){var o=[];return _8(t)?o.push(t.subdivide(.5,!1)):o.push(t),_8(i)?o.push(i.subdivide(.5,!0)):o.push(i),_8(n)?o.push(n.subdivide(.5,!0).reverse()):o.push(n),_8(e)?o.push(e.subdivide(.5,!1).reverse()):o.push(e),o},Q8=function(t){var e=t.bounds,i=t.styles;return e.add(i.borderLeftWidth,i.borderTopWidth,-(i.borderRightWidth+i.borderLeftWidth),-(i.borderTopWidth+i.borderBottomWidth))},H8=function(t){var e=t.styles,i=t.bounds,n=H2(e.paddingLeft,i.width),o=H2(e.paddingRight,i.width),r=H2(e.paddingTop,i.width),s=H2(e.paddingBottom,i.width);return i.add(n+e.borderLeftWidth,r+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+o),-(e.borderTopWidth+e.borderBottomWidth+r+s))},z8=function(t,e,i){var n,o,r=(n=K8(t.styles.backgroundOrigin,e),o=t,0===n?o.bounds:2===n?H8(o):Q8(o)),s=function(t,e){return 0===t?e.bounds:2===t?H8(e):Q8(e)}(K8(t.styles.backgroundClip,e),t),a=V8(K8(t.styles.backgroundSize,e),i,r),l=a[0],c=a[1],h=Q2(K8(t.styles.backgroundPosition,e),r.width-l,r.height-c);return[q8(K8(t.styles.backgroundRepeat,e),h,a,r,s),Math.round(r.left+h[0]),Math.round(r.top+h[1]),l,c]},j8=function(t){return E2(t)&&t.value===_5.AUTO},G8=function(t){return"number"==typeof t},V8=function(t,e,i){var n=e[0],o=e[1],r=e[2],s=t[0],a=t[1];if(!s)return[0,0];if(R2(s)&&a&&R2(a))return[H2(s,i.width),H2(a,i.height)];var l=G8(r);if(E2(s)&&(s.value===_5.CONTAIN||s.value===_5.COVER))return G8(r)?i.width/i.height<r!=(s.value===_5.COVER)?[i.width,i.width/r]:[i.height*r,i.height]:[i.width,i.height];var c=G8(n),h=G8(o),A=c||h;if(j8(s)&&(!a||j8(a)))return c&&h?[n,o]:l||A?A&&l?[c?n:o*r,h?o:n/r]:[c?n:i.width,h?o:i.height]:[i.width,i.height];if(l){var u=0,d=0;return R2(s)?u=H2(s,i.width):R2(a)&&(d=H2(a,i.height)),j8(s)?u=d*r:a&&!j8(a)||(d=u/r),[u,d]}var p=null,g=null;if(R2(s)?p=H2(s,i.width):a&&R2(a)&&(g=H2(a,i.height)),null===p||a&&!j8(a)||(g=c&&h?p/n*o:i.height),null!==g&&j8(s)&&(p=c&&h?g/o*n:i.width),null!==p&&null!==g)return[p,g];throw new Error("Unable to calculate background-size for element")},K8=function(t,e){var i=t[e];return void 0===i?t[0]:i},q8=function(t,e,i,n,o){var r=e[0],s=e[1],a=i[0],l=i[1];switch(t){case 2:return[new y8(Math.round(n.left),Math.round(n.top+s)),new y8(Math.round(n.left+n.width),Math.round(n.top+s)),new y8(Math.round(n.left+n.width),Math.round(l+n.top+s)),new y8(Math.round(n.left),Math.round(l+n.top+s))];case 3:return[new y8(Math.round(n.left+r),Math.round(n.top)),new y8(Math.round(n.left+r+a),Math.round(n.top)),new y8(Math.round(n.left+r+a),Math.round(n.height+n.top)),new y8(Math.round(n.left+r),Math.round(n.height+n.top))];case 1:return[new y8(Math.round(n.left+r),Math.round(n.top+s)),new y8(Math.round(n.left+r+a),Math.round(n.top+s)),new y8(Math.round(n.left+r+a),Math.round(n.top+s+l)),new y8(Math.round(n.left+r),Math.round(n.top+s+l))];default:return[new y8(Math.round(o.left),Math.round(o.top)),new y8(Math.round(o.left+o.width),Math.round(o.top)),new y8(Math.round(o.left+o.width),Math.round(o.height+o.top)),new y8(Math.round(o.left),Math.round(o.height+o.top))]}},W8="Hidden Text",X8=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var i=this._document.createElement("div"),n=this._document.createElement("img"),o=this._document.createElement("span"),r=this._document.body;i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",r.appendChild(i),n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",o.style.fontFamily=t,o.style.fontSize=e,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(W8)),i.appendChild(o),i.appendChild(n);var s=n.offsetTop-o.offsetTop+2;i.removeChild(o),i.appendChild(this._document.createTextNode(W8)),i.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-i.offsetTop+2;return r.removeChild(i),{baseline:s,middle:a}},t.prototype.getMetrics=function(t,e){var i=t+" "+e;return void 0===this._data[i]&&(this._data[i]=this.parseMetrics(t,e)),this._data[i]},t}(),$8=function(){return function(t,e){this.context=t,this.options=e}}(),Y8=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._activeEffects=[],n.canvas=i.canvas?i.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),i.canvas||(n.canvas.width=Math.floor(i.width*i.scale),n.canvas.height=Math.floor(i.height*i.scale),n.canvas.style.width=i.width+"px",n.canvas.style.height=i.height+"px"),n.fontMetrics=new X8(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-i.x,-i.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),n}return O0(e,t),e.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach((function(t){return e.applyEffect(t)}))},e.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 2===t.type}(t)&&(this.ctx.globalAlpha=t.opacity),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),L8(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return D0(this,0,void 0,(function(){return Q0(this,(function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.renderNode=function(t){return D0(this,0,void 0,(function(){return Q0(this,(function(e){switch(e.label){case 0:return W4(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},e.prototype.renderTextWithLetterSpacing=function(t,e,i){var n=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i):U3(t.text).reduce((function(e,o){return n.ctx.fillText(o,e,t.bounds.top+i),e+n.ctx.measureText(o).width}),t.bounds.left)},e.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),i=i7(t.fontFamily).join(", "),n=B2(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,n,i].join(" "),i,n]},e.prototype.renderTextNode=function(t,e){return D0(this,0,void 0,(function(){var i,n,o,r,s,a,l,c,h=this;return Q0(this,(function(A){return i=this.createFontStyle(e),n=i[0],o=i[1],r=i[2],this.ctx.font=n,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(o,r),a=s.baseline,l=s.middle,c=e.paintOrder,t.textBounds.forEach((function(t){c.forEach((function(i){switch(i){case 0:h.ctx.fillStyle=$2(e.color),h.renderTextWithLetterSpacing(t,e.letterSpacing,a);var n=e.textShadow;n.length&&t.text.trim().length&&(n.slice(0).reverse().forEach((function(i){h.ctx.shadowColor=$2(i.color),h.ctx.shadowOffsetX=i.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=i.offsetY.number*h.options.scale,h.ctx.shadowBlur=i.blur.number,h.renderTextWithLetterSpacing(t,e.letterSpacing,a)})),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),e.textDecorationLine.length&&(h.ctx.fillStyle=$2(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:h.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+a),t.bounds.width,1);break;case 2:h.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:h.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+l),t.bounds.width,1)}})));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(h.ctx.strokeStyle=$2(e.webkitTextStrokeColor),h.ctx.lineWidth=e.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+a)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter"}}))})),[2]}))}))},e.prototype.renderReplacedElement=function(t,e,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var n=H8(t),o=E8(e);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return D0(this,0,void 0,(function(){var i,n,o,r,s,a,l,c,h,A,u,d,p,g,f,m,b,v;return Q0(this,(function(y){switch(y.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,n=t.curves,o=i.styles,r=0,s=i.textNodes,y.label=1;case 1:return r<s.length?(a=s[r],[4,this.renderTextNode(a,o)]):[3,4];case 2:y.sent(),y.label=3;case 3:return r++,[3,1];case 4:if(!(i instanceof K3))return[3,8];y.label=5;case 5:return y.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return f=y.sent(),this.renderReplacedElement(i,n,f),[3,8];case 7:return y.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof q3&&this.renderReplacedElement(i,n,i.canvas),!(i instanceof W3))return[3,12];y.label=9;case 9:return y.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return f=y.sent(),this.renderReplacedElement(i,n,f),[3,12];case 11:return y.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof s6&&i.tree?[4,new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}).render(i.tree)]:[3,14];case 13:l=y.sent(),i.width&&i.height&&this.ctx.drawImage(l,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),y.label=14;case 14:if(i instanceof n6&&(c=Math.min(i.bounds.width,i.bounds.height),i.type===J3?i.checked&&(this.ctx.save(),this.path([new y8(i.bounds.left+.39363*c,i.bounds.top+.79*c),new y8(i.bounds.left+.16*c,i.bounds.top+.5549*c),new y8(i.bounds.left+.27347*c,i.bounds.top+.44071*c),new y8(i.bounds.left+.39694*c,i.bounds.top+.5649*c),new y8(i.bounds.left+.72983*c,i.bounds.top+.23*c),new y8(i.bounds.left+.84*c,i.bounds.top+.34085*c),new y8(i.bounds.left+.39363*c,i.bounds.top+.79*c)]),this.ctx.fillStyle=$2(i6),this.ctx.fill(),this.ctx.restore()):i.type===t6&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+c/2,i.bounds.top+c/2,c/4,0,2*Math.PI,!0),this.ctx.fillStyle=$2(i6),this.ctx.fill(),this.ctx.restore())),Z8(i)&&i.value.length){switch(h=this.createFontStyle(o),b=h[0],A=h[1],u=this.fontMetrics.getMetrics(b,A).baseline,this.ctx.font=b,this.ctx.fillStyle=$2(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=t7(i.styles.textAlign),v=H8(i),d=0,i.styles.textAlign){case 1:d+=v.width/2;break;case 2:d+=v.width}p=v.add(d,0,0,-v.height/2+1),this.ctx.save(),this.path([new y8(v.left,v.top),new y8(v.left+v.width,v.top),new y8(v.left+v.width,v.top+v.height),new y8(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new R3(i.value,p),o.letterSpacing,u),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!W4(i.styles.display,2048))return[3,20];if(null===i.styles.listStyleImage)return[3,19];if(0!==(g=i.styles.listStyleImage).type)return[3,18];f=void 0,m=g.url,y.label=15;case 15:return y.trys.push([15,17,,18]),[4,this.context.cache.match(m)];case 16:return f=y.sent(),this.ctx.drawImage(f,i.bounds.left-(f.width+10),i.bounds.top),[3,18];case 17:return y.sent(),this.context.logger.error("Error loading list-style-image "+m),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==i.styles.listStyleType&&(b=this.createFontStyle(o)[0],this.ctx.font=b,this.ctx.fillStyle=$2(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new z0(i.bounds.left,i.bounds.top+H2(i.styles.paddingTop,i.bounds.width),i.bounds.width,A4(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new R3(t.listValue,v),o.letterSpacing,A4(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),y.label=20;case 20:return[2]}}))}))},e.prototype.renderStackContent=function(t){return D0(this,0,void 0,(function(){var e,i,n,o,r,s,a,l,c,h,A,u,d,p,g;return Q0(this,(function(f){switch(f.label){case 0:return W4(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:f.sent(),e=0,i=t.negativeZIndex,f.label=2;case 2:return e<i.length?(g=i[e],[4,this.renderStack(g)]):[3,5];case 3:f.sent(),f.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:f.sent(),n=0,o=t.nonInlineLevel,f.label=7;case 7:return n<o.length?(g=o[n],[4,this.renderNode(g)]):[3,10];case 8:f.sent(),f.label=9;case 9:return n++,[3,7];case 10:r=0,s=t.nonPositionedFloats,f.label=11;case 11:return r<s.length?(g=s[r],[4,this.renderStack(g)]):[3,14];case 12:f.sent(),f.label=13;case 13:return r++,[3,11];case 14:a=0,l=t.nonPositionedInlineLevel,f.label=15;case 15:return a<l.length?(g=l[a],[4,this.renderStack(g)]):[3,18];case 16:f.sent(),f.label=17;case 17:return a++,[3,15];case 18:c=0,h=t.inlineLevel,f.label=19;case 19:return c<h.length?(g=h[c],[4,this.renderNode(g)]):[3,22];case 20:f.sent(),f.label=21;case 21:return c++,[3,19];case 22:A=0,u=t.zeroOrAutoZIndexOrTransformedOrOpacity,f.label=23;case 23:return A<u.length?(g=u[A],[4,this.renderStack(g)]):[3,26];case 24:f.sent(),f.label=25;case 25:return A++,[3,23];case 26:d=0,p=t.positiveZIndex,f.label=27;case 27:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,30];case 28:f.sent(),f.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var e=this;t.forEach((function(t,i){var n=_8(t)?t.start:t;0===i?e.ctx.moveTo(n.x,n.y):e.ctx.lineTo(n.x,n.y),_8(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},e.prototype.renderRepeat=function(t,e,i,n){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(i,n),this.ctx.fill(),this.ctx.translate(-i,-n)},e.prototype.resizeImage=function(t,e,i){var n;if(t.width===e&&t.height===i)return t;var o=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return o.width=Math.max(1,e),o.height=Math.max(1,i),o.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,i),o},e.prototype.renderBackgroundImage=function(t){return D0(this,0,void 0,(function(){var e,i,n,o,r,s;return Q0(this,(function(a){switch(a.label){case 0:e=t.styles.backgroundImage.length-1,i=function(i){var o,r,s,a,l,c,h,A,u,d,p,g,f,m,b,v,y,w,x,_,C,B,S,E,k,F,T,L,I,M,P;return Q0(this,(function(R){switch(R.label){case 0:if(0!==i.type)return[3,5];o=void 0,r=i.url,R.label=1;case 1:return R.trys.push([1,3,,4]),[4,n.context.cache.match(r)];case 2:return o=R.sent(),[3,4];case 3:return R.sent(),n.context.logger.error("Error loading background-image "+r),[3,4];case 4:return o&&(s=z8(t,e,[o.width,o.height,o.width/o.height]),v=s[0],B=s[1],S=s[2],x=s[3],_=s[4],m=n.ctx.createPattern(n.resizeImage(o,x,_),"repeat"),n.renderRepeat(v,m,B,S)),[3,6];case 5:1===i.type?(a=z8(t,e,[null,null,null]),v=a[0],B=a[1],S=a[2],x=a[3],_=a[4],l=c5(i.angle,x,_),c=l[0],h=l[1],A=l[2],u=l[3],d=l[4],(p=document.createElement("canvas")).width=x,p.height=_,g=p.getContext("2d"),f=g.createLinearGradient(h,u,A,d),l5(i.stops,c).forEach((function(t){return f.addColorStop(t.stop,$2(t.color))})),g.fillStyle=f,g.fillRect(0,0,x,_),x>0&&_>0&&(m=n.ctx.createPattern(p,"repeat"),n.renderRepeat(v,m,B,S))):function(t){return 2===t.type}(i)&&(b=z8(t,e,[null,null,null]),v=b[0],y=b[1],w=b[2],x=b[3],_=b[4],C=0===i.position.length?[U2]:i.position,B=H2(C[0],x),S=H2(C[C.length-1],_),E=function(t,e,i,n,o){var r=0,s=0;switch(t.size){case 0:0===t.shape?r=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(i),Math.abs(i-o)):1===t.shape&&(r=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(i),Math.abs(i-o)));break;case 2:if(0===t.shape)r=s=Math.min(h5(e,i),h5(e,i-o),h5(e-n,i),h5(e-n,i-o));else if(1===t.shape){var a=Math.min(Math.abs(i),Math.abs(i-o))/Math.min(Math.abs(e),Math.abs(e-n)),l=A5(n,o,e,i,!0),c=l[0],h=l[1];s=a*(r=h5(c-e,(h-i)/a))}break;case 1:0===t.shape?r=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(i),Math.abs(i-o)):1===t.shape&&(r=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(i),Math.abs(i-o)));break;case 3:if(0===t.shape)r=s=Math.max(h5(e,i),h5(e,i-o),h5(e-n,i),h5(e-n,i-o));else if(1===t.shape){a=Math.max(Math.abs(i),Math.abs(i-o))/Math.max(Math.abs(e),Math.abs(e-n));var A=A5(n,o,e,i,!1);c=A[0],h=A[1],s=a*(r=h5(c-e,(h-i)/a))}}return Array.isArray(t.size)&&(r=H2(t.size[0],n),s=2===t.size.length?H2(t.size[1],o):r),[r,s]}(i,B,S,x,_),k=E[0],F=E[1],k>0&&F>0&&(T=n.ctx.createRadialGradient(y+B,w+S,0,y+B,w+S,k),l5(i.stops,2*k).forEach((function(t){return T.addColorStop(t.stop,$2(t.color))})),n.path(v),n.ctx.fillStyle=T,k!==F?(L=t.bounds.left+.5*t.bounds.width,I=t.bounds.top+.5*t.bounds.height,P=1/(M=F/k),n.ctx.save(),n.ctx.translate(L,I),n.ctx.transform(1,0,0,M,0,0),n.ctx.translate(-L,-I),n.ctx.fillRect(y,P*(w-I)+I,x,_*P),n.ctx.restore()):n.ctx.fill())),R.label=6;case 6:return e--,[2]}}))},n=this,o=0,r=t.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return o<r.length?(s=r[o],[5,i(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},e.prototype.renderSolidBorder=function(t,e,i){return D0(this,0,void 0,(function(){return Q0(this,(function(n){return this.path(O8(i,e)),this.ctx.fillStyle=$2(t),this.ctx.fill(),[2]}))}))},e.prototype.renderDoubleBorder=function(t,e,i,n){return D0(this,0,void 0,(function(){var o,r;return Q0(this,(function(s){switch(s.label){case 0:return e<3?[4,this.renderSolidBorder(t,i,n)]:[3,2];case 1:return s.sent(),[2];case 2:return o=function(t,e){switch(e){case 0:return D8(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return D8(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return D8(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return D8(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}}(n,i),this.path(o),this.ctx.fillStyle=$2(t),this.ctx.fill(),r=function(t,e){switch(e){case 0:return D8(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return D8(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return D8(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return D8(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}}(n,i),this.path(r),this.ctx.fill(),[2]}}))}))},e.prototype.renderNodeBackgroundAndBorders=function(t){return D0(this,0,void 0,(function(){var e,i,n,o,r,s,a,l,c=this;return Q0(this,(function(h){switch(h.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,i=!X2(e.backgroundColor)||e.backgroundImage.length,n=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],o=J8(K8(e.backgroundClip,0),t.curves),i||e.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),X2(e.backgroundColor)||(this.ctx.fillStyle=$2(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){c.ctx.save();var i,n,o,r,s,a=S8(t.curves),l=e.inset?0:1e4,h=(i=a,n=-l+(e.inset?1:-1)*e.spread.number,o=(e.inset?1:-1)*e.spread.number,r=e.spread.number*(e.inset?-2:2),s=e.spread.number*(e.inset?-2:2),i.map((function(t,e){switch(e){case 0:return t.add(n,o);case 1:return t.add(n+r,o);case 2:return t.add(n+r,o+s);case 3:return t.add(n,o+s)}return t})));e.inset?(c.path(a),c.ctx.clip(),c.mask(h)):(c.mask(a),c.ctx.clip(),c.path(h)),c.ctx.shadowOffsetX=e.offsetX.number+l,c.ctx.shadowOffsetY=e.offsetY.number,c.ctx.shadowColor=$2(e.color),c.ctx.shadowBlur=e.blur.number,c.ctx.fillStyle=e.inset?$2(e.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),h.label=2;case 2:r=0,s=0,a=n,h.label=3;case 3:return s<a.length?0!==(l=a[s]).style&&!X2(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,r,t.curves,2)]:[3,11]:[3,13];case 4:return h.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,r,t.curves,3)];case 6:return h.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,r,t.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,r,t.curves)];case 10:h.sent(),h.label=11;case 11:r++,h.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},e.prototype.renderDashedDottedBorder=function(t,e,i,n,o){return D0(this,0,void 0,(function(){var r,s,a,l,c,h,A,u,d,p,g,f,m,b,v,y;return Q0(this,(function(w){return this.ctx.save(),r=function(t,e){switch(e){case 0:return U8(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return U8(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return U8(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return U8(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}}(n,i),s=O8(n,i),2===o&&(this.path(s),this.ctx.clip()),_8(s[0])?(a=s[0].start.x,l=s[0].start.y):(a=s[0].x,l=s[0].y),_8(s[1])?(c=s[1].end.x,h=s[1].end.y):(c=s[1].x,h=s[1].y),A=0===i||2===i?Math.abs(a-c):Math.abs(l-h),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(s.slice(0,2)),u=e<3?3*e:2*e,d=e<3?2*e:e,3===o&&(u=e,d=e),p=!0,A<=2*u?p=!1:A<=2*u+d?(u*=g=A/(2*u+d),d*=g):(f=Math.floor((A+d)/(u+d)),m=(A-f*u)/(f-1),d=(b=(A-(f+1)*u)/f)<=0||Math.abs(d-m)<Math.abs(d-b)?m:b),p&&(3===o?this.ctx.setLineDash([0,u+d]):this.ctx.setLineDash([u,d])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=$2(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(_8(s[0])&&(v=s[3],y=s[0],this.ctx.beginPath(),this.formatPath([new y8(v.end.x,v.end.y),new y8(y.start.x,y.start.y)]),this.ctx.stroke()),_8(s[1])&&(v=s[1],y=s[2],this.ctx.beginPath(),this.formatPath([new y8(v.end.x,v.end.y),new y8(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},e.prototype.render=function(t){return D0(this,0,void 0,(function(){var e;return Q0(this,(function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=$2(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=new P8(t,null),o=new M8(n),R8(n,o,o,r=[]),N8(n.container,r),e=o,[4,this.renderStack(e)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}var n,o,r}))}))},e}($8),Z8=function(t){return t instanceof r6||(t instanceof o6||t instanceof n6&&t.type!==t6&&t.type!==J3)},J8=function(t,e){switch(t){case 0:return S8(e);case 2:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);default:return E8(e)}},t7=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},e7=["-apple-system","system-ui"],i7=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter((function(t){return-1===e7.indexOf(t)})):t},n7=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.canvas=i.canvas?i.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=i,n.canvas.width=Math.floor(i.width*i.scale),n.canvas.height=Math.floor(i.height*i.scale),n.canvas.style.width=i.width+"px",n.canvas.style.height=i.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-i.x,-i.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),n}return O0(e,t),e.prototype.render=function(t){return D0(this,0,void 0,(function(){var e,i;return Q0(this,(function(n){switch(n.label){case 0:return e=I3(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,o7(e)];case 1:return i=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=$2(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},e}($8),o7=function(t){return new Promise((function(e,i){var n=new Image;n.onload=function(){e(n)},n.onerror=i,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},r7=function(){function t(t){var e=t.id,i=t.enabled;this.id=e,this.enabled=i,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,H0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,H0([this.id,this.getTime()+"ms"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,H0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,H0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.instances={},t}(),s7=function(){function t(e,i){var n;this.windowBounds=i,this.instanceName="#"+t.instanceCount++,this.logger=new r7({id:this.instanceName,enabled:e.logging}),this.cache=null!==(n=e.cache)&&void 0!==n?n:new A8(this,e)}return t.instanceCount=1,t}();"undefined"!=typeof window&&h8.setContext(window);var a7=function(t,e){return D0(void 0,0,void 0,(function(){var i,n,o,r,s,a,l,c,h,A,u,d,p,g,f,m,b,v,y,w,x,_,C,B,S,E,k,F,T,L,I,M,P,R,N,O,U,D;return Q0(this,(function(Q){switch(Q.label){case 0:if(!t||"object"!=typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(i=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(n=i.defaultView))throw new Error("Document is not attached to a Window");return o={allowTaint:null!==(_=e.allowTaint)&&void 0!==_&&_,imageTimeout:null!==(C=e.imageTimeout)&&void 0!==C?C:15e3,proxy:e.proxy,useCORS:null!==(B=e.useCORS)&&void 0!==B&&B},r=U0({logging:null===(S=e.logging)||void 0===S||S,cache:e.cache},o),s={windowWidth:null!==(E=e.windowWidth)&&void 0!==E?E:n.innerWidth,windowHeight:null!==(k=e.windowHeight)&&void 0!==k?k:n.innerHeight,scrollX:null!==(F=e.scrollX)&&void 0!==F?F:n.pageXOffset,scrollY:null!==(T=e.scrollY)&&void 0!==T?T:n.pageYOffset},a=new z0(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),l=new s7(r,a),c=null!==(L=e.foreignObjectRendering)&&void 0!==L&&L,h={allowTaint:null!==(I=e.allowTaint)&&void 0!==I&&I,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),A=new q6(l,t,h),(u=A.clonedReferenceElement)?[4,A.toIFrame(i,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=Q.sent(),p=w6(u)||"HTML"===u.tagName?function(t){var e=t.body,i=t.documentElement;if(!e||!i)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,i.scrollWidth),Math.max(e.offsetWidth,i.offsetWidth),Math.max(e.clientWidth,i.clientWidth)),o=Math.max(Math.max(e.scrollHeight,i.scrollHeight),Math.max(e.offsetHeight,i.offsetHeight),Math.max(e.clientHeight,i.clientHeight));return new z0(0,0,n,o)}(u.ownerDocument):j0(l,u),g=p.width,f=p.height,m=p.left,b=p.top,v=l7(l,u,e.backgroundColor),y={canvas:e.canvas,backgroundColor:v,scale:null!==(P=null!==(M=e.scale)&&void 0!==M?M:n.devicePixelRatio)&&void 0!==P?P:1,x:(null!==(R=e.x)&&void 0!==R?R:0)+m,y:(null!==(N=e.y)&&void 0!==N?N:0)+b,width:null!==(O=e.width)&&void 0!==O?O:Math.ceil(g),height:null!==(U=e.height)&&void 0!==U?U:Math.ceil(f)},c?(l.logger.debug("Document cloned, using foreign object rendering"),[4,new n7(l,y).render(u)]):[3,3];case 2:return w=Q.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+b+" with size "+g+"x"+f+" using computed rendering"),l.logger.debug("Starting DOM parsing"),x=h6(l,u),v===x.styles.backgroundColor&&(x.styles.backgroundColor=o5.TRANSPARENT),l.logger.debug("Starting renderer for element at "+y.x+","+y.y+" with size "+y.width+"x"+y.height),[4,new Y8(l,y).render(x)];case 4:w=Q.sent(),Q.label=5;case 5:return(null===(D=e.removeContainer)||void 0===D||D)&&(q6.destroy(d)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,w]}}))}))},l7=function(t,e,i){var n=e.ownerDocument,o=n.documentElement?n5(t,getComputedStyle(n.documentElement).backgroundColor):o5.TRANSPARENT,r=n.body?n5(t,getComputedStyle(n.body).backgroundColor):o5.TRANSPARENT,s="string"==typeof i?n5(t,i):null===i?o5.TRANSPARENT:4294967295;return e===n.documentElement?X2(o)?X2(r)?s:r:o:s};const c7=Object.freeze(Object.defineProperty({__proto__:null,default:function(t,e){return void 0===e&&(e={}),a7(t,e)}},Symbol.toStringTag,{value:"Module"}));/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */function h7(t){return(h7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A7(t,e){return A7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},A7(t,e)}function u7(t,e,i){return(u7=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(NZ){return!1}}()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return i&&A7(o,i.prototype),o}).apply(null,arguments)}function d7(t){return function(t){if(Array.isArray(t))return p7(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p7(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p7(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p7(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var g7=Object.hasOwnProperty,f7=Object.setPrototypeOf,m7=Object.isFrozen,b7=Object.getPrototypeOf,v7=Object.getOwnPropertyDescriptor,y7=Object.freeze,w7=Object.seal,x7=Object.create,_7="undefined"!=typeof Reflect&&Reflect,C7=_7.apply,B7=_7.construct;C7||(C7=function(t,e,i){return t.apply(e,i)}),y7||(y7=function(t){return t}),w7||(w7=function(t){return t}),B7||(B7=function(t,e){return u7(t,d7(e))});var S7,E7=U7(Array.prototype.forEach),k7=U7(Array.prototype.pop),F7=U7(Array.prototype.push),T7=U7(String.prototype.toLowerCase),L7=U7(String.prototype.toString),I7=U7(String.prototype.match),M7=U7(String.prototype.replace),P7=U7(String.prototype.indexOf),R7=U7(String.prototype.trim),N7=U7(RegExp.prototype.test),O7=(S7=TypeError,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return B7(S7,e)});function U7(t){return function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return C7(t,e,n)}}function D7(t,e,i){var n;i=null!==(n=i)&&void 0!==n?n:T7,f7&&f7(t,null);for(var o=e.length;o--;){var r=e[o];if("string"==typeof r){var s=i(r);s!==r&&(m7(e)||(e[o]=s),r=s)}t[r]=!0}return t}function Q7(t){var e,i=x7(null);for(e in t)!0===C7(g7,t,[e])&&(i[e]=t[e]);return i}function H7(t,e){for(;null!==t;){var i=v7(t,e);if(i){if(i.get)return U7(i.get);if("function"==typeof i.value)return U7(i.value)}t=b7(t)}return function(t){return console.warn("fallback value for",t),null}}var z7=y7(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),j7=y7(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),G7=y7(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),V7=y7(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),K7=y7(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),q7=y7(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),W7=y7(["#text"]),X7=y7(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$7=y7(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Y7=y7(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Z7=y7(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J7=w7(/\{\{[\w\W]*|[\w\W]*\}\}/gm),t9=w7(/<%[\w\W]*|[\w\W]*%>/gm),e9=w7(/\${[\w\W]*}/gm),i9=w7(/^data-[\-\w.\u00B7-\uFFFF]/),n9=w7(/^aria-[\-\w]+$/),o9=w7(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),r9=w7(/^(?:\w+script|data):/i),s9=w7(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),a9=w7(/^html$/i);var l9=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,i=function(e){return t(e)};if(i.version="2.4.7",i.removed=[],!e||!e.document||9!==e.document.nodeType)return i.isSupported=!1,i;var n=e.document,o=e.document,r=e.DocumentFragment,s=e.HTMLTemplateElement,a=e.Node,l=e.Element,c=e.NodeFilter,h=e.NamedNodeMap,A=void 0===h?e.NamedNodeMap||e.MozNamedAttrMap:h,u=e.HTMLFormElement,d=e.DOMParser,p=e.trustedTypes,g=l.prototype,f=H7(g,"cloneNode"),m=H7(g,"nextSibling"),b=H7(g,"childNodes"),v=H7(g,"parentNode");if("function"==typeof s){var y=o.createElement("template");y.content&&y.content.ownerDocument&&(o=y.content.ownerDocument)}var w=function(t,e){if("object"!==h7(t)||"function"!=typeof t.createPolicy)return null;var i=null,n="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(n)&&(i=e.currentScript.getAttribute(n));var o="dompurify"+(i?"#"+i:"");try{return t.createPolicy(o,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(r){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(p,n),x=w?w.createHTML(""):"",_=o,C=_.implementation,B=_.createNodeIterator,S=_.createDocumentFragment,E=_.getElementsByTagName,k=n.importNode,F={};try{F=Q7(o).documentMode?o.documentMode:{}}catch(Gt){}var T={};i.isSupported="function"==typeof v&&C&&void 0!==C.createHTMLDocument&&9!==F;var L,I,M=J7,P=t9,R=e9,N=i9,O=n9,U=r9,D=s9,Q=o9,H=null,z=D7({},[].concat(d7(z7),d7(j7),d7(G7),d7(K7),d7(W7))),j=null,G=D7({},[].concat(d7(X7),d7($7),d7(Y7),d7(Z7))),V=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,q=null,W=!0,X=!0,$=!1,Y=!0,Z=!1,J=!1,tt=!1,et=!1,it=!1,nt=!1,ot=!1,rt=!0,st=!1,at=!0,lt=!1,ct={},ht=null,At=D7({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ut=null,dt=D7({},["audio","video","img","source","image","track"]),pt=null,gt=D7({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ft="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",bt="http://www.w3.org/1999/xhtml",vt=bt,yt=!1,wt=null,xt=D7({},[ft,mt,bt],L7),_t=["application/xhtml+xml","text/html"],Ct=null,Bt=o.createElement("form"),St=function(t){return t instanceof RegExp||t instanceof Function},Et=function(t){Ct&&Ct===t||(t&&"object"===h7(t)||(t={}),t=Q7(t),L=L=-1===_t.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,I="application/xhtml+xml"===L?L7:T7,H="ALLOWED_TAGS"in t?D7({},t.ALLOWED_TAGS,I):z,j="ALLOWED_ATTR"in t?D7({},t.ALLOWED_ATTR,I):G,wt="ALLOWED_NAMESPACES"in t?D7({},t.ALLOWED_NAMESPACES,L7):xt,pt="ADD_URI_SAFE_ATTR"in t?D7(Q7(gt),t.ADD_URI_SAFE_ATTR,I):gt,ut="ADD_DATA_URI_TAGS"in t?D7(Q7(dt),t.ADD_DATA_URI_TAGS,I):dt,ht="FORBID_CONTENTS"in t?D7({},t.FORBID_CONTENTS,I):At,K="FORBID_TAGS"in t?D7({},t.FORBID_TAGS,I):{},q="FORBID_ATTR"in t?D7({},t.FORBID_ATTR,I):{},ct="USE_PROFILES"in t&&t.USE_PROFILES,W=!1!==t.ALLOW_ARIA_ATTR,X=!1!==t.ALLOW_DATA_ATTR,$=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Z=t.SAFE_FOR_TEMPLATES||!1,J=t.WHOLE_DOCUMENT||!1,it=t.RETURN_DOM||!1,nt=t.RETURN_DOM_FRAGMENT||!1,ot=t.RETURN_TRUSTED_TYPE||!1,et=t.FORCE_BODY||!1,rt=!1!==t.SANITIZE_DOM,st=t.SANITIZE_NAMED_PROPS||!1,at=!1!==t.KEEP_CONTENT,lt=t.IN_PLACE||!1,Q=t.ALLOWED_URI_REGEXP||Q,vt=t.NAMESPACE||bt,V=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&St(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&St(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(X=!1),nt&&(it=!0),ct&&(H=D7({},d7(W7)),j=[],!0===ct.html&&(D7(H,z7),D7(j,X7)),!0===ct.svg&&(D7(H,j7),D7(j,$7),D7(j,Z7)),!0===ct.svgFilters&&(D7(H,G7),D7(j,$7),D7(j,Z7)),!0===ct.mathMl&&(D7(H,K7),D7(j,Y7),D7(j,Z7))),t.ADD_TAGS&&(H===z&&(H=Q7(H)),D7(H,t.ADD_TAGS,I)),t.ADD_ATTR&&(j===G&&(j=Q7(j)),D7(j,t.ADD_ATTR,I)),t.ADD_URI_SAFE_ATTR&&D7(pt,t.ADD_URI_SAFE_ATTR,I),t.FORBID_CONTENTS&&(ht===At&&(ht=Q7(ht)),D7(ht,t.FORBID_CONTENTS,I)),at&&(H["#text"]=!0),J&&D7(H,["html","head","body"]),H.table&&(D7(H,["tbody"]),delete K.tbody),y7&&y7(t),Ct=t)},kt=D7({},["mi","mo","mn","ms","mtext"]),Ft=D7({},["foreignobject","desc","title","annotation-xml"]),Tt=D7({},["title","style","font","a","script"]),Lt=D7({},j7);D7(Lt,G7),D7(Lt,V7);var It=D7({},K7);D7(It,q7);var Mt=function(t){F7(i.removed,{element:t});try{t.parentNode.removeChild(t)}catch(Gt){try{t.outerHTML=x}catch(e){t.remove()}}},Pt=function(t,e){try{F7(i.removed,{attribute:e.getAttributeNode(t),from:e})}catch(Gt){F7(i.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!j[t])if(it||nt)try{Mt(e)}catch(Gt){}else try{e.setAttribute(t,"")}catch(Gt){}},Rt=function(t){var e,i;if(et)t="<remove></remove>"+t;else{var n=I7(t,/^[\r\n\t ]+/);i=n&&n[0]}"application/xhtml+xml"===L&&vt===bt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var r=w?w.createHTML(t):t;if(vt===bt)try{e=(new d).parseFromString(r,L)}catch(Gt){}if(!e||!e.documentElement){e=C.createDocument(vt,"template",null);try{e.documentElement.innerHTML=yt?x:r}catch(Gt){}}var s=e.body||e.documentElement;return t&&i&&s.insertBefore(o.createTextNode(i),s.childNodes[0]||null),vt===bt?E.call(e,J?"html":"body")[0]:J?e.documentElement:s},Nt=function(t){return B.call(t.ownerDocument||t,t,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Ot=function(t){return"object"===h7(a)?t instanceof a:t&&"object"===h7(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Ut=function(t,e,n){T[t]&&E7(T[t],(function(t){t.call(i,e,n,Ct)}))},Dt=function(t){var e,n;if(Ut("beforeSanitizeElements",t,null),(n=t)instanceof u&&("string"!=typeof n.nodeName||"string"!=typeof n.textContent||"function"!=typeof n.removeChild||!(n.attributes instanceof A)||"function"!=typeof n.removeAttribute||"function"!=typeof n.setAttribute||"string"!=typeof n.namespaceURI||"function"!=typeof n.insertBefore||"function"!=typeof n.hasChildNodes))return Mt(t),!0;if(N7(/[\u0080-\uFFFF]/,t.nodeName))return Mt(t),!0;var o=I(t.nodeName);if(Ut("uponSanitizeElement",t,{tagName:o,allowedTags:H}),t.hasChildNodes()&&!Ot(t.firstElementChild)&&(!Ot(t.content)||!Ot(t.content.firstElementChild))&&N7(/<[/\w]/g,t.innerHTML)&&N7(/<[/\w]/g,t.textContent))return Mt(t),!0;if("select"===o&&N7(/<template/i,t.innerHTML))return Mt(t),!0;if(!H[o]||K[o]){if(!K[o]&&Ht(o)){if(V.tagNameCheck instanceof RegExp&&N7(V.tagNameCheck,o))return!1;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(o))return!1}if(at&&!ht[o]){var r=v(t)||t.parentNode,s=b(t)||t.childNodes;if(s&&r)for(var a=s.length-1;a>=0;--a)r.insertBefore(f(s[a],!0),m(t))}return Mt(t),!0}return t instanceof l&&!function(t){var e=v(t);e&&e.tagName||(e={namespaceURI:vt,tagName:"template"});var i=T7(t.tagName),n=T7(e.tagName);return!!wt[t.namespaceURI]&&(t.namespaceURI===mt?e.namespaceURI===bt?"svg"===i:e.namespaceURI===ft?"svg"===i&&("annotation-xml"===n||kt[n]):Boolean(Lt[i]):t.namespaceURI===ft?e.namespaceURI===bt?"math"===i:e.namespaceURI===mt?"math"===i&&Ft[n]:Boolean(It[i]):t.namespaceURI===bt?!(e.namespaceURI===mt&&!Ft[n])&&!(e.namespaceURI===ft&&!kt[n])&&!It[i]&&(Tt[i]||!Lt[i]):!("application/xhtml+xml"!==L||!wt[t.namespaceURI]))}(t)?(Mt(t),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!N7(/<\/no(script|embed|frames)/i,t.innerHTML)?(Z&&3===t.nodeType&&(e=t.textContent,e=M7(e,M," "),e=M7(e,P," "),e=M7(e,R," "),t.textContent!==e&&(F7(i.removed,{element:t.cloneNode()}),t.textContent=e)),Ut("afterSanitizeElements",t,null),!1):(Mt(t),!0)},Qt=function(t,e,i){if(rt&&("id"===e||"name"===e)&&(i in o||i in Bt))return!1;if(X&&!q[e]&&N7(N,e));else if(W&&N7(O,e));else if(!j[e]||q[e]){if(!(Ht(t)&&(V.tagNameCheck instanceof RegExp&&N7(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&N7(V.attributeNameCheck,e)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(e))||"is"===e&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&N7(V.tagNameCheck,i)||V.tagNameCheck instanceof Function&&V.tagNameCheck(i))))return!1}else if(pt[e]);else if(N7(Q,M7(i,D,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==P7(i,"data:")||!ut[t]){if($&&!N7(U,M7(i,D,"")));else if(i)return!1}else;return!0},Ht=function(t){return t.indexOf("-")>0},zt=function(t){var e,n,o,r;Ut("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(r=s.length;r--;){var l=e=s[r],c=l.name,h=l.namespaceURI;if(n="value"===c?e.value:R7(e.value),o=I(c),a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,Ut("uponSanitizeAttribute",t,a),n=a.attrValue,!a.forceKeepAttr&&(Pt(c,t),a.keepAttr))if(Y||!N7(/\/>/i,n)){Z&&(n=M7(n,M," "),n=M7(n,P," "),n=M7(n,R," "));var A=I(t.nodeName);if(Qt(A,o,n)){if(!st||"id"!==o&&"name"!==o||(Pt(c,t),n="user-content-"+n),w&&"object"===h7(p)&&"function"==typeof p.getAttributeType)if(h);else switch(p.getAttributeType(A,o)){case"TrustedHTML":n=w.createHTML(n);break;case"TrustedScriptURL":n=w.createScriptURL(n)}try{h?t.setAttributeNS(h,c,n):t.setAttribute(c,n),k7(i.removed)}catch(Gt){}}}else Pt(c,t)}Ut("afterSanitizeAttributes",t,null)}},jt=function t(e){var i,n=Nt(e);for(Ut("beforeSanitizeShadowDOM",e,null);i=n.nextNode();)Ut("uponSanitizeShadowNode",i,null),Dt(i)||(i.content instanceof r&&t(i.content),zt(i));Ut("afterSanitizeShadowDOM",e,null)};return i.sanitize=function(t){var o,s,l,c,h,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((yt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!Ot(t)){if("function"!=typeof t.toString)throw O7("toString is not a function");if("string"!=typeof(t=t.toString()))throw O7("dirty is not a string, aborting")}if(!i.isSupported){if("object"===h7(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(Ot(t))return e.toStaticHTML(t.outerHTML)}return t}if(tt||Et(A),i.removed=[],"string"==typeof t&&(lt=!1),lt){if(t.nodeName){var u=I(t.nodeName);if(!H[u]||K[u])throw O7("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof a)1===(s=(o=Rt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!it&&!Z&&!J&&-1===t.indexOf("<"))return w&&ot?w.createHTML(t):t;if(!(o=Rt(t)))return it?null:ot?x:""}o&&et&&Mt(o.firstChild);for(var d=Nt(lt?t:o);l=d.nextNode();)3===l.nodeType&&l===c||Dt(l)||(l.content instanceof r&&jt(l.content),zt(l),c=l);if(c=null,lt)return t;if(it){if(nt)for(h=S.call(o.ownerDocument);o.firstChild;)h.appendChild(o.firstChild);else h=o;return(j.shadowroot||j.shadowrootmod)&&(h=k.call(n,h,!0)),h}var p=J?o.outerHTML:o.innerHTML;return J&&H["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&N7(a9,o.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+p),Z&&(p=M7(p,M," "),p=M7(p,P," "),p=M7(p,R," ")),w&&ot?w.createHTML(p):p},i.setConfig=function(t){Et(t),tt=!0},i.clearConfig=function(){Ct=null,tt=!1},i.isValidAttribute=function(t,e,i){Ct||Et({});var n=I(t),o=I(e);return Qt(n,o,i)},i.addHook=function(t,e){"function"==typeof e&&(T[t]=T[t]||[],F7(T[t],e))},i.removeHook=function(t){if(T[t])return k7(T[t])},i.removeHooks=function(t){T[t]&&(T[t]=[])},i.removeAllHooks=function(){T={}},i}();const c9=Object.freeze(Object.defineProperty({__proto__:null,default:l9},Symbol.toStringTag,{value:"Module"}));var h9=function(t){return t&&t.Math===Math&&t},A9=h9("object"==typeof globalThis&&globalThis)||h9("object"==typeof window&&window)||h9("object"==typeof self&&self)||h9("object"==typeof C$&&C$)||h9("object"==typeof C$&&C$)||function(){return this}()||Function("return this")(),u9={},d9=function(t){try{return!!t()}catch(vy){return!0}},p9=!d9((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),g9=!d9((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),f9=g9,m9=Function.prototype.call,b9=f9?m9.bind(m9):function(){return m9.apply(m9,arguments)},v9={},y9={}.propertyIsEnumerable,w9=Object.getOwnPropertyDescriptor,x9=w9&&!y9.call({1:2},1);v9.f=x9?function(t){var e=w9(this,t);return!!e&&e.enumerable}:y9;var _9,C9,B9=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},S9=g9,E9=Function.prototype,k9=E9.call,F9=S9&&E9.bind.bind(k9,k9),T9=S9?F9:function(t){return function(){return k9.apply(t,arguments)}},L9=T9,I9=L9({}.toString),M9=L9("".slice),P9=function(t){return M9(I9(t),8,-1)},R9=d9,N9=P9,O9=Object,U9=T9("".split),D9=R9((function(){return!O9("z").propertyIsEnumerable(0)}))?function(t){return"String"===N9(t)?U9(t,""):O9(t)}:O9,Q9=function(t){return null==t},H9=Q9,z9=TypeError,j9=function(t){if(H9(t))throw new z9("Can't call method on "+t);return t},G9=D9,V9=j9,K9=function(t){return G9(V9(t))},q9="object"==typeof document&&document.all,W9=void 0===q9&&void 0!==q9?function(t){return"function"==typeof t||t===q9}:function(t){return"function"==typeof t},X9=W9,$9=function(t){return"object"==typeof t?null!==t:X9(t)},Y9=A9,Z9=W9,J9=function(t,e){return arguments.length<2?(i=Y9[t],Z9(i)?i:void 0):Y9[t]&&Y9[t][e];var i},ttt=T9({}.isPrototypeOf),ett="undefined"!=typeof navigator&&String(navigator.userAgent)||"",itt=A9,ntt=ett,ott=itt.process,rtt=itt.Deno,stt=ott&&ott.versions||rtt&&rtt.version,att=stt&&stt.v8;att&&(C9=(_9=att.split("."))[0]>0&&_9[0]<4?1:+(_9[0]+_9[1])),!C9&&ntt&&(!(_9=ntt.match(/Edge\/(\d+)/))||_9[1]>=74)&&(_9=ntt.match(/Chrome\/(\d+)/))&&(C9=+_9[1]);var ltt=C9,ctt=ltt,htt=d9,Att=A9.String,utt=!!Object.getOwnPropertySymbols&&!htt((function(){var t=Symbol("symbol detection");return!Att(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ctt&&ctt<41})),dtt=utt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ptt=J9,gtt=W9,ftt=ttt,mtt=Object,btt=dtt?function(t){return"symbol"==typeof t}:function(t){var e=ptt("Symbol");return gtt(e)&&ftt(e.prototype,mtt(t))},vtt=String,ytt=function(t){try{return vtt(t)}catch(vy){return"Object"}},wtt=W9,xtt=ytt,_tt=TypeError,Ctt=function(t){if(wtt(t))return t;throw new _tt(xtt(t)+" is not a function")},Btt=Ctt,Stt=Q9,Ett=function(t,e){var i=t[e];return Stt(i)?void 0:Btt(i)},ktt=b9,Ftt=W9,Ttt=$9,Ltt=TypeError,Itt={exports:{}},Mtt=A9,Ptt=Object.defineProperty,Rtt=function(t,e){try{Ptt(Mtt,t,{value:e,configurable:!0,writable:!0})}catch(vy){Mtt[t]=e}return e},Ntt=A9,Ott=Rtt,Utt="__core-js_shared__",Dtt=Itt.exports=Ntt[Utt]||Ott(Utt,{});(Dtt.versions||(Dtt.versions=[])).push({version:"3.36.0",mode:"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Qtt=Itt.exports,Htt=Qtt,ztt=function(t,e){return Htt[t]||(Htt[t]=e||{})},jtt=j9,Gtt=Object,Vtt=function(t){return Gtt(jtt(t))},Ktt=Vtt,qtt=T9({}.hasOwnProperty),Wtt=Object.hasOwn||function(t,e){return qtt(Ktt(t),e)},Xtt=T9,$tt=0,Ytt=Math.random(),Ztt=Xtt(1..toString),Jtt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Ztt(++$tt+Ytt,36)},tet=ztt,eet=Wtt,iet=Jtt,net=utt,oet=dtt,ret=A9.Symbol,set=tet("wks"),aet=oet?ret.for||ret:ret&&ret.withoutSetter||iet,cet=function(t){return eet(set,t)||(set[t]=net&&eet(ret,t)?ret[t]:aet("Symbol."+t)),set[t]},het=b9,Aet=$9,uet=btt,det=Ett,pet=function(t,e){var i,n;if("string"===e&&Ftt(i=t.toString)&&!Ttt(n=ktt(i,t)))return n;if(Ftt(i=t.valueOf)&&!Ttt(n=ktt(i,t)))return n;if("string"!==e&&Ftt(i=t.toString)&&!Ttt(n=ktt(i,t)))return n;throw new Ltt("Can't convert object to primitive value")},get=TypeError,fet=cet("toPrimitive"),met=function(t,e){if(!Aet(t)||uet(t))return t;var i,n=det(t,fet);if(n){if(void 0===e&&(e="default"),i=het(n,t,e),!Aet(i)||uet(i))return i;throw new get("Can't convert object to primitive value")}return void 0===e&&(e="number"),pet(t,e)},bet=btt,vet=function(t){var e=met(t,"string");return bet(e)?e:e+""},yet=$9,wet=A9.document,xet=yet(wet)&&yet(wet.createElement),_et=function(t){return xet?wet.createElement(t):{}},Cet=_et,Bet=!p9&&!d9((function(){return 7!==Object.defineProperty(Cet("div"),"a",{get:function(){return 7}}).a})),Eet=p9,ket=b9,Fet=v9,Tet=B9,Let=K9,Iet=vet,Met=Wtt,Pet=Bet,Ret=Object.getOwnPropertyDescriptor;u9.f=Eet?Ret:function(t,e){if(t=Let(t),e=Iet(e),Pet)try{return Ret(t,e)}catch(vy){}if(Met(t,e))return Tet(!ket(Fet.f,t,e),t[e])};var Net={},Oet=p9&&d9((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Uet=$9,Det=String,Qet=TypeError,Het=function(t){if(Uet(t))return t;throw new Qet(Det(t)+" is not an object")},zet=p9,jet=Bet,Get=Oet,Vet=Het,Ket=vet,qet=TypeError,Wet=Object.defineProperty,Xet=Object.getOwnPropertyDescriptor,$et="enumerable",Yet="configurable",Zet="writable";Net.f=zet?Get?function(t,e,i){if(Vet(t),e=Ket(e),Vet(i),"function"==typeof t&&"prototype"===e&&"value"in i&&Zet in i&&!i[Zet]){var n=Xet(t,e);n&&n[Zet]&&(t[e]=i.value,i={configurable:Yet in i?i[Yet]:n[Yet],enumerable:$et in i?i[$et]:n[$et],writable:!1})}return Wet(t,e,i)}:Wet:function(t,e,i){if(Vet(t),e=Ket(e),Vet(i),jet)try{return Wet(t,e,i)}catch(vy){}if("get"in i||"set"in i)throw new qet("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var Jet=Net,tit=B9,eit=p9?function(t,e,i){return Jet.f(t,e,tit(1,i))}:function(t,e,i){return t[e]=i,t},iit={exports:{}},nit=p9,oit=Wtt,rit=Function.prototype,sit=nit&&Object.getOwnPropertyDescriptor,ait=oit(rit,"name"),lit={EXISTS:ait,PROPER:ait&&"something"===function(){}.name,CONFIGURABLE:ait&&(!nit||nit&&sit(rit,"name").configurable)},cit=W9,hit=Qtt,Ait=T9(Function.toString);cit(hit.inspectSource)||(hit.inspectSource=function(t){return Ait(t)});var uit,dit,pit,git=hit.inspectSource,fit=W9,mit=A9.WeakMap,bit=fit(mit)&&/native code/.test(String(mit)),vit=Jtt,yit=ztt("keys"),wit=function(t){return yit[t]||(yit[t]=vit(t))},xit={},_it=bit,Cit=A9,Bit=$9,Sit=eit,Eit=Wtt,kit=Qtt,Fit=wit,Tit=xit,Lit="Object already initialized",Iit=Cit.TypeError,Mit=Cit.WeakMap;if(_it||kit.state){var Pit=kit.state||(kit.state=new Mit);Pit.get=Pit.get,Pit.has=Pit.has,Pit.set=Pit.set,uit=function(t,e){if(Pit.has(t))throw new Iit(Lit);return e.facade=t,Pit.set(t,e),e},dit=function(t){return Pit.get(t)||{}},pit=function(t){return Pit.has(t)}}else{var Rit=Fit("state");Tit[Rit]=!0,uit=function(t,e){if(Eit(t,Rit))throw new Iit(Lit);return e.facade=t,Sit(t,Rit,e),e},dit=function(t){return Eit(t,Rit)?t[Rit]:{}},pit=function(t){return Eit(t,Rit)}}var Nit={set:uit,get:dit,has:pit,enforce:function(t){return pit(t)?dit(t):uit(t,{})},getterFor:function(t){return function(e){var i;if(!Bit(e)||(i=dit(e)).type!==t)throw new Iit("Incompatible receiver, "+t+" required");return i}}},Oit=T9,Uit=d9,Dit=W9,Qit=Wtt,Hit=p9,zit=lit.CONFIGURABLE,jit=git,Git=Nit.enforce,Vit=Nit.get,Kit=String,qit=Object.defineProperty,Wit=Oit("".slice),Xit=Oit("".replace),$it=Oit([].join),Yit=Hit&&!Uit((function(){return 8!==qit((function(){}),"length",{value:8}).length})),Zit=String(String).split("String"),Jit=iit.exports=function(t,e,i){"Symbol("===Wit(Kit(e),0,7)&&(e="["+Xit(Kit(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!Qit(t,"name")||zit&&t.name!==e)&&(Hit?qit(t,"name",{value:e,configurable:!0}):t.name=e),Yit&&i&&Qit(i,"arity")&&t.length!==i.arity&&qit(t,"length",{value:i.arity});try{i&&Qit(i,"constructor")&&i.constructor?Hit&&qit(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(vy){}var n=Git(t);return Qit(n,"source")||(n.source=$it(Zit,"string"==typeof e?e:"")),t};Function.prototype.toString=Jit((function(){return Dit(this)&&Vit(this).source||jit(this)}),"toString");var tnt=iit.exports,ent=W9,int=Net,nnt=tnt,ont=Rtt,rnt=function(t,e,i,n){n||(n={});var o=n.enumerable,r=void 0!==n.name?n.name:e;if(ent(i)&&nnt(i,r,n),n.global)o?t[e]=i:ont(e,i);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(vy){}o?t[e]=i:int.f(t,e,{value:i,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},snt={},ant=Math.ceil,lnt=Math.floor,cnt=Math.trunc||function(t){var e=+t;return(e>0?lnt:ant)(e)},hnt=function(t){var e=+t;return e!=e||0===e?0:cnt(e)},Ant=hnt,unt=Math.max,dnt=Math.min,pnt=hnt,gnt=Math.min,fnt=function(t){var e=pnt(t);return e>0?gnt(e,9007199254740991):0},mnt=fnt,bnt=function(t){return mnt(t.length)},vnt=K9,ynt=function(t,e){var i=Ant(t);return i<0?unt(i+e,0):dnt(i,e)},wnt=bnt,xnt=function(t){return function(e,i,n){var o=vnt(e),r=wnt(o);if(0===r)return!t&&-1;var s,a=ynt(n,r);if(t&&i!=i){for(;r>a;)if((s=o[a++])!=s)return!0}else for(;r>a;a++)if((t||a in o)&&o[a]===i)return t||a||0;return!t&&-1}},_nt={includes:xnt(!0),indexOf:xnt(!1)},Cnt=Wtt,Bnt=K9,Snt=_nt.indexOf,Ent=xit,knt=T9([].push),Fnt=function(t,e){var i,n=Bnt(t),o=0,r=[];for(i in n)!Cnt(Ent,i)&&Cnt(n,i)&&knt(r,i);for(;e.length>o;)Cnt(n,i=e[o++])&&(~Snt(r,i)||knt(r,i));return r},Tnt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Lnt=Fnt,Int=Tnt.concat("length","prototype");snt.f=Object.getOwnPropertyNames||function(t){return Lnt(t,Int)};var Mnt={};Mnt.f=Object.getOwnPropertySymbols;var Pnt=J9,Rnt=snt,Nnt=Mnt,Ont=Het,Unt=T9([].concat),Dnt=Pnt("Reflect","ownKeys")||function(t){var e=Rnt.f(Ont(t)),i=Nnt.f;return i?Unt(e,i(t)):e},Qnt=Wtt,Hnt=Dnt,znt=u9,jnt=Net,Gnt=d9,Vnt=W9,Knt=/#|\.prototype\./,qnt=function(t,e){var i=Xnt[Wnt(t)];return i===Ynt||i!==$nt&&(Vnt(e)?Gnt(e):!!e)},Wnt=qnt.normalize=function(t){return String(t).replace(Knt,".").toLowerCase()},Xnt=qnt.data={},$nt=qnt.NATIVE="N",Ynt=qnt.POLYFILL="P",Znt=qnt,Jnt=A9,tot=u9.f,eot=eit,iot=rnt,not=Rtt,oot=function(t,e,i){for(var n=Hnt(e),o=jnt.f,r=znt.f,s=0;s<n.length;s++){var a=n[s];Qnt(t,a)||i&&Qnt(i,a)||o(t,a,r(e,a))}},rot=Znt,sot=function(t,e){var i,n,o,r,s,a=t.target,l=t.global,c=t.stat;if(i=l?Jnt:c?Jnt[a]||not(a,{}):Jnt[a]&&Jnt[a].prototype)for(n in e){if(r=e[n],o=t.dontCallGetSet?(s=tot(i,n))&&s.value:i[n],!rot(l?n:a+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof r==typeof o)continue;oot(r,o)}(t.sham||o&&o.sham)&&eot(r,"sham",!0),iot(i,n,r,t)}},aot="process"===P9(A9.process),lot=T9,cot=Ctt,hot=$9,Aot=function(t){return hot(t)||null===t},uot=String,dot=TypeError,pot=function(t,e,i){try{return lot(cot(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(vy){}},got=Het,fot=function(t){if(Aot(t))return t;throw new dot("Can't set "+uot(t)+" as a prototype")},mot=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=pot(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(vy){}return function(i,n){return got(i),fot(n),e?t(i,n):i.__proto__=n,i}}():void 0),bot=Net.f,vot=Wtt,yot=cet("toStringTag"),wot=function(t,e,i){t&&!i&&(t=t.prototype),t&&!vot(t,yot)&&bot(t,yot,{configurable:!0,value:e})},xot=tnt,_ot=Net,Cot=J9,Bot=function(t,e,i){return i.get&&xot(i.get,e,{getter:!0}),i.set&&xot(i.set,e,{setter:!0}),_ot.f(t,e,i)},Sot=p9,Eot=cet("species"),kot=ttt,Fot=TypeError,Tot={};Tot[cet("toStringTag")]="z";var Lot="[object z]"===String(Tot),Iot=W9,Mot=P9,Pot=cet("toStringTag"),Rot=Object,Not="Arguments"===Mot(function(){return arguments}()),Oot=Lot?Mot:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(vy){}}(e=Rot(t),Pot))?i:Not?Mot(e):"Object"===(n=Mot(e))&&Iot(e.callee)?"Arguments":n},Uot=T9,Dot=d9,Qot=W9,Hot=Oot,zot=git,jot=function(){},Got=J9("Reflect","construct"),Vot=/^\s*(?:class|function)\b/,Kot=Uot(Vot.exec),qot=!Vot.test(jot),Wot=function(t){if(!Qot(t))return!1;try{return Got(jot,[],t),!0}catch(vy){return!1}},Xot=function(t){if(!Qot(t))return!1;switch(Hot(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return qot||!!Kot(Vot,zot(t))}catch(vy){return!0}};Xot.sham=!0;var $ot,Yot,Zot,Jot,trt=!Got||Dot((function(){var t;return Wot(Wot.call)||!Wot(Object)||!Wot((function(){t=!0}))||t}))?Xot:Wot,ert=trt,irt=ytt,nrt=TypeError,ort=Het,rrt=function(t){if(ert(t))return t;throw new nrt(irt(t)+" is not a constructor")},srt=Q9,art=cet("species"),lrt=function(t,e){var i,n=ort(t).constructor;return void 0===n||srt(i=ort(n)[art])?e:rrt(i)},crt=g9,hrt=Function.prototype,Art=hrt.apply,urt=hrt.call,drt="object"==typeof Reflect&&Reflect.apply||(crt?urt.bind(Art):function(){return urt.apply(Art,arguments)}),prt=P9,grt=T9,frt=function(t){if("Function"===prt(t))return grt(t)},mrt=Ctt,brt=g9,vrt=frt(frt.bind),yrt=function(t,e){return mrt(t),void 0===e?t:brt?vrt(t,e):function(){return t.apply(e,arguments)}},wrt=J9("document","documentElement"),xrt=T9([].slice),_rt=TypeError,Crt=/(?:ipad|iphone|ipod).*applewebkit/i.test(ett),Brt=A9,Srt=drt,Ert=yrt,krt=W9,Frt=Wtt,Trt=d9,Lrt=wrt,Irt=xrt,Mrt=_et,Prt=function(t,e){if(t<e)throw new _rt("Not enough arguments");return t},Rrt=Crt,Nrt=aot,Ort=Brt.setImmediate,Urt=Brt.clearImmediate,Drt=Brt.process,Qrt=Brt.Dispatch,Hrt=Brt.Function,zrt=Brt.MessageChannel,jrt=Brt.String,Grt=0,Vrt={},Krt="onreadystatechange";Trt((function(){$ot=Brt.location}));var qrt=function(t){if(Frt(Vrt,t)){var e=Vrt[t];delete Vrt[t],e()}},Wrt=function(t){return function(){qrt(t)}},Xrt=function(t){qrt(t.data)},$rt=function(t){Brt.postMessage(jrt(t),$ot.protocol+"//"+$ot.host)};Ort&&Urt||(Ort=function(t){Prt(arguments.length,1);var e=krt(t)?t:Hrt(t),i=Irt(arguments,1);return Vrt[++Grt]=function(){Srt(e,void 0,i)},Yot(Grt),Grt},Urt=function(t){delete Vrt[t]},Nrt?Yot=function(t){Drt.nextTick(Wrt(t))}:Qrt&&Qrt.now?Yot=function(t){Qrt.now(Wrt(t))}:zrt&&!Rrt?(Jot=(Zot=new zrt).port2,Zot.port1.onmessage=Xrt,Yot=Ert(Jot.postMessage,Jot)):Brt.addEventListener&&krt(Brt.postMessage)&&!Brt.importScripts&&$ot&&"file:"!==$ot.protocol&&!Trt($rt)?(Yot=$rt,Brt.addEventListener("message",Xrt,!1)):Yot=Krt in Mrt("script")?function(t){Lrt.appendChild(Mrt("script"))[Krt]=function(){Lrt.removeChild(this),qrt(t)}}:function(t){setTimeout(Wrt(t),0)});var Yrt={set:Ort,clear:Urt},Zrt=A9,Jrt=p9,tst=Object.getOwnPropertyDescriptor,est=function(){this.head=null,this.tail=null};est.prototype={add:function(t){var e={item:t,next:null},i=this.tail;i?i.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var ist,nst,ost,rst,sst,ast=est,lst=/ipad|iphone|ipod/i.test(ett)&&"undefined"!=typeof Pebble,cst=/web0s(?!.*chrome)/i.test(ett),hst=A9,Ast=function(t){if(!Jrt)return Zrt[t];var e=tst(Zrt,t);return e&&e.value},ust=yrt,dst=Yrt.set,pst=ast,gst=Crt,fst=lst,mst=cst,bst=aot,vst=hst.MutationObserver||hst.WebKitMutationObserver,yst=hst.document,wst=hst.process,xst=hst.Promise,_st=Ast("queueMicrotask");if(!_st){var Cst=new pst,Bst=function(){var t,e;for(bst&&(t=wst.domain)&&t.exit();e=Cst.get();)try{e()}catch(vy){throw Cst.head&&ist(),vy}t&&t.enter()};gst||bst||mst||!vst||!yst?!fst&&xst&&xst.resolve?((rst=xst.resolve(void 0)).constructor=xst,sst=ust(rst.then,rst),ist=function(){sst(Bst)}):bst?ist=function(){wst.nextTick(Bst)}:(dst=ust(dst,hst),ist=function(){dst(Bst)}):(nst=!0,ost=yst.createTextNode(""),new vst(Bst).observe(ost,{characterData:!0}),ist=function(){ost.data=nst=!nst}),_st=function(t){Cst.head||ist(),Cst.add(t)}}var Sst=_st,Est=function(t){try{return{error:!1,value:t()}}catch(vy){return{error:!0,value:vy}}},kst=A9.Promise,Fst="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Tst=!Fst&&!aot&&"object"==typeof window&&"object"==typeof document,Lst=A9,Ist=kst,Mst=W9,Pst=Znt,Rst=git,Nst=cet,Ost=Tst,Ust=Fst,Dst=ltt;Ist&&Ist.prototype;var Qst=Nst("species"),Hst=!1,zst=Mst(Lst.PromiseRejectionEvent),jst={CONSTRUCTOR:Pst("Promise",(function(){var t=Rst(Ist),e=t!==String(Ist);if(!e&&66===Dst)return!0;if(!Dst||Dst<51||!/native code/.test(t)){var i=new Ist((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((i.constructor={})[Qst]=n,!(Hst=i.then((function(){}))instanceof n))return!0}return!e&&(Ost||Ust)&&!zst})),REJECTION_EVENT:zst,SUBCLASSING:Hst},Gst={},Vst=Ctt,Kst=TypeError,qst=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw new Kst("Bad Promise constructor");e=t,i=n})),this.resolve=Vst(e),this.reject=Vst(i)};Gst.f=function(t){return new qst(t)};var Wst,Xst,$st,Yst=sot,Zst=aot,Jst=A9,tat=b9,eat=rnt,iat=mot,nat=wot,oat=function(t){var e=Cot(t);Sot&&e&&!e[Eot]&&Bot(e,Eot,{configurable:!0,get:function(){return this}})},rat=Ctt,sat=W9,aat=$9,lat=function(t,e){if(kot(e,t))return t;throw new Fot("Incorrect invocation")},cat=lrt,hat=Yrt.set,Aat=Sst,uat=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(vy){}},dat=Est,pat=ast,gat=Nit,fat=kst,mat=Gst,bat="Promise",vat=jst.CONSTRUCTOR,yat=jst.REJECTION_EVENT,wat=jst.SUBCLASSING,xat=gat.getterFor(bat),_at=gat.set,Cat=fat&&fat.prototype,Bat=fat,Sat=Cat,Eat=Jst.TypeError,kat=Jst.document,Fat=Jst.process,Tat=mat.f,Lat=Tat,Iat=!!(kat&&kat.createEvent&&Jst.dispatchEvent),Mat="unhandledrejection",Pat=function(t){var e;return!(!aat(t)||!sat(e=t.then))&&e},Rat=function(t,e){var i,n,o,r=e.value,s=1===e.state,a=s?t.ok:t.fail,l=t.resolve,c=t.reject,h=t.domain;try{a?(s||(2===e.rejection&&Qat(e),e.rejection=1),!0===a?i=r:(h&&h.enter(),i=a(r),h&&(h.exit(),o=!0)),i===t.promise?c(new Eat("Promise-chain cycle")):(n=Pat(i))?tat(n,i,l,c):l(i)):c(r)}catch(vy){h&&!o&&h.exit(),c(vy)}},Nat=function(t,e){t.notified||(t.notified=!0,Aat((function(){for(var i,n=t.reactions;i=n.get();)Rat(i,t);t.notified=!1,e&&!t.rejection&&Uat(t)})))},Oat=function(t,e,i){var n,o;Iat?((n=kat.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),Jst.dispatchEvent(n)):n={promise:e,reason:i},!yat&&(o=Jst["on"+t])?o(n):t===Mat&&uat("Unhandled promise rejection",i)},Uat=function(t){tat(hat,Jst,(function(){var e,i=t.facade,n=t.value;if(Dat(t)&&(e=dat((function(){Zst?Fat.emit("unhandledRejection",n,i):Oat(Mat,i,n)})),t.rejection=Zst||Dat(t)?2:1,e.error))throw e.value}))},Dat=function(t){return 1!==t.rejection&&!t.parent},Qat=function(t){tat(hat,Jst,(function(){var e=t.facade;Zst?Fat.emit("rejectionHandled",e):Oat("rejectionhandled",e,t.value)}))},Hat=function(t,e,i){return function(n){t(e,n,i)}},zat=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=2,Nat(t,!0))},jat=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw new Eat("Promise can't be resolved itself");var n=Pat(e);n?Aat((function(){var i={done:!1};try{tat(n,e,Hat(jat,i,t),Hat(zat,i,t))}catch(vy){zat(i,vy,t)}})):(t.value=e,t.state=1,Nat(t,!1))}catch(vy){zat({done:!1},vy,t)}}};if(vat&&(Bat=function(t){lat(this,Sat),rat(t),tat(Wst,this);var e=xat(this);try{t(Hat(jat,e),Hat(zat,e))}catch(vy){zat(e,vy)}},Sat=Bat.prototype,(Wst=function(t){_at(this,{type:bat,done:!1,notified:!1,parent:!1,reactions:new pat,rejection:!1,state:0,value:void 0})}).prototype=eat(Sat,"then",(function(t,e){var i=xat(this),n=Tat(cat(this,Bat));return i.parent=!0,n.ok=!sat(t)||t,n.fail=sat(e)&&e,n.domain=Zst?Fat.domain:void 0,0===i.state?i.reactions.add(n):Aat((function(){Rat(n,i)})),n.promise})),Xst=function(){var t=new Wst,e=xat(t);this.promise=t,this.resolve=Hat(jat,e),this.reject=Hat(zat,e)},mat.f=Tat=function(t){return t===Bat||undefined===t?new Xst(t):Lat(t)},sat(fat)&&Cat!==Object.prototype)){$st=Cat.then,wat||eat(Cat,"then",(function(t,e){var i=this;return new Bat((function(t,e){tat($st,i,t,e)})).then(t,e)}),{unsafe:!0});try{delete Cat.constructor}catch(vy){}iat&&iat(Cat,Sat)}Yst({global:!0,constructor:!0,wrap:!0,forced:vat},{Promise:Bat}),nat(Bat,bat,!1),oat(bat);var Gat={},Vat=Gat,Kat=cet("iterator"),qat=Array.prototype,Wat=Oot,Xat=Ett,$at=Q9,Yat=Gat,Zat=cet("iterator"),Jat=function(t){if(!$at(t))return Xat(t,Zat)||Xat(t,"@@iterator")||Yat[Wat(t)]},tlt=b9,elt=Ctt,ilt=Het,nlt=ytt,olt=Jat,rlt=TypeError,slt=b9,alt=Het,llt=Ett,clt=yrt,hlt=b9,Alt=Het,ult=ytt,dlt=function(t){return void 0!==t&&(Vat.Array===t||qat[Kat]===t)},plt=bnt,glt=ttt,flt=function(t,e){var i=arguments.length<2?olt(t):e;if(elt(i))return ilt(tlt(i,t));throw new rlt(nlt(t)+" is not iterable")},mlt=Jat,blt=function(t,e,i){var n,o;alt(t);try{if(!(n=llt(t,"return"))){if("throw"===e)throw i;return i}n=slt(n,t)}catch(vy){o=!0,n=vy}if("throw"===e)throw i;if(o)throw n;return alt(n),i},vlt=TypeError,ylt=function(t,e){this.stopped=t,this.result=e},wlt=ylt.prototype,xlt=function(t,e,i){var n,o,r,s,a,l,c,h=i&&i.that,A=!(!i||!i.AS_ENTRIES),u=!(!i||!i.IS_RECORD),d=!(!i||!i.IS_ITERATOR),p=!(!i||!i.INTERRUPTED),g=clt(e,h),f=function(t){return n&&blt(n,"normal",t),new ylt(!0,t)},m=function(t){return A?(Alt(t),p?g(t[0],t[1],f):g(t[0],t[1])):p?g(t,f):g(t)};if(u)n=t.iterator;else if(d)n=t;else{if(!(o=mlt(t)))throw new vlt(ult(t)+" is not iterable");if(dlt(o)){for(r=0,s=plt(t);s>r;r++)if((a=m(t[r]))&&glt(wlt,a))return a;return new ylt(!1)}n=flt(t,o)}for(l=u?t.next:n.next;!(c=hlt(l,n)).done;){try{a=m(c.value)}catch(vy){blt(n,"throw",vy)}if("object"==typeof a&&a&&glt(wlt,a))return a}return new ylt(!1)},_lt=cet("iterator"),Clt=!1;try{var Blt=0,Slt={next:function(){return{done:!!Blt++}},return:function(){Clt=!0}};Slt[_lt]=function(){return this},Array.from(Slt,(function(){throw 2}))}catch(vy){}var Elt=kst,klt=jst.CONSTRUCTOR||!function(t,e){try{if(!e&&!Clt)return!1}catch(vy){return!1}var i=!1;try{var n={};n[_lt]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(vy){}return i}((function(t){Elt.all(t).then(void 0,(function(){}))})),Flt=b9,Tlt=Ctt,Llt=Gst,Ilt=Est,Mlt=xlt;sot({target:"Promise",stat:!0,forced:klt},{all:function(t){var e=this,i=Llt.f(e),n=i.resolve,o=i.reject,r=Ilt((function(){var i=Tlt(e.resolve),r=[],s=0,a=1;Mlt(t,(function(t){var l=s++,c=!1;a++,Flt(i,e,t).then((function(t){c||(c=!0,r[l]=t,--a||n(r))}),o)})),--a||n(r)}));return r.error&&o(r.value),i.promise}});var Plt=sot,Rlt=jst.CONSTRUCTOR,Nlt=kst,Olt=J9,Ult=W9,Dlt=rnt,Qlt=Nlt&&Nlt.prototype;if(Plt({target:"Promise",proto:!0,forced:Rlt,real:!0},{catch:function(t){return this.then(void 0,t)}}),Ult(Nlt)){var Hlt=Olt("Promise").prototype.catch;Qlt.catch!==Hlt&&Dlt(Qlt,"catch",Hlt,{unsafe:!0})}var zlt=b9,jlt=Ctt,Glt=Gst,Vlt=Est,Klt=xlt;sot({target:"Promise",stat:!0,forced:klt},{race:function(t){var e=this,i=Glt.f(e),n=i.reject,o=Vlt((function(){var o=jlt(e.resolve);Klt(t,(function(t){zlt(o,e,t).then(i.resolve,n)}))}));return o.error&&n(o.value),i.promise}});var qlt=Gst;sot({target:"Promise",stat:!0,forced:jst.CONSTRUCTOR},{reject:function(t){var e=qlt.f(this);return(0,e.reject)(t),e.promise}});var Wlt=Het,Xlt=$9,$lt=Gst,Ylt=sot,Zlt=jst.CONSTRUCTOR,Jlt=function(t,e){if(Wlt(t),Xlt(e)&&e.constructor===t)return e;var i=$lt.f(t);return(0,i.resolve)(e),i.promise};function tct(t,e,i,n,o,r,s){try{var a=t[r](s),l=a.value}catch(vy){return void i(vy)}a.done?e(l):Promise.resolve(l).then(n,o)}function ect(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var r=t.apply(e,i);function s(t){tct(r,n,o,s,a,"next",t)}function a(t){tct(r,n,o,s,a,"throw",t)}s(void 0)}))}}J9("Promise"),Ylt({target:"Promise",stat:!0,forced:Zlt},{resolve:function(t){return Jlt(this,t)}});var ict=Oot,nct=String,oct=function(t){if("Symbol"===ict(t))throw new TypeError("Cannot convert a Symbol value to a string");return nct(t)},rct=Het,sct=function(){var t=rct(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},act=d9,lct=A9.RegExp,cct=act((function(){var t=lct("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),hct=cct||act((function(){return!lct("a","y").sticky})),Act=cct||act((function(){var t=lct("^r","gy");return t.lastIndex=2,null!==t.exec("str")})),uct={BROKEN_CARET:Act,MISSED_STICKY:hct,UNSUPPORTED_Y:cct},dct={},pct=Fnt,gct=Tnt,fct=Object.keys||function(t){return pct(t,gct)},mct=p9,bct=Oet,vct=Net,yct=Het,wct=K9,xct=fct;dct.f=mct&&!bct?Object.defineProperties:function(t,e){yct(t);for(var i,n=wct(e),o=xct(e),r=o.length,s=0;r>s;)vct.f(t,i=o[s++],n[i]);return t};var _ct,Cct=Het,Bct=dct,Sct=Tnt,Ect=xit,kct=wrt,Fct=_et,Tct="prototype",Lct="script",Ict=wit("IE_PROTO"),Mct=function(){},Pct=function(t){return"<"+Lct+">"+t+"</"+Lct+">"},Rct=function(t){t.write(Pct("")),t.close();var e=t.parentWindow.Object;return t=null,e},Nct=function(){try{_ct=new ActiveXObject("htmlfile")}catch(vy){}var t,e,i;Nct="undefined"!=typeof document?document.domain&&_ct?Rct(_ct):(e=Fct("iframe"),i="java"+Lct+":",e.style.display="none",kct.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(Pct("document.F=Object")),t.close(),t.F):Rct(_ct);for(var n=Sct.length;n--;)delete Nct[Tct][Sct[n]];return Nct()};Ect[Ict]=!0;var Oct,Uct,Dct=Object.create||function(t,e){var i;return null!==t?(Mct[Tct]=Cct(t),i=new Mct,Mct[Tct]=null,i[Ict]=t):i=Nct(),void 0===e?i:Bct.f(i,e)},Qct=d9,Hct=A9.RegExp,zct=Qct((function(){var t=Hct(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})),jct=d9,Gct=A9.RegExp,Vct=jct((function(){var t=Gct("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Kct=b9,qct=T9,Wct=oct,Xct=sct,$ct=uct,Yct=Dct,Zct=Nit.get,Jct=zct,tht=Vct,eht=ztt("native-string-replace",String.prototype.replace),iht=RegExp.prototype.exec,nht=iht,oht=qct("".charAt),rht=qct("".indexOf),sht=qct("".replace),aht=qct("".slice),lht=(Uct=/b*/g,Kct(iht,Oct=/a/,"a"),Kct(iht,Uct,"a"),0!==Oct.lastIndex||0!==Uct.lastIndex),cht=$ct.BROKEN_CARET,hht=void 0!==/()??/.exec("")[1];(lht||hht||cht||Jct||tht)&&(nht=function(t){var e,i,n,o,r,s,a,l=this,c=Zct(l),h=Wct(t),A=c.raw;if(A)return A.lastIndex=l.lastIndex,e=Kct(nht,A,h),l.lastIndex=A.lastIndex,e;var u=c.groups,d=cht&&l.sticky,p=Kct(Xct,l),g=l.source,f=0,m=h;if(d&&(p=sht(p,"y",""),-1===rht(p,"g")&&(p+="g"),m=aht(h,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==oht(h,l.lastIndex-1))&&(g="(?: "+g+")",m=" "+m,f++),i=new RegExp("^(?:"+g+")",p)),hht&&(i=new RegExp("^"+g+"$(?!\\s)",p)),lht&&(n=l.lastIndex),o=Kct(iht,d?i:l,m),d?o?(o.input=aht(o.input,f),o[0]=aht(o[0],f),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:lht&&o&&(l.lastIndex=l.global?o.index+o[0].length:n),hht&&o&&o.length>1&&Kct(eht,o[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o&&u)for(o.groups=s=Yct(null),r=0;r<u.length;r++)s[(a=u[r])[0]]=o[a[1]];return o});var Aht=nht;sot({target:"RegExp",proto:!0,forced:/./.exec!==Aht},{exec:Aht});var uht=b9,dht=rnt,pht=Aht,ght=d9,fht=cet,mht=eit,bht=fht("species"),vht=RegExp.prototype,yht=function(t,e,i,n){var o=fht(t),r=!ght((function(){var e={};return e[o]=function(){return 7},7!==""[t](e)})),s=r&&!ght((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[bht]=function(){return i},i.flags="",i[o]=/./[o]),i.exec=function(){return e=!0,null},i[o](""),!e}));if(!r||!s||i){var a=/./[o],l=e(o,""[t],(function(t,e,i,n,o){var s=e.exec;return s===pht||s===vht.exec?r&&!o?{done:!0,value:uht(a,e,i,n)}:{done:!0,value:uht(t,i,e,n)}:{done:!1}}));dht(String.prototype,t,l[0]),dht(vht,o,l[1])}n&&mht(vht[o],"sham",!0)},wht=T9,xht=hnt,_ht=oct,Cht=j9,Bht=wht("".charAt),Sht=wht("".charCodeAt),Eht=wht("".slice),kht=function(t){return function(e,i){var n,o,r=_ht(Cht(e)),s=xht(i),a=r.length;return s<0||s>=a?t?"":void 0:(n=Sht(r,s))<55296||n>56319||s+1===a||(o=Sht(r,s+1))<56320||o>57343?t?Bht(r,s):n:t?Eht(r,s,s+2):o-56320+(n-55296<<10)+65536}},Fht={codeAt:kht(!1),charAt:kht(!0)}.charAt,Tht=function(t,e,i){return e+(i?Fht(t,e).length:1)},Lht=b9,Iht=Het,Mht=W9,Pht=P9,Rht=Aht,Nht=TypeError,Oht=function(t,e){var i=t.exec;if(Mht(i)){var n=Lht(i,t,e);return null!==n&&Iht(n),n}if("RegExp"===Pht(t))return Lht(Rht,t,e);throw new Nht("RegExp#exec called on incompatible receiver")},Uht=b9,Dht=Het,Qht=Q9,Hht=fnt,zht=oct,jht=j9,Ght=Ett,Vht=Tht,Kht=Oht;yht("match",(function(t,e,i){return[function(e){var i=jht(this),n=Qht(e)?void 0:Ght(e,t);return n?Uht(n,e,i):new RegExp(e)[t](zht(i))},function(t){var n=Dht(this),o=zht(t),r=i(e,n,o);if(r.done)return r.value;if(!n.global)return Kht(n,o);var s=n.unicode;n.lastIndex=0;for(var a,l=[],c=0;null!==(a=Kht(n,o));){var h=zht(a[0]);l[c]=h,""===h&&(n.lastIndex=Vht(o,Hht(n.lastIndex),s)),c++}return 0===c?null:l}]}));var qht=T9,Wht=Vtt,Xht=Math.floor,$ht=qht("".charAt),Yht=qht("".replace),Zht=qht("".slice),Jht=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,tAt=/\$([$&'`]|\d{1,2})/g,eAt=drt,iAt=b9,nAt=T9,oAt=yht,rAt=d9,sAt=Het,aAt=W9,lAt=Q9,cAt=hnt,hAt=fnt,AAt=oct,uAt=j9,dAt=Tht,pAt=Ett,gAt=function(t,e,i,n,o,r){var s=i+t.length,a=n.length,l=tAt;return void 0!==o&&(o=Wht(o),l=Jht),Yht(r,l,(function(r,l){var c;switch($ht(l,0)){case"$":return"$";case"&":return t;case"`":return Zht(e,0,i);case"'":return Zht(e,s);case"<":c=o[Zht(l,1,-1)];break;default:var h=+l;if(0===h)return r;if(h>a){var A=Xht(h/10);return 0===A?r:A<=a?void 0===n[A-1]?$ht(l,1):n[A-1]+$ht(l,1):r}c=n[h-1]}return void 0===c?"":c}))},fAt=Oht,mAt=cet("replace"),bAt=Math.max,vAt=Math.min,yAt=nAt([].concat),wAt=nAt([].push),xAt=nAt("".indexOf),_At=nAt("".slice),CAt="$0"==="a".replace(/./,"$0"),BAt=!!/./[mAt]&&""===/./[mAt]("a","$0"),SAt=!rAt((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));oAt("replace",(function(t,e,i){var n=BAt?"$":"$0";return[function(t,i){var n=uAt(this),o=lAt(t)?void 0:pAt(t,mAt);return o?iAt(o,t,n,i):iAt(e,AAt(n),t,i)},function(t,o){var r=sAt(this),s=AAt(t);if("string"==typeof o&&-1===xAt(o,n)&&-1===xAt(o,"$<")){var a=i(e,r,s,o);if(a.done)return a.value}var l=aAt(o);l||(o=AAt(o));var c,h=r.global;h&&(c=r.unicode,r.lastIndex=0);for(var A,u=[];null!==(A=fAt(r,s))&&(wAt(u,A),h);){""===AAt(A[0])&&(r.lastIndex=dAt(s,hAt(r.lastIndex),c))}for(var d,p="",g=0,f=0;f<u.length;f++){for(var m,b=AAt((A=u[f])[0]),v=bAt(vAt(cAt(A.index),s.length),0),y=[],w=1;w<A.length;w++)wAt(y,void 0===(d=A[w])?d:String(d));var x=A.groups;if(l){var _=yAt([b],y,v,s);void 0!==x&&wAt(_,x),m=AAt(eAt(o,void 0,_))}else m=gAt(b,s,v,y,x,o);v>=g&&(p+=_At(s,g,v)+m,g=v+b.length)}return p+_At(s,g)}]}),!SAt||!CAt||BAt);var EAt,kAt=$9,FAt=P9,TAt=cet("match"),LAt=function(t){var e;return kAt(t)&&(void 0!==(e=t[TAt])?!!e:"RegExp"===FAt(t))},IAt=TypeError,MAt=function(t){if(LAt(t))throw new IAt("The method doesn't accept regular expressions");return t},PAt=cet("match"),RAt=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[PAt]=!1,"/./"[t](e)}catch(n){}}return!1},NAt=sot,OAt=frt,UAt=u9.f,DAt=fnt,QAt=oct,HAt=MAt,zAt=j9,jAt=RAt,GAt=OAt("".slice),VAt=Math.min,KAt=jAt("startsWith");NAt({target:"String",proto:!0,forced:!!(KAt||(EAt=UAt(String.prototype,"startsWith"),!EAt||EAt.writable))&&!KAt},{startsWith:function(t){var e=QAt(zAt(this));HAt(t);var i=DAt(VAt(arguments.length>1?arguments[1]:void 0,e.length)),n=QAt(t);return GAt(e,i,i+n.length)===n}});var qAt=cet,WAt=Dct,XAt=Net.f,$At=qAt("unscopables"),YAt=Array.prototype;void 0===YAt[$At]&&XAt(YAt,$At,{configurable:!0,value:WAt(null)});var ZAt,JAt,tut,eut=!d9((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),iut=Wtt,nut=W9,out=Vtt,rut=eut,sut=wit("IE_PROTO"),aut=Object,lut=aut.prototype,cut=rut?aut.getPrototypeOf:function(t){var e=out(t);if(iut(e,sut))return e[sut];var i=e.constructor;return nut(i)&&e instanceof i?i.prototype:e instanceof aut?lut:null},hut=d9,Aut=W9,uut=$9,dut=cut,put=rnt,gut=cet("iterator"),fut=!1;[].keys&&("next"in(tut=[].keys())?(JAt=dut(dut(tut)))!==Object.prototype&&(ZAt=JAt):fut=!0),(!uut(ZAt)||hut((function(){var t={};return ZAt[gut].call(t)!==t})))&&(ZAt={}),Aut(ZAt[gut])||put(ZAt,gut,(function(){return this}));var mut={IteratorPrototype:ZAt,BUGGY_SAFARI_ITERATORS:fut},but=mut.IteratorPrototype,vut=Dct,yut=B9,wut=wot,xut=Gat,_ut=function(){return this},Cut=sot,But=b9,Sut=W9,Eut=function(t,e,i,n){var o=e+" Iterator";return t.prototype=vut(but,{next:yut(+!n,i)}),wut(t,o,!1),xut[o]=_ut,t},kut=cut,Fut=mot,Tut=wot,Lut=eit,Iut=rnt,Mut=Gat,Put=lit.PROPER,Rut=lit.CONFIGURABLE,Nut=mut.IteratorPrototype,Out=mut.BUGGY_SAFARI_ITERATORS,Uut=cet("iterator"),Dut="keys",Qut="values",Hut="entries",zut=function(){return this},jut=K9,Gut=function(t){YAt[$At][t]=!0},Vut=Gat,Kut=Nit,qut=Net.f,Wut=function(t,e,i,n,o,r,s){Eut(i,e,n);var a,l,c,h=function(t){if(t===o&&g)return g;if(!Out&&t&&t in d)return d[t];switch(t){case Dut:case Qut:case Hut:return function(){return new i(this,t)}}return function(){return new i(this)}},A=e+" Iterator",u=!1,d=t.prototype,p=d[Uut]||d["@@iterator"]||o&&d[o],g=!Out&&p||h(o),f="Array"===e&&d.entries||p;if(f&&(a=kut(f.call(new t)))!==Object.prototype&&a.next&&(kut(a)!==Nut&&(Fut?Fut(a,Nut):Sut(a[Uut])||Iut(a,Uut,zut)),Tut(a,A,!0)),Put&&o===Qut&&p&&p.name!==Qut&&(Rut?Lut(d,"name",Qut):(u=!0,g=function(){return But(p,this)})),o)if(l={values:h(Qut),keys:r?g:h(Dut),entries:h(Hut)},s)for(c in l)(Out||u||!(c in d))&&Iut(d,c,l[c]);else Cut({target:e,proto:!0,forced:Out||u},l);return d[Uut]!==g&&Iut(d,Uut,g,{name:o}),Mut[e]=g,l},Xut=function(t,e){return{value:t,done:e}},$ut=p9,Yut="Array Iterator",Zut=Kut.set,Jut=Kut.getterFor(Yut),tdt=Wut(Array,"Array",(function(t,e){Zut(this,{type:Yut,target:jut(t),index:0,kind:e})}),(function(){var t=Jut(this),e=t.target,i=t.index++;if(!e||i>=e.length)return t.target=void 0,Xut(void 0,!0);switch(t.kind){case"keys":return Xut(i,!1);case"values":return Xut(e[i],!1)}return Xut([i,e[i]],!1)}),"values"),edt=Vut.Arguments=Vut.Array;if(Gut("keys"),Gut("values"),Gut("entries"),$ut&&"values"!==edt.name)try{qut(edt,"name",{value:"values"})}catch(vy){}var idt=_et("span").classList,ndt=idt&&idt.constructor&&idt.constructor.prototype,odt=ndt===Object.prototype?void 0:ndt,rdt=A9,sdt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},adt=odt,ldt=tdt,cdt=eit,hdt=wot,Adt=cet("iterator"),udt=ldt.values,ddt=function(t,e){if(t){if(t[Adt]!==udt)try{cdt(t,Adt,udt)}catch(vy){t[Adt]=udt}if(hdt(t,e,!0),sdt[e])for(var i in ldt)if(t[i]!==ldt[i])try{cdt(t,i,ldt[i])}catch(vy){t[i]=ldt[i]}}};for(var pdt in sdt)ddt(rdt[pdt]&&rdt[pdt].prototype,pdt);function gdt(t){var e=function(t,e){if("object"!=k$(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=k$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k$(e)?e:String(e)}function fdt(t,e,i){return(e=gdt(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}ddt(adt,"DOMTokenList");var mdt=Ctt,bdt=Vtt,vdt=D9,ydt=bnt,wdt=TypeError,xdt="Reduce of empty array with no initial value",_dt=function(t){return function(e,i,n,o){var r=bdt(e),s=vdt(r),a=ydt(r);if(mdt(i),0===a&&n<2)throw new wdt(xdt);var l=t?a-1:0,c=t?-1:1;if(n<2)for(;;){if(l in s){o=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw new wdt(xdt)}for(;t?l>=0:a>l;l+=c)l in s&&(o=i(o,s[l],l,r));return o}},Cdt={left:_dt(!1),right:_dt(!0)},Bdt=d9,Sdt=function(t,e){var i=[][t];return!!i&&Bdt((function(){i.call(null,e||function(){return 1},1)}))},Edt=Cdt.left;sot({target:"Array",proto:!0,forced:!aot&&ltt>79&&ltt<83||!Sdt("reduce")},{reduce:function(t){var e=arguments.length;return Edt(this,t,e,e>1?arguments[1]:void 0)}});var kdt=sot,Fdt=frt,Tdt=u9.f,Ldt=fnt,Idt=oct,Mdt=MAt,Pdt=j9,Rdt=RAt,Ndt=Fdt("".slice),Odt=Math.min,Udt=Rdt("endsWith"),Ddt=!Udt&&!!function(){var t=Tdt(String.prototype,"endsWith");return t&&!t.writable}();kdt({target:"String",proto:!0,forced:!Ddt&&!Udt},{endsWith:function(t){var e=Idt(Pdt(this));Mdt(t);var i=arguments.length>1?arguments[1]:void 0,n=e.length,o=void 0===i?n:Odt(Ldt(i),n),r=Idt(t);return Ndt(e,o-r.length,o)===r}});var Qdt=b9,Hdt=T9,zdt=yht,jdt=Het,Gdt=Q9,Vdt=j9,Kdt=lrt,qdt=Tht,Wdt=fnt,Xdt=oct,$dt=Ett,Ydt=Oht,Zdt=d9,Jdt=uct.UNSUPPORTED_Y,tpt=Math.min,ept=Hdt([].push),ipt=Hdt("".slice),npt=!Zdt((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),opt="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;zdt("split",(function(t,e,i){var n="0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:Qdt(e,this,t,i)}:e;return[function(e,i){var o=Vdt(this),r=Gdt(e)?void 0:$dt(e,t);return r?Qdt(r,e,o,i):Qdt(n,Xdt(o),e,i)},function(t,o){var r=jdt(this),s=Xdt(t);if(!opt){var a=i(n,r,s,o,n!==e);if(a.done)return a.value}var l=Kdt(r,RegExp),c=r.unicode,h=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(Jdt?"g":"y"),A=new l(Jdt?"^(?:"+r.source+")":r,h),u=void 0===o?4294967295:o>>>0;if(0===u)return[];if(0===s.length)return null===Ydt(A,s)?[s]:[];for(var d=0,p=0,g=[];p<s.length;){A.lastIndex=Jdt?0:p;var f,m=Ydt(A,Jdt?ipt(s,p):s);if(null===m||(f=tpt(Wdt(A.lastIndex+(Jdt?p:0)),s.length))===d)p=qdt(s,p,c);else{if(ept(g,ipt(s,d,p)),g.length===u)return g;for(var b=1;b<=m.length-1;b++)if(ept(g,m[b]),g.length===u)return g;p=d=f}}return ept(g,ipt(s,d)),g}]}),opt||!npt,Jdt);var rpt={exports:{}},spt={exports:{}};(function(){var t,e,i,n,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?spt.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(spt.exports=function(){return(t()-o)/1e6},e=process.hrtime,n=(t=function(){var t;return 1e9*(t=e())[0]+t[1]})(),r=1e9*process.uptime(),o=n-r):Date.now?(spt.exports=function(){return Date.now()-i},i=Date.now()):(spt.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(C$);for(var apt=spt.exports,lpt="undefined"==typeof window?C$:window,cpt=["moz","webkit"],hpt="AnimationFrame",Apt=lpt["request"+hpt],upt=lpt["cancel"+hpt]||lpt["cancelRequest"+hpt],dpt=0;!Apt&&dpt<cpt.length;dpt++)Apt=lpt[cpt[dpt]+"Request"+hpt],upt=lpt[cpt[dpt]+"Cancel"+hpt]||lpt[cpt[dpt]+"CancelRequest"+hpt];if(!Apt||!upt){var ppt=0,gpt=0,fpt=[],mpt=1e3/60;Apt=function(t){if(0===fpt.length){var e=apt(),i=Math.max(0,mpt-(e-ppt));ppt=i+e,setTimeout((function(){var t=fpt.slice(0);fpt.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(ppt)}catch(NZ){setTimeout((function(){throw NZ}),0)}}),Math.round(i))}return fpt.push({handle:++gpt,callback:t,cancelled:!1}),gpt},upt=function(t){for(var e=0;e<fpt.length;e++)fpt[e].handle===t&&(fpt[e].cancelled=!0)}}rpt.exports=function(t){return Apt.call(lpt,t)},rpt.exports.cancel=function(){upt.apply(lpt,arguments)},rpt.exports.polyfill=function(t){t||(t=lpt),t.requestAnimationFrame=Apt,t.cancelAnimationFrame=upt};const bpt=B$(rpt.exports);var vpt="\t\n\v\f\r \u2028\u2029\ufeff",ypt=j9,wpt=oct,xpt=vpt,_pt=T9("".replace),Cpt=RegExp("^["+xpt+"]+"),Bpt=RegExp("(^|[^"+xpt+"])["+xpt+"]+$"),Spt=function(t){return function(e){var i=wpt(ypt(e));return 1&t&&(i=_pt(i,Cpt,"")),2&t&&(i=_pt(i,Bpt,"$1")),i}},Ept={start:Spt(1),end:Spt(2),trim:Spt(3)},kpt=lit.PROPER,Fpt=d9,Tpt=vpt,Lpt=Ept.trim;sot({target:"String",proto:!0,forced:function(t){return Fpt((function(){return!!Tpt[t]()||""!==""[t]()||kpt&&Tpt[t].name!==t}))}("trim")},{trim:function(){return Lpt(this)}});var Ipt=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var i=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],n=0;n<i.length;n++){var o=i[n].re,r=i[n].process,s=o.exec(t);if(s){var a=r(s);this.r=a[0],this.g=a[1],this.b=a[2],a.length>3&&(this.alpha=a[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i},this.getHelpXML=function(){for(var t=new Array,n=0;n<i.length;n++)for(var o=i[n].example,r=0;r<o.length;r++)t[t.length]=o[r];for(var s in e)t[t.length]=s;var a=document.createElement("ul");a.setAttribute("id","rgbcolor-examples");for(n=0;n<t.length;n++)try{var l=document.createElement("li"),c=new RGBColor(t[n]),h=document.createElement("div");h.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),h.appendChild(document.createTextNode("test"));var A=document.createTextNode(" "+t[n]+" -> "+c.toRGB()+" -> "+c.toHex());l.appendChild(h),l.appendChild(A),a.appendChild(l)}catch(NZ){}return a}};const Mpt=B$(Ipt);var Ppt=sot,Rpt=_nt.indexOf,Npt=Sdt,Opt=frt([].indexOf),Upt=!!Opt&&1/Opt([1],1,-0)<0;Ppt({target:"Array",proto:!0,forced:Upt||!Npt("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Upt?Opt(this,t,e)||0:Rpt(this,t,e)}});var Dpt=sot,Qpt=MAt,Hpt=j9,zpt=oct,jpt=RAt,Gpt=T9("".indexOf);Dpt({target:"String",proto:!0,forced:!jpt("includes")},{includes:function(t){return!!~Gpt(zpt(Hpt(this)),zpt(Qpt(t)),arguments.length>1?arguments[1]:void 0)}});var Vpt=P9,Kpt=sot,qpt=Array.isArray||function(t){return"Array"===Vpt(t)},Wpt=T9([].reverse),Xpt=[1,2];Kpt({target:"Array",proto:!0,forced:String(Xpt)===String(Xpt.reverse())},{reverse:function(){return qpt(this)&&(this.length=this.length),Wpt(this)}});
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */
var $pt=function(t,e){return($pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function Ypt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}$pt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function Zpt(t,e){var i=t[0],n=t[1];return[i*Math.cos(e)-n*Math.sin(e),i*Math.sin(e)+n*Math.cos(e)]}function Jpt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0;i<t.length;i++)if("number"!=typeof t[i])throw new Error("assertNumbers arguments["+i+"] is not a number. "+typeof t[i]+" == typeof "+t[i]);return!0}var tgt=Math.PI;function egt(t,e,i){t.lArcFlag=0===t.lArcFlag?0:1,t.sweepFlag=0===t.sweepFlag?0:1;var n=t.rX,o=t.rY,r=t.x,s=t.y;n=Math.abs(t.rX),o=Math.abs(t.rY);var a=Zpt([(e-r)/2,(i-s)/2],-t.xRot/180*tgt),l=a[0],c=a[1],h=Math.pow(l,2)/Math.pow(n,2)+Math.pow(c,2)/Math.pow(o,2);1<h&&(n*=Math.sqrt(h),o*=Math.sqrt(h)),t.rX=n,t.rY=o;var A=Math.pow(n,2)*Math.pow(c,2)+Math.pow(o,2)*Math.pow(l,2),u=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(o,2)-A)/A)),d=n*c/o*u,p=-o*l/n*u,g=Zpt([d,p],t.xRot/180*tgt);t.cX=g[0]+(e+r)/2,t.cY=g[1]+(i+s)/2,t.phi1=Math.atan2((c-p)/o,(l-d)/n),t.phi2=Math.atan2((-c-p)/o,(-l-d)/n),0===t.sweepFlag&&t.phi2>t.phi1&&(t.phi2-=2*tgt),1===t.sweepFlag&&t.phi2<t.phi1&&(t.phi2+=2*tgt),t.phi1*=180/tgt,t.phi2*=180/tgt}function igt(t,e,i){Jpt(t,e,i);var n=t*t+e*e-i*i;if(0>n)return[];if(0===n)return[[t*i/(t*t+e*e),e*i/(t*t+e*e)]];var o=Math.sqrt(n);return[[(t*i+e*o)/(t*t+e*e),(e*i-t*o)/(t*t+e*e)],[(t*i-e*o)/(t*t+e*e),(e*i+t*o)/(t*t+e*e)]]}var ngt,ogt=Math.PI/180;function rgt(t,e,i){return(1-i)*t+i*e}function sgt(t,e,i,n){return t+Math.cos(n/180*tgt)*e+Math.sin(n/180*tgt)*i}function agt(t,e,i,n){var o=1e-6,r=e-t,s=i-e,a=3*r+3*(n-i)-6*s,l=6*(s-r),c=3*r;return Math.abs(a)<o?[-c/l]:function(t,e,i){var n=t*t/4-e;if(n<-i)return[];if(n<=i)return[-t/2];var o=Math.sqrt(n);return[-t/2-o,-t/2+o]}(l/a,c/a,o)}function lgt(t,e,i,n,o){var r=1-o;return t*(r*r*r)+e*(3*r*r*o)+i*(3*r*o*o)+n*(o*o*o)}!function(t){function e(){return o((function(t,e,i){return t.relative&&(void 0!==t.x1&&(t.x1+=e),void 0!==t.y1&&(t.y1+=i),void 0!==t.x2&&(t.x2+=e),void 0!==t.y2&&(t.y2+=i),void 0!==t.x&&(t.x+=e),void 0!==t.y&&(t.y+=i),t.relative=!1),t}))}function i(){var t=NaN,e=NaN,i=NaN,n=NaN;return o((function(o,r,s){return o.type&pgt.SMOOTH_CURVE_TO&&(o.type=pgt.CURVE_TO,t=isNaN(t)?r:t,e=isNaN(e)?s:e,o.x1=o.relative?r-t:2*r-t,o.y1=o.relative?s-e:2*s-e),o.type&pgt.CURVE_TO?(t=o.relative?r+o.x2:o.x2,e=o.relative?s+o.y2:o.y2):(t=NaN,e=NaN),o.type&pgt.SMOOTH_QUAD_TO&&(o.type=pgt.QUAD_TO,i=isNaN(i)?r:i,n=isNaN(n)?s:n,o.x1=o.relative?r-i:2*r-i,o.y1=o.relative?s-n:2*s-n),o.type&pgt.QUAD_TO?(i=o.relative?r+o.x1:o.x1,n=o.relative?s+o.y1:o.y1):(i=NaN,n=NaN),o}))}function n(){var t=NaN,e=NaN;return o((function(i,n,o){if(i.type&pgt.SMOOTH_QUAD_TO&&(i.type=pgt.QUAD_TO,t=isNaN(t)?n:t,e=isNaN(e)?o:e,i.x1=i.relative?n-t:2*n-t,i.y1=i.relative?o-e:2*o-e),i.type&pgt.QUAD_TO){t=i.relative?n+i.x1:i.x1,e=i.relative?o+i.y1:i.y1;var r=i.x1,s=i.y1;i.type=pgt.CURVE_TO,i.x1=((i.relative?0:n)+2*r)/3,i.y1=((i.relative?0:o)+2*s)/3,i.x2=(i.x+2*r)/3,i.y2=(i.y+2*s)/3}else t=NaN,e=NaN;return i}))}function o(t){var e=0,i=0,n=NaN,o=NaN;return function(r){if(isNaN(n)&&!(r.type&pgt.MOVE_TO))throw new Error("path must start with moveto");var s=t(r,e,i,n,o);return r.type&pgt.CLOSE_PATH&&(e=n,i=o),void 0!==r.x&&(e=r.relative?e+r.x:r.x),void 0!==r.y&&(i=r.relative?i+r.y:r.y),r.type&pgt.MOVE_TO&&(n=e,o=i),s}}function r(t,e,i,n,r,s){return Jpt(t,e,i,n,r,s),o((function(o,a,l,c){var h=o.x1,A=o.x2,u=o.relative&&!isNaN(c),d=void 0!==o.x?o.x:u?0:a,p=void 0!==o.y?o.y:u?0:l;function g(t){return t*t}o.type&pgt.HORIZ_LINE_TO&&0!==e&&(o.type=pgt.LINE_TO,o.y=o.relative?0:l),o.type&pgt.VERT_LINE_TO&&0!==i&&(o.type=pgt.LINE_TO,o.x=o.relative?0:a),void 0!==o.x&&(o.x=o.x*t+p*i+(u?0:r)),void 0!==o.y&&(o.y=d*e+o.y*n+(u?0:s)),void 0!==o.x1&&(o.x1=o.x1*t+o.y1*i+(u?0:r)),void 0!==o.y1&&(o.y1=h*e+o.y1*n+(u?0:s)),void 0!==o.x2&&(o.x2=o.x2*t+o.y2*i+(u?0:r)),void 0!==o.y2&&(o.y2=A*e+o.y2*n+(u?0:s));var f=t*n-e*i;if(void 0!==o.xRot&&(1!==t||0!==e||0!==i||1!==n))if(0===f)delete o.rX,delete o.rY,delete o.xRot,delete o.lArcFlag,delete o.sweepFlag,o.type=pgt.LINE_TO;else{var m=o.xRot*Math.PI/180,b=Math.sin(m),v=Math.cos(m),y=1/g(o.rX),w=1/g(o.rY),x=g(v)*y+g(b)*w,_=2*b*v*(y-w),C=g(b)*y+g(v)*w,B=x*n*n-_*e*n+C*e*e,S=_*(t*n+e*i)-2*(x*i*n+C*t*e),E=x*i*i-_*t*i+C*t*t,k=(Math.atan2(S,B-E)+Math.PI)%Math.PI/2,F=Math.sin(k),T=Math.cos(k);o.rX=Math.abs(f)/Math.sqrt(B*g(T)+S*F*T+E*g(F)),o.rY=Math.abs(f)/Math.sqrt(B*g(F)-S*F*T+E*g(T)),o.xRot=180*k/Math.PI}return void 0!==o.sweepFlag&&0>f&&(o.sweepFlag=+!o.sweepFlag),o}))}t.ROUND=function(t){function e(e){return Math.round(e*t)/t}return void 0===t&&(t=1e13),Jpt(t),function(t){return void 0!==t.x1&&(t.x1=e(t.x1)),void 0!==t.y1&&(t.y1=e(t.y1)),void 0!==t.x2&&(t.x2=e(t.x2)),void 0!==t.y2&&(t.y2=e(t.y2)),void 0!==t.x&&(t.x=e(t.x)),void 0!==t.y&&(t.y=e(t.y)),void 0!==t.rX&&(t.rX=e(t.rX)),void 0!==t.rY&&(t.rY=e(t.rY)),t}},t.TO_ABS=e,t.TO_REL=function(){return o((function(t,e,i){return t.relative||(void 0!==t.x1&&(t.x1-=e),void 0!==t.y1&&(t.y1-=i),void 0!==t.x2&&(t.x2-=e),void 0!==t.y2&&(t.y2-=i),void 0!==t.x&&(t.x-=e),void 0!==t.y&&(t.y-=i),t.relative=!0),t}))},t.NORMALIZE_HVZ=function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),o((function(n,o,r,s,a){if(isNaN(s)&&!(n.type&pgt.MOVE_TO))throw new Error("path must start with moveto");return e&&n.type&pgt.HORIZ_LINE_TO&&(n.type=pgt.LINE_TO,n.y=n.relative?0:r),i&&n.type&pgt.VERT_LINE_TO&&(n.type=pgt.LINE_TO,n.x=n.relative?0:o),t&&n.type&pgt.CLOSE_PATH&&(n.type=pgt.LINE_TO,n.x=n.relative?s-o:s,n.y=n.relative?a-r:a),n.type&pgt.ARC&&(0===n.rX||0===n.rY)&&(n.type=pgt.LINE_TO,delete n.rX,delete n.rY,delete n.xRot,delete n.lArcFlag,delete n.sweepFlag),n}))},t.NORMALIZE_ST=i,t.QT_TO_C=n,t.INFO=o,t.SANITIZE=function(t){void 0===t&&(t=0),Jpt(t);var e=NaN,i=NaN,n=NaN,r=NaN;return o((function(o,s,a,l,c){var h=Math.abs,A=!1,u=0,d=0;if(o.type&pgt.SMOOTH_CURVE_TO&&(u=isNaN(e)?0:s-e,d=isNaN(i)?0:a-i),o.type&(pgt.CURVE_TO|pgt.SMOOTH_CURVE_TO)?(e=o.relative?s+o.x2:o.x2,i=o.relative?a+o.y2:o.y2):(e=NaN,i=NaN),o.type&pgt.SMOOTH_QUAD_TO?(n=isNaN(n)?s:2*s-n,r=isNaN(r)?a:2*a-r):o.type&pgt.QUAD_TO?(n=o.relative?s+o.x1:o.x1,r=o.relative?a+o.y1:o.y2):(n=NaN,r=NaN),o.type&pgt.LINE_COMMANDS||o.type&pgt.ARC&&(0===o.rX||0===o.rY||!o.lArcFlag)||o.type&pgt.CURVE_TO||o.type&pgt.SMOOTH_CURVE_TO||o.type&pgt.QUAD_TO||o.type&pgt.SMOOTH_QUAD_TO){var p=void 0===o.x?0:o.relative?o.x:o.x-s,g=void 0===o.y?0:o.relative?o.y:o.y-a;u=isNaN(n)?void 0===o.x1?u:o.relative?o.x:o.x1-s:n-s,d=isNaN(r)?void 0===o.y1?d:o.relative?o.y:o.y1-a:r-a;var f=void 0===o.x2?0:o.relative?o.x:o.x2-s,m=void 0===o.y2?0:o.relative?o.y:o.y2-a;h(p)<=t&&h(g)<=t&&h(u)<=t&&h(d)<=t&&h(f)<=t&&h(m)<=t&&(A=!0)}return o.type&pgt.CLOSE_PATH&&h(s-l)<=t&&h(a-c)<=t&&(A=!0),A?[]:o}))},t.MATRIX=r,t.ROTATE=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),Jpt(t,e,i);var n=Math.sin(t),o=Math.cos(t);return r(o,n,-n,o,e-e*o+i*n,i-e*n-i*o)},t.TRANSLATE=function(t,e){return void 0===e&&(e=0),Jpt(t,e),r(1,0,0,1,t,e)},t.SCALE=function(t,e){return void 0===e&&(e=t),Jpt(t,e),r(t,0,0,e,0,0)},t.SKEW_X=function(t){return Jpt(t),r(1,0,Math.atan(t),1,0,0)},t.SKEW_Y=function(t){return Jpt(t),r(1,Math.atan(t),0,1,0,0)},t.X_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),Jpt(t),r(-1,0,0,1,t,0)},t.Y_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),Jpt(t),r(1,0,0,-1,0,t)},t.A_TO_C=function(){return o((function(t,e,i){return pgt.ARC===t.type?function(t,e,i){var n,o,r,s;t.cX||egt(t,e,i);for(var a=Math.min(t.phi1,t.phi2),l=Math.max(t.phi1,t.phi2)-a,c=Math.ceil(l/90),h=new Array(c),A=e,u=i,d=0;d<c;d++){var p=rgt(t.phi1,t.phi2,d/c),g=rgt(t.phi1,t.phi2,(d+1)/c),f=g-p,m=4/3*Math.tan(f*ogt/4),b=[Math.cos(p*ogt)-m*Math.sin(p*ogt),Math.sin(p*ogt)+m*Math.cos(p*ogt)],v=b[0],y=b[1],w=[Math.cos(g*ogt),Math.sin(g*ogt)],x=w[0],_=w[1],C=[x+m*Math.sin(g*ogt),_-m*Math.cos(g*ogt)],B=C[0],S=C[1];h[d]={relative:t.relative,type:pgt.CURVE_TO};var E=function(e,i){var n=Zpt([e*t.rX,i*t.rY],t.xRot),o=n[0],r=n[1];return[t.cX+o,t.cY+r]};n=E(v,y),h[d].x1=n[0],h[d].y1=n[1],o=E(B,S),h[d].x2=o[0],h[d].y2=o[1],r=E(x,_),h[d].x=r[0],h[d].y=r[1],t.relative&&(h[d].x1-=A,h[d].y1-=u,h[d].x2-=A,h[d].y2-=u,h[d].x-=A,h[d].y-=u),A=(s=[h[d].x,h[d].y])[0],u=s[1]}return h}(t,t.relative?0:e,t.relative?0:i):t}))},t.ANNOTATE_ARCS=function(){return o((function(t,e,i){return t.relative&&(e=0,i=0),pgt.ARC===t.type&&egt(t,e,i),t}))},t.CLONE=function(){return function(t){var e={};for(var i in t)e[i]=t[i];return e}},t.CALCULATE_BOUNDS=function(){var t=e(),r=n(),s=i(),a=o((function(e,i,n){var o=s(r(t(function(t){var e={};for(var i in t)e[i]=t[i];return e}(e))));function l(t){t>a.maxX&&(a.maxX=t),t<a.minX&&(a.minX=t)}function c(t){t>a.maxY&&(a.maxY=t),t<a.minY&&(a.minY=t)}if(o.type&pgt.DRAWING_COMMANDS&&(l(i),c(n)),o.type&pgt.HORIZ_LINE_TO&&l(o.x),o.type&pgt.VERT_LINE_TO&&c(o.y),o.type&pgt.LINE_TO&&(l(o.x),c(o.y)),o.type&pgt.CURVE_TO){l(o.x),c(o.y);for(var h=0,A=agt(i,o.x1,o.x2,o.x);h<A.length;h++)0<(E=A[h])&&1>E&&l(lgt(i,o.x1,o.x2,o.x,E));for(var u=0,d=agt(n,o.y1,o.y2,o.y);u<d.length;u++)0<(E=d[u])&&1>E&&c(lgt(n,o.y1,o.y2,o.y,E))}if(o.type&pgt.ARC){l(o.x),c(o.y),egt(o,i,n);for(var p=o.xRot/180*Math.PI,g=Math.cos(p)*o.rX,f=Math.sin(p)*o.rX,m=-Math.sin(p)*o.rY,b=Math.cos(p)*o.rY,v=o.phi1<o.phi2?[o.phi1,o.phi2]:-180>o.phi2?[o.phi2+360,o.phi1+360]:[o.phi2,o.phi1],y=v[0],w=v[1],x=function(t){var e=t[0],i=t[1],n=180*Math.atan2(i,e)/Math.PI;return n<y?n+360:n},_=0,C=igt(m,-g,0).map(x);_<C.length;_++)(E=C[_])>y&&E<w&&l(sgt(o.cX,g,m,E));for(var B=0,S=igt(b,-f,0).map(x);B<S.length;B++){var E;(E=S[B])>y&&E<w&&c(sgt(o.cY,f,b,E))}}return e}));return a.minX=1/0,a.maxX=-1/0,a.minY=1/0,a.maxY=-1/0,a}}(ngt||(ngt={}));var cgt,hgt=function(){function t(){}return t.prototype.round=function(t){return this.transform(ngt.ROUND(t))},t.prototype.toAbs=function(){return this.transform(ngt.TO_ABS())},t.prototype.toRel=function(){return this.transform(ngt.TO_REL())},t.prototype.normalizeHVZ=function(t,e,i){return this.transform(ngt.NORMALIZE_HVZ(t,e,i))},t.prototype.normalizeST=function(){return this.transform(ngt.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(ngt.QT_TO_C())},t.prototype.aToC=function(){return this.transform(ngt.A_TO_C())},t.prototype.sanitize=function(t){return this.transform(ngt.SANITIZE(t))},t.prototype.translate=function(t,e){return this.transform(ngt.TRANSLATE(t,e))},t.prototype.scale=function(t,e){return this.transform(ngt.SCALE(t,e))},t.prototype.rotate=function(t,e,i){return this.transform(ngt.ROTATE(t,e,i))},t.prototype.matrix=function(t,e,i,n,o,r){return this.transform(ngt.MATRIX(t,e,i,n,o,r))},t.prototype.skewX=function(t){return this.transform(ngt.SKEW_X(t))},t.prototype.skewY=function(t){return this.transform(ngt.SKEW_Y(t))},t.prototype.xSymmetry=function(t){return this.transform(ngt.X_AXIS_SYMMETRY(t))},t.prototype.ySymmetry=function(t){return this.transform(ngt.Y_AXIS_SYMMETRY(t))},t.prototype.annotateArcs=function(){return this.transform(ngt.ANNOTATE_ARCS())},t}(),Agt=function(t){return" "===t||"\t"===t||"\r"===t||"\n"===t},ugt=function(t){return"0".charCodeAt(0)<=t.charCodeAt(0)&&t.charCodeAt(0)<="9".charCodeAt(0)},dgt=function(t){function e(){var e=t.call(this)||this;return e.curNumber="",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}return Ypt(e,t),e.prototype.finish=function(t){if(void 0===t&&(t=[]),this.parse(" ",t),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},e.prototype.parse=function(t,e){var i=this;void 0===e&&(e=[]);for(var n=function(t){e.push(t),i.curArgs.length=0,i.canParseCommandOrComma=!0},o=0;o<t.length;o++){var r=t[o],s=!(this.curCommandType!==pgt.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),a=ugt(r)&&("0"===this.curNumber&&"0"===r||s);if(!ugt(r)||a)if("e"!==r&&"E"!==r)if("-"!==r&&"+"!==r||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==r||this.curNumberHasExp||this.curNumberHasDecimal||s){if(this.curNumber&&-1!==this.curCommandType){var l=Number(this.curNumber);if(isNaN(l))throw new SyntaxError("Invalid number ending at "+o);if(this.curCommandType===pgt.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>l)throw new SyntaxError('Expected positive number, got "'+l+'" at index "'+o+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+o+'"');this.curArgs.push(l),this.curArgs.length===ggt[this.curCommandType]&&(pgt.HORIZ_LINE_TO===this.curCommandType?n({type:pgt.HORIZ_LINE_TO,relative:this.curCommandRelative,x:l}):pgt.VERT_LINE_TO===this.curCommandType?n({type:pgt.VERT_LINE_TO,relative:this.curCommandRelative,y:l}):this.curCommandType===pgt.MOVE_TO||this.curCommandType===pgt.LINE_TO||this.curCommandType===pgt.SMOOTH_QUAD_TO?(n({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),pgt.MOVE_TO===this.curCommandType&&(this.curCommandType=pgt.LINE_TO)):this.curCommandType===pgt.CURVE_TO?n({type:pgt.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===pgt.SMOOTH_CURVE_TO?n({type:pgt.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===pgt.QUAD_TO?n({type:pgt.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===pgt.ARC&&n({type:pgt.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!Agt(r))if(","===r&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==r&&"-"!==r&&"."!==r)if(a)this.curNumber=r,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+o+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+r+'" at index '+o+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==r&&"Z"!==r)if("h"===r||"H"===r)this.curCommandType=pgt.HORIZ_LINE_TO,this.curCommandRelative="h"===r;else if("v"===r||"V"===r)this.curCommandType=pgt.VERT_LINE_TO,this.curCommandRelative="v"===r;else if("m"===r||"M"===r)this.curCommandType=pgt.MOVE_TO,this.curCommandRelative="m"===r;else if("l"===r||"L"===r)this.curCommandType=pgt.LINE_TO,this.curCommandRelative="l"===r;else if("c"===r||"C"===r)this.curCommandType=pgt.CURVE_TO,this.curCommandRelative="c"===r;else if("s"===r||"S"===r)this.curCommandType=pgt.SMOOTH_CURVE_TO,this.curCommandRelative="s"===r;else if("q"===r||"Q"===r)this.curCommandType=pgt.QUAD_TO,this.curCommandRelative="q"===r;else if("t"===r||"T"===r)this.curCommandType=pgt.SMOOTH_QUAD_TO,this.curCommandRelative="t"===r;else{if("a"!==r&&"A"!==r)throw new SyntaxError('Unexpected character "'+r+'" at index '+o+".");this.curCommandType=pgt.ARC,this.curCommandRelative="a"===r}else e.push({type:pgt.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=r,this.curNumberHasDecimal="."===r}else this.curNumber+=r,this.curNumberHasDecimal=!0;else this.curNumber+=r;else this.curNumber+=r,this.curNumberHasExp=!0;else this.curNumber+=r,this.curNumberHasExpDigits=this.curNumberHasExp}return e},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(e,i){void 0===i&&(i=[]);for(var n=0,o=Object.getPrototypeOf(this).parse.call(this,e);n<o.length;n++){var r=o[n],s=t(r);Array.isArray(s)?i.push.apply(i,s):i.push(s)}return i}}})},e}(hgt),pgt=function(t){function e(i){var n=t.call(this)||this;return n.commands="string"==typeof i?e.parse(i):i,n}return Ypt(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=ngt.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var e=[],i=0,n=this.commands;i<n.length;i++){var o=t(n[i]);Array.isArray(o)?e.push.apply(e,o):e.push(o)}return this.commands=e,this},e.encode=function(t){return function(t){var e="";Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i];if(n.type===pgt.CLOSE_PATH)e+="z";else if(n.type===pgt.HORIZ_LINE_TO)e+=(n.relative?"h":"H")+n.x;else if(n.type===pgt.VERT_LINE_TO)e+=(n.relative?"v":"V")+n.y;else if(n.type===pgt.MOVE_TO)e+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===pgt.LINE_TO)e+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===pgt.CURVE_TO)e+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===pgt.SMOOTH_CURVE_TO)e+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===pgt.QUAD_TO)e+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===pgt.SMOOTH_QUAD_TO)e+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==pgt.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+i+".");e+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return e}(t)},e.parse=function(t){var e=new dgt,i=[];return e.parse(t,i),e.finish(i),i},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(hgt),ggt=((cgt={})[pgt.MOVE_TO]=2,cgt[pgt.LINE_TO]=2,cgt[pgt.HORIZ_LINE_TO]=1,cgt[pgt.VERT_LINE_TO]=1,cgt[pgt.CLOSE_PATH]=0,cgt[pgt.QUAD_TO]=4,cgt[pgt.SMOOTH_QUAD_TO]=2,cgt[pgt.CURVE_TO]=6,cgt[pgt.SMOOTH_CURVE_TO]=4,cgt[pgt.ARC]=7,cgt),fgt=b9,mgt=Wtt,bgt=ttt,vgt=sct,ygt=RegExp.prototype,wgt=lit.PROPER,xgt=rnt,_gt=Het,Cgt=oct,Bgt=d9,Sgt=function(t){var e=t.flags;return void 0!==e||"flags"in ygt||mgt(t,"flags")||!bgt(ygt,t)?e:fgt(vgt,t)},Egt="toString",kgt=RegExp.prototype,Fgt=kgt[Egt],Tgt=Bgt((function(){return"/a/b"!==Fgt.call({source:"a",flags:"b"})})),Lgt=wgt&&Fgt.name!==Egt;function Igt(t){return(Igt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(Tgt||Lgt)&&xgt(kgt,Egt,(function(){var t=_gt(this);return"/"+Cgt(t.source)+"/"+Cgt(Sgt(t))}),{unsafe:!0});var Mgt=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Pgt=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Rgt(t,e,i,n,o,r){if(!(isNaN(r)||r<1)){r|=0;var s=function(t,e,i,n,o){if("string"==typeof t&&(t=document.getElementById(t)),!t||"object"!==Igt(t)||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var r=t.getContext("2d");try{return r.getImageData(e,i,n,o)}catch(NZ){throw new Error("unable to access image data: "+NZ)}}(t,e,i,n,o);s=function(t,e,i,n,o,r){for(var s,a=t.data,l=2*r+1,c=n-1,h=o-1,A=r+1,u=A*(A+1)/2,d=new Ngt,p=d,g=1;g<l;g++)p=p.next=new Ngt,g===A&&(s=p);p.next=d;for(var f=null,m=null,b=0,v=0,y=Mgt[r],w=Pgt[r],x=0;x<o;x++){p=d;for(var _=a[v],C=a[v+1],B=a[v+2],S=a[v+3],E=0;E<A;E++)p.r=_,p.g=C,p.b=B,p.a=S,p=p.next;for(var k=0,F=0,T=0,L=0,I=A*_,M=A*C,P=A*B,R=A*S,N=u*_,O=u*C,U=u*B,D=u*S,Q=1;Q<A;Q++){var H=v+((c<Q?c:Q)<<2),z=a[H],j=a[H+1],G=a[H+2],V=a[H+3],K=A-Q;N+=(p.r=z)*K,O+=(p.g=j)*K,U+=(p.b=G)*K,D+=(p.a=V)*K,k+=z,F+=j,T+=G,L+=V,p=p.next}f=d,m=s;for(var q=0;q<n;q++){var W=D*y>>>w;if(a[v+3]=W,0!==W){var X=255/W;a[v]=(N*y>>>w)*X,a[v+1]=(O*y>>>w)*X,a[v+2]=(U*y>>>w)*X}else a[v]=a[v+1]=a[v+2]=0;N-=I,O-=M,U-=P,D-=R,I-=f.r,M-=f.g,P-=f.b,R-=f.a;var $=q+r+1;$=b+($<c?$:c)<<2,N+=k+=f.r=a[$],O+=F+=f.g=a[$+1],U+=T+=f.b=a[$+2],D+=L+=f.a=a[$+3],f=f.next;var Y=m,Z=Y.r,J=Y.g,tt=Y.b,et=Y.a;I+=Z,M+=J,P+=tt,R+=et,k-=Z,F-=J,T-=tt,L-=et,m=m.next,v+=4}b+=n}for(var it=0;it<n;it++){var nt=a[v=it<<2],ot=a[v+1],rt=a[v+2],st=a[v+3],at=A*nt,lt=A*ot,ct=A*rt,ht=A*st,At=u*nt,ut=u*ot,dt=u*rt,pt=u*st;p=d;for(var gt=0;gt<A;gt++)p.r=nt,p.g=ot,p.b=rt,p.a=st,p=p.next;for(var ft=n,mt=0,bt=0,vt=0,yt=0,wt=1;wt<=r;wt++){v=ft+it<<2;var xt=A-wt;At+=(p.r=nt=a[v])*xt,ut+=(p.g=ot=a[v+1])*xt,dt+=(p.b=rt=a[v+2])*xt,pt+=(p.a=st=a[v+3])*xt,yt+=nt,mt+=ot,bt+=rt,vt+=st,p=p.next,wt<h&&(ft+=n)}v=it,f=d,m=s;for(var _t=0;_t<o;_t++){var Ct=v<<2;a[Ct+3]=st=pt*y>>>w,st>0?(st=255/st,a[Ct]=(At*y>>>w)*st,a[Ct+1]=(ut*y>>>w)*st,a[Ct+2]=(dt*y>>>w)*st):a[Ct]=a[Ct+1]=a[Ct+2]=0,At-=at,ut-=lt,dt-=ct,pt-=ht,at-=f.r,lt-=f.g,ct-=f.b,ht-=f.a,Ct=it+((Ct=_t+A)<h?Ct:h)*n<<2,At+=yt+=f.r=a[Ct],ut+=mt+=f.g=a[Ct+1],dt+=bt+=f.b=a[Ct+2],pt+=vt+=f.a=a[Ct+3],f=f.next,at+=nt=m.r,lt+=ot=m.g,ct+=rt=m.b,ht+=st=m.a,yt-=nt,mt-=ot,bt-=rt,vt-=st,m=m.next,v+=n}}return t}(s,0,0,n,o,r),t.getContext("2d").putImageData(s,e,i)}}var Ngt=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};var Ogt=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas:(t,e)=>new OffscreenCanvas(t,e),createImage:t=>ect((function*(){var e=yield fetch(t),i=yield e.blob();return yield createImageBitmap(i)}))()};return"undefined"==typeof DOMParser&&void 0!==t||Reflect.deleteProperty(e,"DOMParser"),e},node:function(t){var{DOMParser:e,canvas:i,fetch:n}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:n,createCanvas:i.createCanvas,createImage:i.loadImage}}});function Ugt(t){return t.replace(/(?!\u3000)\s+/gm," ")}function Dgt(t){return t.replace(/^[\n \t]+/,"")}function Qgt(t){return t.replace(/[\n \t]+$/,"")}function Hgt(t){return((t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var zgt=/^[A-Z-]+$/;function jgt(t){return zgt.test(t)?t.toLowerCase():t}function Ggt(t){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t)||[];return e[2]||e[3]||e[4]}function Vgt(t){if(!t.startsWith("rgb"))return t;var e=3;return t.replace(/\d+(\.\d+)?/g,((t,i)=>e--&&i?String(Math.round(parseFloat(t))):t))}var Kgt=/(\[[^\]]+\])/g,qgt=/(#[^\s+>~.[:]+)/g,Wgt=/(\.[^\s+>~.[:]+)/g,Xgt=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,$gt=/(:[\w-]+\([^)]*\))/gi,Ygt=/(:[^\s+>~.[:]+)/g,Zgt=/([^\s+>~.[:]+)/g;function Jgt(t,e){var i=e.exec(t);return i?[t.replace(e," "),i.length]:[t,0]}function tft(t){var e=[0,0,0],i=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0;return[i,n]=Jgt(i,Kgt),e[1]+=n,[i,n]=Jgt(i,qgt),e[0]+=n,[i,n]=Jgt(i,Wgt),e[1]+=n,[i,n]=Jgt(i,Xgt),e[2]+=n,[i,n]=Jgt(i,$gt),e[1]+=n,[i,n]=Jgt(i,Ygt),e[1]+=n,i=i.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[i,n]=Jgt(i,Zgt),e[2]+=n,e.join("")}var eft=1e-8;function ift(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function nft(t,e){return(t[0]*e[0]+t[1]*e[1])/(ift(t)*ift(e))}function oft(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(nft(t,e))}function rft(t){return t*t*t}function sft(t){return 3*t*t*(1-t)}function aft(t){return 3*t*(1-t)*(1-t)}function lft(t){return(1-t)*(1-t)*(1-t)}function cft(t){return t*t}function hft(t){return 2*t*(1-t)}function Aft(t){return(1-t)*(1-t)}class uft{constructor(t,e,i){this.document=t,this.name=e,this.value=i,this.isNormalizedColor=!1}static empty(t){return new uft(t,"EMPTY","")}split(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",{document:e,name:i}=this;return Ugt(this.getString()).trim().split(t).map((t=>new uft(e,i,t)))}hasValue(t){var{value:e}=this;return null!==e&&""!==e&&(t||0!==e)&&void 0!==e}isString(t){var{value:e}=this,i="string"==typeof e;return i&&t?t.test(e):i}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var t=this.getString();switch(!0){case t.endsWith("px"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return void 0===t||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return void 0===t?0:parseFloat(t);var{value:e}=this,i=parseFloat(e);return this.isString(/%$/)&&(i/=100),i}getString(t){return void 0===t||this.hasValue()?void 0===this.value?"":String(this.value):String(t)}getColor(t){var e=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,e=Vgt(e),this.value=e),e}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[i,n]="boolean"==typeof t?[void 0,t]:[t],{viewPort:o}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(o.computeSize("x"),o.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(o.computeSize("x"),o.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*o.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*o.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&n:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*o.computeSize(i);default:var r=this.getNumber();return e&&r<1?r*o.computeSize(i):r}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var t=this.getString(),e=/#([^)'"]+)/.exec(t);return e&&(e=e[1]),e||(e=t),this.document.definitions[e]}getFillStyleDefinition(t,e){var i=this.getDefinition();if(!i)return null;if("function"==typeof i.createGradient)return i.createGradient(this.document.ctx,t,e);if("function"==typeof i.createPattern){if(i.getHrefAttribute().hasValue()){var n=i.getAttribute("patternTransform");i=i.getHrefAttribute().getDefinition(),n.hasValue()&&i.getAttribute("patternTransform",!0).setValue(n.value)}return i.createPattern(this.document.ctx,t,e)}return null}getTextBaseline(){return this.hasValue()?uft.textBaselineMapping[this.getString()]:null}addOpacity(t){for(var e=this.getColor(),i=e.length,n=0,o=0;o<i&&(","===e[o]&&n++,3!==n);o++);if(t.hasValue()&&this.isString()&&3!==n){var r=new Mpt(e);r.ok&&(r.alpha=t.getNumber(),e=r.toRGBA())}return new uft(this.document,this.name,e)}}uft.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class dft{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(t,e){this.viewPorts.push({width:t,height:e})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:t}=this;return t[t.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return"number"==typeof t?t:"x"===t?this.width:"y"===t?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class pft{constructor(t,e){this.x=t,this.y=e}static parse(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[i=e,n=e]=Hgt(t);return new pft(i,n)}static parseScale(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[i=e,n=i]=Hgt(t);return new pft(i,n)}static parsePath(t){for(var e=Hgt(t),i=e.length,n=[],o=0;o<i;o+=2)n.push(new pft(e[o],e[o+1]));return n}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){var{x:e,y:i}=this,n=e*t[0]+i*t[2]+t[4],o=e*t[1]+i*t[3]+t[5];this.x=n,this.y=o}}class gft{constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:t,onClick:e,onMouseMove:i}=this,n=t.ctx.canvas;n.onclick=e,n.onmousemove=i,this.working=!0}}stop(){if(this.working){var t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:t,events:e,eventElements:i}=this,{style:n}=t.ctx.canvas;n&&(n.cursor=""),e.forEach(((t,e)=>{for(var{run:n}=t,o=i[e];o;)n(o),o=o.parent})),this.events=[],this.eventElements=[]}}checkPath(t,e){if(this.working&&e){var{events:i,eventElements:n}=this;i.forEach(((i,o)=>{var{x:r,y:s}=i;!n[o]&&e.isPointInPath&&e.isPointInPath(r,s)&&(n[o]=t)}))}}checkBoundingBox(t,e){if(this.working&&e){var{events:i,eventElements:n}=this;i.forEach(((i,o)=>{var{x:r,y:s}=i;!n[o]&&e.isPointInBox(r,s)&&(n[o]=t)}))}}mapXY(t,e){for(var{window:i,ctx:n}=this.screen,o=new pft(t,e),r=n.canvas;r;)o.x-=r.offsetLeft,o.y-=r.offsetTop,r=r.offsetParent;return i.scrollX&&(o.x+=i.scrollX),i.scrollY&&(o.y+=i.scrollY),o}onClick(t){var{x:e,y:i}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:e,y:i,run(t){t.onClick&&t.onClick()}})}onMouseMove(t){var{x:e,y:i}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:e,y:i,run(t){t.onMouseMove&&t.onMouseMove()}})}}var fft="undefined"!=typeof window?window:null,mft="undefined"!=typeof fetch?fetch.bind(void 0):null;class bft{constructor(t){var{fetch:e=mft,window:i=fft}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=t,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new dft,this.mouse=new gft(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=i,this.fetch=e}wait(t){this.waits.push(t)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var t=this.waits.every((t=>t()));return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}setViewBox(t){var{document:e,ctx:i,aspectRatio:n,width:o,desiredWidth:r,height:s,desiredHeight:a,minX:l=0,minY:c=0,refX:h,refY:A,clip:u=!1,clipX:d=0,clipY:p=0}=t,g=Ugt(n).replace(/^defer\s/,""),[f,m]=g.split(" "),b=f||"xMidYMid",v=m||"meet",y=o/r,w=s/a,x=Math.min(y,w),_=Math.max(y,w),C=r,B=a;"meet"===v&&(C*=x,B*=x),"slice"===v&&(C*=_,B*=_);var S=new uft(e,"refX",h),E=new uft(e,"refY",A),k=S.hasValue()&&E.hasValue();if(k&&i.translate(-x*S.getPixels("x"),-x*E.getPixels("y")),u){var F=x*d,T=x*p;i.beginPath(),i.moveTo(F,T),i.lineTo(o,T),i.lineTo(o,s),i.lineTo(F,s),i.closePath(),i.clip()}if(!k){var L="meet"===v&&x===w,I="slice"===v&&_===w,M="meet"===v&&x===y,P="slice"===v&&_===y;b.startsWith("xMid")&&(L||I)&&i.translate(o/2-C/2,0),b.endsWith("YMid")&&(M||P)&&i.translate(0,s/2-B/2),b.startsWith("xMax")&&(L||I)&&i.translate(o-C,0),b.endsWith("YMax")&&(M||P)&&i.translate(0,s-B)}switch(!0){case"none"===b:i.scale(y,w);break;case"meet"===v:i.scale(x,x);break;case"slice"===v:i.scale(_,_)}i.translate(-l,-c)}start(t){var{enableRedraw:e=!1,ignoreMouse:i=!1,ignoreAnimation:n=!1,ignoreDimensions:o=!1,ignoreClear:r=!1,forceRedraw:s,scaleWidth:a,scaleHeight:l,offsetX:c,offsetY:h}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:A,mouse:u}=this,d=1e3/A;if(this.frameDuration=d,this.readyPromise=new Promise((t=>{this.resolveReady=t})),this.isReady()&&this.render(t,o,r,a,l,c,h),e){var p=Date.now(),g=p,f=0,m=()=>{p=Date.now(),(f=p-g)>=d&&(g=p-f%d,this.shouldUpdate(n,s)&&(this.render(t,o,r,a,l,c,h),u.runEvents())),this.intervalId=bpt(m)};i||u.start(),this.intervalId=bpt(m)}}stop(){this.intervalId&&(bpt.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,e){if(!t){var{frameDuration:i}=this,n=this.animations.reduce(((t,e)=>e.update(i)||t),!1);if(n)return!0}return!("function"!=typeof e||!e())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}render(t,e,i,n,o,r,s){var{CLIENT_WIDTH:a,CLIENT_HEIGHT:l,viewPort:c,ctx:h,isFirstRender:A}=this,u=h.canvas;c.clear(),u.width&&u.height?c.setCurrent(u.width,u.height):c.setCurrent(a,l);var d=t.getStyle("width"),p=t.getStyle("height");!e&&(A||"number"!=typeof n&&"number"!=typeof o)&&(d.hasValue()&&(u.width=d.getPixels("x"),u.style&&(u.style.width="".concat(u.width,"px"))),p.hasValue()&&(u.height=p.getPixels("y"),u.style&&(u.style.height="".concat(u.height,"px"))));var g=u.clientWidth||u.width,f=u.clientHeight||u.height;if(e&&d.hasValue()&&p.hasValue()&&(g=d.getPixels("x"),f=p.getPixels("y")),c.setCurrent(g,f),"number"==typeof r&&t.getAttribute("x",!0).setValue(r),"number"==typeof s&&t.getAttribute("y",!0).setValue(s),"number"==typeof n||"number"==typeof o){var m=Hgt(t.getAttribute("viewBox").getString()),b=0,v=0;if("number"==typeof n){var y=t.getStyle("width");y.hasValue()?b=y.getPixels("x")/n:isNaN(m[2])||(b=m[2]/n)}if("number"==typeof o){var w=t.getStyle("height");w.hasValue()?v=w.getPixels("y")/o:isNaN(m[3])||(v=m[3]/o)}b||(b=v),v||(v=b),t.getAttribute("width",!0).setValue(n),t.getAttribute("height",!0).setValue(o);var x=t.getStyle("transform",!0,!0);x.setValue("".concat(x.getString()," scale(").concat(1/b,", ").concat(1/v,")"))}i||h.clearRect(0,0,g,f),t.render(h),A&&(this.isFirstRender=!1)}}bft.defaultWindow=fft,bft.defaultFetch=mft;var{defaultFetch:vft}=bft,yft="undefined"!=typeof DOMParser?DOMParser:null;class wft{constructor(){var{fetch:t=vft,DOMParser:e=yft}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=t,this.DOMParser=e}parse(t){var e=this;return ect((function*(){return t.startsWith("<")?e.parseFromString(t):e.load(t)}))()}parseFromString(t){var e=new this.DOMParser;try{return this.checkDocument(e.parseFromString(t,"image/svg+xml"))}catch(Gr){return this.checkDocument(e.parseFromString(t,"text/xml"))}}checkDocument(t){var e=t.getElementsByTagName("parsererror")[0];if(e)throw new Error(e.textContent);return t}load(t){var e=this;return ect((function*(){var i=yield e.fetch(t),n=yield i.text();return e.parseFromString(n)}))()}}class xft{constructor(t,e){this.type="translate",this.point=null,this.point=pft.parse(e)}apply(t){var{x:e,y:i}=this.point;t.translate(e||0,i||0)}unapply(t){var{x:e,y:i}=this.point;t.translate(-1*e||0,-1*i||0)}applyToPoint(t){var{x:e,y:i}=this.point;t.applyTransform([1,0,0,1,e||0,i||0])}}class _ft{constructor(t,e,i){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var n=Hgt(e);this.angle=new uft(t,"angle",n[0]),this.originX=i[0],this.originY=i[1],this.cx=n[1]||0,this.cy=n[2]||0}apply(t){var{cx:e,cy:i,originX:n,originY:o,angle:r}=this,s=e+n.getPixels("x"),a=i+o.getPixels("y");t.translate(s,a),t.rotate(r.getRadians()),t.translate(-s,-a)}unapply(t){var{cx:e,cy:i,originX:n,originY:o,angle:r}=this,s=e+n.getPixels("x"),a=i+o.getPixels("y");t.translate(s,a),t.rotate(-1*r.getRadians()),t.translate(-s,-a)}applyToPoint(t){var{cx:e,cy:i,angle:n}=this,o=n.getRadians();t.applyTransform([1,0,0,1,e||0,i||0]),t.applyTransform([Math.cos(o),Math.sin(o),-Math.sin(o),Math.cos(o),0,0]),t.applyTransform([1,0,0,1,-e||0,-i||0])}}class Cft{constructor(t,e,i){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var n=pft.parseScale(e);0!==n.x&&0!==n.y||(n.x=eft,n.y=eft),this.scale=n,this.originX=i[0],this.originY=i[1]}apply(t){var{scale:{x:e,y:i},originX:n,originY:o}=this,r=n.getPixels("x"),s=o.getPixels("y");t.translate(r,s),t.scale(e,i||e),t.translate(-r,-s)}unapply(t){var{scale:{x:e,y:i},originX:n,originY:o}=this,r=n.getPixels("x"),s=o.getPixels("y");t.translate(r,s),t.scale(1/e,1/i||e),t.translate(-r,-s)}applyToPoint(t){var{x:e,y:i}=this.scale;t.applyTransform([e||0,0,0,i||0,0,0])}}class Bft{constructor(t,e,i){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Hgt(e),this.originX=i[0],this.originY=i[1]}apply(t){var{originX:e,originY:i,matrix:n}=this,o=e.getPixels("x"),r=i.getPixels("y");t.translate(o,r),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),t.translate(-o,-r)}unapply(t){var{originX:e,originY:i,matrix:n}=this,o=n[0],r=n[2],s=n[4],a=n[1],l=n[3],c=n[5],h=1/(o*(1*l-0*c)-r*(1*a-0*c)+s*(0*a-0*l)),A=e.getPixels("x"),u=i.getPixels("y");t.translate(A,u),t.transform(h*(1*l-0*c),h*(0*c-1*a),h*(0*s-1*r),h*(1*o-0*s),h*(r*c-s*l),h*(s*a-o*c)),t.translate(-A,-u)}applyToPoint(t){t.applyTransform(this.matrix)}}class Sft extends Bft{constructor(t,e,i){super(t,e,i),this.type="skew",this.angle=null,this.angle=new uft(t,"angle",e)}}class Eft extends Sft{constructor(t,e,i){super(t,e,i),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class kft extends Sft{constructor(t,e,i){super(t,e,i),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class Fft{constructor(t,e,i){this.document=t,this.transforms=[];var n=function(t){return Ugt(t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}(e);n.forEach((t=>{if("none"!==t){var[e,n]=function(t){var[e,i]=t.split("(");return[e.trim(),i.trim().replace(")","")]}(t),o=Fft.transformTypes[e];void 0!==o&&this.transforms.push(new o(this.document,n,i))}}))}static fromElement(t,e){var i=e.getStyle("transform",!1,!0),[n,o=n]=e.getStyle("transform-origin",!1,!0).split(),r=[n,o];return i.hasValue()?new Fft(t,i.getString(),r):null}apply(t){for(var{transforms:e}=this,i=e.length,n=0;n<i;n++)e[n].apply(t)}unapply(t){for(var{transforms:e}=this,i=e.length-1;i>=0;i--)e[i].unapply(t)}applyToPoint(t){for(var{transforms:e}=this,i=e.length,n=0;n<i;n++)e[n].applyToPoint(t)}}Fft.transformTypes={translate:xft,rotate:_ft,scale:Cft,matrix:Bft,skewX:Eft,skewY:kft};let Tft=class t{constructor(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=t,this.node=e,this.captureTextNodes=i,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],e&&1===e.nodeType){if(Array.from(e.attributes).forEach((e=>{var i=jgt(e.nodeName);this.attributes[i]=new uft(t,i,e.value)})),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue())this.getAttribute("style").getString().split(";").map((t=>t.trim())).forEach((e=>{if(e){var[i,n]=e.split(":").map((t=>t.trim()));this.styles[i]=new uft(t,i,n)}}));var{definitions:n}=t,o=this.getAttribute("id");o.hasValue()&&(n[o.getString()]||(n[o.getString()]=this)),Array.from(e.childNodes).forEach((e=>{if(1===e.nodeType)this.addChild(e);else if(i&&(3===e.nodeType||4===e.nodeType)){var n=t.createTextNode(e);n.getText().length>0&&this.addChild(n)}}))}}getAttribute(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.attributes[t];if(!i&&e){var n=new uft(this.document,t,"");return this.attributes[t]=n,n}return i||uft.empty(this.document)}getHrefAttribute(){for(var t in this.attributes)if("href"===t||t.endsWith(":href"))return this.attributes[t];return uft.empty(this.document)}getStyle(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.styles[t];if(n)return n;var o=this.getAttribute(t);if(null!=o&&o.hasValue())return this.styles[t]=o,o;if(!i){var{parent:r}=this;if(r){var s=r.getStyle(t);if(null!=s&&s.hasValue())return s}}if(e){var a=new uft(this.document,t,"");return this.styles[t]=a,a}return n||uft.empty(this.document)}render(t){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(t.save(),this.getStyle("mask").hasValue()){var e=this.getStyle("mask").getDefinition();e&&(this.applyEffects(t),e.apply(t,this))}else if("none"!==this.getStyle("filter").getValue("none")){var i=this.getStyle("filter").getDefinition();i&&(this.applyEffects(t),i.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){var e=Fft.fromElement(this.document,this);e&&e.apply(t);var i=this.getStyle("clip-path",!1,!0);if(i.hasValue()){var n=i.getDefinition();n&&n.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach((e=>{e.render(t)}))}addChild(e){var i=e instanceof t?e:this.document.createElement(e);i.parent=this,t.ignoreChildTypes.includes(i.type)||this.children.push(i)}matchesSelector(t){var e,{node:i}=this;if("function"==typeof i.matches)return i.matches(t);var n=null===(e=i.getAttribute)||void 0===e?void 0:e.call(i,"class");return!(!n||""===n)&&n.split(" ").some((e=>".".concat(e)===t))}addStylesFromStyleDefinition(){var{styles:t,stylesSpecificity:e}=this.document;for(var i in t)if(!i.startsWith("@")&&this.matchesSelector(i)){var n=t[i],o=e[i];if(n)for(var r in n){var s=this.stylesSpecificity[r];void 0===s&&(s="000"),o>=s&&(this.styles[r]=n[r],this.stylesSpecificity[r]=o)}}}removeStyles(t,e){return e.reduce(((e,i)=>{var n=t.getStyle(i);if(!n.hasValue())return e;var o=n.getString();return n.setValue(""),[...e,[i,o]]}),[])}restoreStyles(t,e){e.forEach((e=>{var[i,n]=e;t.getStyle(i,!0).setValue(n)}))}isFirstChild(){var t;return 0===(null===(t=this.parent)||void 0===t?void 0:t.children.indexOf(this))}};Tft.ignoreChildTypes=["title"];class Lft extends Tft{constructor(t,e,i){super(t,e,i)}}function Ift(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function Mft(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function Pft(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}class Rft{constructor(t,e,i,n,o,r){var s=r?"string"==typeof r?Rft.parse(r):r:{};this.fontFamily=o||s.fontFamily,this.fontSize=n||s.fontSize,this.fontStyle=t||s.fontStyle,this.fontWeight=i||s.fontWeight,this.fontVariant=e||s.fontVariant}static parse(){var t=arguments.length>1?arguments[1]:void 0,e="",i="",n="",o="",r="",s=Ugt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return s.forEach((t=>{switch(!0){case!a.fontStyle&&Rft.styles.includes(t):"inherit"!==t&&(e=t),a.fontStyle=!0;break;case!a.fontVariant&&Rft.variants.includes(t):"inherit"!==t&&(i=t),a.fontStyle=!0,a.fontVariant=!0;break;case!a.fontWeight&&Rft.weights.includes(t):"inherit"!==t&&(n=t),a.fontStyle=!0,a.fontVariant=!0,a.fontWeight=!0;break;case!a.fontSize:"inherit"!==t&&([o]=t.split("/")),a.fontStyle=!0,a.fontVariant=!0,a.fontWeight=!0,a.fontSize=!0;break;default:"inherit"!==t&&(r+=t)}})),new Rft(e,i,n,o,r,t)}toString(){return[Mft(this.fontStyle),this.fontVariant,Pft(this.fontWeight),this.fontSize,(t=this.fontFamily,"undefined"==typeof process?t:t.trim().split(",").map(Ift).join(","))].join(" ").trim();var t}}Rft.styles="normal|italic|oblique|inherit",Rft.variants="normal|small-caps|inherit",Rft.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Nft{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.addPoint(t,e),this.addPoint(i,n)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,e){void 0!==t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),void 0!==e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}addX(t){this.addPoint(t,null)}addY(t){this.addPoint(null,t)}addBoundingBox(t){if(t){var{x1:e,y1:i,x2:n,y2:o}=t;this.addPoint(e,i),this.addPoint(n,o)}}sumCubic(t,e,i,n,o){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*i+3*(1-t)*Math.pow(t,2)*n+Math.pow(t,3)*o}bezierCurveAdd(t,e,i,n,o){var r=6*e-12*i+6*n,s=-3*e+9*i-9*n+3*o,a=3*i-3*e;if(0!==s){var l=Math.pow(r,2)-4*a*s;if(!(l<0)){var c=(-r+Math.sqrt(l))/(2*s);0<c&&c<1&&(t?this.addX(this.sumCubic(c,e,i,n,o)):this.addY(this.sumCubic(c,e,i,n,o)));var h=(-r-Math.sqrt(l))/(2*s);0<h&&h<1&&(t?this.addX(this.sumCubic(h,e,i,n,o)):this.addY(this.sumCubic(h,e,i,n,o)))}}else{if(0===r)return;var A=-a/r;0<A&&A<1&&(t?this.addX(this.sumCubic(A,e,i,n,o)):this.addY(this.sumCubic(A,e,i,n,o)))}}addBezierCurve(t,e,i,n,o,r,s,a){this.addPoint(t,e),this.addPoint(s,a),this.bezierCurveAdd(!0,t,i,o,s),this.bezierCurveAdd(!1,e,n,r,a)}addQuadraticCurve(t,e,i,n,o,r){var s=t+2/3*(i-t),a=e+2/3*(n-e),l=s+1/3*(o-t),c=a+1/3*(r-e);this.addBezierCurve(t,e,s,l,a,c,o,r)}isPointInBox(t,e){var{x1:i,y1:n,x2:o,y2:r}=this;return i<=t&&t<=o&&n<=e&&e<=r}}class Oft extends pgt{constructor(t){super(t.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new pft(0,0),this.control=new pft(0,0),this.current=new pft(0,0),this.points=[],this.angles=[]}isEnd(){var{i:t,commands:e}=this;return t>=e.length-1}next(){var t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",i=new pft(this.command[t],this.command[e]);return this.makeAbsolute(i)}getAsControlPoint(t,e){var i=this.getPoint(t,e);return this.control=i,i}getAsCurrentPoint(t,e){var i=this.getPoint(t,e);return this.current=i,i}getReflectedControlPoint(){var t=this.previousCommand.type;if(t!==pgt.CURVE_TO&&t!==pgt.SMOOTH_CURVE_TO&&t!==pgt.QUAD_TO&&t!==pgt.SMOOTH_QUAD_TO)return this.current;var{current:{x:e,y:i},control:{x:n,y:o}}=this;return new pft(2*e-n,2*i-o)}makeAbsolute(t){if(this.command.relative){var{x:e,y:i}=this.current;t.x+=e,t.y+=i}return t}addMarker(t,e,i){var{points:n,angles:o}=this;i&&o.length>0&&!o[o.length-1]&&(o[o.length-1]=n[n.length-1].angleTo(i)),this.addMarkerAngle(t,e?e.angleTo(t):null)}addMarkerAngle(t,e){this.points.push(t),this.angles.push(e)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:t}=this,e=t.length,i=0;i<e;i++)if(!t[i])for(var n=i+1;n<e;n++)if(t[n]){t[i]=t[n];break}return t}}class Uft extends Tft{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var t=1,e=this;e;){var i=e.getStyle("opacity",!1,!0);i.hasValue(!0)&&(t*=i.getNumber()),e=e.parent}return t}setContext(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){var i=this.getStyle("fill"),n=this.getStyle("fill-opacity"),o=this.getStyle("stroke"),r=this.getStyle("stroke-opacity");if(i.isUrlDefinition()){var s=i.getFillStyleDefinition(this,n);s&&(t.fillStyle=s)}else if(i.hasValue()){"currentColor"===i.getString()&&i.setValue(this.getStyle("color").getColor());var a=i.getColor();"inherit"!==a&&(t.fillStyle="none"===a?"rgba(0,0,0,0)":a)}if(n.hasValue()){var l=new uft(this.document,"fill",t.fillStyle).addOpacity(n).getColor();t.fillStyle=l}if(o.isUrlDefinition()){var c=o.getFillStyleDefinition(this,r);c&&(t.strokeStyle=c)}else if(o.hasValue()){"currentColor"===o.getString()&&o.setValue(this.getStyle("color").getColor());var h=o.getString();"inherit"!==h&&(t.strokeStyle="none"===h?"rgba(0,0,0,0)":h)}if(r.hasValue()){var A=new uft(this.document,"stroke",t.strokeStyle).addOpacity(r).getString();t.strokeStyle=A}var u=this.getStyle("stroke-width");if(u.hasValue()){var d=u.getPixels();t.lineWidth=d||eft}var p=this.getStyle("stroke-linecap"),g=this.getStyle("stroke-linejoin"),f=this.getStyle("stroke-miterlimit"),m=this.getStyle("stroke-dasharray"),b=this.getStyle("stroke-dashoffset");if(p.hasValue()&&(t.lineCap=p.getString()),g.hasValue()&&(t.lineJoin=g.getString()),f.hasValue()&&(t.miterLimit=f.getNumber()),m.hasValue()&&"none"!==m.getString()){var v=Hgt(m.getString());void 0!==t.setLineDash?t.setLineDash(v):void 0!==t.webkitLineDash?t.webkitLineDash=v:void 0===t.mozDash||1===v.length&&0===v[0]||(t.mozDash=v);var y=b.getPixels();void 0!==t.lineDashOffset?t.lineDashOffset=y:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=y:void 0!==t.mozDashOffset&&(t.mozDashOffset=y)}}if(this.modifiedEmSizeStack=!1,void 0!==t.font){var w=this.getStyle("font"),x=this.getStyle("font-style"),_=this.getStyle("font-variant"),C=this.getStyle("font-weight"),B=this.getStyle("font-size"),S=this.getStyle("font-family"),E=new Rft(x.getString(),_.getString(),C.getString(),B.hasValue()?"".concat(B.getPixels(!0),"px"):"",S.getString(),Rft.parse(w.getString(),t.font));x.setValue(E.fontStyle),_.setValue(E.fontVariant),C.setValue(E.fontWeight),B.setValue(E.fontSize),S.setValue(E.fontFamily),t.font=E.toString(),B.isPixels()&&(this.document.emSize=B.getPixels(),this.modifiedEmSizeStack=!0)}e||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Dft extends Uft{constructor(t,e,i){super(t,e,i),this.type="path",this.pathParser=null,this.pathParser=new Oft(this.getAttribute("d").getString())}path(t){var{pathParser:e}=this,i=new Nft;for(e.reset(),t&&t.beginPath();!e.isEnd();)switch(e.next().type){case Oft.MOVE_TO:this.pathM(t,i);break;case Oft.LINE_TO:this.pathL(t,i);break;case Oft.HORIZ_LINE_TO:this.pathH(t,i);break;case Oft.VERT_LINE_TO:this.pathV(t,i);break;case Oft.CURVE_TO:this.pathC(t,i);break;case Oft.SMOOTH_CURVE_TO:this.pathS(t,i);break;case Oft.QUAD_TO:this.pathQ(t,i);break;case Oft.SMOOTH_QUAD_TO:this.pathT(t,i);break;case Oft.ARC:this.pathA(t,i);break;case Oft.CLOSE_PATH:this.pathZ(t,i)}return i}getBoundingBox(t){return this.path()}getMarkers(){var{pathParser:t}=this,e=t.getMarkerPoints(),i=t.getMarkerAngles();return e.map(((t,e)=>[t,i[e]]))}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var e=this.getStyle("fill-rule");""!==t.fillStyle&&("inherit"!==e.getString("inherit")?t.fill(e.getString()):t.fill()),""!==t.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());var i=this.getMarkers();if(i){var n=i.length-1,o=this.getStyle("marker-start"),r=this.getStyle("marker-mid"),s=this.getStyle("marker-end");if(o.isUrlDefinition()){var a=o.getDefinition(),[l,c]=i[0];a.render(t,l,c)}if(r.isUrlDefinition())for(var h=r.getDefinition(),A=1;A<n;A++){var[u,d]=i[A];h.render(t,u,d)}if(s.isUrlDefinition()){var p=s.getDefinition(),[g,f]=i[n];p.render(t,g,f)}}}static pathM(t){var e=t.getAsCurrentPoint();return t.start=t.current,{point:e}}pathM(t,e){var{pathParser:i}=this,{point:n}=Dft.pathM(i),{x:o,y:r}=n;i.addMarker(n),e.addPoint(o,r),t&&t.moveTo(o,r)}static pathL(t){var{current:e}=t;return{current:e,point:t.getAsCurrentPoint()}}pathL(t,e){var{pathParser:i}=this,{current:n,point:o}=Dft.pathL(i),{x:r,y:s}=o;i.addMarker(o,n),e.addPoint(r,s),t&&t.lineTo(r,s)}static pathH(t){var{current:e,command:i}=t,n=new pft((i.relative?e.x:0)+i.x,e.y);return t.current=n,{current:e,point:n}}pathH(t,e){var{pathParser:i}=this,{current:n,point:o}=Dft.pathH(i),{x:r,y:s}=o;i.addMarker(o,n),e.addPoint(r,s),t&&t.lineTo(r,s)}static pathV(t){var{current:e,command:i}=t,n=new pft(e.x,(i.relative?e.y:0)+i.y);return t.current=n,{current:e,point:n}}pathV(t,e){var{pathParser:i}=this,{current:n,point:o}=Dft.pathV(i),{x:r,y:s}=o;i.addMarker(o,n),e.addPoint(r,s),t&&t.lineTo(r,s)}static pathC(t){var{current:e}=t;return{current:e,point:t.getPoint("x1","y1"),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}}pathC(t,e){var{pathParser:i}=this,{current:n,point:o,controlPoint:r,currentPoint:s}=Dft.pathC(i);i.addMarker(s,r,o),e.addBezierCurve(n.x,n.y,o.x,o.y,r.x,r.y,s.x,s.y),t&&t.bezierCurveTo(o.x,o.y,r.x,r.y,s.x,s.y)}static pathS(t){var{current:e}=t;return{current:e,point:t.getReflectedControlPoint(),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}}pathS(t,e){var{pathParser:i}=this,{current:n,point:o,controlPoint:r,currentPoint:s}=Dft.pathS(i);i.addMarker(s,r,o),e.addBezierCurve(n.x,n.y,o.x,o.y,r.x,r.y,s.x,s.y),t&&t.bezierCurveTo(o.x,o.y,r.x,r.y,s.x,s.y)}static pathQ(t){var{current:e}=t;return{current:e,controlPoint:t.getAsControlPoint("x1","y1"),currentPoint:t.getAsCurrentPoint()}}pathQ(t,e){var{pathParser:i}=this,{current:n,controlPoint:o,currentPoint:r}=Dft.pathQ(i);i.addMarker(r,o,o),e.addQuadraticCurve(n.x,n.y,o.x,o.y,r.x,r.y),t&&t.quadraticCurveTo(o.x,o.y,r.x,r.y)}static pathT(t){var{current:e}=t,i=t.getReflectedControlPoint();return t.control=i,{current:e,controlPoint:i,currentPoint:t.getAsCurrentPoint()}}pathT(t,e){var{pathParser:i}=this,{current:n,controlPoint:o,currentPoint:r}=Dft.pathT(i);i.addMarker(r,o,o),e.addQuadraticCurve(n.x,n.y,o.x,o.y,r.x,r.y),t&&t.quadraticCurveTo(o.x,o.y,r.x,r.y)}static pathA(t){var{current:e,command:i}=t,{rX:n,rY:o,xRot:r,lArcFlag:s,sweepFlag:a}=i,l=r*(Math.PI/180),c=t.getAsCurrentPoint(),h=new pft(Math.cos(l)*(e.x-c.x)/2+Math.sin(l)*(e.y-c.y)/2,-Math.sin(l)*(e.x-c.x)/2+Math.cos(l)*(e.y-c.y)/2),A=Math.pow(h.x,2)/Math.pow(n,2)+Math.pow(h.y,2)/Math.pow(o,2);A>1&&(n*=Math.sqrt(A),o*=Math.sqrt(A));var u=(s===a?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(o,2)-Math.pow(n,2)*Math.pow(h.y,2)-Math.pow(o,2)*Math.pow(h.x,2))/(Math.pow(n,2)*Math.pow(h.y,2)+Math.pow(o,2)*Math.pow(h.x,2)));isNaN(u)&&(u=0);var d=new pft(u*n*h.y/o,u*-o*h.x/n),p=new pft((e.x+c.x)/2+Math.cos(l)*d.x-Math.sin(l)*d.y,(e.y+c.y)/2+Math.sin(l)*d.x+Math.cos(l)*d.y),g=oft([1,0],[(h.x-d.x)/n,(h.y-d.y)/o]),f=[(h.x-d.x)/n,(h.y-d.y)/o],m=[(-h.x-d.x)/n,(-h.y-d.y)/o],b=oft(f,m);return nft(f,m)<=-1&&(b=Math.PI),nft(f,m)>=1&&(b=0),{currentPoint:c,rX:n,rY:o,sweepFlag:a,xAxisRotation:l,centp:p,a1:g,ad:b}}pathA(t,e){var{pathParser:i}=this,{currentPoint:n,rX:o,rY:r,sweepFlag:s,xAxisRotation:a,centp:l,a1:c,ad:h}=Dft.pathA(i),A=1-s?1:-1,u=c+A*(h/2),d=new pft(l.x+o*Math.cos(u),l.y+r*Math.sin(u));if(i.addMarkerAngle(d,u-A*Math.PI/2),i.addMarkerAngle(n,u-A*Math.PI),e.addPoint(n.x,n.y),t&&!isNaN(c)&&!isNaN(h)){var p=o>r?o:r,g=o>r?1:o/r,f=o>r?r/o:1;t.translate(l.x,l.y),t.rotate(a),t.scale(g,f),t.arc(0,0,p,c,c+h,Boolean(1-s)),t.scale(1/g,1/f),t.rotate(-a),t.translate(-l.x,-l.y)}}static pathZ(t){t.current=t.start}pathZ(t,e){Dft.pathZ(this.pathParser),t&&e.x1!==e.x2&&e.y1!==e.y2&&t.closePath()}}class Qft extends Dft{constructor(t,e,i){super(t,e,i),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Hft extends Uft{constructor(t,e,i){super(t,e,new.target===Hft||i),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(t,e);var i=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();i&&(t.textBaseline=i)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if("text"!==this.type)return this.getTElementBoundingBox(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);var e=null;return this.children.forEach(((i,n)=>{var o=this.getChildBoundingBox(t,this,this,n);e?e.addBoundingBox(o):e=o})),e}getFontSize(){var{document:t,parent:e}=this,i=Rft.parse(t.ctx.font).fontSize;return e.getStyle("font-size").getNumber(i)}getTElementBoundingBox(t){var e=this.getFontSize();return new Nft(this.x,this.y-e,this.x+this.measureText(t),this.y)}getGlyph(t,e,i){var n=e[i],o=null;if(t.isArabic){var r=e.length,s=e[i-1],a=e[i+1],l="isolated";if((0===i||" "===s)&&i<r-1&&" "!==a&&(l="terminal"),i>0&&" "!==s&&i<r-1&&" "!==a&&(l="medial"),i>0&&" "!==s&&(i===r-1||" "===a)&&(l="initial"),void 0!==t.glyphs[n]){var c=t.glyphs[n];o=c instanceof Qft?c:c[l]}}else o=t.glyphs[n];return o||(o=t.missingGlyph),o}getText(){return""}getTextFromNode(t){var e=t||this.node,i=Array.from(e.parentNode.childNodes),n=i.indexOf(e),o=i.length-1,r=Ugt(e.textContent||"");return 0===n&&(r=Dgt(r)),n===o&&(r=Qgt(r)),r}renderChildren(t){if("text"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach(((e,i)=>{this.renderChild(t,this,this,i)}));var{mouse:e}=this.document.screen;e.isWorking()&&e.checkBoundingBox(this,this.getBoundingBox(t))}else this.renderTElementChildren(t)}renderTElementChildren(t){var{document:e,parent:i}=this,n=this.getText(),o=i.getStyle("font-family").getDefinition();if(o)for(var{unitsPerEm:r}=o.fontFace,s=Rft.parse(e.ctx.font),a=i.getStyle("font-size").getNumber(s.fontSize),l=i.getStyle("font-style").getString(s.fontStyle),c=a/r,h=o.isRTL?n.split("").reverse().join(""):n,A=Hgt(i.getAttribute("dx").getString()),u=h.length,d=0;d<u;d++){var p=this.getGlyph(o,h,d);t.translate(this.x,this.y),t.scale(c,-c);var g=t.lineWidth;t.lineWidth=t.lineWidth*r/a,"italic"===l&&t.transform(1,0,.4,1,0,0),p.render(t),"italic"===l&&t.transform(1,0,-.4,1,0,0),t.lineWidth=g,t.scale(1/c,-1/c),t.translate(-this.x,-this.y),this.x+=a*(p.horizAdvX||o.horizAdvX)/r,void 0===A[d]||isNaN(A[d])||(this.x+=A[d])}else{var{x:f,y:m}=this;t.fillStyle&&t.fillText(n,f,m),t.strokeStyle&&t.strokeText(n,f,m)}}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var t=this.leafTexts[this.textChunkStart],e=t.getStyle("text-anchor").getString("start"),i=0;i="start"===e?t.x-this.minX:"end"===e?t.x-this.maxX:t.x-(this.minX+this.maxX)/2;for(var n=this.textChunkStart;n<this.leafTexts.length;n++)this.leafTexts[n].x+=i;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(t){this.children.forEach(((e,i)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,i)})),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,e,i,n){var o=i.children[n];o.children.length>0?o.children.forEach(((i,n)=>{e.adjustChildCoordinatesRecursiveCore(t,e,o,n)})):this.adjustChildCoordinates(t,e,i,n)}adjustChildCoordinates(t,e,i,n){var o=i.children[n];if("function"!=typeof o.measureText)return o;t.save(),o.setContext(t,!0);var r=o.getAttribute("x"),s=o.getAttribute("y"),a=o.getAttribute("dx"),l=o.getAttribute("dy"),c=o.getStyle("font-family").getDefinition(),h=Boolean(c)&&c.isRTL;0===n&&(r.hasValue()||r.setValue(o.getInheritedAttribute("x")),s.hasValue()||s.setValue(o.getInheritedAttribute("y")),a.hasValue()||a.setValue(o.getInheritedAttribute("dx")),l.hasValue()||l.setValue(o.getInheritedAttribute("dy")));var A=o.measureText(t);return h&&(e.x-=A),r.hasValue()?(e.applyAnchoring(),o.x=r.getPixels("x"),a.hasValue()&&(o.x+=a.getPixels("x"))):(a.hasValue()&&(e.x+=a.getPixels("x")),o.x=e.x),e.x=o.x,h||(e.x+=A),s.hasValue()?(o.y=s.getPixels("y"),l.hasValue()&&(o.y+=l.getPixels("y"))):(l.hasValue()&&(e.y+=l.getPixels("y")),o.y=e.y),e.y=o.y,e.leafTexts.push(o),e.minX=Math.min(e.minX,o.x,o.x+A),e.maxX=Math.max(e.maxX,o.x,o.x+A),o.clearContext(t),t.restore(),o}getChildBoundingBox(t,e,i,n){var o=i.children[n];if("function"!=typeof o.getBoundingBox)return null;var r=o.getBoundingBox(t);return r?(o.children.forEach(((i,n)=>{var s=e.getChildBoundingBox(t,e,o,n);r.addBoundingBox(s)})),r):null}renderChild(t,e,i,n){var o=i.children[n];o.render(t),o.children.forEach(((i,n)=>{e.renderChild(t,e,o,n)}))}measureText(t){var{measureCache:e}=this;if(~e)return e;var i=this.getText(),n=this.measureTargetText(t,i);return this.measureCache=n,n}measureTargetText(t,e){if(!e.length)return 0;var{parent:i}=this,n=i.getStyle("font-family").getDefinition();if(n){for(var o=this.getFontSize(),r=n.isRTL?e.split("").reverse().join(""):e,s=Hgt(i.getAttribute("dx").getString()),a=r.length,l=0,c=0;c<a;c++){l+=(this.getGlyph(n,r,c).horizAdvX||n.horizAdvX)*o/n.fontFace.unitsPerEm,void 0===s[c]||isNaN(s[c])||(l+=s[c])}return l}if(!t.measureText)return 10*e.length;t.save(),this.setContext(t,!0);var{width:h}=t.measureText(e);return this.clearContext(t),t.restore(),h}getInheritedAttribute(t){for(var e=this;e instanceof Hft&&e.isFirstChild();){var i=e.parent.getAttribute(t);if(i.hasValue(!0))return i.getValue("0");e=e.parent}return null}}class zft extends Hft{constructor(t,e,i){super(t,e,new.target===zft||i),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class jft extends zft{constructor(){super(...arguments),this.type="textNode"}}let Gft=class extends Uft{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(t){var e,{document:i}=this,{screen:n,window:o}=i,r=t.canvas;if(n.setDefaults(t),r.style&&void 0!==t.font&&o&&void 0!==o.getComputedStyle){t.font=o.getComputedStyle(r).getPropertyValue("font");var s=new uft(i,"fontSize",Rft.parse(t.font).fontSize);s.hasValue()&&(i.rootEmSize=s.getPixels("y"),i.emSize=i.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:a,height:l}=n.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var c=this.getAttribute("refX"),h=this.getAttribute("refY"),A=this.getAttribute("viewBox"),u=A.hasValue()?Hgt(A.getString()):null,d=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),p=0,g=0,f=0,m=0;u&&(p=u[0],g=u[1]),this.root||(a=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y"),"marker"===this.type&&(f=p,m=g,p=0,g=0)),n.viewPort.setCurrent(a,l),!this.node||this.parent&&"foreignObject"!==(null===(e=this.node.parentNode)||void 0===e?void 0:e.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(t),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),u&&(a=u[2],l=u[3]),i.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:n.viewPort.width,desiredWidth:a,height:n.viewPort.height,desiredHeight:l,minX:p,minY:g,refX:c.getValue(),refY:h.getValue(),clip:d,clipX:f,clipY:m}),u&&(n.viewPort.removeCurrent(),n.viewPort.setCurrent(a,l))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}resize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getAttribute("width",!0),o=this.getAttribute("height",!0),r=this.getAttribute("viewBox"),s=this.getAttribute("style"),a=n.getNumber(0),l=o.getNumber(0);if(i)if("string"==typeof i)this.getAttribute("preserveAspectRatio",!0).setValue(i);else{var c=this.getAttribute("preserveAspectRatio");c.hasValue()&&c.setValue(c.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(n.setValue(t),o.setValue(e),r.hasValue()||r.setValue("0 0 ".concat(a||t," ").concat(l||e)),s.hasValue()){var h=this.getStyle("width"),A=this.getStyle("height");h.hasValue()&&h.setValue("".concat(t,"px")),A.hasValue()&&A.setValue("".concat(e,"px"))}}};class Vft extends Dft{constructor(){super(...arguments),this.type="rect"}path(t){var e=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),n=this.getStyle("width",!1,!0).getPixels("x"),o=this.getStyle("height",!1,!0).getPixels("y"),r=this.getAttribute("rx"),s=this.getAttribute("ry"),a=r.getPixels("x"),l=s.getPixels("y");if(r.hasValue()&&!s.hasValue()&&(l=a),s.hasValue()&&!r.hasValue()&&(a=l),a=Math.min(a,n/2),l=Math.min(l,o/2),t){var c=(Math.sqrt(2)-1)/3*4;t.beginPath(),o>0&&n>0&&(t.moveTo(e+a,i),t.lineTo(e+n-a,i),t.bezierCurveTo(e+n-a+c*a,i,e+n,i+l-c*l,e+n,i+l),t.lineTo(e+n,i+o-l),t.bezierCurveTo(e+n,i+o-l+c*l,e+n-a+c*a,i+o,e+n-a,i+o),t.lineTo(e+a,i+o),t.bezierCurveTo(e+a-c*a,i+o,e,i+o-l+c*l,e,i+o-l),t.lineTo(e,i+l),t.bezierCurveTo(e,i+l-c*l,e+a-c*a,i,e+a,i),t.closePath())}return new Nft(e,i,e+n,i+o)}getMarkers(){return null}}class Kft extends Dft{constructor(){super(...arguments),this.type="circle"}path(t){var e=this.getAttribute("cx").getPixels("x"),i=this.getAttribute("cy").getPixels("y"),n=this.getAttribute("r").getPixels();return t&&n>0&&(t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.closePath()),new Nft(e-n,i-n,e+n,i+n)}getMarkers(){return null}}class qft extends Dft{constructor(){super(...arguments),this.type="ellipse"}path(t){var e=(Math.sqrt(2)-1)/3*4,i=this.getAttribute("rx").getPixels("x"),n=this.getAttribute("ry").getPixels("y"),o=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y");return t&&i>0&&n>0&&(t.beginPath(),t.moveTo(o+i,r),t.bezierCurveTo(o+i,r+e*n,o+e*i,r+n,o,r+n),t.bezierCurveTo(o-e*i,r+n,o-i,r+e*n,o-i,r),t.bezierCurveTo(o-i,r-e*n,o-e*i,r-n,o,r-n),t.bezierCurveTo(o+e*i,r-n,o+i,r-e*n,o+i,r),t.closePath()),new Nft(o-i,r-n,o+i,r+n)}getMarkers(){return null}}class Wft extends Dft{constructor(){super(...arguments),this.type="line"}getPoints(){return[new pft(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new pft(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){var[{x:e,y:i},{x:n,y:o}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(e,i),t.lineTo(n,o)),new Nft(e,i,n,o)}getMarkers(){var[t,e]=this.getPoints(),i=t.angleTo(e);return[[t,i],[e,i]]}}class Xft extends Dft{constructor(t,e,i){super(t,e,i),this.type="polyline",this.points=[],this.points=pft.parsePath(this.getAttribute("points").getString())}path(t){var{points:e}=this,[{x:i,y:n}]=e,o=new Nft(i,n);return t&&(t.beginPath(),t.moveTo(i,n)),e.forEach((e=>{var{x:i,y:n}=e;o.addPoint(i,n),t&&t.lineTo(i,n)})),o}getMarkers(){var{points:t}=this,e=t.length-1,i=[];return t.forEach(((n,o)=>{o!==e&&i.push([n,n.angleTo(t[o+1])])})),i.length>0&&i.push([t[t.length-1],i[i.length-1][1]]),i}}class $ft extends Xft{constructor(){super(...arguments),this.type="polygon"}path(t){var e=super.path(t),[{x:i,y:n}]=this.points;return t&&(t.lineTo(i,n),t.closePath()),e}}class Yft extends Tft{constructor(){super(...arguments),this.type="pattern"}createPattern(t,e,i){var n=this.getStyle("width").getPixels("x",!0),o=this.getStyle("height").getPixels("y",!0),r=new Gft(this.document,null);r.attributes.viewBox=new uft(this.document,"viewBox",this.getAttribute("viewBox").getValue()),r.attributes.width=new uft(this.document,"width","".concat(n,"px")),r.attributes.height=new uft(this.document,"height","".concat(o,"px")),r.attributes.transform=new uft(this.document,"transform",this.getAttribute("patternTransform").getValue()),r.children=this.children;var s=this.document.createCanvas(n,o),a=s.getContext("2d"),l=this.getAttribute("x"),c=this.getAttribute("y");l.hasValue()&&c.hasValue()&&a.translate(l.getPixels("x",!0),c.getPixels("y",!0)),i.hasValue()?this.styles["fill-opacity"]=i:Reflect.deleteProperty(this.styles,"fill-opacity");for(var h=-1;h<=1;h++)for(var A=-1;A<=1;A++)a.save(),r.attributes.x=new uft(this.document,"x",h*s.width),r.attributes.y=new uft(this.document,"y",A*s.height),r.render(a),a.restore();return t.createPattern(s,"repeat")}}class Zft extends Tft{constructor(){super(...arguments),this.type="marker"}render(t,e,i){if(e){var{x:n,y:o}=e,r=this.getAttribute("orient").getString("auto"),s=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(n,o),"auto"===r&&t.rotate(i),"strokeWidth"===s&&t.scale(t.lineWidth,t.lineWidth),t.save();var a=new Gft(this.document,null);a.type=this.type,a.attributes.viewBox=new uft(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.refX=new uft(this.document,"refX",this.getAttribute("refX").getValue()),a.attributes.refY=new uft(this.document,"refY",this.getAttribute("refY").getValue()),a.attributes.width=new uft(this.document,"width",this.getAttribute("markerWidth").getValue()),a.attributes.height=new uft(this.document,"height",this.getAttribute("markerHeight").getValue()),a.attributes.overflow=new uft(this.document,"overflow",this.getAttribute("overflow").getValue()),a.attributes.fill=new uft(this.document,"fill",this.getAttribute("fill").getColor("black")),a.attributes.stroke=new uft(this.document,"stroke",this.getAttribute("stroke").getValue("none")),a.children=this.children,a.render(t),t.restore(),"strokeWidth"===s&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"===r&&t.rotate(-i),t.translate(-n,-o)}}}class Jft extends Tft{constructor(){super(...arguments),this.type="defs"}render(){}}class tmt extends Uft{constructor(){super(...arguments),this.type="g"}getBoundingBox(t){var e=new Nft;return this.children.forEach((i=>{e.addBoundingBox(i.getBoundingBox(t))})),e}}class emt extends Tft{constructor(t,e,i){super(t,e,i),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:n,children:o}=this;o.forEach((t=>{"stop"===t.type&&n.push(t)}))}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,e,i){var n=this;this.getHrefAttribute().hasValue()&&(n=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(n));var{stops:o}=n,r=this.getGradient(t,e);if(!r)return this.addParentOpacity(i,o[o.length-1].color);if(o.forEach((t=>{r.addColorStop(t.offset,this.addParentOpacity(i,t.color))})),this.getAttribute("gradientTransform").hasValue()){var{document:s}=this,{MAX_VIRTUAL_PIXELS:a,viewPort:l}=s.screen,[c]=l.viewPorts,h=new Vft(s,null);h.attributes.x=new uft(s,"x",-a/3),h.attributes.y=new uft(s,"y",-a/3),h.attributes.width=new uft(s,"width",a),h.attributes.height=new uft(s,"height",a);var A=new tmt(s,null);A.attributes.transform=new uft(s,"transform",this.getAttribute("gradientTransform").getValue()),A.children=[h];var u=new Gft(s,null);u.attributes.x=new uft(s,"x",0),u.attributes.y=new uft(s,"y",0),u.attributes.width=new uft(s,"width",c.width),u.attributes.height=new uft(s,"height",c.height),u.children=[A];var d=s.createCanvas(c.width,c.height),p=d.getContext("2d");return p.fillStyle=r,u.render(p),p.createPattern(d,"no-repeat")}return r}inheritStopContainer(t){this.attributesToInherit.forEach((e=>{!this.getAttribute(e).hasValue()&&t.getAttribute(e).hasValue()&&this.getAttribute(e,!0).setValue(t.getAttribute(e).getValue())}))}addParentOpacity(t,e){return t.hasValue()?new uft(this.document,"color",e).addOpacity(t).getColor():e}}class imt extends emt{constructor(t,e,i){super(t,e,i),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(t,e){var i="objectBoundingBox"===this.getGradientUnits(),n=i?e.getBoundingBox(t):null;if(i&&!n)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var o=i?n.x+n.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),r=i?n.y+n.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),s=i?n.x+n.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),a=i?n.y+n.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return o===s&&r===a?null:t.createLinearGradient(o,r,s,a)}}class nmt extends emt{constructor(t,e,i){super(t,e,i),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(t,e){var i="objectBoundingBox"===this.getGradientUnits(),n=e.getBoundingBox(t);if(i&&!n)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var o=i?n.x+n.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),r=i?n.y+n.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),s=o,a=r;this.getAttribute("fx").hasValue()&&(s=i?n.x+n.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(a=i?n.y+n.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var l=i?(n.width+n.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),c=this.getAttribute("fr").getPixels();return t.createRadialGradient(s,a,c,o,r,l)}}class omt extends Tft{constructor(t,e,i){super(t,e,i),this.type="stop";var n=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),o=this.getStyle("stop-opacity"),r=this.getStyle("stop-color",!0);""===r.getString()&&r.setValue("#000"),o.hasValue()&&(r=r.addOpacity(o)),this.offset=n,this.color=r.getColor()}}class rmt extends Tft{constructor(t,e,i){super(t,e,i),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new uft(t,"values",null);var n=this.getAttribute("values");n.hasValue()&&this.values.setValue(n.getString().split(";"))}getProperty(){var t=this.getAttribute("attributeType").getString(),e=this.getAttribute("attributeName").getString();return"CSS"===t?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)}calcValue(){var{initialUnits:t}=this,{progress:e,from:i,to:n}=this.getProgress(),o=i.getNumber()+(n.getNumber()-i.getNumber())*e;return"%"===t&&(o*=100),"".concat(o).concat(t)}update(t){var{parent:e}=this,i=this.getProperty();if(this.initialValue||(this.initialValue=i.getString(),this.initialUnits=i.getUnits()),this.duration>this.maxDuration){var n=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==n||this.frozen){if("remove"===n&&!this.removed)return this.removed=!0,i.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,e.animationFrozen=!0,e.animationFrozenValue=i.getString();return!1}this.duration+=t;var o=!1;if(this.begin<this.duration){var r=this.calcValue(),s=this.getAttribute("type");if(s.hasValue()){var a=s.getString();r="".concat(a,"(").concat(r,")")}i.setValue(r),o=!0}return o}getProgress(){var{document:t,values:e}=this,i={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(e.hasValue()){var n=i.progress*(e.getValue().length-1),o=Math.floor(n),r=Math.ceil(n);i.from=new uft(t,"from",parseFloat(e.getValue()[o])),i.to=new uft(t,"to",parseFloat(e.getValue()[r])),i.progress=(n-o)/(r-o)}else i.from=this.from,i.to=this.to;return i}}class smt extends rmt{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:t,from:e,to:i}=this.getProgress(),n=new Mpt(e.getColor()),o=new Mpt(i.getColor());if(n.ok&&o.ok){var r=n.r+(o.r-n.r)*t,s=n.g+(o.g-n.g)*t,a=n.b+(o.b-n.b)*t;return"rgb(".concat(Math.floor(r),", ").concat(Math.floor(s),", ").concat(Math.floor(a),")")}return this.getAttribute("from").getColor()}}class amt extends rmt{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:t,from:e,to:i}=this.getProgress(),n=Hgt(e.getString()),o=Hgt(i.getString());return n.map(((e,i)=>e+(o[i]-e)*t)).join(" ")}}class lmt extends Tft{constructor(t,e,i){super(t,e,i),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:n}=t,{children:o}=this;for(var r of o)switch(r.type){case"font-face":this.fontFace=r;var s=r.getStyle("font-family");s.hasValue()&&(n[s.getString()]=this);break;case"missing-glyph":this.missingGlyph=r;break;case"glyph":var a=r;a.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[a.unicode]&&(this.glyphs[a.unicode]={}),this.glyphs[a.unicode][a.arabicForm]=a):this.glyphs[a.unicode]=a}}render(){}}class cmt extends Tft{constructor(t,e,i){super(t,e,i),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class hmt extends Dft{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Amt extends Hft{constructor(){super(...arguments),this.type="tref"}getText(){var t=this.getHrefAttribute().getDefinition();if(t){var e=t.children[0];if(e)return e.getText()}return""}}class umt extends Hft{constructor(t,e,i){super(t,e,i),this.type="a";var{childNodes:n}=e,o=n[0],r=n.length>0&&Array.from(n).every((t=>3===t.nodeType));this.hasText=r,this.text=r?this.getTextFromNode(o):""}getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);var{document:e,x:i,y:n}=this,{mouse:o}=e.screen,r=new uft(e,"fontSize",Rft.parse(e.ctx.font).fontSize);o.isWorking()&&o.checkBoundingBox(this,new Nft(i,n-r.getPixels("y"),i+this.measureText(t),n))}else if(this.children.length>0){var s=new tmt(this.document,null);s.children=this.children,s.parent=this,s.render(t)}}onClick(){var{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}function dmt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function pmt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?dmt(Object(i),!0).forEach((function(e){fdt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):dmt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}class gmt extends Hft{constructor(t,e,i){super(t,e,i),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var n=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(n)}getText(){return this.text}path(t){var{dataArray:e}=this;t&&t.beginPath(),e.forEach((e=>{var{type:i,points:n}=e;switch(i){case Oft.LINE_TO:t&&t.lineTo(n[0],n[1]);break;case Oft.MOVE_TO:t&&t.moveTo(n[0],n[1]);break;case Oft.CURVE_TO:t&&t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case Oft.QUAD_TO:t&&t.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case Oft.ARC:var[o,r,s,a,l,c,h,A]=n,u=s>a?s:a,d=s>a?1:s/a,p=s>a?a/s:1;t&&(t.translate(o,r),t.rotate(h),t.scale(d,p),t.arc(0,0,u,l,l+c,Boolean(1-A)),t.scale(1/d,1/p),t.rotate(-h),t.translate(-o,-r));break;case Oft.CLOSE_PATH:t&&t.closePath()}}))}renderChildren(t){this.setTextData(t),t.save();var e=this.parent.getStyle("text-decoration").getString(),i=this.getFontSize(),{glyphInfo:n}=this,o=t.fillStyle;"underline"===e&&t.beginPath(),n.forEach(((n,o)=>{var{p0:r,p1:s,rotation:a,text:l}=n;t.save(),t.translate(r.x,r.y),t.rotate(a),t.fillStyle&&t.fillText(l,0,0),t.strokeStyle&&t.strokeText(l,0,0),t.restore(),"underline"===e&&(0===o&&t.moveTo(r.x,r.y+i/8),t.lineTo(s.x,s.y+i/5))})),"underline"===e&&(t.lineWidth=i/20,t.strokeStyle=o,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,e,i,n,o,r,s,a,l){var c=r,h=this.measureText(t,a);" "===a&&"justify"===e&&i<n&&(h+=(n-i)/o),l>-1&&(c+=this.getLetterSpacingAt(l));var A=this.textHeight/20,u=this.getEquidistantPointOnPath(c,A,0),d=this.getEquidistantPointOnPath(c+h,A,0),p={p0:u,p1:d},g=u&&d?Math.atan2(d.y-u.y,d.x-u.x):0;if(s){var f=Math.cos(Math.PI/2+g)*s,m=Math.cos(-g)*s;p.p0=pmt(pmt({},u),{},{x:u.x+f,y:u.y+m}),p.p1=pmt(pmt({},d),{},{x:d.x+f,y:d.y+m})}return{offset:c+=h,segment:p,rotation:g}}measureText(t,e){var{measuresCache:i}=this,n=e||this.getText();if(i.has(n))return i.get(n);var o=this.measureTargetText(t,n);return i.set(n,o),o}setTextData(t){if(!this.glyphInfo){var e=this.getText(),i=e.split(""),n=e.split(" ").length-1,o=this.parent.getAttribute("dx").split().map((t=>t.getPixels("x"))),r=this.parent.getAttribute("dy").getPixels("y"),s=this.parent.getStyle("text-anchor").getString("start"),a=this.getStyle("letter-spacing"),l=this.parent.getStyle("letter-spacing"),c=0;a.hasValue()&&"inherit"!==a.getValue()?a.hasValue()&&"initial"!==a.getValue()&&"unset"!==a.getValue()&&(c=a.getPixels()):c=l.getPixels();var h=[],A=e.length;this.letterSpacingCache=h;for(var u=0;u<A;u++)h.push(void 0!==o[u]?o[u]:c);var d=h.reduce(((t,e,i)=>0===i?0:t+e||0),0),p=this.measureText(t),g=Math.max(p+d,0);this.textWidth=p,this.textHeight=this.getFontSize(),this.glyphInfo=[];var f=this.getPathLength(),m=this.getStyle("startOffset").getNumber(0)*f,b=0;"middle"!==s&&"center"!==s||(b=-g/2),"end"!==s&&"right"!==s||(b=-g),b+=m,i.forEach(((e,o)=>{var{offset:a,segment:l,rotation:c}=this.findSegmentToFitChar(t,s,g,f,n,b,r,e,o);b=a,l.p0&&l.p1&&this.glyphInfo.push({text:i[o],p0:l.p0,p1:l.p1,rotation:c})}))}}parsePathData(t){if(this.pathLength=-1,!t)return[];var e=[],{pathParser:i}=t;for(i.reset();!i.isEnd();){var{current:n}=i,o=n?n.x:0,r=n?n.y:0,s=i.next(),a=s.type,l=[];switch(s.type){case Oft.MOVE_TO:this.pathM(i,l);break;case Oft.LINE_TO:a=this.pathL(i,l);break;case Oft.HORIZ_LINE_TO:a=this.pathH(i,l);break;case Oft.VERT_LINE_TO:a=this.pathV(i,l);break;case Oft.CURVE_TO:this.pathC(i,l);break;case Oft.SMOOTH_CURVE_TO:a=this.pathS(i,l);break;case Oft.QUAD_TO:this.pathQ(i,l);break;case Oft.SMOOTH_QUAD_TO:a=this.pathT(i,l);break;case Oft.ARC:l=this.pathA(i);break;case Oft.CLOSE_PATH:Dft.pathZ(i)}s.type!==Oft.CLOSE_PATH?e.push({type:a,points:l,start:{x:o,y:r},pathLength:this.calcLength(o,r,a,l)}):e.push({type:Oft.CLOSE_PATH,points:[],pathLength:0})}return e}pathM(t,e){var{x:i,y:n}=Dft.pathM(t).point;e.push(i,n)}pathL(t,e){var{x:i,y:n}=Dft.pathL(t).point;return e.push(i,n),Oft.LINE_TO}pathH(t,e){var{x:i,y:n}=Dft.pathH(t).point;return e.push(i,n),Oft.LINE_TO}pathV(t,e){var{x:i,y:n}=Dft.pathV(t).point;return e.push(i,n),Oft.LINE_TO}pathC(t,e){var{point:i,controlPoint:n,currentPoint:o}=Dft.pathC(t);e.push(i.x,i.y,n.x,n.y,o.x,o.y)}pathS(t,e){var{point:i,controlPoint:n,currentPoint:o}=Dft.pathS(t);return e.push(i.x,i.y,n.x,n.y,o.x,o.y),Oft.CURVE_TO}pathQ(t,e){var{controlPoint:i,currentPoint:n}=Dft.pathQ(t);e.push(i.x,i.y,n.x,n.y)}pathT(t,e){var{controlPoint:i,currentPoint:n}=Dft.pathT(t);return e.push(i.x,i.y,n.x,n.y),Oft.QUAD_TO}pathA(t){var{rX:e,rY:i,sweepFlag:n,xAxisRotation:o,centp:r,a1:s,ad:a}=Dft.pathA(t);return 0===n&&a>0&&(a-=2*Math.PI),1===n&&a<0&&(a+=2*Math.PI),[r.x,r.y,e,i,s,a,o,n]}calcLength(t,e,i,n){var o=0,r=null,s=null,a=0;switch(i){case Oft.LINE_TO:return this.getLineLength(t,e,n[0],n[1]);case Oft.CURVE_TO:for(o=0,r=this.getPointOnCubicBezier(0,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),a=.01;a<=1;a+=.01)s=this.getPointOnCubicBezier(a,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),o+=this.getLineLength(r.x,r.y,s.x,s.y),r=s;return o;case Oft.QUAD_TO:for(o=0,r=this.getPointOnQuadraticBezier(0,t,e,n[0],n[1],n[2],n[3]),a=.01;a<=1;a+=.01)s=this.getPointOnQuadraticBezier(a,t,e,n[0],n[1],n[2],n[3]),o+=this.getLineLength(r.x,r.y,s.x,s.y),r=s;return o;case Oft.ARC:o=0;var l=n[4],c=n[5],h=n[4]+c,A=Math.PI/180;if(Math.abs(l-h)<A&&(A=Math.abs(l-h)),r=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),c<0)for(a=l-A;a>h;a-=A)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],a,0),o+=this.getLineLength(r.x,r.y,s.x,s.y),r=s;else for(a=l+A;a<h;a+=A)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],a,0),o+=this.getLineLength(r.x,r.y,s.x,s.y),r=s;return s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),o+=this.getLineLength(r.x,r.y,s.x,s.y)}return 0}getPointOnLine(t,e,i,n,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:i,a=(o-i)/(n-e+eft),l=Math.sqrt(t*t/(1+a*a));n<e&&(l*=-1);var c=a*l,h=null;if(n===e)h={x:r,y:s+c};else if((s-i)/(r-e+eft)===a)h={x:r+l,y:s+c};else{var A,u,d=this.getLineLength(e,i,n,o);if(d<eft)return null;var p=(r-e)*(n-e)+(s-i)*(o-i);A=e+(p/=d*d)*(n-e),u=i+p*(o-i);var g=this.getLineLength(r,s,A,u),f=Math.sqrt(t*t-g*g);l=Math.sqrt(f*f/(1+a*a)),n<e&&(l*=-1),h={x:A+l,y:u+(c=a*l)}}return h}getPointOnPath(t){var e=this.getPathLength(),i=0,n=null;if(t<-5e-5||t-5e-5>e)return null;var{dataArray:o}=this;for(var r of o){if(!r||!(r.pathLength<5e-5||i+r.pathLength+5e-5<t)){var s=t-i,a=0;switch(r.type){case Oft.LINE_TO:n=this.getPointOnLine(s,r.start.x,r.start.y,r.points[0],r.points[1],r.start.x,r.start.y);break;case Oft.ARC:var l=r.points[4],c=r.points[5],h=r.points[4]+c;if(a=l+s/r.pathLength*c,c<0&&a<h||c>=0&&a>h)break;n=this.getPointOnEllipticalArc(r.points[0],r.points[1],r.points[2],r.points[3],a,r.points[6]);break;case Oft.CURVE_TO:(a=s/r.pathLength)>1&&(a=1),n=this.getPointOnCubicBezier(a,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3],r.points[4],r.points[5]);break;case Oft.QUAD_TO:(a=s/r.pathLength)>1&&(a=1),n=this.getPointOnQuadraticBezier(a,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3])}if(n)return n;break}i+=r.pathLength}return null}getLineLength(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))}getPathLength(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce(((t,e)=>e.pathLength>0?t+e.pathLength:t),0)),this.pathLength}getPointOnCubicBezier(t,e,i,n,o,r,s,a,l){return{x:a*rft(t)+r*sft(t)+n*aft(t)+e*lft(t),y:l*rft(t)+s*sft(t)+o*aft(t)+i*lft(t)}}getPointOnQuadraticBezier(t,e,i,n,o,r,s){return{x:r*cft(t)+n*hft(t)+e*Aft(t),y:s*cft(t)+o*hft(t)+i*Aft(t)}}getPointOnEllipticalArc(t,e,i,n,o,r){var s=Math.cos(r),a=Math.sin(r),l=i*Math.cos(o),c=n*Math.sin(o);return{x:t+(l*s-c*a),y:e+(l*a+c*s)}}buildEquidistantCache(t,e){var i=this.getPathLength(),n=e||.25,o=t||i/100;if(!this.equidistantCache||this.equidistantCache.step!==o||this.equidistantCache.precision!==n){this.equidistantCache={step:o,precision:n,points:[]};for(var r=0,s=0;s<=i;s+=n){var a=this.getPointOnPath(s),l=this.getPointOnPath(s+n);a&&l&&((r+=this.getLineLength(a.x,a.y,l.x,l.y))>=o&&(this.equidistantCache.points.push({x:a.x,y:a.y,distance:s}),r-=o))}}}getEquidistantPointOnPath(t,e,i){if(this.buildEquidistantCache(e,i),t<0||t-this.getPathLength()>5e-5)return null;var n=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[n]||null}}var fmt=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class mmt extends Uft{constructor(t,e,i){super(t,e,i),this.type="image",this.loaded=!1;var n=this.getHrefAttribute().getString();if(n){var o=n.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(n);t.images.push(this),o?this.loadSvg(n):this.loadImage(n),this.isSvg=o}}loadImage(t){var e=this;return ect((function*(){try{var i=yield e.document.createImage(t);e.image=i}catch(Gr){console.error('Error while loading image "'.concat(t,'":'),Gr)}e.loaded=!0}))()}loadSvg(t){var e=this;return ect((function*(){var i=fmt.exec(t);if(i){var n=i[5];"base64"===i[4]?e.image=atob(n):e.image=decodeURIComponent(n)}else try{var o=yield e.document.fetch(t),r=yield o.text();e.image=r}catch(Gr){console.error('Error while loading image "'.concat(t,'":'),Gr)}e.loaded=!0}))()}renderChildren(t){var{document:e,image:i,loaded:n}=this,o=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");if(n&&i&&s&&a){if(t.save(),t.translate(o,r),this.isSvg){var l=e.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:s,scaleHeight:a});l.document.documentElement.parent=this,l.render()}else{var c=this.image;e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:s,desiredWidth:c.width,height:a,desiredHeight:c.height}),this.loaded&&(void 0===c.complete||c.complete)&&t.drawImage(c,0,0)}t.restore()}}getBoundingBox(){var t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),i=this.getStyle("width").getPixels("x"),n=this.getStyle("height").getPixels("y");return new Nft(t,e,t+i,e+n)}}class bmt extends Uft{constructor(){super(...arguments),this.type="symbol"}render(t){}}class vmt{constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}load(t,e){var i=this;return ect((function*(){try{var{document:n}=i,o=(yield n.canvg.parser.load(e)).getElementsByTagName("font");Array.from(o).forEach((e=>{var i=n.createElement(e);n.definitions[t]=i}))}catch(Gr){console.error('Error while loading font "'.concat(e,'":'),Gr)}i.loaded=!0}))()}}class ymt extends Tft{constructor(t,e,i){super(t,e,i),this.type="style",Ugt(Array.from(e.childNodes).map((t=>t.textContent)).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach((e=>{var i=e.trim();if(i){var n=i.split("{"),o=n[0].split(","),r=n[1].split(";");o.forEach((e=>{var i=e.trim();if(i){var n=t.styles[i]||{};if(r.forEach((e=>{var i=e.indexOf(":"),o=e.substr(0,i).trim(),r=e.substr(i+1,e.length-i).trim();o&&r&&(n[o]=new uft(t,o,r))})),t.styles[i]=n,t.stylesSpecificity[i]=tft(i),"@font-face"===i){var o=n["font-family"].getString().replace(/"|'/g,"");n.src.getString().split(",").forEach((e=>{if(e.indexOf('format("svg")')>0){var i=Ggt(e);i&&new vmt(t).load(o,i)}}))}}}))}}))}}ymt.parseExternalUrl=Ggt;class wmt extends Uft{constructor(){super(...arguments),this.type="use"}setContext(t){super.setContext(t);var e=this.getAttribute("x"),i=this.getAttribute("y");e.hasValue()&&t.translate(e.getPixels("x"),0),i.hasValue()&&t.translate(0,i.getPixels("y"))}path(t){var{element:e}=this;e&&e.path(t)}renderChildren(t){var{document:e,element:i}=this;if(i){var n=i;if("symbol"===i.type&&((n=new Gft(e,null)).attributes.viewBox=new uft(e,"viewBox",i.getAttribute("viewBox").getString()),n.attributes.preserveAspectRatio=new uft(e,"preserveAspectRatio",i.getAttribute("preserveAspectRatio").getString()),n.attributes.overflow=new uft(e,"overflow",i.getAttribute("overflow").getString()),n.children=i.children,i.styles.opacity=new uft(e,"opacity",this.calculateOpacity())),"svg"===n.type){var o=this.getStyle("width",!1,!0),r=this.getStyle("height",!1,!0);o.hasValue()&&(n.attributes.width=new uft(e,"width",o.getString())),r.hasValue()&&(n.attributes.height=new uft(e,"height",r.getString()))}var s=n.parent;n.parent=this,n.render(t),n.parent=s}}getBoundingBox(t){var{element:e}=this;return e?e.getBoundingBox(t):null}elementTransform(){var{document:t,element:e}=this;return Fft.fromElement(t,e)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function xmt(t,e,i,n,o,r){return t[i*n*4+4*e+r]}function _mt(t,e,i,n,o,r,s){t[i*n*4+4*e+r]=s}function Cmt(t,e,i){return t[e]*i}function Bmt(t,e,i,n){return e+Math.cos(t)*i+Math.sin(t)*n}class Smt extends Tft{constructor(t,e,i){super(t,e,i),this.type="feColorMatrix";var n=Hgt(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var o=n[0];n=[.213+.787*o,.715-.715*o,.072-.072*o,0,0,.213-.213*o,.715+.285*o,.072-.072*o,0,0,.213-.213*o,.715-.715*o,.072+.928*o,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var r=n[0]*Math.PI/180;n=[Bmt(r,.213,.787,-.213),Bmt(r,.715,-.715,-.715),Bmt(r,.072,-.072,.928),0,0,Bmt(r,.213,-.213,.143),Bmt(r,.715,.285,.14),Bmt(r,.072,-.072,-.283),0,0,Bmt(r,.213,-.213,-.787),Bmt(r,.715,-.715,.715),Bmt(r,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=n,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(t,e,i,n,o){for(var{includeOpacity:r,matrix:s}=this,a=t.getImageData(0,0,n,o),l=0;l<o;l++)for(var c=0;c<n;c++){var h=xmt(a.data,c,l,n,0,0),A=xmt(a.data,c,l,n,0,1),u=xmt(a.data,c,l,n,0,2),d=xmt(a.data,c,l,n,0,3),p=Cmt(s,0,h)+Cmt(s,1,A)+Cmt(s,2,u)+Cmt(s,3,d)+Cmt(s,4,1),g=Cmt(s,5,h)+Cmt(s,6,A)+Cmt(s,7,u)+Cmt(s,8,d)+Cmt(s,9,1),f=Cmt(s,10,h)+Cmt(s,11,A)+Cmt(s,12,u)+Cmt(s,13,d)+Cmt(s,14,1),m=Cmt(s,15,h)+Cmt(s,16,A)+Cmt(s,17,u)+Cmt(s,18,d)+Cmt(s,19,1);r&&(p=0,g=0,f=0,m*=d/255),_mt(a.data,c,l,n,0,0,p),_mt(a.data,c,l,n,0,1,g),_mt(a.data,c,l,n,0,2,f),_mt(a.data,c,l,n,0,3,m)}t.clearRect(0,0,n,o),t.putImageData(a,0,0)}}class Emt extends Tft{constructor(){super(...arguments),this.type="mask"}apply(t,e){var{document:i}=this,n=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(!r&&!s){var a=new Nft;this.children.forEach((e=>{a.addBoundingBox(e.getBoundingBox(t))})),n=Math.floor(a.x1),o=Math.floor(a.y1),r=Math.floor(a.width),s=Math.floor(a.height)}var l=this.removeStyles(e,Emt.ignoreStyles),c=i.createCanvas(n+r,o+s),h=c.getContext("2d");i.screen.setDefaults(h),this.renderChildren(h),new Smt(i,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(h,0,0,n+r,o+s);var A=i.createCanvas(n+r,o+s),u=A.getContext("2d");i.screen.setDefaults(u),e.render(u),u.globalCompositeOperation="destination-in",u.fillStyle=h.createPattern(c,"no-repeat"),u.fillRect(0,0,n+r,o+s),t.fillStyle=u.createPattern(A,"no-repeat"),t.fillRect(0,0,n+r,o+s),this.restoreStyles(e,l)}render(t){}}Emt.ignoreStyles=["mask","transform","clip-path"];var kmt=()=>{};class Fmt extends Tft{constructor(){super(...arguments),this.type="clipPath"}apply(t){var{document:e}=this,i=Reflect.getPrototypeOf(t),{beginPath:n,closePath:o}=t;i&&(i.beginPath=kmt,i.closePath=kmt),Reflect.apply(n,t,[]),this.children.forEach((n=>{if(void 0!==n.path){var r=void 0!==n.elementTransform?n.elementTransform():null;r||(r=Fft.fromElement(e,n)),r&&r.apply(t),n.path(t),i&&(i.closePath=o),r&&r.unapply(t)}})),Reflect.apply(o,t,[]),t.clip(),i&&(i.beginPath=n,i.closePath=o)}render(t){}}class Tmt extends Tft{constructor(){super(...arguments),this.type="filter"}apply(t,e){var{document:i,children:n}=this,o=e.getBoundingBox(t);if(o){var r=0,s=0;n.forEach((t=>{var e=t.extraFilterDistance||0;r=Math.max(r,e),s=Math.max(s,e)}));var a=Math.floor(o.width),l=Math.floor(o.height),c=a+2*r,h=l+2*s;if(!(c<1||h<1)){var A=Math.floor(o.x),u=Math.floor(o.y),d=this.removeStyles(e,Tmt.ignoreStyles),p=i.createCanvas(c,h),g=p.getContext("2d");i.screen.setDefaults(g),g.translate(-A+r,-u+s),e.render(g),n.forEach((t=>{"function"==typeof t.apply&&t.apply(g,0,0,c,h)})),t.drawImage(p,0,0,c,h,A-r,u-s,c,h),this.restoreStyles(e,d)}}}render(t){}}Tmt.ignoreStyles=["filter","transform","clip-path"];class Lmt extends Tft{constructor(t,e,i){super(t,e,i),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(t,e,i,n,o){}}class Imt extends Tft{constructor(){super(...arguments),this.type="feMorphology"}apply(t,e,i,n,o){}}class Mmt extends Tft{constructor(){super(...arguments),this.type="feComposite"}apply(t,e,i,n,o){}}class Pmt extends Tft{constructor(t,e,i){super(t,e,i),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(t,e,i,n,o){var{document:r,blurRadius:s}=this,a=r.window?r.window.document.body:null,l=t.canvas;l.id=r.getUniqueId(),a&&(l.style.display="none",a.appendChild(l)),Rgt(l,e,i,n,o,s),a&&a.removeChild(l)}}class Rmt extends Tft{constructor(){super(...arguments),this.type="title"}}class Nmt extends Tft{constructor(){super(...arguments),this.type="desc"}}var Omt={svg:Gft,rect:Vft,circle:Kft,ellipse:qft,line:Wft,polyline:Xft,polygon:$ft,path:Dft,pattern:Yft,marker:Zft,defs:Jft,linearGradient:imt,radialGradient:nmt,stop:omt,animate:rmt,animateColor:smt,animateTransform:amt,font:lmt,"font-face":cmt,"missing-glyph":hmt,glyph:Qft,text:Hft,tspan:zft,tref:Amt,a:umt,textPath:gmt,image:mmt,g:tmt,symbol:bmt,style:ymt,use:wmt,mask:Emt,clipPath:Fmt,filter:Tmt,feDropShadow:Lmt,feMorphology:Imt,feComposite:Mmt,feColorMatrix:Smt,feGaussianBlur:Pmt,title:Rmt,desc:Nmt};function Umt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Dmt(){return Dmt=ect((function*(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=document.createElement("img");return e&&(i.crossOrigin="Anonymous"),new Promise(((e,n)=>{i.onload=()=>{e(i)},i.onerror=(t,e,i,o,r)=>{n(r)},i.src=t}))})),Dmt.apply(this,arguments)}let Qmt=class t{constructor(e){var{rootEmSize:i=12,emSize:n=12,createCanvas:o=t.createCanvas,createImage:r=t.createImage,anonymousCrossOrigin:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=e,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=i,this.emSize=n,this.createCanvas=o,this.createImage=this.bindCreateImage(r,s),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(t,e){return"boolean"==typeof e?(i,n)=>t(i,"boolean"==typeof n?n:e):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:t}=this;return t[t.length-1]}set emSize(t){var{emSizeStack:e}=this;e.push(t)}popEmSize(){var{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every((t=>t.loaded))}isFontsLoaded(){return this.fonts.every((t=>t.loaded))}createDocumentElement(t){var e=this.createElement(t.documentElement);return e.root=!0,e.addStylesFromStyleDefinition(),this.documentElement=e,e}createElement(e){var i=e.nodeName.replace(/^[^:]+:/,""),n=t.elementTypes[i];return void 0!==n?new n(this,e):new Lft(this,e)}createTextNode(t){return new jft(this,t)}setViewBox(t){this.screen.setViewBox(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Umt(Object(i),!0).forEach((function(e){fdt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Umt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({document:this},t))}};function Hmt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function zmt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Hmt(Object(i),!0).forEach((function(e){fdt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Hmt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}Qmt.createCanvas=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i},Qmt.createImage=function(t){return Dmt.apply(this,arguments)},Qmt.elementTypes=Omt;class jmt{constructor(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new wft(i),this.screen=new bft(t,i),this.options=i;var n=new Qmt(this,i),o=n.createDocumentElement(e);this.document=n,this.documentElement=o}static from(t,e){var i=arguments;return ect((function*(){var n=i.length>2&&void 0!==i[2]?i[2]:{},o=new wft(n),r=yield o.parse(e);return new jmt(t,r,n)}))()}static fromString(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new wft(i).parseFromString(e);return new jmt(t,n,i)}fork(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return jmt.from(t,e,zmt(zmt({},this.options),i))}forkString(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return jmt.fromString(t,e,zmt(zmt({},this.options),i))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var t=arguments,e=this;return ect((function*(){var i=t.length>0&&void 0!==t[0]?t[0]:{};e.start(zmt({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},i)),yield e.ready(),e.stop()}))()}start(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:e,screen:i,options:n}=this;i.start(e,zmt(zmt({enableRedraw:!0},n),t))}stop(){this.screen.stop()}resize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(t,e,i)}}const Gmt=Object.freeze(Object.defineProperty({__proto__:null,AElement:umt,AnimateColorElement:smt,AnimateElement:rmt,AnimateTransformElement:amt,BoundingBox:Nft,CB1:rft,CB2:sft,CB3:aft,CB4:lft,Canvg:jmt,CircleElement:Kft,ClipPathElement:Fmt,DefsElement:Jft,DescElement:Nmt,Document:Qmt,Element:Tft,EllipseElement:qft,FeColorMatrixElement:Smt,FeCompositeElement:Mmt,FeDropShadowElement:Lmt,FeGaussianBlurElement:Pmt,FeMorphologyElement:Imt,FilterElement:Tmt,Font:Rft,FontElement:lmt,FontFaceElement:cmt,GElement:tmt,GlyphElement:Qft,GradientElement:emt,ImageElement:mmt,LineElement:Wft,LinearGradientElement:imt,MarkerElement:Zft,MaskElement:Emt,Matrix:Bft,MissingGlyphElement:hmt,Mouse:gft,PSEUDO_ZERO:eft,Parser:wft,PathElement:Dft,PathParser:Oft,PatternElement:Yft,Point:pft,PolygonElement:$ft,PolylineElement:Xft,Property:uft,QB1:cft,QB2:hft,QB3:Aft,RadialGradientElement:nmt,RectElement:Vft,RenderedElement:Uft,Rotate:_ft,SVGElement:Gft,SVGFontLoader:vmt,Scale:Cft,Screen:bft,Skew:Sft,SkewX:Eft,SkewY:kft,StopElement:omt,StyleElement:ymt,SymbolElement:bmt,TRefElement:Amt,TSpanElement:zft,TextElement:Hft,TextPathElement:gmt,TitleElement:Rmt,Transform:Fft,Translate:xft,UnknownElement:Lft,UseElement:wmt,ViewPort:dft,compressSpaces:Ugt,default:jmt,getSelectorSpecificity:tft,normalizeAttributeName:jgt,normalizeColor:Vgt,parseExternalUrl:Ggt,presets:Ogt,toNumbers:Hgt,trimLeft:Dgt,trimRight:Qgt,vectorMagnitude:ift,vectorsAngle:oft,vectorsRatio:nft},Symbol.toStringTag,{value:"Module"})),Vmt=((...t)=>{const e=(dr||(dr=xn(ur))).createApp(...t),{mount:i}=e;return e.mount=t=>{const n=function(t){if(v(t)){return document.querySelector(t)}return t}(t);if(!n)return;const o=e._component;b(o)||o.render||o.template||(o.template=n.innerHTML),n.innerHTML="";const r=i(n,!1,function(t){if(t instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&t instanceof MathMLElement)return"mathml"}(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},e})(Dg).use(pg).use(Om).use(R0).component("ion-icon",Mg);Om.isReady().then((()=>{Vmt.mount("#app")}))}}}))}();
