import{d as L,r as m,G as x,s as z,H as N,c as g,w as a,u as e,o as d,b as l,I as y,e as E,f as u,g as S,J as O,K as D,z as G,L as B,M as J,N as H,E as r,P as $,i as A,Q as p,R as F,j as C,h as s,S as U,T as Y,A as V,k as Z,U as Q,V as R,W,X,Y as q,Z as K,$ as ee}from"./index-EAftu-KP.js";import{p as le,_ as ae}from"./_plugin-vue_export-helper-BVrt1EiH.js";const f=I=>(K("data-v-cf8aa8c5"),I=I(),ee(),I),oe=f(()=>s("strong",null,"ID:",-1)),ne=f(()=>s("strong",null,"Tag ID:",-1)),te=f(()=>s("strong",null,"Tag Battery Status:",-1)),se=f(()=>s("strong",null,"Description:",-1)),ue=f(()=>s("strong",null,"Floor:",-1)),re=L({__name:"TabAssets",setup(I){const M=m(""),T=m([]),w=x(()=>T.value.filter(n=>n.name.toLowerCase().includes(M.value.toLowerCase()))),b=m(!1),t=m(null);function P(n){t.value=n,b.value=!0}function h(){b.value=!1,t.value=null}async function j(n,c){h(),setTimeout(()=>{const o=le("EPSG:4326","EPSG:3857",[c,n]),i=o[0],_=o[1],v="/tabs/navigate?x=".concat(i,"&y=").concat(_,"&z=23&r=0&l=1111");window.location.href=v},200)}return z(async()=>{try{N("map?token=eyJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJhZG1pbiIsInN1YiI6InRvcGljIiwiaXAiOiIxOTIuMTY4LjMuNzIiLCJleHAiOjE3MjEwNzg0MDEsInVpcCI6IjMzOTQyOTZhZDk3YjRlMjA3M2MzOTM0MjU0NTI2MTM2In0.EM6A46MtLi0BHcyqd4_2vAVp6VEVTA5PSwiMaWV6ey8").subscribe({next:n=>{T.value=n.Data,console.log(T.value)},error:n=>{console.error("Error API:",n)}})}catch(n){console.error("Error API:",n)}}),(n,c)=>(d(),g(e(Z),null,{default:a(()=>[l(e(S),null,{default:a(()=>[l(e(y),null,{default:a(()=>[l(e(E),null,{default:a(()=>[u("Hospital Assets")]),_:1})]),_:1})]),_:1}),l(e(C),{class:"ion-padding"},{default:a(()=>[l(e(O),{placeholder:"Search an asset...",debounce:500,modelValue:M.value,"onUpdate:modelValue":c[0]||(c[0]=o=>M.value=o)},null,8,["modelValue"]),l(e(D),{lines:"full"},{default:a(()=>[(d(!0),G(J,null,B(w.value,o=>(d(),g(e(Q),{key:o.id,onClick:i=>P(o)},{default:a(()=>[l(e(p),{size:"small",icon:e(R),slot:"start"},null,8,["icon"]),o.batteryLevel<20?(d(),g(e(p),{key:0,class:"blinking",size:"small",icon:e(W),color:"danger",slot:"end"},null,8,["icon"])):V("",!0),l(e(X),null,{default:a(()=>[u(r(o.name),1)]),_:2},1024),l(e(A),{slot:"end",color:"none"},{default:a(()=>[l(e(p),{icon:e(q),color:"medium"},null,8,["icon"])]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1}),l(e(H),{"is-open":b.value,onDidDismiss:h},{default:a(()=>[l(e(S),null,{default:a(()=>[l(e(y),null,{default:a(()=>[l(e(E),null,{default:a(()=>{var o;return[u(r((o=t.value)==null?void 0:o.name),1)]}),_:1}),l(e($),{slot:"end"},{default:a(()=>[l(e(A),{onClick:h},{default:a(()=>[l(e(p),{icon:e(F),color:"medium"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),l(e(C),{class:"ion-padding"},{default:a(()=>{var o,i,_,v,k;return[s("p",null,[oe,u(" "+r((o=t.value)==null?void 0:o.id),1)]),s("p",null,[ne,u(" "+r((i=t.value)==null?void 0:i.tagId),1)]),s("p",null,[te,u(" "+r((_=t.value)==null?void 0:_.batteryLevel)+"%",1)]),s("p",null,[se,u(" "+r((v=t.value)==null?void 0:v.description),1)]),s("p",null,[ue,u(" "+r((k=t.value)==null?void 0:k.floor),1)])]}),_:1}),l(e(U),null,{default:a(()=>[l(e(y),null,{default:a(()=>[t.value?(d(),g(e(A),{key:0,expand:"block",onClick:c[1]||(c[1]=o=>j(t.value.lat||0,t.value.lon||0)),color:"warning"},{default:a(()=>[l(e(p),{icon:e(Y),size:"large",color:"dark"},null,8,["icon"])]),_:1})):V("",!0)]),_:1})]),_:1})]),_:1},8,["is-open"])]),_:1})]),_:1}))}}),de=ae(re,[["__scopeId","data-v-cf8aa8c5"]]);export{de as default};
